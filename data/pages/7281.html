<html><body><div><tr><td><table border="0" cellspacing="0" cellpadding="5">
<tr><td><h2><font>29.10.2015 23:58</font> <span id="r_title">
Выпуск PyPy 4.0, реализации Python, написанной на языке Python 
</span></h2>
</td></tr>
<tr><td><img src="/pixel.gif" alt=""/></td></tr>
<tr valign="top">
<td class="chtext" id="r_memo">
<p><a href="http://morepypy.blogspot.ru/2015/10/pypy-400-released-jit-with-simd.html">Состоялся</a> релиз <a href="http://pypy.org/">PyPy 4.0</a>, реализации языка Python, написанной на языке Python (используется статически типизированное подмножество <a href="http://doc.pypy.org/en/latest/coding-guide.html#id1">RPython</a>, Restricted Python). В отличие от прошлых выпусков, в версии PyPy 4.0 впервые наблюдается <a href="http://speed.pypy.org/">снижение производительности</a>: новый выпуск в среднем на 1.5% медленнее прошлой версии PyPy, но по-прежнему в 7 раз быстрее классического CPython 2.7. Выпуск доступен для x86-систем  Linux 32/64, OpenBSD, FreeBSD, OS X 64 и Windows 32, а также для систем на базе архитектуры ARM (ARMv6 или ARMv7 с VFPv3) и PowerPC (ppc64).


</p><p>Значительная смена номера версии не означает кардинальных изменений и связана с переходом на новую схему нумерации выпусков. Так как следом за прошлым выпуском PyPy 2.6 должен был следовать номер 2.7, разработчики решили избежать возможных пересечений с нумерацией CPython 2.7 и перейти к номерам версий, заведомо отличающимся от актуальных выпусков Python. Ветка PyPy 4 продолжает поддерживать совместимость с CPython 2.7.10 и может рассматриваться как продолжение ветки PyPy 2.x.



</p><p>Благодаря задействованию JIT-компилятора, на лету транслирующего некоторые элементы в машинный код, PyPy при выполнении некоторых операций в несколько раз обгоняет по производительности классическую реализацию Python на языке Си (CPython). Ценой высокой производительности и использования JIT-компиляции является более высокое потребление памяти - общее потребление памяти в сложных и длительно работающих процессах (например, при трансляции PyPy силами самого PyPy) превышает потребление CPython в полтора-два раза.





</p><p><a href="http://doc.pypy.org/en/latest/release-4.0.0.html">Новшества</a>, добавленные в PyPy 4.0:
</p><ul>
<li class="l"> В оптимизатор добавлена поддержка векторизации циклов с использованием инструкций  SIMD. Векторизация осуществляется в процессе выполнения кода, что позволяет учитываться статистику выполнения и более оптимально использовать данный вид оптимизацию по сравнению с применением упреждающей компиляции. Определение поддержки инструкций SIMD также выполняется на лету и не требует включения в исполняемый файл предкомпилированного кода. Векторизация пока отключена по умолчанию и требует указания опции "--jit vec_all=1". Тесты производительности <a href="http://morepypy.blogspot.ru/2015/10/automatic-simd-vectorization-support-in.html">демонстрируют</a> заметное ускорение выполнения функций математической библиотеки NumPyPy.

<center><a href="http://3.bp.blogspot.com/-aqC2wMdVRaU/ViUZJYlUNoI/AAAAAAAAAXQ/FGa9DfdDZ-4/s1600/matrix-vector.png"><img src="https://www.opennet.ru/opennews/pics_base/0_1446151732.png" title="" border="0"/></a></center>


</li><li class="l"> Проведён внутренний рефакторинг JIT-компилятора, который позволил на 20% сократить время "разогрева" JIT и на 20% снизить потребление памяти, ценой небольшого снижения производительности.


</li><li class="l"> Расширены возможности интегрированной математической библиотеки Numpy, в которой приблизилась к полнофункциональному состоянию реализация типов ndarray и numeric, обеспечена поддержка типов  record, string и unicode. Переработаны модули linalg, random и fft, которые переведены на интерфейс  cffi-1.0 и теперь используют библиотеки, аналогичные основному проекту numpy.

</li><li class="l"> До версии 1.3 обновлён модуль <a href="https://cffi.readthedocs.org/en/latest/">CFFI</a> (C Foreign Function Interface) с реализацией интерфейса для вызова функций, написанных на языке Си, который может выступать в качестве более простой альтернативы модулю 
 <a href="http://python.net/crew/theller/ctypes/">ctypes</a>. В новой версии улучшено управление жизненным циклом объектов, добавлен вызов __stdcall на платформе Win32, реализована поддержка ffi.memmove();
</li><li class="l"> Обеспечена поддержка 64-разрядных PowerPC  (big- и little-endian вариантов ppc64).
</li></ul>



<br/><br/>
<p>Основные особенности PyPy:
</p><ul>
<li class="l"> Поддержка бесстекового (Stackless) режима работы, позволяющего использовать модель actor (erlang-подобное программирование с массой микропотоков и отсыланием сигналов друг другу);



</li><li class="l"> Реализация режима изолированного выполнения кода, к которому нет доверия. От sandbox в CPython данный режим отличается полной поддержкой всех возможностей языка без выделения unsafe-функций. 
</li><li class="l"> Автоматическая генерация и полная прозрачность встроенного JIT-компилятора;
</li><li class="l"> PyPy успешно проходит стандартный тестовый пакет Python и <a href="http://pypy.org/compat.html">поддерживает</a> большинство из стандартных Python-модулей и фреймворков, таких как ctypes, django (с sqlite), twisted (без поддержки ssl), pylons, pyglet. PyPy может быть использован для бесшовной замены CPython 2.7;


</li><li class="l"> Поддержка работы на архитектурах x86 (IA-32) , x86_64 и ARM. Ведется работа по адаптации для архитектуры PowerPC (PPC64), но она ещё не завершена; 
</li><li class="l"> На базе технологий PyPy созданы бэкенды для генерации в PyPy байткода для LLVM и виртуальных машин .NET/CLI и Java. 
</li><li class="l"> На базе PyPy ведется разработка реализаций на языке Python интерпретаторов Prolog, Smalltalk, Ruby, JavaScript, Io и Scheme. 
</li><li class="l"> Версия PyPy с поддержкой Python 3 развивается в рамках проекта  <a href="https://www.opennet.ru/opennews/art.shtml?num=40050">Py3k</a>;
</li><li class="l"> Вариант PyPy с поддержкой распараллеливания на многоядерных системах развивается в рамках проекта <a href="https://www.opennet.ru/opennews/art.shtml?num=40150">PyPy-STM</a> (PyPy Software Transactional Memory).
</li></ul><br/><br/>
</td></tr>

<a name="link"/>
<tr><td>

</td></tr>
<tr><td>
<ol>
    <li><a href="http://morepypy.blogspot.ru/2015/10/pypy-400-released-jit-with-simd.html">Главная ссылка к новости (<u>http://morepypy.blogspot.ru/20...</u>)</a></li>
    <li><a href="https://www.opennet.ru/opennews/art.shtml?num=42339">OpenNews: Выпуск PyPy 2.6, реализации Python, написанной на языке Python</a></li>
    <li><a href="https://www.opennet.ru/opennews/art.shtml?num=42177">OpenNews: PyPy.js - реализация языка Python для web-браузеров</a></li>
    <li><a href="https://www.opennet.ru/opennews/art.shtml?num=40898">OpenNews: Выпуск PyPy3 2.4, реализации Python 3, написанной на языке Python </a></li>
    <li><a href="https://www.opennet.ru/opennews/art.shtml?num=40150">OpenNews: Первый выпуск PyPy-STM, интерпретатора Python с поддержкой многоядерных систем</a></li>
    <li><a href="https://www.opennet.ru/opennews/art.shtml?num=40050">OpenNews: Первый стабильный выпуск PyPy3 с поддержкой Python 3</a></li>
</ol>
</td></tr>
<tr><td><font>Тип:</font> Программы</td></tr>
<tr><td><font>Ключевые слова:</font> <span id="r_keyword_link"><a href="/cgi-bin/opennet/ks.cgi?mask=pypy">pypy</a>, <a href="/cgi-bin/opennet/ks.cgi?mask=python">python</a>, (<a href="/cgi-bin/opennet/ks.cgi?mask=pypy%20python">найти похожие документы</a>)</span></td></tr>
<tr><td><center><small><font>При перепечатке указание ссылки на opennet.ru обязательно</font></small></center></td></tr>

<tr><td/></tr>
<tr><td id="ln105243" class="ctxt">

<table class="cblk"><tr><td> </td><td>

<a name="1"/>


<a name="2"/><table class="cblk"><tr><td class="chdr"><li><a href="/openforum/vsluhforumID3/105243.html#2"><font>1.2</font></a>, <a href="/~%EB%C9%D2">Кир</a>, 00:51, 30/10/2015  [<a href="/cgi-bin/openforum/vsluhboard.cgi?az=post&amp;om=105243&amp;forum=vsluhforumID3&amp;omm=2">ответить</a>] [<a href="/openforum/vsluhforumID3/105243.html#2">смотреть все</a>]  
</li></td><td class="chdr2"><span id="vt_2_3_105243_2" class="vt_d2"><span class="vt_mm" title="всего: +0/-1">–1</span> <a href="#" title="Одобряю"><span class="vt_p">+</span></a>/<a href="#" title="Осуждаю"><span class="vt_m">–</span></a></span></td></tr><tr><td class="ctxt">
А что там, кстати, слышно про Pyston, который вроде как альтернатива PyPy? Кто шустрее и лучшее?
<br/></td><td rowspan="2" valign="top" align="right"><img src="/p.gif"/></td></tr><tr><td> </td></tr></table>



<a name="3"/>



<a name="4"/>
<p id="actshow_0_4">

</p>

<a name="8"/><table class="cblk"><tr><td class="chdr"><li><a href="/openforum/vsluhforumID3/105243.html#8"><font>1.8</font></a>, <a href="/~robux">robux</a>, 07:16, 30/10/2015  [<a href="/cgi-bin/openforum/vsluhboard.cgi?az=post&amp;om=105243&amp;forum=vsluhforumID3&amp;omm=8">ответить</a>] [<a href="/openforum/vsluhforumID3/105243.html#8">смотреть все</a>]  
</li></td><td class="chdr2"><span id="vt_2_3_105243_8" class="vt_d2"><a href="#" title="Одобряю"><span class="vt_p">+</span></a>/<a href="#" title="Осуждаю"><span class="vt_m">–</span></a></span></td></tr><tr><td class="ctxt">
<font>&gt; Благодаря задействованию JIT-компилятора, на лету транслирующего некоторые элементы в машинный код, PyPy при выполнении некоторых операций в несколько раз обгоняет по производительности классическую реализацию Python на языке Си (CPython).</font>
<p>Странно для меня всё это...
<br/>А что, JIT-компилятор к CPython слабо прикрутить?!
<br/>Я например вообще удивлён, что у CPython нет своего JIT-компилятора...
<br/></p></td><td rowspan="2" valign="top" align="right"><a href="/~robux"><img src="//www.gravatar.com/avatar/844fe6c51f3d3154dda331209c778817?size=40&amp;d=http%3A%2F%2Fwww.opennet.ru%2Fp.gif" border="0"/></a></td></tr><tr><td> </td></tr></table>



<a name="13"/><table class="cblk"><tr><td class="chdr"><li><a href="/openforum/vsluhforumID3/105243.html#13"><font>1.13</font></a>, <a href="/~123">123</a>, 11:42, 30/10/2015  [<a href="/cgi-bin/openforum/vsluhboard.cgi?az=post&amp;om=105243&amp;forum=vsluhforumID3&amp;omm=13">ответить</a>] [<a href="/openforum/vsluhforumID3/105243.html#13">смотреть все</a>]  
</li></td><td class="chdr2"><span id="vt_2_3_105243_13" class="vt_d2"><span class="vt_mm" title="всего: +2/-4">–2</span> <a href="#" title="Одобряю"><span class="vt_p">+</span></a>/<a href="#" title="Осуждаю"><span class="vt_m">–</span></a></span></td></tr><tr><td class="ctxt">
реализации Python, написанной на языке Python, реализации Python, написанной на языке Python, реализации Python, написанной на языке Python, реализации Python, написанной на языке Python, реализации Python, написанной на языке Python
<br/></td><td rowspan="2" valign="top" align="right"><img src="/p.gif"/></td></tr><tr><td> </td></tr></table>



<a name="19"/>
<div id="actshow_0_7">

<table class="cblk"><tr><td class="line"> </td><td>

<a name="24"/><table class="cblk"><tr><td class="chdr"><li><a href="/openforum/vsluhforumID3/105243.html#24"><font>2.24</font></a>, <a href="/~.">.</a>, 16:04, 30/10/2015 [<a href="#19">^</a>] [<a href="/cgi-bin/openforum/vsluhboard.cgi?az=post&amp;om=105243&amp;forum=vsluhforumID3&amp;omm=24">ответить</a>] [<a href="/openforum/vsluhforumID3/105243.html#24">смотреть все</a>] [<a href="#">показать ветку</a>]  
</li></td><td class="chdr2"><span id="vt_2_3_105243_24" class="vt_d2"><span class="vt_pp" title="всего: +2/-1">+1</span> <a href="#" title="Одобряю"><span class="vt_p">+</span></a>/<a href="#" title="Осуждаю"><span class="vt_m">–</span></a></span></td></tr><tr><td class="ctxt">
<font>&gt; А какая вообще ниша у этого гвидобейсика? Никогда на нем на писал, </font>
<br/><font>&gt; а тут пришлось освоить... по мне так bash понятней и ясней </font>
<br/><font>&gt; и js. Ну вот правда что должна быть за задача чтобы изначально выбрать питон?</font>
<p>Да любая, кроме байтодрочерства. Но там и твой баш и js не в тему.
<br/>А так - вкусовщина это всё, не нравится - бери перловку или ребе :)
<br/></p></td><td rowspan="2" valign="top" align="right"><img src="/p.gif"/></td></tr><tr><td> </td></tr></table>

</td></tr></table>

</div>

<a name="25"/><table class="cblk"><tr><td class="chdr"><li><a href="/openforum/vsluhforumID3/105243.html#25"><font>1.25</font></a>, <a href="/~economist">economist</a>, 16:14, 30/10/2015  [<a href="/cgi-bin/openforum/vsluhboard.cgi?az=post&amp;om=105243&amp;forum=vsluhforumID3&amp;omm=25">ответить</a>] [<a href="/openforum/vsluhforumID3/105243.html#25">смотреть все</a>]  
</li></td><td class="chdr2"><span id="vt_2_3_105243_25" class="vt_d2"><span class="vt_pp" title="всего: +3/-2">+1</span> <a href="#" title="Одобряю"><span class="vt_p">+</span></a>/<a href="#" title="Осуждаю"><span class="vt_m">–</span></a></span></td></tr><tr><td class="ctxt">
Python - 5-6-й по популярности язык. Ниши у него нет. У него есть призвание: вытеснять другие с их же "ниш и полей", даже будучи полностью бесплатным сыром:
<p>20% многомиллионного рынка ERP теперь занимает свободный продукт на Python
</p><p>20% школ в Британии преподают только Python вместо диалектов Basic
</p><p>20% сайтов используют Django или другие CMS на удаве
</p><p>20% компаний, использующих EDM в РФ - используют продукты на Python (+платно)
</p><p>20% выпускников прикладников "бауманки" написали удава 1-2 м в анкете
</p><p>20% скриптов автоматизации у меня в офисе - на Python.
</p><p>Все эти скорости в "попугаях" не имеют ничего общего с реальной скоростью разработки и отзывчивостью интерфейса готовой программы. А уж в плане "красивости" и ясности кода - он просто недосягаем. Код на питоне содержит на 60% меньше спецсимволов, чем в среднем другие Top-5 языков программирования. 
<br/></p></td><td rowspan="2" valign="top" align="right"><img src="/p.gif"/></td></tr><tr><td> </td></tr></table>

<div id="actshow_0_8">

<table class="cblk"><tr><td class="line"> </td><td>

<a name="26"/>

<table class="cblk"><tr><td class="line"> </td><td>

<a name="28"/><table class="cblk"><tr><td class="chdr"><li><a href="/openforum/vsluhforumID3/105243.html#28"><font>3.28</font></a>, <a href="/~economist">economist</a>, 17:09, 30/10/2015 [<a href="#26">^</a>] [<a href="/cgi-bin/openforum/vsluhboard.cgi?az=post&amp;om=105243&amp;forum=vsluhforumID3&amp;omm=28">ответить</a>] [<a href="/openforum/vsluhforumID3/105243.html#28">смотреть все</a>]  
</li></td><td class="chdr2"><span id="vt_2_3_105243_28" class="vt_d2"><a href="#" title="Одобряю"><span class="vt_p">+</span></a>/<a href="#" title="Осуждаю"><span class="vt_m">–</span></a></span></td></tr><tr><td class="ctxt">
"Бесплатный сыр" свободного Python-а - это не сам он, а 800 тысяч бесплатных библиотек и библиотечек на все случаи жизни, многие из которых можно просто скачать и использовать, не задумываясь о копирайте в принципе.
<br/></td><td rowspan="2" valign="top" align="right"><img src="/p.gif"/></td></tr><tr><td> </td></tr></table>



</td></tr></table>
</td></tr></table>

</div>

<a name="40"/>

<p id="actshow_0_9">
</p></td></tr></table>




<br/></td></tr>
<tr><td><font><b>Ваш комментарий</b></font></td></tr>
<tr><td>



</td></tr>
<tr><td> </td></tr>

</table>
</td>
</tr></div></body></html>