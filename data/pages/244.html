<html><body><div><div class="pf-content"><p>This week I saw a question on <a href="http://stackoverflow.com/q/20601709/393194" target="_blank">StackOverflow</a> about putting two grids into a SplitterWindow which itself was in a Notebook page. Personally I think that’s a little convoluted, but I thought it was an interesting challenge and I came up with a solution. Then the fellow wanted to know how to sync the scrolling of the two grids. Well, I found an <a href="http://stackoverflow.com/q/15870426/393194" target="_blank">answer</a> and modified my code and decided it was worth writing an article about. <span id="more-3621"/> Here is a screenshot of the finished result:</p>
<p><a href="http://www.blog.pythonlibrary.org/wp-content/uploads/2013/12/wxScrollGrid.png"><img src="http://www.blog.pythonlibrary.org/wp-content/uploads/2013/12/wxScrollGrid-300x225.png" alt="wxScrollGrid" class="aligncenter size-medium wp-image-3624" srcset="http://www.blog.pythonlibrary.org/wp-content/uploads/2013/12/wxScrollGrid-300x225.png 300w, http://www.blog.pythonlibrary.org/wp-content/uploads/2013/12/wxScrollGrid.png 800w" sizes="(max-width: 300px) 100vw, 300px"/></a></p>
<p>Yes, for some reason the person who wanted this also wanted a panel below the two grids. I think it’s a bit ugly, especially with the pink background, but to each their own. Let’s take a look at the code:</p>
<pre class="python"><span>import</span> wx
<span>import</span> wx.<span>grid</span> as gridlib
 
<span>class</span> ScrollSync<span>(</span><span>object</span><span>)</span>:
    <span>def</span> <span>__init__</span><span>(</span><span>self</span>, panel1, panel2<span>)</span>:
        <span>self</span>.<span>panel1</span> = panel1
        <span>self</span>.<span>panel2</span> = panel2
        <span>self</span>.<span>panel1</span>.<span>grid</span>.<span>Bind</span><span>(</span>wx.<span>EVT_SCROLLWIN</span>, <span>self</span>.<span>onScrollWin1</span><span>)</span>
        <span>self</span>.<span>panel2</span>.<span>grid</span>.<span>Bind</span><span>(</span>wx.<span>EVT_SCROLLWIN</span>, <span>self</span>.<span>onScrollWin2</span><span>)</span>
 
    <span>def</span> onScrollWin1<span>(</span><span>self</span>, event<span>)</span>:
        <span>if</span> event.<span>Orientation</span> == wx.<span>SB_HORIZONTAL</span>:
            <span>self</span>.<span>panel2</span>.<span>grid</span>.<span>Scroll</span><span>(</span>event.<span>Position</span>, <span>-1</span><span>)</span>
        <span>else</span>:
            <span>self</span>.<span>panel2</span>.<span>grid</span>.<span>Scroll</span><span>(</span><span>-1</span>, event.<span>Position</span><span>)</span>
        event.<span>Skip</span><span>(</span><span>)</span>
 
    <span>def</span> onScrollWin2<span>(</span><span>self</span>, event<span>)</span>:
        <span>if</span> event.<span>Orientation</span> == wx.<span>SB_HORIZONTAL</span>:
            <span>self</span>.<span>panel1</span>.<span>grid</span>.<span>Scroll</span><span>(</span>event.<span>Position</span>, <span>-1</span><span>)</span>
        <span>else</span>:
            <span>self</span>.<span>panel1</span>.<span>grid</span>.<span>Scroll</span><span>(</span><span>-1</span>, event.<span>Position</span><span>)</span>
        event.<span>Skip</span><span>(</span><span>)</span>
 
<span>########################################################################</span>
<span>class</span> RegularPanel<span>(</span>wx.<span>Panel</span><span>)</span>:
    <span>""</span><span>""</span><span>""</span>
 
    <span>#----------------------------------------------------------------------</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span>, parent<span>)</span>:
        <span>""</span><span>"Constructor"</span><span>""</span>
        wx.<span>Panel</span>.<span>__init__</span><span>(</span><span>self</span>, parent<span>)</span>
        <span>self</span>.<span>SetBackgroundColour</span><span>(</span><span>"pink"</span><span>)</span>
 
 
<span>########################################################################</span>
<span>class</span> GridPanel<span>(</span>wx.<span>Panel</span><span>)</span>:
    <span>""</span><span>""</span><span>""</span>
 
    <span>#----------------------------------------------------------------------</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span>, parent<span>)</span>:
        <span>""</span><span>"Constructor"</span><span>""</span>
        wx.<span>Panel</span>.<span>__init__</span><span>(</span><span>self</span>, parent<span>)</span>
        <span>self</span>.<span>grid</span> = gridlib.<span>Grid</span><span>(</span><span>self</span>, style=wx.<span>BORDER_SUNKEN</span><span>)</span>
        <span>self</span>.<span>grid</span>.<span>CreateGrid</span><span>(</span><span>25</span>,<span>8</span><span>)</span>
 
        sizer = wx.<span>BoxSizer</span><span>(</span>wx.<span>VERTICAL</span><span>)</span>
        sizer.<span>Add</span><span>(</span><span>self</span>.<span>grid</span>, <span>1</span>, wx.<span>EXPAND</span><span>)</span>
        <span>self</span>.<span>SetSizer</span><span>(</span>sizer<span>)</span>
 
 
<span>########################################################################</span>
<span>class</span> MainPanel<span>(</span>wx.<span>Panel</span><span>)</span>:
    <span>""</span><span>""</span><span>""</span>
 
    <span>#----------------------------------------------------------------------</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span>, parent<span>)</span>:
        <span>""</span><span>"Constructor"</span><span>""</span>
        wx.<span>Panel</span>.<span>__init__</span><span>(</span><span>self</span>, parent<span>)</span>
 
        notebook = wx.<span>Notebook</span><span>(</span><span>self</span><span>)</span>
 
        page = wx.<span>SplitterWindow</span><span>(</span>notebook<span>)</span>
        notebook.<span>AddPage</span><span>(</span>page, <span>"Splitter"</span><span>)</span>
        hSplitter = wx.<span>SplitterWindow</span><span>(</span>page<span>)</span>
 
        panelOne = GridPanel<span>(</span>hSplitter<span>)</span>
        panelTwo = GridPanel<span>(</span>hSplitter<span>)</span>
        ScrollSync<span>(</span>panelOne, panelTwo<span>)</span>
 
        hSplitter.<span>SplitVertically</span><span>(</span>panelOne, panelTwo<span>)</span>
        hSplitter.<span>SetSashGravity</span><span>(</span><span>0.5</span><span>)</span>
 
        panelThree = RegularPanel<span>(</span>page<span>)</span>
        page.<span>SplitHorizontally</span><span>(</span>hSplitter, panelThree<span>)</span>
        page.<span>SetSashGravity</span><span>(</span><span>0.5</span><span>)</span>
 
        sizer = wx.<span>BoxSizer</span><span>(</span>wx.<span>VERTICAL</span><span>)</span>
        sizer.<span>Add</span><span>(</span>notebook, <span>1</span>, wx.<span>EXPAND</span><span>)</span>
        <span>self</span>.<span>SetSizer</span><span>(</span>sizer<span>)</span>
 
<span>########################################################################</span>
<span>class</span> MainFrame<span>(</span>wx.<span>Frame</span><span>)</span>:
    <span>""</span><span>""</span><span>""</span>
 
    <span>#----------------------------------------------------------------------</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>)</span>:
        <span>""</span><span>"Constructor"</span><span>""</span>
        wx.<span>Frame</span>.<span>__init__</span><span>(</span><span>self</span>, <span>None</span>, title=<span>"Nested Splitters"</span>,
                          size=<span>(</span><span>800</span>,<span>600</span><span>)</span><span>)</span>
        panel = MainPanel<span>(</span><span>self</span><span>)</span>
        <span>self</span>.<span>Show</span><span>(</span><span>)</span>
 
<span>#----------------------------------------------------------------------</span>
<span>if</span> __name__ == <span>"__main__"</span>:
    app = wx.<span>App</span><span>(</span><span>False</span><span>)</span>
    frame = MainFrame<span>(</span><span>)</span>
    app.<span>MainLoop</span><span>(</span><span>)</span></pre>
<p>The piece we care about most is the <strong>ScrollSync</strong> class. It accepts the two panels that the grids are on as arguments. We then bind the grids to wx.EVT_SCROLLWIN and then during that event, we change the position of the opposite grid. Now this code has several limitations. It only works when you are physically moving the scrollbars with your mouse. If you use the mouse’s scroll wheel, the arrow keys or Page up/down, then the two grids no longer sync. I attempted to add mouse wheel support via the wx.EVT_MOUSEWHEEL event, but it doesn’t provide Orientation or Position in the same way as EVT_SCROLLWIN does. In fact, its Position is a wx.Point whereas EVT_SCROLLWIN returns an Integer. Adding those bits of functionality would be fun, but they are outside the scope of this article.</p>
<p>This code should get you started on your way in getting the syncing working though. I also found a couple of other articles related to this subject that you might find helpful should you need to sync scrolling up in a couple of widgets:</p>

</div>	</div></body></html>