<html><body><div><p>This is a python library for using electronics (like i2c or spi devices) with a unified interface. It currently supports
connecting to stuff through the Raspberry Pi gpio with the i2c kernel driver and using the Bus Pirate.</p>
<div id="installation">
<h2>Installation</h2>
<p>Install it from pypi:</p>
<pre>$ pip3 install pyelectronics
</pre>
<p>The various gateways have their own dependencies. Install the dependencies for the gateway you require:</p>
<pre># Requirements for the Raspberry Pi
$ pip3 install pysmbus

# Requirements for the Bus Pirate
$ pip3 install pyserial
</pre>
<p>To run the doctests you need all dependencies. You can install them with the doctest requirements file:</p>
<pre>$ pip3 install -r docs/doctest-requirements.txt
</pre>
</div>
<div id="usage">
<h2>Usage</h2>
<p>Read the full docs at <a href="https://pythonhosted.org/pyelectronics/index.html" rel="nofollow">pythonhosted</a>.</p>
<p>First create a instance of a gateway:</p>
<pre>from electronics.gateways import BusPirate
from electronics.gateways import LinuxDevice

# Use a BusPirate to connect to a bus
gw = BusPirate('/dev/ttyUSB0')

# Use a i2c bus with a linux driver (like the raspberry pi)
gw = LinuxDevice(1) # /dev/i2c-1
</pre>
<p>Create instances for components connected to the gateway:</p>
<pre>from electronics.devices import BMP180
from electronics.devices import MPU6050I2C

barometer = BMP180(gw, address=0x77) # Address is optional
inertia = MPU6050(gw)

# Do chip specific initialisation
barometer.load_calibration()
inertia.wakeup()
</pre>
<p>Read values from sensors:</p>
<pre>temperature = barometer.temperature()
pressure = barometer.pressure()
acceleration = inertia.acceleration()
rotation = inertia.angular_rate()
</pre>
<p>Example with GPIO:</p>
<pre># Red led conected to the aux pin of the bus pirate
red_led = gw.get_aux_pin()
# Turn the led on
red_led.write(True)

# An Microchip port expander connected through I2C
expander = MCP23017I2C(gw, address=0x21)

# Get the pins for the two other leds that are connected
# to the port expander
green_led = expander.get_pin('A0')
blue_led = expander.get_pin('A1')

# Bundle the leds to a bus so you can address 8 colours as an int
# the pins on the port expander are open drain, they are inverted with the invert operator (~)
bus = GPIOBus([red_led, ~green_led, ~blue_led])
bus.write(0) # Black
bus.write(7) # White

# Disco!
while True:
    for i in range(0,8):
        bus.write(i)
        sleep(0.2)
</pre>
</div>


</div></body></html>