<html><body><div><div class="post-content">
                            <h2>Introduction</h2>
<p>A critical component of sales compensation plan design is testing the plan against various scenarios of sales
performance of individual salespeople. Typically a newly designed sales compensation plan is tested against historic
sales performance to gauge how the new compensation plan would payout if it had been implemented in the previous plan
 period. While using historic performance can help, it's also important to test it against a randomized sales
 performance set to check the sensitivity of your payouts to sales variations. When your sales compensation plan
 rolls out it typically affects sales rep behaviour and we must ensure that such changes doesn't result in any
 budgetary surprises. This is also a good analysis to run on a periodic basis to estimate the risk to your sales
 compensation budgets from any unforeseen market events.</p>
<h2>Python and IPython</h2>
<p>Such sensitivity analysis requires a large number of repeated sales compensation calculations and an ability to
quickly introduce randomness, variation, etc. to generate data scenarios. Traditionally Excel has been used for
 similar analyses. However the volume of calculations and looping constraints the entire process becomes very
 cumbersome. <a href="http://www.python.org">Python</a> with the <a href="http://www.numpy.org">numpy</a> library is perfect for such data
 manipulation. <a href="http://matplotlib.org/">Matplotlib</a> is the visualization tool of choice to be used in combination
 with IPython.</p>
<p><a href="http://www.ipython.org">IPython</a> is a powerful interactive python shell with support for rich data visualization.
Specifically the IPython <a href="http://ipython.org/notebook.html">notebook</a> is a browser based IPython shell with support
for in-browser data visualizations and embedding rich media. We will use the IPython notebook for this analysis to
take advantage of the in-browser visualizations that are offered.</p>
<p><a href="http://ipython.org/install.html">Here</a> is some help on how to set up IPython on your computer to try out.</p>
<h1>IPython setup</h1>
<p>First let's setup IPython for the needs of our analysis.</p>
<div class="codehilite"><pre><span class="cp"># start IPython notebook</span>
<span class="n">IPython</span> <span class="n">notebook</span>
</pre></div>


<p>This should open up a list of notebooks in the current working directory. Create a new notebook by clicking "New
Notebook".</p>
<p>Let's use an IPython magic commands to set up our IPython environment such that all graphs are plotted in the browser.</p>
<div class="codehilite"><pre><span class="cp">#Use in browser graphs</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="kr">inline</span>
</pre></div>


<p>Also let's import all the python libraries we'll be using for this exercise</p>
<div class="codehilite"><pre><span class="n">import</span> <span class="n">numpy</span>
<span class="n">import</span> <span class="n">matplotlib</span>
<span class="n">import</span> <span class="n">CompUtils</span>
</pre></div>


<h2>The Plan</h2>
<p>Let's assume that the compensation plan set up is a payout curve of revenue achievement to a payout percentage. The
related table is given below:
</p><table>
<tr><td>
<table class="table table-bordered">
<thead><th>Revenue Achievement</th><th>Payout Percentage</th>
</thead><tbody>
<tr><td align="right">0%</td><td align="right">0%</td></tr>
<tr><td align="right">50%</td><td align="right">35%</td></tr>
<tr><td align="right">80%</td><td align="right">75%</td></tr>
<tr><td align="right">100%</td><td align="right">100%</td></tr>
<tr><td align="right">120%</td><td align="right">150%</td></tr>
<tr><td align="right">300%</td><td align="right">500%</td></tr>
</tbody>
</table>
</td>
<td>
<img src="/static/img/blog/sensitivity-of-payout/figure1.png" class="thumbnail"/>
</td>
</tr></table>
<p>The points in between consecutive revenue achievement points are interpolated linearly between the payout percentages.</p>
<p>Let's initialize the plan in our IPython notebook</p>
<div class="codehilite"><pre> <span class="err">#</span> <span class="n">Initialize</span> <span class="n">Rate</span> <span class="n">Table</span>
 <span class="n">payout_table</span> <span class="o">=</span> <span class="n">CompUtils</span><span class="p">.</span><span class="n">Rate_Table</span><span class="p">()</span>
 <span class="n">payout_table</span><span class="p">.</span><span class="n">add_row</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
 <span class="n">payout_table</span><span class="p">.</span><span class="n">add_row</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.35</span><span class="p">)</span>
 <span class="n">payout_table</span><span class="p">.</span><span class="n">add_row</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.75</span><span class="p">)</span>
 <span class="n">payout_table</span><span class="p">.</span><span class="n">add_row</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>
 <span class="n">payout_table</span><span class="p">.</span><span class="n">add_row</span><span class="p">(</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">1.5</span><span class="p">)</span>
 <span class="n">payout_table</span><span class="p">.</span><span class="n">add_row</span><span class="p">(</span><span class="mf">3.0</span><span class="p">,</span><span class="mf">5.0</span><span class="p">)</span>
</pre></div>


<h2>Inputs</h2>
<p>Next let's set up some salesforce attributes. Let's assume that the salesforce has 1000 sales reps each with a Target
Incentive of $5,000 per month. Let's also assume that their revenue goal is $10,000 per month.</p>
<div class="codehilite"><pre><span class="n">number_of_reps</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">target_incentive</span> <span class="o">=</span> <span class="mi">5000</span>
<span class="n">revenue_goal</span> <span class="o">=</span> <span class="mi">10000</span>
</pre></div>


<p>Now we're ready to set up the simulation. For revenue we're going to assume that these 1000 sales reps perform at an
mean sales revenue of $11,000 with a $4,000 standard deviation.</p>
<div class="codehilite"><pre><span class="n">mean_sales_revenue_of_population</span> <span class="o">=</span> <span class="mi">11000</span>
<span class="n">std_dev_sales_revenue</span> <span class="o">=</span> <span class="mi">4000</span>
</pre></div>


<h2>Simulation</h2>
<p>Next step is to run the actual simulation. We'll set it up so that these steps are followed:
- the sales revenue for 1000 reps will be randomized around the mean and standard deviation,
- their achievement to goal will be calculated
- their payout % looked up on the curve
- their final payout calculated as the product of payout % and target incentive</p>
<div class="codehilite"><pre><span class="n">sales_revenue</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mean_sales_revenue_of_population</span><span class="p">,</span><span class="n">std_dev_sales_revenue</span><span class="p">,</span>
<span class="n">number_of_reps</span><span class="p">)</span> <span class="err">#</span> <span class="n">Randomized</span> <span class="n">set</span> <span class="n">of</span> <span class="n">sales</span> <span class="n">revenue</span>
<span class="n">revenue_achievement</span> <span class="o">=</span> <span class="n">sales_revenue</span><span class="o">/</span><span class="n">revenue_goal</span> <span class="err">#</span> <span class="n">Revenue</span> <span class="n">achievement</span> <span class="n">set</span> <span class="n">of</span> <span class="n">population</span>
<span class="n">payout_pct</span> <span class="o">=</span> <span class="n">CompUtils</span><span class="p">.</span><span class="n">calculate_lookup_attainment</span><span class="p">(</span><span class="n">revenue_achievement</span><span class="p">,</span><span class="n">payout_table</span><span class="p">.</span><span class="n">rows</span><span class="p">)</span>
<span class="n">rep_payout</span> <span class="o">=</span> <span class="n">payout_pct</span> <span class="o">*</span> <span class="n">target_incentive</span>
<span class="n">total_salesforce_payout</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="n">sum</span><span class="p">(</span><span class="n">rep_payout</span><span class="p">)</span>
<span class="n">print</span> <span class="err">'</span><span class="n">Total</span> <span class="n">Salesforce</span> <span class="n">Payout</span> <span class="o">=</span> <span class="o">%</span><span class="n">d</span><span class="err">'</span> <span class="o">%</span> <span class="n">total_salesforce_payout</span>
</pre></div>


<p>This would print something like:</p>
<div class="codehilite"><pre><span class="n">Total</span> <span class="n">Salesforce</span> <span class="n">Payout</span> <span class="o">=</span> <span class="mi">6675583</span>
</pre></div>


<p>Ok, so we've run the simulation using a random set of sales revenue inputs and calculated the total salesforce payout
. However that Total salesforce payout number would keep changing as the random sales revenue input set changes.
Hence let's run this simulation repeatedly, say a 100 times and then summarize the results from those 100 runs. How
do we do that? Let's refactor the above code as follows:</p>
<div class="codehilite"><pre><span class="n">iterations_array</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="n">in</span> <span class="n">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">:</span>
    <span class="err">#</span> <span class="n">Randomized</span> <span class="n">set</span> <span class="n">of</span> <span class="n">sales</span> <span class="n">revenue</span>
    <span class="n">sales_revenue</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mean_sales_revenue_of_population</span><span class="p">,</span><span class="n">std_dev_sales_revenue</span><span class="p">,</span><span class="n">number_of_reps</span><span class="p">)</span>
    <span class="n">revenue_achievement</span> <span class="o">=</span> <span class="n">sales_revenue</span><span class="o">/</span><span class="n">revenue_goal</span> <span class="err">#</span> <span class="n">Revenue</span> <span class="n">achievement</span> <span class="n">set</span> <span class="n">of</span> <span class="n">population</span>
    <span class="n">payout_pct</span> <span class="o">=</span> <span class="n">CompUtils</span><span class="p">.</span><span class="n">calculate_lookup_attainment</span><span class="p">(</span><span class="n">revenue_achievement</span><span class="p">,</span><span class="n">payout_table</span><span class="p">.</span><span class="n">rows</span><span class="p">)</span>
    <span class="n">rep_payout</span> <span class="o">=</span> <span class="n">payout_pct</span> <span class="o">*</span> <span class="n">target_incentive</span>
    <span class="n">total_salesforce_payout</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="n">sum</span><span class="p">(</span><span class="n">rep_payout</span><span class="p">)</span>
    <span class="n">iterations_array</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">total_salesforce_payout</span><span class="p">)</span>
</pre></div>


<p>That was easy. Basically we created an array to store the result from each iteration and pushed the
total_salesforce_payout into that array. Let's now visualize the results and derive some useful statistics out of
these iterations:</p>
<div class="codehilite"><pre><span class="n">matplotlib</span><span class="p">.</span><span class="n">pyplot</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">iterations_array</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="err">'</span><span class="n">green</span><span class="err">'</span><span class="p">)</span>
<span class="n">print</span> <span class="err">'</span><span class="n">Mean</span> <span class="n">Total</span> <span class="n">Salesforce</span> <span class="n">Payout</span> <span class="o">=</span> <span class="o">%</span><span class="n">d</span><span class="err">'</span> <span class="o">%</span> <span class="n">numpy</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">iterations_array</span><span class="p">)</span>
<span class="n">print</span> <span class="err">'</span><span class="n">Median</span> <span class="n">Total</span> <span class="n">Salesforce</span> <span class="n">Payout</span> <span class="o">=</span> <span class="o">%</span><span class="n">d</span><span class="err">'</span> <span class="o">%</span> <span class="n">numpy</span><span class="p">.</span><span class="n">median</span><span class="p">(</span><span class="n">iterations_array</span><span class="p">)</span>
<span class="n">print</span> <span class="err">'</span><span class="n">Standard</span> <span class="n">Deviation</span> <span class="n">Total</span> <span class="n">Salesforce</span> <span class="n">Payout</span> <span class="o">=</span> <span class="o">%</span><span class="n">d</span><span class="err">'</span> <span class="o">%</span> <span class="n">numpy</span><span class="p">.</span><span class="n">std</span><span class="p">(</span><span class="n">iterations_array</span><span class="p">)</span>
<span class="n">print</span> <span class="err">'</span><span class="n">Max</span> <span class="n">Total</span> <span class="n">Salesforce</span> <span class="n">Payout</span> <span class="o">=</span> <span class="o">%</span><span class="n">d</span><span class="err">'</span> <span class="o">%</span> <span class="n">numpy</span><span class="p">.</span><span class="n">max</span><span class="p">(</span><span class="n">iterations_array</span><span class="p">)</span>
<span class="n">print</span> <span class="err">'</span><span class="n">Min</span> <span class="n">Total</span> <span class="n">Salesforce</span> <span class="n">Payout</span> <span class="o">=</span> <span class="o">%</span><span class="n">d</span><span class="err">'</span> <span class="o">%</span> <span class="n">numpy</span><span class="p">.</span><span class="n">min</span><span class="p">(</span><span class="n">iterations_array</span><span class="p">)</span>
</pre></div>


<p>This should produce an output as follows:</p>
<p><img alt="Distribution" class="thumbnail" id="" src="/static/img/blog/sensitivity-of-payout/figure2.png"/></p>
<div class="codehilite"><pre><span class="n">Mean</span> <span class="n">Total</span> <span class="n">Salesforce</span> <span class="n">Payout</span> <span class="o">=</span> <span class="mi">6657248</span>
<span class="n">Median</span> <span class="n">Total</span> <span class="n">Salesforce</span> <span class="n">Payout</span> <span class="o">=</span> <span class="mi">6645881</span>
<span class="n">Standard</span> <span class="n">Deviation</span> <span class="n">Total</span> <span class="n">Salesforce</span> <span class="n">Payout</span> <span class="o">=</span> <span class="mi">117827</span>
<span class="n">Max</span> <span class="n">Total</span> <span class="n">Salesforce</span> <span class="n">Payout</span> <span class="o">=</span> <span class="mi">6963018</span>
<span class="n">Min</span> <span class="n">Total</span> <span class="n">Salesforce</span> <span class="n">Payout</span> <span class="o">=</span> <span class="mi">6385194</span>
</pre></div>


<p>Excellent, so for that run we've identified the range of possible payouts, the mean,
the median and the deviation potential of the total salesforce payouts. The distribution graph shows where the total
payouts of the 100 iterations we performed landed.</p>
<h2>Sensitivity</h2>
<p>Our simulation now shows the variation possible in the payouts as a result of random sales revenue performance inputs
. We can tweak this simulation by increasing the standard deviation on the sales revenue inputs to analyze the effect
 on the total payout. Similarly we can also gauge the change in the total payout with a variation in the mean of the
 sales revenue randomized input. That will display our plan payout's sensitivity to variations in sales performance.</p>
<p>Let's refactor our code to introduce a sales increase factor and then run our simulation again. We'll basically
multiply the mean of the sales revenue input by this factor before calculating the randomized input. Effectively
we're going to test the sensitivity of plan payout to 2%, 5%, 7%, 12%, 15%, 18%, 20%, 25% increases in mean sales.</p>
<div class="codehilite"><pre><span class="n">results_array</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">sales_increase_factor_list</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.07</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.18</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">]</span>

<span class="k">for</span> <span class="n">sales_increase_factor</span> <span class="n">in</span> <span class="n">sales_increase_factor_list</span><span class="o">:</span>
    <span class="n">iterations_array</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="n">in</span> <span class="n">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">:</span>
        <span class="err">#</span> <span class="n">Randomized</span> <span class="n">set</span> <span class="n">of</span> <span class="n">sales</span> <span class="n">revenue</span>
        <span class="n">sales_revenue</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mean_sales_revenue_of_population</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">sales_increase_factor</span><span class="p">),</span><span class="n">std_dev_sales_revenue</span><span class="p">,</span><span class="n">number_of_reps</span><span class="p">)</span>
        <span class="n">revenue_achievement</span> <span class="o">=</span> <span class="n">sales_revenue</span><span class="o">/</span><span class="n">revenue_goal</span> <span class="err">#</span> <span class="n">Revenue</span> <span class="n">achievement</span> <span class="n">set</span> <span class="n">of</span> <span class="n">population</span>
        <span class="n">payout_pct</span> <span class="o">=</span> <span class="n">CompUtils</span><span class="p">.</span><span class="n">calculate_lookup_attainment</span><span class="p">(</span><span class="n">revenue_achievement</span><span class="p">,</span><span class="n">payout_table</span><span class="p">.</span><span class="n">rows</span><span class="p">)</span>
        <span class="n">rep_payout</span> <span class="o">=</span> <span class="n">payout_pct</span> <span class="o">*</span> <span class="n">target_incentive</span>
        <span class="n">total_salesforce_payout</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="n">sum</span><span class="p">(</span><span class="n">rep_payout</span><span class="p">)</span>
        <span class="n">iterations_array</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">total_salesforce_payout</span><span class="p">)</span>
    <span class="n">results_array</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">dict</span><span class="p">(</span><span class="n">sales_increase_factor</span><span class="o">=</span><span class="n">sales_increase_factor</span><span class="p">,</span>
                                <span class="n">mean</span><span class="o">=</span><span class="n">numpy</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">iterations_array</span><span class="p">),</span>
                                <span class="n">median</span><span class="o">=</span><span class="n">numpy</span><span class="p">.</span><span class="n">median</span><span class="p">(</span><span class="n">iterations_array</span><span class="p">),</span>
                                <span class="n">std</span><span class="o">=</span><span class="n">numpy</span><span class="p">.</span><span class="n">std</span><span class="p">(</span><span class="n">iterations_array</span><span class="p">),</span>
                                <span class="n">max</span><span class="o">=</span><span class="n">numpy</span><span class="p">.</span><span class="n">max</span><span class="p">(</span><span class="n">iterations_array</span><span class="p">),</span>
                                <span class="n">min</span><span class="o">=</span><span class="n">numpy</span><span class="p">.</span><span class="n">min</span><span class="p">(</span><span class="n">iterations_array</span><span class="p">)))</span>
</pre></div>


<p>Ok, so we've run the simulation for each value in the sales increase factor list. Now let's plot and display our
results.</p>
<div class="codehilite"><pre><span class="err">#</span> <span class="nb">Set</span> <span class="nb">up</span> <span class="nx">matplotlib</span> <span class="nx">options</span>

<span class="nx">matplotlib.pyplot.figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">font</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'family'</span> <span class="p">:</span> <span class="s1">'Arial'</span><span class="p">,</span>
        <span class="s1">'weight'</span> <span class="p">:</span> <span class="s1">'normal'</span><span class="p">,</span>
        <span class="s1">'size'</span>   <span class="p">:</span> <span class="mi">14</span><span class="p">}</span>

<span class="nx">matplotlib.rc</span><span class="p">(</span><span class="s1">'font'</span><span class="p">,</span> <span class="o">**</span><span class="nx">font</span><span class="p">)</span>

<span class="err">#</span> <span class="nx">Plot</span> <span class="nx">lines</span>
<span class="nx">matplotlib.pyplot.plot</span><span class="p">(</span><span class="kt">map</span><span class="p">(</span><span class="nx">lambda</span> <span class="nx">x</span><span class="p">:</span><span class="nx">x</span><span class="err">[</span><span class="s1">'sales_increase_factor'</span><span class="cp">]</span>,results_array),
                       map(lambda x:x<span class="cp">[</span><span class="s1">'mean'</span><span class="cp">]</span>,results_array),label='mean',lw=2)
matplotlib.pyplot.plot(map(lambda x:x<span class="cp">[</span><span class="s1">'sales_increase_factor'</span><span class="cp">]</span>,results_array),
                       map(lambda x:x<span class="cp">[</span><span class="s1">'min'</span><span class="cp">]</span>,results_array),label='min',ls='-.')
matplotlib.pyplot.plot(map(lambda x:x<span class="cp">[</span><span class="s1">'sales_increase_factor'</span><span class="cp">]</span>,results_array),
                       map(lambda x:x<span class="cp">[</span><span class="s1">'max'</span><span class="cp">]</span>,results_array),label='max',ls='-.')

# Set up plot options
matplotlib.pyplot.legend(loc=3)
# matplotlib.pyplot.axis(ymin=0)
matplotlib.pyplot.ticklabel_format(style='sci', axis='y', scilimits=(0,999999999))
matplotlib.pyplot.xlabel('Sales Increase Factor')
matplotlib.pyplot.ylabel('Total Salesforce Payout')

# Display in table form
from IPython.display import HTML
html='''<span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;thead&gt;</span>
                <span class="nt">&lt;th&gt;</span>Sales Increase Factor<span class="nt">&lt;/th&gt;</span>
                <span class="nt">&lt;th&gt;</span>Mean Total Payout<span class="nt">&lt;/th&gt;</span>
                <span class="nt">&lt;th&gt;</span>Max Total Payout<span class="nt">&lt;/th&gt;</span>
                <span class="nt">&lt;th&gt;</span>Min Total Payout<span class="nt">&lt;/th&gt;</span>
                <span class="nt">&lt;th&gt;</span>Increase in Payout<span class="nt">&lt;/th&gt;</span>
            <span class="nt">&lt;/thead&gt;</span>
'''

formatted_numbers = map(lambda x:<span class="cp">[</span><span class="s1">'{:.0%}'</span><span class="bp">.</span><span class="nb">format</span><span class="p">(</span><span class="nx">x</span><span class="err">[</span><span class="s1">'sales_increase_factor'</span><span class="cp">]</span>),'${:,.0f}'.format(x<span class="cp">[</span><span class="s1">'mean'</span><span class="cp">]</span>),'${:,.0f}'.format(x<span class="cp">[</span><span class="s1">'max'</span><span class="cp">]</span>),'${:,.0f}'.format(x<span class="cp">[</span><span class="s1">'min'</span><span class="cp">]</span>),'{:.0%}'.format((x<span class="cp">[</span><span class="s1">'mean'</span><span class="cp">]</span>/results_array<span class="cp">[</span><span class="mi">0</span><span class="cp">][</span><span class="s1">'mean'</span><span class="cp">]</span>)-1)],results_array)
# print formatted_numbers
html = html+(''.join(map(lambda x: '<span class="nt">&lt;tr&gt;&lt;td&gt;</span>'+('<span class="nt">&lt;/td&gt;&lt;td</span> <span class="na">style=</span><span class="s">"text-align:right"</span><span class="nt">&gt;</span>'.join(x))+'<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>',formatted_numbers)))+'<span class="nt">&lt;/table&gt;</span>'
HTML(html)
</pre></div>


<p>This should generate an output that looks like:</p>
<table class="table table-bordered">
            <thead>
                <tr><th>Sales Increase Factor</th>
                <th>Mean Total Payout</th>
                <th>Max Total Payout</th>
                <th>Min Total Payout</th>
                <th>Increase in Payout</th>
            </tr></thead>
<tbody><tr><td>0%</td><td>$6,661,012</td><td>$6,936,747</td><td>$6,355,451</td><td>0%</td></tr><tr><td>2%</td><td>$6,855,002</td><td>$7,128,312</td><td>$6,661,255</td><td>3%</td></tr><tr><td>5%</td><td>$7,123,175</td><td>$7,344,958</td><td>$6,799,092</td><td>7%</td></tr><tr><td>7%</td><td>$7,346,115</td><td>$7,599,005</td><td>$7,072,258</td><td>10%</td></tr><tr><td>12%</td><td>$7,859,148</td><td>$8,091,215</td><td>$7,560,604</td><td>18%</td></tr><tr><td>15%</td><td>$8,161,052</td><td>$8,491,135</td><td>$7,831,553</td><td>23%</td></tr><tr><td>18%</td><td>$8,461,816</td><td>$8,754,745</td><td>$8,233,400</td><td>27%</td></tr><tr><td>20%</td><td>$8,657,557</td><td>$8,924,484</td><td>$8,347,140</td><td>30%</td></tr><tr><td>25%</td><td>$9,188,707</td><td>$9,437,714</td><td>$8,940,529</td><td>38%</td></tr></tbody></table>

<p><img alt="Sensitivity" class="thumbnail" id="" src="/static/img/blog/sensitivity-of-payout/figure3.png"/></p>
<p>Let's look at the results. It shows that at a $11k sales revenue mean with a $4k standard deviation your comp plan is
 likely to pay a mean payout of about $6.6M with a max of $6.9M and a min of $6.3M. As your sales performance
 improves this number obviously goes up. For a 12% increase in sales your plan is expected to pay about $7.85M on
 average (max of $8.09M and min of $7.56M).</p>
<blockquote>
<p>That represents an 18% increase in payout for a 12% increase in sales performance. That is the estimate of your
    compensation plan's sensitivity.</p>
</blockquote>
<p>Our sensitivity scenarios were quite straightforward. We basically multiplied by a straight factor to improve your
sales performance. However these scenarios can be as complex as the questions you'd like to ask of the data. For
Example:</p>
<blockquote>
<p>What if in response to my new compensation plan, the top 20% of my salesforce did not change their performance
     however the next quintile improved their sales performance by 10% and the third quintile by 35%. What would the
     effect on my total payout?</p>
</blockquote>
<p>Such questions are easy to analyze once you have a basic sensitivity model as we have set up. The advantage of using
python in such a case is it's easy to swap scenario types without much rework.</p>
<p>You can download all the code <a href="https://github.com/sujeetpillai/sensitivity_of_payout">here</a></p>
<p>To learn more about Incentius capabilities visit our <a href="/virtual-analytics-team" id="" target="_blank">Virtual Analytics Team</a> page</p>
                        </div>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        </div></body></html>