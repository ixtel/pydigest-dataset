<html><body><div><div class="post-text" itemprop="text">

<p>The <a href="http://stackoverflow.com/a/7606238/1515819">following code</a> disables stylesheets and images on a page loaded with Selenium Firefox webdriver:</p>

<pre><code>from selenium import webdriver

firefox_profile = webdriver.FirefoxProfile()
firefox_profile.set_preference('permissions.default.stylesheet', 2)
firefox_profile.set_preference('permissions.default.image', 2)

driver = webdriver.Firefox(firefox_profile)
driver.get('http://www.stackoverflow.com/')

driver.close()
</code></pre>

<hr/>

<p>It works fine with <em>stackoverflow.com</em>, <em>facebook.com</em>, <em>yahoo.com</em>... but interestingly doesn't with Google Search; only the Google logo disappears and its stylesheet remains in place.</p>

<p>If you try with the following link <code>http://google.com/search?q=nelson+mandela</code>, you will get:</p>

<p><img src="http://i.stack.imgur.com/CUZYKm.png" alt="enter image description here"/></p>

<p>Whereas the expected result should look like this (no stylesheet + no picture):</p>

<p><img src="http://i.stack.imgur.com/SEuhWm.png" alt="enter image description here"/></p>

<ul>
<li>What is going on?</li>
<li>How do I fix it?</li>
</ul>
    </div>
    </div></body></html>