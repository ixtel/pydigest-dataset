<html><body><div><article class="markdown-body entry-content" itemprop="text"><p><a href="https://raw.githubusercontent.com/tqdm/tqdm/master/logo.png" target="_blank"><img alt="Logo" src="https://raw.githubusercontent.com/tqdm/tqdm/master/logo.png"/></a></p>
<a name="user-content-tqdm"/>
<h2><a id="user-content-tqdm" class="anchor" href="#tqdm" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>tqdm</h2>
<p><a href="https://pypi.python.org/pypi/tqdm"><img alt="PyPi Status" src="https://camo.githubusercontent.com/9fc52f64c6b4edec3fb5a356e7c9dfbb5105542f/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f7471646d2e737667" data-canonical-src="https://img.shields.io/pypi/v/tqdm.svg"/>
</a> <a href="https://pypi.python.org/pypi/tqdm"><img alt="PyPi Downloads" src="https://camo.githubusercontent.com/a77982d62114f5674e753f15ccf1a470eb6c92ec/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646d2f7471646d2e737667" data-canonical-src="https://img.shields.io/pypi/dm/tqdm.svg"/>
</a>
<a href="https://travis-ci.org/tqdm/tqdm"><img alt="Build Status" src="https://camo.githubusercontent.com/cbb26aaddfbf01213638ba7593758f860b1e9da8/68747470733a2f2f7472617669732d63692e6f72672f7471646d2f7471646d2e7376673f6272616e63683d6d6173746572" data-canonical-src="https://travis-ci.org/tqdm/tqdm.svg?branch=master"/></a> <a href="https://coveralls.io/r/tqdm/tqdm"><img alt="Coverage Status" src="https://camo.githubusercontent.com/dfdfd928c2468c66569433f23f9657a433a3ddbc/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f7471646d2f7471646d2f62616467652e737667" data-canonical-src="https://coveralls.io/repos/tqdm/tqdm/badge.svg"/>
</a> <a href="https://codecov.io/github/tqdm/tqdm?branch=master"><img alt="Branch Coverage Status" src="https://camo.githubusercontent.com/7ccb8168bdddc56cd4d6d7e880154e63152f4543/68747470733a2f2f636f6465636f762e696f2f6769746875622f7471646d2f7471646d2f636f7665726167652e7376673f6272616e63683d6d6173746572" data-canonical-src="https://codecov.io/github/tqdm/tqdm/coverage.svg?branch=master"/></a></p>
<p><code>tqdm</code> (read taqadum, تقدّم) means "progress" in arabic.</p>
<p>Instantly make your loops show a smart progress meter - just wrap any
iterable with "tqdm(iterable)", and you're done!</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> tqdm <span class="pl-k">import</span> tqdm
<span class="pl-k">for</span> i <span class="pl-k">in</span> tqdm(<span class="pl-c1">range</span>(<span class="pl-c1">9</span>)):
    <span class="pl-c1">...</span></pre></div>
<p>Here's what the output looks like:</p>
<p>76%|████████████████████            | 7641/10000 [00:34&lt;00:10,
222.22 it/s]</p>
<p><code>trange(N)</code> can be also used as a convenient shortcut for
<code>tqdm(xrange(N))</code>.</p>
<p><a href="https://raw.githubusercontent.com/tqdm/tqdm/master/tqdm.gif" target="_blank"><img alt="Screenshot" src="https://raw.githubusercontent.com/tqdm/tqdm/master/tqdm.gif"/></a></p>
<p>Overhead is low -- about 60ns per iteration (80ns with <code>gui=True</code>), and is
unit tested against performance regression.
By comparison, the well established
<a href="https://github.com/niltonvolpato/python-progressbar">ProgressBar</a> has
an 800ns/iter overhead.</p>
<p>In addition to its low overhead, <code>tqdm</code> uses smart algorithms to predict
the remaining time and to skip unnecessary iteration displays, which allows
for a negligible overhead in most cases.</p>
<p><code>tqdm</code> works on any platform (Linux, Windows, Mac, FreeBSD, Solaris/SunOS),
in any console or in a GUI, and is also friendly with IPython/Jupyter notebooks.</p>
<p><code>tqdm</code> does not require any library (not even curses!) to run, just a
vanilla Python interpreter will do and an environment supporting <code>carriage
return \r</code> and <code>line feed \n</code> control characters.</p>
<hr/>

<a name="user-content-installation"/>

<a name="user-content-latest-pypi-stable-release"/>


<a name="user-content-latest-development-release-on-github"/>

<p>Pull and install in the current directory:</p>
<div class="highlight highlight-source-shell"><pre>pip install -e git+https://github.com/tqdm/tqdm.git@master#egg=tqdm</pre></div>
<a name="user-content-changelog"/>

<p>The list of all changes is available either on
<a href="https://github.com/tqdm/tqdm/releases">Github's Releases</a> or on crawlers such as
<a href="https://allmychanges.com/p/python/tqdm/">allmychanges.com</a>.</p>
<a name="user-content-usage"/>

<p><code>tqdm</code> is very versatile and can be used in a number of ways.
The two main ones are given below.</p>
<a name="user-content-iterable-based"/>

<p>Wrap <code>tqdm()</code> around any iterable:</p>
<div class="highlight highlight-source-python"><pre>text <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>
<span class="pl-k">for</span> char <span class="pl-k">in</span> tqdm([<span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>b<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>c<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>d<span class="pl-pds">"</span></span>]):
    text <span class="pl-k">=</span> text <span class="pl-k">+</span> char</pre></div>
<p><code>trange(i)</code> is a special optimised instance of <code>tqdm(range(i))</code>:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">for</span> i <span class="pl-k">in</span> trange(<span class="pl-c1">100</span>):
    <span class="pl-k">pass</span></pre></div>
<p>Instantiation outside of the loop allows for manual control over <code>tqdm()</code>:</p>
<div class="highlight highlight-source-python"><pre>pbar <span class="pl-k">=</span> tqdm([<span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>b<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>c<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>d<span class="pl-pds">"</span></span>])
<span class="pl-k">for</span> char <span class="pl-k">in</span> pbar:
    pbar.set_description(<span class="pl-s"><span class="pl-pds">"</span>Processing <span class="pl-c1">%s</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span> char)</pre></div>
<a name="user-content-manual"/>

<p>Manual control on <code>tqdm()</code> updates by using a <code>with</code> statement:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">with</span> tqdm(<span class="pl-v">total</span><span class="pl-k">=</span><span class="pl-c1">100</span>) <span class="pl-k">as</span> pbar:
    <span class="pl-k">for</span> i <span class="pl-k">in</span> <span class="pl-c1">range</span>(<span class="pl-c1">10</span>):
        pbar.update(<span class="pl-c1">10</span>)</pre></div>
<p>If the optional variable <code>total</code> (or an iterable with <code>len()</code>) is
provided, predictive stats are displayed.</p>
<p><code>with</code> is also optional (you can just assign <code>tqdm()</code> to a variable,
but in this case don't forget to <code>del</code> or <code>close()</code> at the end:</p>
<div class="highlight highlight-source-python"><pre>pbar <span class="pl-k">=</span> tqdm(<span class="pl-v">total</span><span class="pl-k">=</span><span class="pl-c1">100</span>)
<span class="pl-k">for</span> i <span class="pl-k">in</span> <span class="pl-c1">range</span>(<span class="pl-c1">10</span>):
    pbar.update(<span class="pl-c1">10</span>)
pbar.close()</pre></div>
<a name="user-content-documentation"/>

<div class="highlight highlight-source-python"><pre><span class="pl-k">class</span> <span class="pl-en">tqdm</span>(<span class="pl-c1">object</span>):
  <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">  Decorate an iterable object, returning an iterator which acts exactly</span>
<span class="pl-s">  like the original iterable, but prints a dynamically updating</span>
<span class="pl-s">  progressbar every time a value is requested.</span>
<span class="pl-s">  <span class="pl-pds">"""</span></span>

  <span class="pl-k">def</span> <span class="pl-c1">__init__</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">iterable</span><span class="pl-k">=</span><span class="pl-c1">None</span>, <span class="pl-smi">desc</span><span class="pl-k">=</span><span class="pl-c1">None</span>, <span class="pl-smi">total</span><span class="pl-k">=</span><span class="pl-c1">None</span>, <span class="pl-smi">leave</span><span class="pl-k">=</span><span class="pl-c1">True</span>,
               <span class="pl-smi">file</span><span class="pl-k">=</span>sys.stderr, <span class="pl-smi">ncols</span><span class="pl-k">=</span><span class="pl-c1">None</span>, <span class="pl-smi">mininterval</span><span class="pl-k">=</span><span class="pl-c1">0.1</span>,
               <span class="pl-smi">maxinterval</span><span class="pl-k">=</span><span class="pl-c1">10.0</span>, <span class="pl-smi">miniters</span><span class="pl-k">=</span><span class="pl-c1">None</span>, <span class="pl-smi">ascii</span><span class="pl-k">=</span><span class="pl-c1">None</span>, <span class="pl-smi">disable</span><span class="pl-k">=</span><span class="pl-c1">False</span>,
               <span class="pl-smi">unit</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>it<span class="pl-pds">'</span></span>, <span class="pl-smi">unit_scale</span><span class="pl-k">=</span><span class="pl-c1">False</span>, <span class="pl-smi">dynamic_ncols</span><span class="pl-k">=</span><span class="pl-c1">False</span>,
               <span class="pl-smi">smoothing</span><span class="pl-k">=</span><span class="pl-c1">0.3</span>, <span class="pl-smi">bar_format</span><span class="pl-k">=</span><span class="pl-c1">None</span>, <span class="pl-smi">initial</span><span class="pl-k">=</span><span class="pl-c1">0</span>, <span class="pl-smi">position</span><span class="pl-k">=</span><span class="pl-c1">None</span>):</pre></div>
<a name="user-content-parameters"/>

<ul>
<li><dl>
<dt>iterable : iterable, optional</dt>
<dd><p>Iterable to decorate with a progressbar.
Leave blank [default: None] to manually manage the updates.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>desc : str, optional</dt>
<dd><p>Prefix for the progressbar [default: None].</p>
</dd>
</dl>
</li>
<li><dl>
<dt>total : int, optional</dt>
<dd><p>The number of expected iterations. If not given, len(iterable)
is used if possible. As a last resort, only basic progress
statistics are displayed (no ETA, no progressbar). If gui is
True and this parameter needs subsequent updating, specify an
initial arbitrary large positive integer, e.g. int(9e9).</p>
</dd>
</dl>
</li>
<li><dl>
<dt>leave : bool, optional</dt>
<dd><p>If [default: True], removes all traces of the progressbar
upon termination of iteration.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>file : io.TextIOWrapper or io.StringIO, optional</dt>
<dd><p>Specifies where to output the progress messages
[default: sys.stderr]. Uses file.write(str) and file.flush()
methods.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>ncols : int, optional</dt>
<dd><p>The width of the entire output message. If specified,
dynamically resizes the progressbar to stay within this bound.
If [default: None], attempts to use environment width. The
fallback is a meter width of 10 and no limit for the counter and
statistics. If 0, will not print any meter (only stats).</p>
</dd>
</dl>
</li>
<li><dl>
<dt>mininterval : float, optional</dt>
<dd><p>Minimum progress update interval, in seconds [default: 0.1].</p>
</dd>
</dl>
</li>
<li><dl>
<dt>maxinterval : float, optional</dt>
<dd><p>Maximum progress update interval, in seconds [default: 10.0].</p>
</dd>
</dl>
</li>
<li><dl>
<dt>miniters : int, optional</dt>
<dd><p>Minimum progress update interval, in iterations [default: None].
If specified, will set mininterval to 0.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>ascii : bool, optional</dt>
<dd><p>If [default: None] or false, use unicode (smooth blocks) to fill
the meter. The fallback is to use ASCII characters 1-9 #.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>disable : bool</dt>
<dd><p>Whether to disable the entire progressbar wrapper
[default: False].</p>
</dd>
</dl>
</li>
<li><dl>
<dt>unit : str, optional</dt>
<dd><p>String that will be used to define the unit of each iteration
[default: 'it'].</p>
</dd>
</dl>
</li>
<li><dl>
<dt>unit_scale : bool, optional</dt>
<dd><p>If set, the number of iterations will be reduced/scaled
automatically and a metric prefix following the
International System of Units standard will be added
(kilo, mega, etc.) [default: False].</p>
</dd>
</dl>
</li>
<li><dl>
<dt>dynamic_ncols : bool, optional</dt>
<dd><p>If set, constantly alters ncols to the environment (allowing
for window resizes) [default: False].</p>
</dd>
</dl>
</li>
<li><dl>
<dt>smoothing : float</dt>
<dd><p>Exponential moving average smoothing factor for speed estimates
(ignored in GUI mode). Ranges from 0 (average speed) to 1
(current/instantaneous speed) [default: 0.3].</p>
</dd>
</dl>
</li>
<li><dl>
<dt>bar_format : str, optional</dt>
<dd><p>Specify a custom bar string formatting. May impact performance.
[default: '{l_bar}{bar}{r_bar}'], where l_bar is
'{desc}{percentage:3.0f}%|' and r_bar is
'| {n_fmt}/{total_fmt} [{elapsed_str}&lt;{remaining_str}, {rate_fmt}]'.
Possible vars: bar, n, n_fmt, total, total_fmt, percentage, rate,
rate_fmt, elapsed, remaining, l_bar, r_bar, desc.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>initial : int, optional</dt>
<dd><p>The initial counter value. Useful when restarting a progress
bar [default: 0].</p>
</dd>
</dl>
</li>
<li><dl>
<dt>position : int, optional</dt>
<dd><p>Specify the line offset to print this bar. Useful to manage
multiple bars at once (eg, from threads).</p>
</dd>
</dl>
</li>
</ul>
<a name="user-content-returns"/>

<ul>
<li>out  : decorated iterator.</li>
</ul>
<div class="highlight highlight-source-python"><pre>  <span class="pl-k">def</span> <span class="pl-en">update</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">n</span><span class="pl-k">=</span><span class="pl-c1">1</span>):
      <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">      Manually update the progress bar, useful for streams</span>
<span class="pl-s">      such as reading files.</span>
<span class="pl-s">      E.g.:</span>
<span class="pl-s">      <span class="pl-k">&gt;&gt;&gt; </span>t = tqdm(total=filesize) # Initialise</span>
<span class="pl-s">      <span class="pl-k">&gt;&gt;&gt; </span>for current_buffer in stream:</span>
<span class="pl-s">      <span class="pl-k">... </span>   ...</span>
<span class="pl-s">      <span class="pl-k">... </span>   t.update(len(current_buffer))</span>
<span class="pl-s">      <span class="pl-k">&gt;&gt;&gt; </span>t.close()</span>
<span class="pl-s">      The last line is highly recommended, but possibly not necessary if</span>
<span class="pl-s">      `t.update()` will be called in such a way that `filesize` will be</span>
<span class="pl-s">      exactly reached and printed.</span>
<span class="pl-s"/>
<span class="pl-s">      Parameters</span>
<span class="pl-s">      ----------</span>
<span class="pl-s">      n  : int</span>
<span class="pl-s">          Increment to add to the internal counter of iterations</span>
<span class="pl-s">          [default: 1].</span>
<span class="pl-s">      <span class="pl-pds">"""</span></span>

  <span class="pl-k">def</span> <span class="pl-en">close</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>):
      <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">      Cleanup and (if leave=False) close the progressbar.</span>
<span class="pl-s">      <span class="pl-pds">"""</span></span>

<span class="pl-k">def</span> <span class="pl-en">trange</span>(<span class="pl-k">*</span><span class="pl-smi">args</span>, <span class="pl-k">**</span><span class="pl-smi">kwargs</span>):
    <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">    A shortcut for tqdm(xrange(*args), **kwargs).</span>
<span class="pl-s">    On Python3+ range is used instead of xrange.</span>
<span class="pl-s">    <span class="pl-pds">"""</span></span>

<span class="pl-k">class</span> <span class="pl-en">tqdm_gui</span>(<span class="pl-e">tqdm</span>):
    <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">    Experimental GUI version of tqdm!</span>
<span class="pl-s">    <span class="pl-pds">"""</span></span>

<span class="pl-k">def</span> <span class="pl-en">tgrange</span>(<span class="pl-k">*</span><span class="pl-smi">args</span>, <span class="pl-k">**</span><span class="pl-smi">kwargs</span>):
    <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">    Experimental GUI version of trange!</span>
<span class="pl-s">    <span class="pl-pds">"""</span></span></pre></div>
<a name="user-content-examples-and-advanced-usage"/>

<p>See the <a href="https://github.com/tqdm/tqdm/tree/master/examples">examples</a> folder or
import the module and run <code>help()</code>.</p>
<a name="user-content-hooks-and-callbacks"/>

<p><code>tqdm</code> can easily support callbacks/hooks and manual updates.
Here's an example with <code>urllib</code>:</p>
<p><strong>urllib.urlretrieve documentation</strong></p>
<blockquote>
<div>
<p>[...]</p>
<p>If present, the hook function will be called once</p>
<p>on establishment of the network connection and once after each
block read</p>
<p>thereafter. The hook will be passed three arguments; a count of
blocks</p>
<p>transferred so far, a block size in bytes, and the total size of
the file.</p>
<p>[...]</p>
</div>
</blockquote>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> urllib
<span class="pl-k">from</span> tqdm <span class="pl-k">import</span> tqdm

<span class="pl-k">def</span> <span class="pl-en">my_hook</span>(<span class="pl-smi">t</span>):
  <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">  Wraps tqdm instance. Don't forget to close() or __exit__()</span>
<span class="pl-s">  the tqdm instance once you're done with it (easiest using `with` syntax).</span>
<span class="pl-s"/>
<span class="pl-s">  Example</span>
<span class="pl-s">  -------</span>
<span class="pl-s"/>
<span class="pl-s">  <span class="pl-k">&gt;&gt;&gt; </span>with tqdm(...) as t:</span>
<span class="pl-s">  <span class="pl-k">... </span>    reporthook = my_hook(t)</span>
<span class="pl-s">  <span class="pl-k">... </span>    urllib.urlretrieve(..., reporthook=reporthook)</span>
<span class="pl-s"/>
<span class="pl-s">  <span class="pl-pds">"""</span></span>
  last_b <span class="pl-k">=</span> [<span class="pl-c1">0</span>]

  <span class="pl-k">def</span> <span class="pl-en">inner</span>(<span class="pl-smi">b</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-smi">bsize</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-smi">tsize</span><span class="pl-k">=</span><span class="pl-c1">None</span>):
    <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">    b  : int, optional</span>
<span class="pl-s">        Number of blocks just transferred [default: 1].</span>
<span class="pl-s">    bsize  : int, optional</span>
<span class="pl-s">        Size of each block (in tqdm units) [default: 1].</span>
<span class="pl-s">    tsize  : int, optional</span>
<span class="pl-s">        Total size (in tqdm units). If [default: None] remains unchanged.</span>
<span class="pl-s">    <span class="pl-pds">"""</span></span>
    <span class="pl-k">if</span> tsize <span class="pl-k">is</span> <span class="pl-k">not</span> <span class="pl-c1">None</span>:
        t.total <span class="pl-k">=</span> tsize
    t.update((b <span class="pl-k">-</span> last_b[<span class="pl-c1">0</span>]) <span class="pl-k">*</span> bsize)
    last_b[<span class="pl-c1">0</span>] <span class="pl-k">=</span> b
  <span class="pl-k">return</span> inner

eg_link <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>http://www.doc.ic.ac.uk/~cod11/matryoshka.zip<span class="pl-pds">'</span></span>
<span class="pl-k">with</span> tqdm(<span class="pl-v">unit</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>B<span class="pl-pds">'</span></span>, <span class="pl-v">unit_scale</span><span class="pl-k">=</span><span class="pl-c1">True</span>, <span class="pl-v">leave</span><span class="pl-k">=</span><span class="pl-c1">True</span>, <span class="pl-v">miniters</span><span class="pl-k">=</span><span class="pl-c1">1</span>,
          <span class="pl-v">desc</span><span class="pl-k">=</span>eg_link.split(<span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>)[<span class="pl-k">-</span><span class="pl-c1">1</span>]) <span class="pl-k">as</span> t:  <span class="pl-c"># all optional kwargs</span>
    urllib.urlretrieve(eg_link, <span class="pl-v">filename</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>/dev/null<span class="pl-pds">'</span></span>,
                       <span class="pl-v">reporthook</span><span class="pl-k">=</span>my_hook(t), <span class="pl-v">data</span><span class="pl-k">=</span><span class="pl-c1">None</span>)</pre></div>
<p>It is recommend to use <code>miniters=1</code> whenever there is potentially
large differences in iteration speed (e.g. downloading a file over
a patchy connection).</p>
<a name="user-content-pandas-integration"/>

<p>Due to popular demand we've added support for <code>pandas</code> -- here's an example
for <code>DataFrameGroupBy.progress_apply</code>:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> pandas <span class="pl-k">as</span> pd
<span class="pl-k">import</span> numpy <span class="pl-k">as</span> np
<span class="pl-k">from</span> tqdm <span class="pl-k">import</span> tqdm, tqdm_pandas

df <span class="pl-k">=</span> pd.DataFrame(np.random.randint(<span class="pl-c1">0</span>, <span class="pl-c1">100</span>, (<span class="pl-c1">100000</span>, <span class="pl-c1">6</span>)))

<span class="pl-c"># Create and register a new `tqdm` instance with `pandas`</span>
<span class="pl-c"># (can use tqdm_gui, optional kwargs, etc.)</span>
tqdm_pandas(tqdm())

<span class="pl-c"># Now you can use `progress_apply` instead of `apply`</span>
df.groupby(<span class="pl-c1">0</span>).progress_apply(<span class="pl-k">lambda</span> <span class="pl-smi">x</span>: x<span class="pl-k">**</span><span class="pl-c1">2</span>)</pre></div>
<p>In case you're interested in how this works (and how to modify it for your
own callbacks), see the <a href="https://github.com/tqdm/tqdm/tree/master/examples">examples</a>
folder or import the module and run <code>help()</code>.</p>
<a name="user-content-nested-progress-bars"/>

<p><code>tqdm</code> supports nested progress bars. Here's an example:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> tqdm <span class="pl-k">import</span> trange
<span class="pl-k">from</span> time <span class="pl-k">import</span> sleep

<span class="pl-k">for</span> i <span class="pl-k">in</span> trange(<span class="pl-c1">10</span>, <span class="pl-v">desc</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>1st loop<span class="pl-pds">'</span></span>):
    <span class="pl-k">for</span> j <span class="pl-k">in</span> trange(<span class="pl-c1">5</span>, <span class="pl-v">desc</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>2nd loop<span class="pl-pds">'</span></span>, <span class="pl-v">leave</span><span class="pl-k">=</span><span class="pl-c1">False</span>):
        <span class="pl-k">for</span> k <span class="pl-k">in</span> trange(<span class="pl-c1">100</span>, <span class="pl-v">desc</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>3nd loop<span class="pl-pds">'</span></span>):
            sleep(<span class="pl-c1">0.01</span>)</pre></div>
<p>On Windows <a href="https://github.com/tartley/colorama">colorama</a> will be used if
available to produce a beautiful nested display.</p>
<p>For manual control over positioning (e.g. for multi-threaded use),
you may specify position=n where n=0 for the outermost bar,
n=1 for the next, and so on.</p>
<a name="user-content-how-to-make-a-good-progress-bar"/>

<p>A good progress bar is a useful progress bar. To be useful, <code>tqdm</code> displays
statistics and uses smart algorithms to predict and automagically adapt to
a variety of use cases with no or minimal configuration.</p>
<p>However, there is one thing that <code>tqdm</code> cannot do: choose a pertinent
progress indicator. To display a useful progress bar, it is very important that
<code>tqdm</code> is supplied with the most pertinent progress indicator.
This will reflect most accurately the current state of your program.
Usually, a good way is to preprocess quickly to first evaluate the total amount
of work to do before beginning the real processing.</p>
<p>To illustrate the importance of a good progress indicator, take the
following example: you want to walk through all files of a directory and
process their contents with some external function:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> os
<span class="pl-k">from</span> tqdm <span class="pl-k">import</span> tqdm, trange
<span class="pl-k">from</span> time <span class="pl-k">import</span> sleep

<span class="pl-k">def</span> <span class="pl-en">dosomething</span>(<span class="pl-smi">buf</span>):
    <span class="pl-s"><span class="pl-pds">"""</span>Do something with the content of a file<span class="pl-pds">"""</span></span>
    sleep(<span class="pl-c1">0.01</span>)
    <span class="pl-k">pass</span>

<span class="pl-k">def</span> <span class="pl-en">walkdir</span>(<span class="pl-smi">folder</span>):
    <span class="pl-s"><span class="pl-pds">"""</span>Walk through each files in a directory<span class="pl-pds">"""</span></span>
    <span class="pl-k">for</span> dirpath, dirs, files <span class="pl-k">in</span> os.walk(folder):
        <span class="pl-k">for</span> filename <span class="pl-k">in</span> files:
            <span class="pl-k">yield</span> os.path.abspath(os.path.join(dirpath, filename))

<span class="pl-k">def</span> <span class="pl-en">process_content_no_progress</span>(<span class="pl-smi">inputpath</span>, <span class="pl-smi">blocksize</span><span class="pl-k">=</span><span class="pl-c1">1024</span>):
    <span class="pl-k">for</span> filepath <span class="pl-k">in</span> walkdir(inputpath):
        <span class="pl-k">with</span> <span class="pl-c1">open</span>(filepath, <span class="pl-s"><span class="pl-pds">'</span>rb<span class="pl-pds">'</span></span>) <span class="pl-k">as</span> fh:
            buf <span class="pl-k">=</span> <span class="pl-c1">1</span>
            <span class="pl-k">while</span> (buf):
                buf <span class="pl-k">=</span> fh.read(blocksize)
                dosomething(buf)</pre></div>
<p><code>process_content_no_progress()</code> does the job, but does not show
any information about the current progress, nor how long it will take.</p>
<p>To quickly fix that using <code>tqdm</code>, we can use this naive approach:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">process_content_with_progress1</span>(<span class="pl-smi">inputpath</span>, <span class="pl-smi">blocksize</span><span class="pl-k">=</span><span class="pl-c1">1024</span>):
    <span class="pl-k">for</span> filepath <span class="pl-k">in</span> tqdm(walkdir(inputpath), <span class="pl-v">leave</span><span class="pl-k">=</span><span class="pl-c1">True</span>):
        <span class="pl-k">with</span> <span class="pl-c1">open</span>(filepath, <span class="pl-s"><span class="pl-pds">'</span>rb<span class="pl-pds">'</span></span>) <span class="pl-k">as</span> fh:
            buf <span class="pl-k">=</span> <span class="pl-c1">1</span>
            <span class="pl-k">while</span> (buf):
                buf <span class="pl-k">=</span> fh.read(blocksize)
                dosomething(buf)</pre></div>
<p><code>process_content_with_progress1()</code> will load <code>tqdm()</code>, but since the
iterator does not provide any length (<code>os.walkdir()</code> does not have a
<code>__len__()</code> method for the total files count), there is only an indication
of the current and past program state, no prediction:</p>
<p><code>4it [00:03,  2.79it/s]</code></p>
<p>The way to get predictive information is to know the total amount of work to be
done. Since <code>os.walkdir()</code> cannot give us this information, we need to
precompute this by ourselves:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">process_content_with_progress2</span>(<span class="pl-smi">inputpath</span>, <span class="pl-smi">blocksize</span><span class="pl-k">=</span><span class="pl-c1">1024</span>):
    <span class="pl-c"># Preprocess the total files count</span>
    filecounter <span class="pl-k">=</span> <span class="pl-c1">0</span>
    <span class="pl-k">for</span> dirpath, dirs, files <span class="pl-k">in</span> tqdm(os.walk(inputpath)):
        <span class="pl-k">for</span> filename <span class="pl-k">in</span> files:
            filecounter <span class="pl-k">+=</span> <span class="pl-c1">1</span>

    <span class="pl-k">for</span> filepath <span class="pl-k">in</span> tqdm(walkdir(inputpath), <span class="pl-v">total</span><span class="pl-k">=</span>filecounter, <span class="pl-v">leave</span><span class="pl-k">=</span><span class="pl-c1">True</span>):
        <span class="pl-k">with</span> <span class="pl-c1">open</span>(filepath, <span class="pl-s"><span class="pl-pds">'</span>rb<span class="pl-pds">'</span></span>) <span class="pl-k">as</span> fh:
            buf <span class="pl-k">=</span> <span class="pl-c1">1</span>
            <span class="pl-k">while</span> (buf):
                buf <span class="pl-k">=</span> fh.read(blocksize)
                dosomething(buf)</pre></div>
<p><code>process_content_with_progress2()</code> is better than the naive approach because
now we have predictive information:</p>
<p>50%|██████████████████████                     | 2/4 [00:00&lt;00:00,  4.06it/s]</p>
<p>However, the progress is not smooth: it increments in steps, 1 step being
1 file processed. The problem is that we do not just walk through files tree,
but we process the files contents. Thus, if we stumble on one very large file
which takes a great deal more time to process than other smaller files,
the progress bar
will still considers that file is of equal processing weight.</p>
<p>To fix this, we should use another indicator than the files count: the total
sum of all files sizes. This would be more pertinent since the data we
process is the files' content, so there is a direct relation between size and
content.</p>
<p>Below we implement this approach using a manually updated <code>tqdm</code> bar, where
<code>tqdm</code> will work on size, while the <code>for</code> loop works on files paths:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">process_content_with_progress3</span>(<span class="pl-smi">inputpath</span>, <span class="pl-smi">blocksize</span><span class="pl-k">=</span><span class="pl-c1">1024</span>):
    <span class="pl-c"># Preprocess the total files sizes</span>
    sizecounter <span class="pl-k">=</span> <span class="pl-c1">0</span>
    <span class="pl-k">for</span> dirpath, dirs, files <span class="pl-k">in</span> tqdm(os.walk(inputpath)):
        <span class="pl-k">for</span> filename <span class="pl-k">in</span> files:
            fullpath <span class="pl-k">=</span> os.path.abspath(os.path.join(dirpath, filename))
            sizecounter <span class="pl-k">+=</span> os.stat(fullpath).st_size

    <span class="pl-c"># Load tqdm with size counter instead of files counter</span>
    <span class="pl-k">with</span> tqdm(<span class="pl-v">total</span><span class="pl-k">=</span>sizecounter, <span class="pl-v">leave</span><span class="pl-k">=</span><span class="pl-c1">True</span>, <span class="pl-v">unit</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>B<span class="pl-pds">'</span></span>, <span class="pl-v">unit_scale</span><span class="pl-k">=</span><span class="pl-c1">True</span>) <span class="pl-k">as</span> pbar:
        <span class="pl-k">for</span> dirpath, dirs, files <span class="pl-k">in</span> os.walk(inputpath):
            <span class="pl-k">for</span> filename <span class="pl-k">in</span> files:
                fullpath <span class="pl-k">=</span> os.path.abspath(os.path.join(dirpath, filename))
                <span class="pl-k">with</span> <span class="pl-c1">open</span>(fullpath, <span class="pl-s"><span class="pl-pds">'</span>rb<span class="pl-pds">'</span></span>) <span class="pl-k">as</span> fh:
                    buf <span class="pl-k">=</span> <span class="pl-c1">1</span>
                    <span class="pl-k">while</span> (buf):
                        buf <span class="pl-k">=</span> fh.read(blocksize)
                        dosomething(buf)
                        <span class="pl-k">if</span> buf: pbar.update(<span class="pl-c1">len</span>(buf))</pre></div>
<p>And here is the result: a much smoother progress bar with meaningful
predicted time and statistics:</p>
<p>47%|██████████████████▍                   | 152K/321K [00:03&lt;00:03, 46.2KB/s]</p>
<a name="user-content-contributions"/>

<p>To run the testing suite please make sure tox (<a href="https://testrun.org/tox/latest/">https://testrun.org/tox/latest/</a>)
is installed, then type <code>tox</code> from the command line.</p>
<p>Where <code>tox</code> is unavailable, a Makefile-like setup is
provided with the following command:</p>
<div class="highlight highlight-source-shell"><pre>$ python setup.py make alltests</pre></div>
<p>To see all options, run:</p>

<p>See the <a href="https://raw.githubusercontent.com/tqdm/tqdm/master/CONTRIBUTE">CONTRIBUTE</a>
file for more information.</p>
<a name="user-content-license"/>

<p>Multiple licences, mostly <a href="https://raw.githubusercontent.com/tqdm/tqdm/master/LICENCE">MPLv2.0, MIT licences</a>.</p>
<a name="user-content-authors"/>

<ul>
<li>Casper da Costa-Luis (casperdcl)</li>
<li>Stephen Larroque (lrq3000)</li>
<li>Hadrien Mary (hadim)</li>
<li>Noam Yorav-Raphael (noamraph)*</li>
<li>Ivan Ivanov (obiwanus)</li>
<li>Mikhail Korobov (kmike)</li>
</ul>
<p>* Original author</p>

</article>
  </div></body></html>