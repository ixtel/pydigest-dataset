<html><body><div><div class="section">
              <h1>django-cloak 1.0.0</h1>

              


<p>App for Django to cloak as a user, or generate a login link</p><p>








# django-cloak</p><p>[![Build Status](https://travis-ci.org/PSU-OIT-ARC/django-cloak.svg?branch=master)](https://travis-ci.org/PSU-OIT-ARC/django-cloak)</p><p>cloak is an app that allows administrative users to browse the site as a different user. It also includes a management command (`login`) to generate a login link for a particular user.</p><p>## Installation</p><p>1. pip install django-cloak</p><p>1. Add `cloak` to your INSTALLED_APPS setting</p><p>1. Add `cloak.middleware.CloakMiddleware` to your `MIDDLEWARE_CLASSES` (after session and auth middleware)</p><p>1. Add `url(r'^cloak/', include('cloak.urls'))` to your urls.py</p><p>## Requirements</p><p>SessionMiddleware and django.contrib.auth</p><p>## Usages</p><p>### Command line</p><p>    ./manage.py login user_identifier</p><p>where `user_identifier` is the value of the USERNAME_FIELD field of your user model.</p><p>This will spit out a path you can append to your site's base URL, which will automatically log you in as that user.</p><p>**Note**: The backend associated with the user (i.e. the value of `user.backend`) will be the first backend listed in AUTHENTICATION_BACKENDS.</p><p>Without a user_identifier, the command will try to find a user with `is_superuser=True`, or `is_staff=True`, or any user, in that order.</p><p>### Templates</p><p>To cloak as a user, create a form that POSTs to the cloaking URL. The URL can either contain the PK of the user, or you can pass the PK as a POST parameter:</p><p>    &lt;form method="post" action="{% url 'cloak' user.pk %}"&gt;</p><p>        {% csrf_token %}</p><p>        &lt;input type="submit" name="submit" value="Cloak"/&gt;</p><p>    &lt;/form&gt;</p><p>or</p><p>    &lt;form method="post" action="{% url 'cloak' %}"&gt;</p><p>        {% csrf_token %}</p><p>        &lt;select name="pk"&gt;</p><p>            &lt;option value="1"&gt;Matt&lt;/option&gt;</p><p>            &lt;option value="2"&gt;Thom&lt;/option&gt;</p><p>            &lt;option value="3"&gt;Brandon&lt;/option&gt;</p><p>        &lt;/select&gt;</p><p>        &lt;input type="submit" name="submit" value="Cloak"/&gt;</p><p>    &lt;/form&gt;</p><p>## Other Information</p><p>You can tell if a user is cloaked by checking the "is_cloaked" attribute on the user object (this flag is set in the middleware).</p><p>When determining if a user is allowed to cloak, the cloak view tries to call a `request.user.can_cloak_as(other_user)` method. If no such method is defined, the code falls back on the `request.user.is_staff` flag.

</p><a name="downloads">Â </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>51</span> downloads in the last week
  </li>
  <li>
    <span>380</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>