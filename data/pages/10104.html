<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-dtags" class="anchor" href="#dtags" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>dtags</h1>

<p>Directory tags for lazy programmers.
Inspired by <a href="https://github.com/mixu/gr">gr</a>.</p>

<h4><a id="user-content-introduction" class="anchor" href="#introduction" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Introduction</h4>

<p>Do you have too many git repositories or vagrant machines to manage? Does your 
daily routine require you to switch between the same directories over and over? 
Are you a lazy programmer who is always looking for shortcuts? If you answered
<em>yes</em> to any of these questions, then <strong>dtags</strong> may be for you!</p>

<h4><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h4>

<p>Install using <a href="https://pip.pypa.io">pip</a> (Python 2.7+ and 3.4+ supported):</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">~</span>$ sudo pip install --upgrade pip setuptools
<span class="pl-k">~</span>$ sudo pip install --upgrade dtags</pre></div>

<p>To get the latest commits:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">~</span>$ git clone https://github.com/joowani/dtags.git
<span class="pl-k">~</span>$ <span class="pl-c1">cd</span> dtags
<span class="pl-k">~</span>$ sudo python setup.py install</pre></div>

<p>Once installed, you will have 4 commands at your disposal: 
<code>tag</code>, <code>run</code>, <code>tags</code> and <code>untag</code>. </p>

<h4><a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Usage</h4>

<p>Tag directories using <code>tag</code>:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">~</span>$ tag <span class="pl-k">~</span>/frontend @frontend
<span class="pl-k">~</span>$ tag <span class="pl-k">~</span>/backend @backend
<span class="pl-k">~</span>$ tag <span class="pl-k">~</span>/frontend <span class="pl-k">~</span>/backend @work
<span class="pl-k">~</span>$ tag <span class="pl-k">~</span>/db @vm
<span class="pl-k">~</span>$ tag <span class="pl-k">~</span>/web @vm

<span class="pl-c"># Or equivalently</span>
<span class="pl-k">~</span>$ tag <span class="pl-k">~</span>/frontend @frontend @work <span class="pl-k">~</span>/backend @backend @work <span class="pl-k">~</span>/db <span class="pl-k">~</span>/web @vm

<span class="pl-c"># Note: All tag names must begin with the '@' symbol</span></pre></div>

<p>Execute commands in the tagged directories using <code>run</code>:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Execute 'git fetch origin' in all directories tagged @project</span>
<span class="pl-k">~</span>$ run @project git fetch origin

<span class="pl-c"># Execute 'git status -sb' in all directories tagged @frontend and @backend</span>
<span class="pl-k">~</span>$ run @frontend @backend git status -sb

<span class="pl-c"># Execute 'vagrant status' in all directories tagged @vms</span>
<span class="pl-k">~</span>$ run @vms vagrant status

<span class="pl-c"># Directory paths can be specified along with tags</span>
<span class="pl-k">~</span>$ run @backend <span class="pl-k">~</span>/scripts <span class="pl-k">~</span>/redis ls -la

<span class="pl-c"># The command can be executed in parallel if it doesn't wait on input</span>
<span class="pl-k">~</span>$ run -p @backend <span class="pl-s"><span class="pl-pds">'</span>sleep 5 &amp;&amp; echo done<span class="pl-pds">'</span></span>
<span class="pl-k">~</span>$ run -p @project git pull
<span class="pl-k">~</span>$ run -p @vms vagrant up

<span class="pl-c"># Display the exit code for each execution</span>
<span class="pl-k">~</span>$ run -e @backend ls foobar

<span class="pl-c"># Commands are executed through interactive shells so you can use your aliases!</span>
<span class="pl-k">~</span>$ run @project myalias</pre></div>

<p>Display/edit tags using <code>tags</code>:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">~</span>$ tags                      <span class="pl-c"># display all tags</span>
<span class="pl-k">~</span>$ tags @backend @frontend   <span class="pl-c"># display only the specified tags</span>
<span class="pl-k">~</span>$ tags --json               <span class="pl-c"># display the raw JSON</span>
<span class="pl-k">~</span>$ tags --expand             <span class="pl-c"># expand home (~)</span>
<span class="pl-k">~</span>$ tags --reverse            <span class="pl-c"># show the reverse mapping</span>
<span class="pl-k">~</span>$ tags --edit               <span class="pl-c"># edit the JSON directly using an editor</span></pre></div>

<p>Disassociate tags and directory paths using <code>untag</code>:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Remove tags @frontend and @backend from ~/frontend and ~/backend respectively</span>
<span class="pl-k">~</span>$ untag <span class="pl-k">~</span>/frontend @frontend <span class="pl-k">~</span>/backend @backend

<span class="pl-c"># Remove tags @vms from directories /vagrant/web and /vagrant/db</span>
<span class="pl-k">~</span>$ untag /vagrant/web /vagrant/db @vms

<span class="pl-c"># Remove the tag @backend completely</span>
<span class="pl-k">~</span>$ untag --all @backend

<span class="pl-c"># Remove the directory path ~/vms/web from all tags</span>
<span class="pl-k">~</span>$ untag --all <span class="pl-k">~</span>/vms/web </pre></div>

<p>You can always use the <code>--help</code> option to find out more!</p>

<h4><a id="user-content-auto-completion" class="anchor" href="#auto-completion" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Auto-completion</h4>

<p>Auto-completion for <strong>zsh</strong> and <strong>bash</strong> are supported. I recommend you to 
enable it so you won't have to type the <code>@</code> symbol all the time.</p>

<p>For bash, place the following lines (or something similar) in your 
<strong>~/.bashrc</strong> (<strong>~/.bash_profile</strong> for OS X):</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">if</span> <span class="pl-c1">command</span> -v register-python-argcomplete <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">then</span>
    <span class="pl-c1">eval</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-s"><span class="pl-pds">$(</span>register-python-argcomplete run<span class="pl-pds">)</span></span><span class="pl-pds">"</span></span>                                                                                                        
    <span class="pl-c1">eval</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-s"><span class="pl-pds">$(</span>register-python-argcomplete tags<span class="pl-pds">)</span></span><span class="pl-pds">"</span></span>
<span class="pl-k">fi</span></pre></div>

<p>For zsh, place the following lines (or something similar) in your <strong>~/.zshrc</strong>: </p>

<div class="highlight highlight-source-shell"><pre>autoload bashcompinit                                                           
bashcompinit 
<span class="pl-k">if</span> <span class="pl-c1">command</span> -v register-python-argcomplete <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">then</span>
    <span class="pl-c1">eval</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-s"><span class="pl-pds">$(</span>register-python-argcomplete run<span class="pl-pds">)</span></span><span class="pl-pds">"</span></span>                                                                                                      
    <span class="pl-c1">eval</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-s"><span class="pl-pds">$(</span>register-python-argcomplete tags<span class="pl-pds">)</span></span><span class="pl-pds">"</span></span>
<span class="pl-k">fi</span></pre></div>

<h4><a id="user-content-notes" class="anchor" href="#notes" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Notes</h4>

<ul>
<li>dtags is not supported on Windows</li>
<li><code>run -p</code> will probably hang on interactive commands that wait on input</li>
<li><code>run -p</code> may use up a lot of memory on commands that produce large output</li>
<li><code>run -p</code> sends <em>sigterm</em> to its child processes when interrupted.</li>
</ul>

<h4><a id="user-content-to-do" class="anchor" href="#to-do" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>To Do</h4>

<ul>
<li>Extension support</li>
<li>Improve the configuration to include things other than just tags</li>
<li>Warn the user when commands known to hang are executed with <code>run -p</code></li>
<li>Add integration tests</li>
</ul>
</article>
  </div></body></html>