<html><body><div><article class="markdown-body entry-content" itemprop="text"><p><a href="https://camo.githubusercontent.com/56d17038a6926e97c3fcaf895fd64212c505f12f/687474703a2f2f692e696d6775722e636f6d2f764c666c704e442e676966" target="_blank"><img src="https://camo.githubusercontent.com/56d17038a6926e97c3fcaf895fd64212c505f12f/687474703a2f2f692e696d6775722e636f6d2f764c666c704e442e676966" alt="Logo" data-canonical-src="http://i.imgur.com/vLflpND.gif"/></a></p>

<h1><a id="user-content-django-zappa----" class="anchor" href="#django-zappa----" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>django-zappa <a href="https://github.com/codingjoe/django-cc"><img src="https://camo.githubusercontent.com/5d372e1581f95c37d04564470b55afba7a276bb0/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f446a616e676f2d43432d6565363664642e737667" alt="Django-CC" data-canonical-src="https://img.shields.io/badge/Django-CC-ee66dd.svg"/></a> <a href="https://travis-ci.org/Miserlou/django-zappa"><img src="https://camo.githubusercontent.com/c0b3d722de5383ad6ee723c27c945e783f74bdd0/68747470733a2f2f7472617669732d63692e6f72672f4d697365726c6f752f646a616e676f2d7a617070612e737667" alt="Build Status" data-canonical-src="https://travis-ci.org/Miserlou/django-zappa.svg"/></a> <a href="https://coveralls.io/github/Miserlou/django-zappa"><img src="https://camo.githubusercontent.com/61193fc27196df9e19cd35d19f23014d40847b4c/68747470733a2f2f696d672e736869656c64732e696f2f636f766572616c6c732f4d697365726c6f752f646a616e676f2d7a617070612e737667" alt="Coverage" data-canonical-src="https://img.shields.io/coveralls/Miserlou/django-zappa.svg"/></a> <a href="https://slackautoinviter.herokuapp.com/"><img src="https://camo.githubusercontent.com/0260a056b9174f80306bc03554d5d7d7edc23d11/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636861742d736c61636b2d6666363962342e737667" alt="Slack" data-canonical-src="https://img.shields.io/badge/chat-slack-ff69b4.svg"/></a></h1>

<h4><a id="user-content-serverless-django-with-aws-lambda--api-gateway" class="anchor" href="#serverless-django-with-aws-lambda--api-gateway" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Serverless Django with AWS Lambda + API Gateway</h4>

<p><strong>django-zappa</strong> makes it super easy to deploy Django applications on AWS Lambda + API Gateway. Think of it as "serverless" web hosting for your Django apps.</p>

<p>That means:</p>

<ul>
<li><strong>No more</strong> tedious web server configuration!</li>
<li><strong>No more</strong> paying for 24/7 server uptime!</li>
<li><strong>No more</strong> worrying about load balancing / scalability!</li>
<li><strong>No more</strong> worrying about keeping servers online!</li>
<li><strong>No more</strong> worrying about security vulernabilities and patches!</li>
</ul>

<p><strong>django-zappa</strong> handles:</p>

<ul>
<li>Packaging projects into Lambda-ready zip files and uploading them to S3</li>
<li>Correctly setting up IAM roles and permissions</li>
<li>Automatically configuring API Gateway routes, methods and integration responses</li>
<li>Turning API Gateway requests into valid WSGI, and returning API Gateway compatible HTTP responses</li>
<li>Deploying your to various stages of readiness (dev, staging, prod)</li>
</ul>

<p><strong>Awesome!</strong></p>

<p><a href="https://zappa.gun.io/">See it in action here!</a> You can also watch a <strong><a href="https://www.youtube.com/watch?v=plUrbPN0xc8&amp;feature=youtu.be">screencast on how to use django-zappa</a></strong>.</p>

<p>This project is for Django-specific integration. If you are intersted in how this works under the hood, you should look at the <strong><a href="https://github.com/Miserlou/Zappa">Zappa core library</a></strong>, which can be used by any WSGI-compatible web framework.</p>

<h2><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h2>

<p><em>Before you begin, make sure you have a valid AWS account and your <a href="https://blogs.aws.amazon.com/security/post/Tx3D6U6WSFGOK2H/A-New-and-Standardized-Way-to-Manage-Credentials-in-the-AWS-SDKs">AWS credentials file</a> is properly installed.</em></p>

<p><strong>django-zappa</strong> can easily be installed through pip, like so:</p>

<pre><code>$ pip install django-zappa
</code></pre>

<p>In your Django settings, you will need to add <code>django_zappa</code> to your installed apps in order to add Zappa commands to your management script.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c1">INSTALLED_APPS</span> <span class="pl-k">=</span> [
    <span class="pl-c1">...</span>
    <span class="pl-s"><span class="pl-pds">'</span>django_zappa<span class="pl-pds">'</span></span>,
]</pre></div>

<p>Zappa also requires special middleware for handling cookies, so in your remote settings file, you must include <em>ZappaMiddleware</em> as the first item in your <em>MIDDLEWARE_CLASSES</em>:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c1">MIDDLEWARE_CLASSES</span> <span class="pl-k">=</span> (
    <span class="pl-s"><span class="pl-pds">'</span>django_zappa.middleware.ZappaMiddleware<span class="pl-pds">'</span></span>,
    <span class="pl-c1">...</span>
)</pre></div>

<p>Finally, define a ZAPPA_SETTINGS setting in your local settings file which maps your named deployment environments to deployed settings and an S3 bucket (which must already be created). These can be named anything you like, but you may wish to have seperate <em>dev</em>, <em>staging</em> and <em>production</em> environments in order to separate your data.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c1">ZAPPA_SETTINGS</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span>production<span class="pl-pds">'</span></span>: {
       <span class="pl-s"><span class="pl-pds">'</span>s3_bucket<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>production-bucket<span class="pl-pds">'</span></span>,
       <span class="pl-s"><span class="pl-pds">'</span>settings_file<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>~/Projects/MyApp/settings/production_settings.py<span class="pl-pds">'</span></span>,
    },
    <span class="pl-s"><span class="pl-pds">'</span>staging<span class="pl-pds">'</span></span>: {
       <span class="pl-s"><span class="pl-pds">'</span>s3_bucket<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>staging-bucket<span class="pl-pds">'</span></span>,
       <span class="pl-s"><span class="pl-pds">'</span>settings_file<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>~/Projects/MyApp/settings/staging_settings.py<span class="pl-pds">'</span></span>,
    },
}</pre></div>

<p>Notice that each environment defines a path to a settings file. This file will be used as your <em>server-side</em> settings file. Specifically, you will want to define <a href="https://gist.github.com/Miserlou/a9cbe22d06cbabc07f21">a new SECRET_KEY</a>, as well as your deployment DATABASES information.</p>

<h4><a id="user-content-a-note-about-databases" class="anchor" href="#a-note-about-databases" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>A Note About Databases</h4>

<p>Since Zappa requirements are called from a bundled version of your local environment and not from pip, and because we have no way to determine what platform our Zappa handler will be executing on, we need to make sure that we only use portable packages. So, instead of using the default MySQL engine, we will instead need to use <em>mysql-python-connector</em>.</p>

<p>That means your app's settings file will need an entry that looks something like this (notice the Engine field):</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c1">DATABASES</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span>default<span class="pl-pds">'</span></span>: {
        <span class="pl-s"><span class="pl-pds">'</span>ENGINE<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>mysql.connector.django<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>NAME<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>your_db_name<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>USER<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>your_db_username<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>PASSWORD<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>your_db_password<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>HOST<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>your_db_name.your_db_id.us-east-1.rds.amazonaws.com<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>PORT<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>3306<span class="pl-pds">'</span></span>,
    }
}</pre></div>

<p>At time of writing, there seems to be a problem with the Python MySQL connector when calling the initial 'migrate'. You can remedy this by using the usual 'django.db.backends.mysql' for your initial migration from your local machine and just using 'mysql.connector.django' in your remote settings.</p>

<p>Currently, Zappa only supports MySQL and Aurora on RDS.</p>

<h2><a id="user-content-basic-usage" class="anchor" href="#basic-usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Basic Usage</h2>

<h4><a id="user-content-initial-deployments" class="anchor" href="#initial-deployments" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Initial Deployments</h4>

<p>Once your settings are configured, you can package and deploy your Django application to an environment called 'production' with a single command:</p>

<pre><code>$ python manage.py deploy production
Deploying..
Your application is now live at: https://7k6anj0k99.execute-api.us-east-1.amazonaws.com/production
</code></pre>

<p>And now your app is <strong>live!</strong> How cool is that?!</p>

<h4><a id="user-content-updates" class="anchor" href="#updates" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Updates</h4>

<p>If your application has already been deployed and you only need to upload new Python code, but not touch the underlying routes, you can simply:</p>

<pre><code>$ python manage.py update production
Updating..
Your application is now live at: https://7k6anj0k99.execute-api.us-east-1.amazonaws.com/production
</code></pre>

<h4><a id="user-content-rollback" class="anchor" href="#rollback" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Rollback</h4>

<p>You can also rollback the deployed code to a previous version by supplying the number of revisions to return to. For instance, to rollback to the version deployed 3 versions ago:</p>

<pre><code>$ python manage.py rollback production 3
</code></pre>

<h4><a id="user-content-management" class="anchor" href="#management" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Management</h4>

<p>If you want to invoke Django management commands on the remote Zappa instance, you simply call the 'invoke' management command locally:</p>

<pre><code>$ python manage.py invoke production check
System check identified no issues (0 silenced).
</code></pre>

<h4><a id="user-content-tailing-logs" class="anchor" href="#tailing-logs" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Tailing Logs</h4>

<p>You can watch the logs of a deployment by calling the 'tail' management command.</p>

<pre><code>$ python manage.py tail production
</code></pre>

<h2><a id="user-content-advanced-usage" class="anchor" href="#advanced-usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Advanced Usage</h2>

<p>There are other settings that you can define in your ZAPPA_SETTINGS
to change Zappa's behavior. Use these at your own risk!</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c1">ZAPPA_SETTINGS</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span>dev<span class="pl-pds">'</span></span>: {
        <span class="pl-s"><span class="pl-pds">'</span>aws_region<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>us-east-1<span class="pl-pds">'</span></span>, <span class="pl-c"># AWS Region (default US East),</span>
        <span class="pl-s"><span class="pl-pds">'</span>domain<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>yourapp.yourdomain.com<span class="pl-pds">'</span></span>, <span class="pl-c"># Required if you're using a domain</span>
        <span class="pl-s"><span class="pl-pds">'</span>http_methods<span class="pl-pds">'</span></span>: [<span class="pl-s"><span class="pl-pds">'</span>GET<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>POST<span class="pl-pds">'</span></span>], <span class="pl-c"># HTTP Methods to route,</span>
        <span class="pl-s"><span class="pl-pds">'</span>integration_response_codes<span class="pl-pds">'</span></span>: [<span class="pl-c1">200</span>, <span class="pl-c1">301</span>, <span class="pl-c1">404</span>, <span class="pl-c1">500</span>], <span class="pl-c"># Integration response status codes to route</span>
        <span class="pl-s"><span class="pl-pds">'</span>method_response_codes<span class="pl-pds">'</span></span>: [<span class="pl-c1">200</span>, <span class="pl-c1">301</span>, <span class="pl-c1">404</span>, <span class="pl-c1">500</span>], <span class="pl-c"># Method response status codes to route</span>
        <span class="pl-s"><span class="pl-pds">'</span>parameter_depth<span class="pl-pds">'</span></span>: <span class="pl-c1">10</span>, <span class="pl-c"># Size of URL depth to route. Defaults to 5.</span>
        <span class="pl-s"><span class="pl-pds">'</span>role_name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">"</span>MyLambdaRole<span class="pl-pds">"</span></span>, <span class="pl-c"># Lambda execution Role</span>
        <span class="pl-s"><span class="pl-pds">'</span>s3_bucket<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>dev-bucket<span class="pl-pds">'</span></span>, <span class="pl-c"># Zappa zip bucket,</span>
        <span class="pl-s"><span class="pl-pds">'</span>settings_file<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>~/Projects/MyApp/settings/dev_settings.py<span class="pl-pds">'</span></span>, <span class="pl-c"># Server side settings file location,</span>
        <span class="pl-s"><span class="pl-pds">'</span>touch<span class="pl-pds">'</span></span>: <span class="pl-c1">False</span>, <span class="pl-c"># GET the production URL upon initial deployment (default True)</span>
        <span class="pl-s"><span class="pl-pds">'</span>memory_size<span class="pl-pds">'</span></span>: <span class="pl-c1">512</span>, <span class="pl-c"># Lambda function memory in MB</span>
        <span class="pl-s"><span class="pl-pds">'</span>vpc_config<span class="pl-pds">'</span></span>: { <span class="pl-c"># Optional VPC configuration for Lambda function</span>
            <span class="pl-s"><span class="pl-pds">'</span>SubnetIds<span class="pl-pds">'</span></span>: [ <span class="pl-s"><span class="pl-pds">'</span>subnet-12345678<span class="pl-pds">'</span></span> ], <span class="pl-c"># Note: not all availability zones support Lambda!</span>
            <span class="pl-s"><span class="pl-pds">'</span>SecurityGroupIds<span class="pl-pds">'</span></span>: [ <span class="pl-s"><span class="pl-pds">'</span>sg-12345678<span class="pl-pds">'</span></span> ]
        }
    }
}</pre></div>

<h3><a id="user-content-lets-encrypt-ssl" class="anchor" href="#lets-encrypt-ssl" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Let's Encrypt SSL</h3>

<p>Zappa has very basic support for Let's Encrypt, but not automatic certificate updating.</p>

<p>There is also a bootstrapping problem here, as the ACME server will need to access your domain in order to verify that you own it, so you will have to create an initial <a href="https://devcenter.heroku.com/articles/ssl-certificate-self">self-signed certificate</a> when you first configure a domain for use with API Gateway.</p>

<p>Then, you can generate your Let's Encrypt challenge information using a local client or a service like <a href="https://gethttpsforfree.com/">GetHTTPSForFree.com</a>.</p>

<p>Next, in your remote settings file, define the following entries (change these values, obviously):</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c1">LETS_ENCRYPT_CHALLENGE_PATH</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>KkI_AMwzmQxlMDtaitt7eZMWEDn0t0Fsl5HjkJSPxyz<span class="pl-pds">"</span></span>
<span class="pl-c1">LETS_ENCRYPT_CHALLENGE_CONTENT</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>KkI_AMwzmQxlMDtaitt7eZMWEDn0t0Fsl5HjkJSPxyz.ABC5hET2fxMsBLCsQLlAVA5MLvYUnX8gEAYaXN0xI4Y<span class="pl-pds">"</span></span></pre></div>

<p>Then, continue with the process and you should receive a valid Let's Encrypt Certificate for your domain. Nice!</p>

<p>(When creating scheduled Lambda events via API is possible, this whole process may be wrapped into the 'deploy' command. Until then, you're kind of on your own.)</p>

<h4><a id="user-content-keeping-the-server-warm" class="anchor" href="#keeping-the-server-warm" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Keeping the server warm</h4>

<p>Lambda has a limitation that functions which aren't called very often take longer to start - sometimes up to ten seconds. However, functions that are called regularly are cached and start quickly, usually in less than 50ms. To ensure that your servers are kept in a cached state, you can <a href="http://stackoverflow.com/a/27382253">manually configure</a> a scheduled task for your Zappa function that'll keep the server cached by calling it every 5 minutes. There is currently no way to configure this through API, so you'll have to set this up manually. When this ability is available via API, django-zappa will configure this automatically. It would be nice to also add support LetsEncrypt through this same mechanism.</p>

<h2><a id="user-content-todo" class="anchor" href="#todo" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>TODO</h2>

<p>This project is very young, so there is still plenty to be done. Contributions are more than welcome! Please file tickets before submitting patches, and submit your patches to the 'dev' branch.</p>

<p>Things that need work right now:</p>

<ul>
<li>Testing!</li>
<li>Feedback!</li>
<li>Real documentation / website!</li>
</ul>




</article>
  </div></body></html>