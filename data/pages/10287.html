<html><body><div><div id="id3">
<span id="usage"/><h2>Usage</h2>
<p>Add <em>muffin-dogpilecache</em> to muffin plugin list:</p>
<pre><span class="kn">import</span> <span class="nn">muffin</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">muffin</span><span class="o">.</span><span class="n">Application</span><span class="p">(</span>
    <span class="s1">'example'</span><span class="p">,</span>

    <span class="n">PLUGINS</span><span class="o">=</span><span class="p">(</span>
        <span class="s1">'muffin_dogpilecache'</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre>
<p>Add your <em>configurations</em> for <tt>dogpile.cache</tt>:</p>
<pre><span class="n">DOGPILECACHE_CONFIGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'cache.local.backend'</span><span class="p">:</span> <span class="s1">'dogpile.cache.dbm'</span><span class="p">,</span>
    <span class="s1">'cache.local.arguments.filename'</span><span class="p">:</span> <span class="s1">'./dbmfile.dbm'</span><span class="p">,</span>
    <span class="s1">'cache.redis.backend'</span><span class="p">:</span> <span class="s1">'dogpile.cache.redis'</span><span class="p">,</span>
    <span class="s1">'cache.redis.arguments.host'</span><span class="p">:</span> <span class="s1">'localhost'</span><span class="p">,</span>
    <span class="s1">'cache.redis.arguments.port'</span><span class="p">:</span> <span class="mi">6379</span><span class="p">,</span>
<span class="p">}</span>
</pre>
<p>Associate each configuration with a <tt>dogpile.cache</tt> <em>region</em>:</p>
<pre><span class="n">DOGPILECACHE_REGIONS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'default'</span><span class="p">:</span> <span class="s1">'cache.local.'</span><span class="p">,</span>
    <span class="s1">'redis'</span><span class="p">:</span> <span class="s1">'cache.redis.'</span><span class="p">,</span>
<span class="p">}</span>
</pre>
<p>Decorate your functions:</p>
<pre><span class="nd">@app.ps.dogpilecache.default.cache_on_arguments</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">my_local_cached_function</span><span class="p">():</span>
    <span class="o">...</span>

<span class="nd">@app.ps.dogpilecache.redis.cache_on_arguments</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">my_redis_cached_function</span><span class="p">():</span>
    <span class="o">...</span>
</pre>
<div id="id4">
<span id="options"/><h3>Options</h3>
<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><em>DOGPILECACHE_CONFIGS</em></td>
<td>Configurations for regions</td>
</tr>
<tr><td><em>DOGPILECACHE_REGIONS</em></td>
<td>Regions related with the configurations prefix</td>
</tr>
<tr><td><em>DOGPILECACHE_TEST</em></td>
<td>If true, set regions with dogpile.cache.null</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></body></html>