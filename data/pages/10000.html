<html><body><div><div class="post-text" itemprop="text">

<p>Boto provides access to most Amazon MWS APIs, but not for GetLowestPricedOffersForSKU. I tried to hack one, but it generates an <code>Invalid MarketplaceId</code> error.</p>

<p>Boto has code for a very similarly structured API -- GetLowestOfferListingsForSKU:</p>

<pre><code>@requires(['MarketplaceId', 'SellerSKUList'])
@structured_lists('SellerSKUList.SellerSKU')
@api_action('Products', 20, 5, 'GetLowestOfferListingsForSKU')
def get_lowest_offer_listings_for_sku(self, request, response, **kw):
    """Returns the lowest price offer listings for a specific
       product by item condition and SellerSKUs.
    """
    return self._post_request(request, kw, response)
</code></pre>

<p>So I modified the <code>@api_action</code> to change the MWS Operation to GetLowestPricedOffersForSKU:</p>

<pre><code>### MINE ###
@requires(['MarketplaceId', 'SellerSKUList'])
@structured_lists('SellerSKUList.SellerSKU')
@api_action('Products', 20, 5, 'GetLowestPricedOffersForSKU')
def get_lowest_priced_offers_for_sku(self, request, response, **kw):
    return self._post_request(request, kw, response)
</code></pre>

<p>I call this method as follows:</p>

<pre><code>conn = connection.MWSConnection(
    aws_access_key_id=ACCESS_KEY,
    aws_secret_access_key=SECRET_KEY,
    Merchant=ACCOUNT_ID
)
response = conn.get_lowest_priced_offers_for_sku(
    MarketplaceId=marketplace_id, SellerSKUList=sku_list, ItemCondition=condition
)
</code></pre>

<p>When I call <code>get_lowest_priced_offers_for_sku</code>, I get an <code>Invalid MarketplaceId</code> error. If the only change I make is to call <code>get_lowest_offer_listings_for_sku</code> -- leaving every variable identical -- the code works find and return a valid response object. This works just fine:</p>

<pre><code>response = conn.get_lowest_offer_listings_for_sku(
    MarketplaceId=marketplace_id, SellerSKUList=sku_list, ItemCondition=condition
)
</code></pre>

<p>What do I need to do to access the Amazon MWS GetLowestPricedOffersForSKU via boto?</p>
    </div>
    </div></body></html>