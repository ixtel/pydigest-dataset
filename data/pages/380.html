<html><body><div><div id="content">
	
<p>Простенькая игра - тест временной памяти, где нужно находить свежедобавленные круги, с каждым уровнем их становится все больше и все труднее найти только что добавленный круг.
</p>
<p>Написал ее за вечер, особо баги не выискивал, так что как говорится "as is".</p>

<p>Для работы необходим <a href="/blog/2013/howto/#python">Python</a> и библиотека <a href="/blog/2013/howto/#pygame">pygame</a></p>
<iframe src="http://www.youtube.com/embed/MQBb-P7D04s" frameborder="0" allowfullscreen="">VIDEO</iframe>

<a href="/static/media/uploads/scripts/mind.py">Исходный код</a><p>:
</p><pre class="brush: python;">
#! /usr/bin/python

import pygame
from pygame.locals import *
import random
import math
import sys


class Game():
	def __init__(self, screenSize, minrad=20, maxrad=60):
		self.balls = []
		self.minrad = minrad
		self.maxrad = maxrad
		self.screenSize = screenSize
		self.shadeX = screenSize[0] * 2
		self.top = 0
		self.last = 0

	def isCrossing(self, b):
		for ball in self.balls:
			if ball.isCrossing(b):
				return True
		return False

	def addBall(self):
		while 1:
			rad = random.randint(self.minrad, self.maxrad)
			x = random.randint(rad, self.screenSize[0] - rad)
			y = random.randint(rad, self.screenSize[1] - rad)
			b = Ball(x, y, rad)
			if not self.isCrossing(b):
				self.balls.append(b)
				break

	def getLast(self):
		return self.balls[len(self.balls) - 1]

	def count(self):
		return len(self.balls)

	def draw(self, screen):
		x, y = screen.get_size()
		for ball in self.balls:
			if ball == self.getLast() and self.shadeX &gt; 0:
				if self.shadeX  0:
			x1 = self.shadeX - x
			pygame.draw.rect(screen, (255, 255, 255), (x1, 0, self.shadeX, y))
			font = pygame.font.SysFont("monospace", 155)
			if (self.count() == 1 and self.last &gt; 0):
				label = font.render("Game Over", 1, (255, 0, 0))
				screen.blit(label, (self.shadeX - x, 100))
				label = font.render("Score: %d" % self.last, 1, (255, 0, 0))
				screen.blit(label, (self.shadeX - x, 200))
				label = font.render("Top: %d" % self.top, 1, (255, 0, 0))
				screen.blit(label, (self.shadeX - x, 300))
			else:
				label = font.render("Level %d" % self.count(), 1, (255, 0, 0))
				screen.blit(label, (self.shadeX - x, 100))
			if (self.shadeX - x &gt; 100 and self.shadeX - x  self.top:
			self.top = self.count()
		self.balls = []
		self.addBall()
		self.shadeX = self.screenSize[0] * 2


class Ball():
	def __init__(self, x, y, radius, color=(255, 255, 255)):
		self.x = x
		self.y = y
		self.radius = radius
		self.color = color

	def isCrossing(self, ball):
		r1 = self.radius
		r2 = ball.radius
		r = math.sqrt((self.x - ball.x) ** 2 + (self.y - ball.y) ** 2)
		if r1 + r2 
</pre></div>


			</div></body></html>