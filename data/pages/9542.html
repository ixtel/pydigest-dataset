<html><body><div><div class="section">
              <h1>abakus-status-checks 0.0.1</h1>

              


<p>Abakus Status Checks</p><p>








Abakus Status Checks</p><p>====================</p><p>.. image:: https://ci.frigg.io/eirsyl/abakus-status-checks.svg</p><p>    :target: https://ci.frigg.io/eirsyl/abakus-status-checks/last/</p><p>    :alt: Build Status</p><p>.. image:: https://ci.frigg.io/eirsyl/abakus-status-checks/coverage.svg</p><p>    :target: https://ci.frigg.io/eirsyl/abakus-status-checks/last/</p><p>    :alt: Coverage Status</p><p>This package is used together with Sensu_. Checks is managed with Puppet and reported to our #devops</p><p>channel on Slack.</p><p>Supported checks:</p><p>- CPU percent</p><p>- Load</p><p>Create a new check</p><p>------------------</p><p>- Create a new file in the abakus_checks/checks directory</p><p>- Import abakus_checks.utils.check.StatusCheck and use this as a base for your check.</p><p>- Give the check a name, decription and options</p><p>::</p><p>    name = 'load'</p><p>    description = 'Trigger errors based on load threshold. Load is divided by core count.'</p><p>    options = [</p><p>        click.option('--warning', default='2,1.5,1', type=str),</p><p>        click.option('--critical', default='3,2,1.5', type=str),</p><p>    ]</p><p>- Implement the run method. Call self.ok, self.warning, self.critical with a message based on the</p><p>result.</p><p>- Register the check in abakus_checks/cli.py. Import the check in the check import block and</p><p>register the check.</p><p>::</p><p>    from .checks import load</p><p>    register_check(load.LoadCheck)</p><p>- You can use the tests.test_case.CLITestCase to test the check. This TestCase has a .invoke</p><p>method you can use to call the check.</p><p>::</p><p>    class LoadCheckTestCase(CLITestCase):</p><p>        @mock.patch('os.getloadavg', return_value=(0, 0, 0))</p><p>        def test_load_ok(self, mock_loadavg):</p><p>            result = self.invoke(['load', '--warning /'3.2.1/''])</p><p>            self.assertEquals(result.exit_code, 0)</p><p>.. _Sensu: https://sensuapp.org/

</p><a name="downloads">Â </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>100</span> downloads in the last week
  </li>
  <li>
    <span>509</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>