<html><body><div><div class="entry-content">
		<p>I have often been frustrated by programming documentation which seems to assume that the person reading the documentation has an idea of what he is doing. Because very often I have absolutely no idea of what I am doing. In this blog post I try to write a guide that is so simple that anyone could easily use it to post a Facebook status update.</p>
<p>If you get stuck while completing this guide, feel free to reach out to me on <a href="http://twitter.com/priiduku" target="_blank">Twitter</a> or in the comments section of this post.</p>
<p><strong>1) Set up a Facebook app</strong></p>
<p>Open <a href="https://developers.facebook.com/" target="_blank">https://developers.facebook.com/</a> and click on <em>Apps</em> in the top menu bar to open the App menu. Then click <em>Add a New App</em>. If you are a first-time user of developers.facebook.com, you have to create a user account, which is a quite a hassle.</p>
<p><a href="https://priiduku.files.wordpress.com/2015/01/create-app.jpg"><img class="alignnone  wp-image-36" src="https://priiduku.files.wordpress.com/2015/01/create-app.jpg?w=794&amp;h=243" alt="create app"/></a></p>
<p>You will then be asked to select the platform for your app. Select Website. Then choose the name for your app and click <em>Create New Facebook App ID</em>.</p>
<p><a href="https://priiduku.files.wordpress.com/2015/01/app-id.png"><img class="alignnone  wp-image-37" src="https://priiduku.files.wordpress.com/2015/01/app-id.png?w=976&amp;h=188" alt="app id"/></a></p>
<p>Next you will be asked about the category of your app. I answered <em>Local</em> to that question.</p>
<p>Then you will be asked to <em>Tell us about your website</em>. There you need to enter something to the field Site URL. There are cases when you need to enter the actual URL of a website that can be associated with the app. However, what we are doing in this tutorial is so simple, that you can enter pretty much any URL. I’m went with <a href="http://www.example.com/" target="_blank">http://www.example.com</a>.</p>
<p>Now you can click <em>Skip Quick Start</em> in the top-right corner of the page.</p>
<p>If you have made it this far, you have created a Facebook App. You can post a Facebook Status Update through an API only when you do it on behalf of a Facebook app, i.e. an app registered at developers.facebook.com.</p>
<p><strong>2) Launch a Python console</strong></p>
<p>You need to make sure that you have Python 3.x installed in your computer. You can check if you have Python 3.x installed by opening your Terminal (I think it’s called cmd if you are on Windows) and typing:</p>
<pre><code>$ python3 -V</code></pre>
<p>If you have Python 3.x installed, your version of Python will be printed. If something like this will be printed, then you probably don’t have Python 3.x:</p>
<pre><code>-bash: python3: command not found</code></pre>
<p>Now you need to have is some kind of environment for writing and running Python code. On my MacBook I open Terminal and type:</p>
<pre><code>$ python3</code></pre>
<p>Then I see something like this:</p>
<pre><code>Python 3.4.1 (v3.4.1:c0e311e010fc, May 18 2014, 00:54:21)

[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin

Type "help", "copyright", "credits" or "license" for more information.

&gt;&gt;&gt;
</code></pre>
<p>However, there are other ways to do this. I’ve heard that the Python console is be accessible from the Start Menu for Windows users.</p>
<p>If you have made it this far, you can start coding the app.</p>
<p><strong>3) Code the app</strong></p>
<p>First let’s assign values to some variables.</p>
<pre><code>&gt;&gt;&gt; app_id = {your App ID in quotation marks}
&gt;&gt;&gt; app_secret = {your App Secret in quotation marks}
</code></pre>
<p>You will find your App ID and App Secret in your App’s dashboard.</p>
<p><img class="alignnone  wp-image-44" src="https://priiduku.files.wordpress.com/2015/01/dashboard.png?w=1208&amp;h=357" alt="dashboard"/></p>
<pre><code>&gt;&gt;&gt; site_url = {your site URL in quotation marks (the same URL you entered when you were asked to <em>Tell us about your website</em>)}</code></pre>
<pre><code>&gt;&gt;&gt; user_id = {your user id in quotation marks (use http://findmyfacebookid.com/ to find your Facebook user ID)}</code></pre>
<p>Now it’s time to ask for your Facebook user’s permission to allow a computer program to post on her behalf. User access token is used to link your usage of API with your app, which is required because Facebook would like to know who is doing what with the API.</p>
<pre><code>&gt;&gt;&gt; r = 'https://www.facebook.com/dialog/oauth?client_id=%s&amp;redirect_uri=%s&amp;scope=publish_actions' % (app_id, site_url)
</code>&gt;&gt;&gt; print(r)</pre>
<p>This will print a URL into the console. Copy it to the address bar of your browser and hit enter. If you are logged in to Facebook, you will see something like this:</p>
<p><img class="alignnone size-medium wp-image-49" src="https://priiduku.files.wordpress.com/2015/01/permission.png?w=600&amp;h=512" alt="permission"/></p>
<p>You should click <em>Okay</em>. Then you will be told that the app wishes to post to Facebook for you. You should choose, who do you want to share these posts with (I chose <em>Only Me</em>) and then click <em>Okay</em>.</p>
<pre>'https://www.facebook.com/dialog/oauth?client_id=%s&amp;redirect_uri=%s&amp;scope=publish_actions' % (app_id, site_url)</pre>
<p>is the same as:</p>
<pre>'https://www.facebook.com/dialog/oauth?client_id=' + app_id +'&amp;redirect_uri=' + site_url + '&amp;scope=publish_actions'</pre>
<p>Both syntaxes work, but the former is recommended, because it is easier to read.</p>
<p>This request includes 3 parameters: client_id, redirect_uri, and scope. Essentially it requesting permission for a specific app with a specific redirect URL to publish status updates.</p>
<p>That request can only be made from the client-side (i.e your browser), which mean that it is not possible to make that request with your Python program. Why so? There are apps that make Facebook posts for many people. How do you get their permissions for the app to post status updates under their names? It wouldn’t make much sense to allow owners of apps to spam users of Facebook with requests to grant an app a permission to post on their behalf. The solution implemented by Facebook is that creator of an app can easily add a Facebook login button to her website. When the user clicks on the button, a client-side request will be triggered to ask the user if she is okay with the app doing things on her behalf.</p>
<p>However, since this specific app is to be used by only one person (you), we don’t have to create a web page with a Facebook login button and we can instead just copy the request URL to the address bar of your browser. Since Graph API’s documentation does not reveal the request’s URL, I had to Google it. Found it in <a href="http://kellishaver.tumblr.com/post/17382329807/managing-facebook-fan-page-events-with-the-open" target="_blank">Kelli Shaver’s blog post</a>.</p>
<p>We will now fetch the access token that will be used in requests made by your app.</p>
<pre><code>&gt;&gt;&gt; import requests</code></pre>
<p class="p1">The <a href="http://docs.python-requests.org/en/latest/" target="_blank">requests</a> library is the standard for HTTP requests with Python. If you don’t have it, install it. The standard tool for installing packages with Python is <a href="https://pypi.python.org/pypi/pip" target="_blank">pip</a>.</p>
<p class="p1">The <i>import </i>statement will take the requests library (which has been installed on your computer already) into use in the script which you are currently writing. Library is a piece of code that has been written by someone else so that you wouldn’t have to bother with writing it. The requests library hides the complexity of making an HTTP request and permits the user to make requests through a very simple interface.</p>
<pre><code>&gt;&gt;&gt; r = 'https://graph.facebook.com/oauth/access_token?client_id=%s&amp;client_secret=%s&amp;grant_type=client_credentials' %     (app_id, app_secret)

&gt;&gt;&gt; resp = requests.post(r)</code></pre>
<p class="p1"><em>requests.post(r)</em> sent HTTP-request <em>r </em>as a POST-request. You can read about request methods <a href="http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods">here</a>. The <em>post() </em>method returns a response object. One of the attributes of the response object is text. If you type:</p>
<pre><span>&gt;&gt;&gt; resp.text</span></pre>
<p class="p1">The server response will be printed to the console. Hopefully you will see:</p>
<pre>'access_token={your access token}'</pre>
<p class="p1">Now we will assign the value of your access token to a variable for the ease of use.</p>
<pre><code>&gt;&gt;&gt; access_token = resp.text.split('=')[1]</code></pre>
<p class="p1">With <em>split(‘=’)</em> you split resp.text at the ‘=’ resulting a list of [‘access_token’, {your access_token}], where ‘access_token’ has the index number of 0 and {access_token} has the index number of 1. With [1] you pick the list element with index number 1 to be the value of access_token. Therefore, access_token = <em>{your access token}</em>.</p>
<p class="p1">Now that you have created an app, requested a permission for the app to post on your behalf, granted the permission and fetched your access token, you are set to use your app to make a status update.</p>
<pre><code>&gt;&gt;&gt; message = 'I followed A Novice Guide for Posting a Facebook Status Update https://priiduku.wordpress.com/2015/01/13/a-novice-guide-for-posting-a-status-update/ to write a computer program to post this message on my timeline.'

&gt;&gt;&gt; r = 'https://graph.facebook.com/v2.2/%s/feed?message=%s&amp;access_token=%s' % (user_id, message, access_token)

&gt;&gt;&gt; resp = requests.post(r)</code></pre>
<p>In essence, you have made an HTTP-request to post (1) to user’s timeline (2) a message (3) using an access token which refers to your app. As a result you should have posted a status update on your Facebook timeline with your app.</p>
<p><a href="https://priiduku.files.wordpress.com/2015/01/posted.png"><img class="alignnone  wp-image-102" src="https://priiduku.files.wordpress.com/2015/01/posted.png?w=1208&amp;h=453" alt="posted"/></a></p>
<p>Of course, this is all very primitive and there is much more that one could do using the <a href="https://developers.facebook.com/docs/graph-api" target="_blank">Graph API</a>. I think, that with the Graph API, you can do anything that you can do while logged in as a Facebook user. However, this is the point, where this tutorial ends, because I am convinced that you now know quite a bit about the API of Facebook and that there are many great resources in the Internet for people with your level of knowledge and understanding.</p>
		<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" id="like-post-wrapper-82240243-12-56d5a04518acd" data-src="//widgets.wp.com/likes/#blog_id=82240243&amp;post_id=12&amp;origin=priiduku.wordpress.com&amp;obj_id=82240243-12-56d5a04518acd" data-name="like-post-frame-82240243-12-56d5a04518acd"><h3 class="sd-title">Like this:</h3><p class="likes-widget-placeholder post-likes-widget-placeholder"><span class="button"><span>Like</span></span> <span class="loading">Loading...</span></p><span class="sd-text-color"/><a class="sd-link-color"/></div></div>	</div>
	
	</div></body></html>