<html><body><div><div class="entry-content">

                

                <p>PEP 484 добавил в Python расширенные возможности опциональной типизации. 
Польза от этого функционала большая - возможность создать статический анализатор Python программ, а значит еще до запуска узнать об многих ошибках.</p>
<p>Появился модуль typing, который в 3.5 есть по умолчанию, а начиная с 3.2 можно установить с PyPi
Но что делать с кодом на 2.7? Хочется же больше ошибок вылавливать. 
Здесь на пользу приходят python stubs - <code>.pyi</code> файлы. </p>
<p>Пример такого файла:</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">addTest</span><span class="p">(</span><span class="n">test</span><span class="p">:</span> <span class="n">Testable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span> <span class="o">...</span>
<span class="k">def</span> <span class="nf">addTests</span><span class="p">(</span><span class="n">tests</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Testable</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span> <span class="o">...</span>
<span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">result</span><span class="p">:</span> <span class="n">TestResult</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span> <span class="o">...</span>
<span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span> <span class="o">...</span>
<span class="k">def</span> <span class="nf">countTestCases</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> <span class="o">...</span>
</pre></div>


<p>Многоточия - это часть формата. 
В файле <code>.pyi</code> декларируются функции с типами аргументов и возвращаемых значений, а тело уже будет их обычных <code>.py</code> файлов</p>
<p>Смысл: пользователь размечает часть своего кода типами, а автоматизированные средства будут проверять и оповещать о возможных ошибках. 
Но есть и недостатки - на данный момент мало инструментов, которые умеют такую проверку делать.</p>
<p>Ссылки для изучения:</p>

            </div>
            
    </div></body></html>