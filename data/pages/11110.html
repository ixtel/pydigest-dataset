<html><body><div><div class="post-text" itemprop="text">

<p>I am using the openmdao 0.13 python module in a project. This module is only available as a virtualenv. When I activate the virtual env, it appears to only activate on one node. What could account for this strange behavior? Why are processors on non-primary nodes unable to load the virtualenv?</p>

<pre><code>$ mpirun --version
mpirun (Open MPI) 1.7.3
$ qsub --version
Version: 5.1.1.2
$ qsub -V -I -l nodes=2:ppn=24
$ cd openmdao-0.10.3.2/
$ . bin/activate
$ mpirun -np 24 python -c "import openmdao"
# no errors
$ mpirun -np 27 python -c "import openmdao"
Traceback (most recent call last):
  File "&lt;string&gt;", line 1, in &lt;module&gt;
ImportError: No module named openmdao
Traceback (most recent call last):
  File "&lt;string&gt;", line 1, in &lt;module&gt;
ImportError: No module named openmdao
Traceback (most recent call last):
  File "&lt;string&gt;", line 1, in &lt;module&gt;
ImportError: No module named openmdao
</code></pre>

<p>It looks like all of my processors are referencing python correctly</p>

<pre><code>$ mpirun -np 27 which python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
/home/jquick/here_it_is/openmdao-0.10.3.2/bin/python
</code></pre>

<p>I don't understand what could possibly be causing this import error. What could bin/activate be affecting on my primary but node but not on secondary nodes?</p>
    </div>
    </div></body></html>