<html><body><div><div class="section" id="serpy-ridiculously-fast-object-serialization">
<h1>serpy: ridiculously fast object serialization<a class="headerlink" href="#serpy-ridiculously-fast-object-serialization" title="Permalink to this headline">¶</a></h1>

<p><strong>serpy</strong> is a super simple object serialization framework built for speed.
<strong>serpy</strong> serializes complex datatypes (Django Models, custom classes, ...) to
simple native types (dicts, lists, strings, ...). The native types can easily
be converted to JSON or any other format needed.</p>
<p>The goal of <strong>serpy</strong> is to be able to do this <em>simply</em>, <em>reliably</em>, and
<em>quickly</em>. Since serializers are class based, they can be combined, extended
and customized with very little code duplication. Compared to other popular
Python serialization frameworks like <a class="reference external" href="http://marshmallow.readthedocs.org">marshmallow</a> or <a class="reference external" href="http://www.django-rest-framework.org/api-guide/serializers/">Django Rest Framework Serializers</a> <strong>serpy</strong> is at
least an <a class="reference external" href="http://serpy.readthedocs.org/en/latest/performance.html">order of magnitude</a> faster.</p>



<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="simple-example">
<h3>Simple Example<a class="headerlink" href="#simple-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">serpy</span>

<span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">"""The object to be serialized."""</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s">'hello'</span>
    <span class="n">z</span> <span class="o">=</span> <span class="mf">9.5</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>


<span class="k">class</span> <span class="nc">FooSerializer</span><span class="p">(</span><span class="n">serpy</span><span class="o">.</span><span class="n">Serializer</span><span class="p">):</span>
    <span class="sd">"""The serializer schema definition."""</span>
    <span class="c"># Use a Field subclass like IntField if you need more validation.</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">serpy</span><span class="o">.</span><span class="n">IntField</span><span class="p">()</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">serpy</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">serpy</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">FooSerializer</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="c"># {'x': 1, 'y': 'hello', 'z': 9.5}</span>

<span class="n">fs</span> <span class="o">=</span> <span class="p">[</span><span class="n">Foo</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">FooSerializer</span><span class="p">(</span><span class="n">fs</span><span class="p">,</span> <span class="n">many</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="c"># [{'x': 0, 'y': 'hello', 'z': 9.5}, {'x': 1, 'y': 'hello', 'z': 9.5}, ...]</span>
</pre></div>
</div>
</div>
<div class="section" id="nested-example">
<h3>Nested Example<a class="headerlink" href="#nested-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">serpy</span>

<span class="k">class</span> <span class="nc">Nestee</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">"""An object nested inside another object."""</span>
    <span class="n">n</span> <span class="o">=</span> <span class="s">'hi'</span>


<span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">nested</span> <span class="o">=</span> <span class="n">Nestee</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">NesteeSerializer</span><span class="p">(</span><span class="n">serpy</span><span class="o">.</span><span class="n">Serializer</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">serpy</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">FooSerializer</span><span class="p">(</span><span class="n">serpy</span><span class="o">.</span><span class="n">Serializer</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">serpy</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="c"># Use another serializer as a field.</span>
    <span class="n">nested</span> <span class="o">=</span> <span class="n">NesteeSerializer</span><span class="p">()</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="n">FooSerializer</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="c"># {'x': 1, 'nested': {'n': 'hi'}}</span>
</pre></div>
</div>
</div>
<div class="section" id="complex-example">
<h3>Complex Example<a class="headerlink" href="#complex-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">serpy</span>

<span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">z</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">super_long_thing</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">5</span>


<span class="k">class</span> <span class="nc">FooSerializer</span><span class="p">(</span><span class="n">serpy</span><span class="o">.</span><span class="n">Serializer</span><span class="p">):</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">serpy</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">attr</span><span class="o">=</span><span class="s">'super_long_thing'</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">serpy</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">call</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">plus</span> <span class="o">=</span> <span class="n">serpy</span><span class="o">.</span><span class="n">MethodField</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_plus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">obj</span><span class="o">.</span><span class="n">z</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="n">FooSerializer</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="c"># {'w': 10, 'x': 5, 'plus': 3}</span>
</pre></div>
</div>
</div>
<div class="section" id="inheritance-example">
<h3>Inheritance Example<a class="headerlink" href="#inheritance-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">serpy</span>

<span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>


<span class="k">class</span> <span class="nc">ASerializer</span><span class="p">(</span><span class="n">serpy</span><span class="o">.</span><span class="n">Serializer</span><span class="p">):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">serpy</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">ABSerializer</span><span class="p">(</span><span class="n">ASerializer</span><span class="p">):</span>
    <span class="sd">"""ABSerializer inherits the 'a' field from ASerializer.</span>

<span class="sd">    This also works with multiple inheritance and mixins.</span>
<span class="sd">    """</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">serpy</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="n">ASerializer</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="c"># {'a': 1}</span>
<span class="n">ABSerializer</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="c"># {'a': 1, 'b': 2}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>serpy is free software distributed under the terms of the MIT license. See the
<a class="reference external" href="https://github.com/clarkduvall/serpy/blob/master/LICENSE">LICENSE</a> file.</p>
<p>Contents:</p>

</div>

</div>


           </div></body></html>