<html><body><div><div class="section" id="tint-friendy-color-normalization">
<h1>tint – friendy color normalization<a class="headerlink" href="#tint-friendy-color-normalization" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Install <cite>tint</cite> with</p>

<p class="last">or clone from <a class="reference external" href="https://github.com/solute/python-tint/">github</a>.</p>
</div>

<span class="target" id="module-tint"/><p>Match human readable color names to sRBG values (and vice versa).</p>
<p><cite>tint</cite> was created to solve the problem of normalizing color strings of
various languages and systems to a well defined set of color names. In order
to do that, <cite>tint</cite> establishes a registry for color names and corresponding
sRGB values. <cite>tint</cite> ships with default color definitions for english (“en”),
which is mostly constructed from <a class="reference external" href="http://en.wikipedia.org/wiki/List_of_colors_(compact)">wikipedia</a> plus the webcolors definitions.</p>
<p>You may query the aforementioned registry for a sRGB hex value by passing it a
color name – if there’s no exact match, a fuzzy match is applied.  Together
with the hex value, a matching score is returned: 100 is best (exact match),
lower means worse.</p>
<p>Also, you may want to find the best name for a given sRGB value. Again, <cite>tint</cite>
tries to match exactly, and failing that, it will find a color name with the
minimal perceptual difference according to CIEDE2000. The color name and the
color distance are returned: A distance of 0 is best, higher means worse.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tint_registry</span> <span class="o">=</span> <span class="n">tint</span><span class="o">.</span><span class="n">TintRegistry</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tint_registry</span><span class="o">.</span><span class="n">match_name</span><span class="p">(</span><span class="s">"a darker greenish color"</span><span class="p">)</span>
<span class="go">MatchResult(hex_code=u'013220', score=66)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tint_registry</span><span class="o">.</span><span class="n">find_nearest</span><span class="p">(</span><span class="s">"013220"</span><span class="p">,</span> <span class="s">"en"</span><span class="p">)</span>
<span class="go">FindResult(color_name=u'dark green', distance=0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tint_registry</span><span class="o">.</span><span class="n">add_colors</span><span class="p">(</span><span class="s">"limited"</span><span class="p">,</span> <span class="p">[(</span><span class="s">"cyan"</span><span class="p">,</span> <span class="s">"00ffff"</span><span class="p">),</span> <span class="p">(</span><span class="s">"yellow"</span><span class="p">,</span> <span class="s">"ffff00"</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tint_registry</span><span class="o">.</span><span class="n">find_nearest</span><span class="p">(</span><span class="s">"013220"</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="s">"limited"</span><span class="p">)</span>
<span class="go">FindResult(color_name=u'cyan', distance=72.54986912349503)</span>
</pre></div>
</div>
<dl class="class">
<dt id="tint.TintRegistry">
<em class="property">class </em><tt class="descclassname">tint.</tt><tt class="descname">TintRegistry</tt><big>(</big><em>load_defaults=True</em><big>)</big><a class="headerlink" href="#tint.TintRegistry" title="Permalink to this definition">¶</a></dt>
<dd><p>A registry for color names, categorized by color systems.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>load_defaults</strong> (<em>bool, optional</em>) – Load default color systems provided
by <cite>tint</cite>. Currently, only “en” is provided by default. Defaults to True.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="tint.TintRegistry.add_colors">
<tt class="descname">add_colors</tt><big>(</big><em>system</em>, <em>colors</em><big>)</big><a class="headerlink" href="#tint.TintRegistry.add_colors" title="Permalink to this definition">¶</a></dt>
<dd><p>Add color definition to a given color system.</p>
<p>You may add to already existing color system. Previously existing color
definitions of the same (normalized) name will be overwritten,
regardless of the color system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>system</strong> (<em>string</em>) – The color system the colors should be added to
(e.g. <tt class="docutils literal"><span class="pre">"en"</span></tt>).</li>
<li><strong>color_definitions</strong> (<em>iterable of tuples</em>) – Color name / sRGB value pairs
(e.g.  <tt class="docutils literal"><span class="pre">[("white",</span> <span class="pre">"ffffff"),</span> <span class="pre">("red",</span> <span class="pre">"ff0000")]</span></tt>)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">color_definitions</span> <span class="o">=</span> <span class="p">{</span><span class="s">"greenish"</span><span class="p">:</span> <span class="s">"336633"</span><span class="p">,</span> <span class="s">"blueish"</span><span class="p">:</span> <span class="s">"334466"</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tint_registry</span> <span class="o">=</span> <span class="n">TintRegistry</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tint_registry</span><span class="o">.</span><span class="n">add_colors</span><span class="p">(</span><span class="s">"vague"</span><span class="p">,</span> <span class="n">color_definitions</span><span class="o">.</span><span class="n">iteritems</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="tint.TintRegistry.add_colors_from_file">
<tt class="descname">add_colors_from_file</tt><big>(</big><em>system</em>, <em>f_or_filename</em><big>)</big><a class="headerlink" href="#tint.TintRegistry.add_colors_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Add color definition to a given color system.</p>
<p>You may pass either a file-like object or a filename string pointing
to a color definition csv file. Each line in that input file should
look like this:</p>

<p>i.e. a color name and a sRGB hex code, separated by by comma (<tt class="docutils literal"><span class="pre">,</span></tt>). Note that
this is standard excel-style csv format without headers.</p>
<p>You may add to already existing color system. Previously existing color
definitions of the same (normalized) name will be overwritten,
regardless of the color system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>system</strong> (<em>string</em>) – The color system the colors should be added to
(e.g. <tt class="docutils literal"><span class="pre">"en"</span></tt>).</li>
<li><strong>color_definitions</strong> (<em>filename, or file-like object</em>) – Either
a filename, or a file-like object pointing to a color definition
csv file (excel style).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tint.TintRegistry.find_nearest">
<tt class="descname">find_nearest</tt><big>(</big><em>hex_code</em>, <em>system</em>, <em>filter_set=None</em><big>)</big><a class="headerlink" href="#tint.TintRegistry.find_nearest" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a color name that’s most similar to a given sRGB hex code.</p>
<p>In normalization terms, this method implements “normalize an arbitrary sRGB value
to a well-defined color name”.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>system</strong> (<em>string</em>) – The color system. Currently, <cite>“en”`</cite> is the only default
system.</li>
<li><strong>filter_set</strong> (<em>iterable of string, optional</em>) – Limits the output choices
to fewer color names. The names (e.g. <tt class="docutils literal"><span class="pre">["black",</span> <span class="pre">"white"]</span></tt>) must be
present in the given system.
If omitted, all color names of the system are considered. Defaults to None.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A named tuple with the members <cite>color_name</cite> and <cite>distance</cite>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt> –
If argument <cite>system</cite> is not a registered color system.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">tint_registry</span> <span class="o">=</span> <span class="n">TintRegistry</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tint_registry</span><span class="o">.</span><span class="n">find_nearest</span><span class="p">(</span><span class="s">"54e6e4"</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="s">"en"</span><span class="p">)</span>
<span class="go">FindResult(color_name=u'bright turquoise', distance=3.730288645055483)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tint_registry</span><span class="o">.</span><span class="n">find_nearest</span><span class="p">(</span><span class="s">"54e6e4"</span><span class="p">,</span> <span class="s">"en"</span><span class="p">,</span> <span class="n">filter_set</span><span class="o">=</span><span class="p">(</span><span class="s">"white"</span><span class="p">,</span> <span class="s">"black"</span><span class="p">))</span>
<span class="go">FindResult(color_name=u'white', distance=25.709952192116894)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="tint.TintRegistry.match_name">
<tt class="descname">match_name</tt><big>(</big><em>in_string</em>, <em>fuzzy=False</em><big>)</big><a class="headerlink" href="#tint.TintRegistry.match_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Match a color to a sRGB value.</p>
<p>The matching will be based purely on the input string and the color names in the
registry. If there’s no direct hit, a fuzzy matching algorithm is applied. This method
will never fail to return a sRGB value, but depending on the score, it might or might
not be a sensible result – as a rule of thumb, any score less then 90 indicates that
there’s a lot of guessing going on. It’s the callers responsibility to judge if the return
value should be trusted.</p>
<p>In normalization terms, this method implements “normalize an arbitrary color name
to a sRGB value”.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>in_string</strong> (<em>string</em>) – The input string containing something resembling
a color name.</li>
<li><strong>fuzzy</strong> (<em>bool, optional</em>) – Try fuzzy matching if no exact match was found.
Defaults to <tt class="docutils literal"><span class="pre">False</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A named tuple with the members <cite>hex_code</cite> and <cite>score</cite>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt> –
If <tt class="docutils literal"><span class="pre">fuzzy</span></tt> is <tt class="docutils literal"><span class="pre">False</span></tt> and no match is found</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">tint_registry</span> <span class="o">=</span> <span class="n">TintRegistry</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tint_registry</span><span class="o">.</span><span class="n">match_name</span><span class="p">(</span><span class="s">"rather white"</span><span class="p">,</span> <span class="n">fuzzy</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">MatchResult(hex_code=u'ffffff', score=95)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div></body></html>