<html><body><div><div class="entry-content">
                
                <p>Let me take you on a journey. It's the journey everyone goes through when they first hear about pylint.</p>
<h4>Step 1: Install it</h4>



<h4>Step 2: Run it</h4>
<div class="highlight"><pre><span class="nv">$ </span>pylint
No config file found, using default configuration
Usage:  pylint <span class="o">[</span>options<span class="o">]</span> module_or_package
... reams of <span class="nb">help </span>output ...
</pre></div>


<h4>Step 3: It probably needs a path then</h4>
<div class="highlight"><pre><span class="nv">$ </span>pylint .
No config file found, using default configuration
************* Module my_project
F:  1, 0: error <span class="k">while</span> code parsing: Unable to load file <span class="s1">'__init__.py'</span> <span class="o">([</span>Errno 2<span class="o">]</span> No such file or directory: <span class="s1">'__init__.py'</span><span class="o">)</span> <span class="o">(</span>parse-error<span class="o">)</span>
</pre></div>


<h4>Step 4: Ok, so it needs a package. But my project has many packages... ok then.</h4>
<div class="highlight"><pre><span class="nv">$ </span>pylint my_project/package1 my_project/package2 my_project/package3
</pre></div>


<p>At this point, Pylint runs, and you sit there aghast as 1,000,000 errors stream past you faster than you can read them. From what you spot, you see that a lot are 'line too long' errors, because pylint uses 80 characters by default. You also see a lot of 'not documented' warnings, because let's be honest, who needs to document every function?</p>
<p>It's quite easy to give up at this point, as it seems like the output will be useless to you.</p>
<h4>Step 5:</h4>



<h2>Stop! Pylint is Great</h2>
<p>Pylint is a fantastic tool which has been going for centuries and has several dedicated maintainers who are also really lovely people - at EuroPython 2014, I was able to meet them at the 'static analysis dinner'. The <a href="http://www.logilab.org/blog/6056/blogentries/sthenault?vtitle=Blog%20entries%20by%20Sylvain%20Thenault%20[31]">logilab blog</a> shows just how much work goes on.</p>
<p>To get the best out of Pylint, however, you do need to spend the time tweaking it. It's like a new puppy, very eager to impress by showing you all the things it can do, but what you actually want is usually a subset of that.</p>
<p>This is where <a href="https://github.com/landscapeio/prospector">prospector</a> comes in. It is the command-line spinoff from <a href="https://landscape.io">Landscape</a>, designed to give a simple, quick way to get useful output from static analysis tools.</p>
<h4>Step 1:</h4>
<div class="highlight"><pre><span class="nv">$ </span>pip install prospector
<span class="nv">$ </span>prospector
... lots of useful stuff ...
</pre></div>


<h2>Sensible Defaults</h2>
<p>Chances are, you will consider most of the warnings that come from tools like <code>pylint</code> or <code>pep8</code> or <code>pyflakes</code> to be a bit picky. There are warnings about line length, there are warnings about whitespace on empty lines, there are warnings about how much space there is between methods on your class. What you probably want, however, is a list of <em>actual problems</em> in your code. </p>
<p>For that reason, Prospector has a series of settings and default behaviours to supress the more picky warnings and only provide things that are important. This is the 'strictness' of Prospector and can be configured:</p>
<div class="highlight"><pre><span class="nv">$ </span>prospector --strictness high
</pre></div>


<p>A strictness of <code>veryhigh</code> is basically all output of all tools, but the defaut of <code>medium</code> is designed to hide the pernickety in favour of the important. Ideally, the real errors are not lost in a swathe of stylistic errors. </p>
<h2>Changing Behaviour Based on Dependencies</h2>
<p>If you run pylint on a Django project with its default settings, it will warn you:</p>
<div class="highlight"><pre><span class="n">Class</span> <span class="s">'MyModel'</span> <span class="n">has</span> <span class="n">no</span> <span class="s">'objects'</span> <span class="n">member</span>
</pre></div>


<p>It will also inspect all of the <code>south</code> migrations that you have, and various other things that are... unwelcome. Django creates lots of things at runtime via meta-programming, so it's hard for static analysis tools to get a complete picture of what's actually going to happen without running the code. </p>
<p>For Django specifically, I wrote <a href="https://github.com/landscapeio/pylint-django">a pylint plugin called pylint-django</a> to aid it in understanding Django code. There's <a href="https://github.com/landscapeio/pylint-celery">also one for celery</a> although it is very basic at the moment. I hope to add more plugins for more libraries and frameworks in the future.</p>
<p>Prospector will do its best to <a href="https://github.com/landscapeio/requirements-detector">detect what your project uses as libraries</a> and will automatically adjust the output of the tools it runs depending on what you use. For example, it will detect Django and include the <code>pylint-django</code> plugin. This will <a href="http://blog.landscape.io/using-pylint-on-django-projects-with-pylint-django.html">give you many useful messages that are specific to Django code</a>.</p>
<h2>Composable configuration</h2>
<p>Should you wish to delve further into the configuration of prospector, you can use profiles. These are YAML files with directives about which tools and messages to disable or enable. </p>
<p>If you have a project using django, you may have configuration to reflect that. If all you can have is one single configuration file, then you can't reuse configuration in a project which uses django and also celery. Profiles in prospector are able to inherit from each other - so you could create one specific to how you want to use django, and one specific to how you want to use celery, and if you use both in the same project, simply inherit from both. </p>
<p>When I first described Landscape to a friend of mine, he liked the idea of creating your own 'coding style guides' and letting people inspect and share the guides of others. Profiles were designed with this in mind; it may be a space-fairy-unicorn kind of idea but I'd like to see that in the future.</p>
<h2>Unified Output</h2>
<p>All tools have their own way of outputting messages, their own way of formatting their message, and even their own idea of what exit codes to use if messages are found. This can make it tricky to parse the output of more than one tool. With Prospector, since all tools are sub-commands, and the output is handled and reorganised into a consistent whole. There are <a href="http://prospector.readthedocs.org/en/latest/usage.html#output-format">several output formats available</a>, including human readable and machine readable.</p>
<p>As Prospector runs six different tools by default, there is naturally some overlap. The same error can be pointed out by several of the tools a the same time. Prospector therefore has the 'blender', which merges messages together when they are warning about the same thing, so that you only get a single message.</p>
<h2>Drop-in Replacement</h2>
<p>One of the benefits of pylint is that there are several plugins and tools designed to use it already out there. For example, there's a Jenkins plugin. By using the <code>pylint</code> output format, it should be possible to slot prospector in where pylint once was.</p>
<div class="highlight"><pre><span class="nv">$ </span>prospector --output-format pylint
</pre></div>


<p>This feature is somewhat untested in the wild, so if you find that it doesn't work in your case, please <a href="https://github.com/landscapeio/prospector/issues">add an issue</a> and I'll see what I can do to help!</p>
<h2>Static Analysis For Humans</h2>
<p>The whole purpose of this project is to get people using static analysis. I think they're an excellent resource for projects and can help you find problems in your code and even learn new things. I even gave a <a href="https://www.youtube.com/watch?v=ILBsJXRQ008">rather rambly talk about it at EuroPython</a>, because I honestly believe that software gets better by using automatic checks. At the very least, it won't get worse.</p>
<p>I hope that prospector becomes the 'gateway drug' for static analysis. It's likely that if you want complete control over the analysis of your project, prospector won't be quite configurable enough. However, if you want that level of control, you're probably already using static analysis tools. The goal of prospector therefore is to get people kickstarted, to give projects a sensible base to start from, and the hope is that they will get a lot of benefit, and perhaps even branch out into configuring the tools directly.</p>
<p>Prospector is open source and <a href="https://github.com/landscapeio/prospector">available on GitHub</a>, and all contributions are welcome. And, if you would like to have prospector run continuously against your code, you can try out <a href="https://landscape.io/start">Landscape.io</a>!</p>
            </div>
            


</div></body></html>