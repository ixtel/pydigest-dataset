<html><body><div><div id="records-sql-for-humans">
<h2>Records: SQL for Humans‚Ñ¢</h2>
<p><strong>Records is a very simple, but powerful, library for making raw SQL queries
to most relational databases.</strong></p>
<p>Just write SQL. No bells, no whistles. This common task can be
surprisingly difficult with the standard tools available.
This library strives to make this workflow as simple as possible,
while providing an elegant interface to work with your query results.</p>
<p><em>Database support includes Postgres, MySQL, SQLite, Oracle, and MS-SQL (drivers not included).</em></p>
<div id="the-basics">
<h3>‚ò§ The Basics</h3>
<p>We know how to write SQL, so let‚Äôs send some to our database:</p>
<pre><span class="kn">import</span> <span class="nn">records</span>

<span class="n">db</span> <span class="o">=</span> <span class="n">records</span><span class="o">.</span><span class="n">Database</span><span class="p">(</span><span class="s1">'postgres://...'</span><span class="p">)</span>
<span class="n">rows</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">'select * from active_users'</span><span class="p">)</span>    <span class="c1"># or db.query_file('sqls/active-users.sql')</span>
</pre>
<p>Grab one row at a time:</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="n">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="o">&lt;</span><span class="n">Record</span> <span class="p">{</span><span class="s2">"username"</span><span class="p">:</span> <span class="s2">"model-t"</span><span class="p">,</span> <span class="s2">"active"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Henry Ford"</span><span class="p">,</span> <span class="s2">"user_email"</span><span class="p">:</span> <span class="s2">"model-t@gmail.com"</span><span class="p">,</span> <span class="s2">"timezone"</span><span class="p">:</span> <span class="s2">"2016-02-06 22:28:23.894202"</span><span class="p">}</span><span class="o">&gt;</span>
</pre>
<p>Or iterate over them:</p>
<pre><span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
    <span class="n">spam_user</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">user_email</span><span class="p">)</span>
</pre>
<p>Values can be accessed many ways: <tt>row.user_email</tt>, <tt><span class="pre">row['user_email']</span></tt>, or <tt>row[3]</tt>.</p>
<p>Fields with non-alphanumeric characters (like spaces) are also fully supported.</p>
<p>Or store a copy of your record collection for later reference:</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="n">rows</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="p">[</span><span class="o">&lt;</span><span class="n">Record</span> <span class="p">{</span><span class="s2">"username"</span><span class="p">:</span> <span class="o">...</span><span class="p">}</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Record</span> <span class="p">{</span><span class="s2">"username"</span><span class="p">:</span> <span class="o">...</span><span class="p">}</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Record</span> <span class="p">{</span><span class="s2">"username"</span><span class="p">:</span> <span class="o">...</span><span class="p">}</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
</pre>
<p>Other options include <tt>rows.as_dict()</tt> and <tt>rows.as_dict(ordered=True)</tt>.</p>
</div>
<div id="features">
<h3>‚ò§ Features</h3>
<ul>
<li>Iterated rows are cached for future reference.</li>
<li><tt>$DATABASE_URL</tt> environment variable support.</li>
<li>Convenience <tt>Database.get_table_names</tt> method.</li>
<li>Command-line <cite>records</cite> tool for exporting queries.</li>
<li>Safe parameterization: <tt><span class="pre">Database.query('life=:everything',</span> everything=42)</tt></li>
<li>Queries can be passed as strings or filenames, parameters supported.</li>
</ul>
<p>Records is proudly powered by <a href="http://www.sqlalchemy.org" rel="nofollow">SQLAlchemy</a>
and <a href="http://docs.python-tablib.org/en/latest/" rel="nofollow">Tablib</a>.</p>
</div>
<div id="data-export-functionality">
<h3>‚ò§ Data Export Functionality</h3>
<p>Records also features full Tablib integration, and allows you to export
your results to CSV, XLS, JSON, HTML Tables, or YAML with a single line of code.
Excellent for sharing data with friends, or generating reports.</p>
<pre><span class="k"/><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">rows</span><span class="o">.</span><span class="n">dataset</span><span class="p">)</span>
<span class="go">username|active|name      |user_email       |timezone
--------|------|----------|-----------------|--------------------------
model-t |True  |Henry Ford|model-t@gmail.com|2016-02-06 22:28:23.894202
</span><span class="gp">...</span>
</pre>
<p><strong>Comma Separated Values (CSV)</strong></p>
<pre><span class="k"/><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">rows</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="s1">'csv'</span><span class="p">))</span>
<span class="go">username,active,name,user_email,timezone
model-t,True,Henry Ford,model-t@gmail.com,2016-02-06 22:28:23.894202
</span><span class="gp">...</span>
</pre>
<p><strong>YAML Ain‚Äôt Markup Language (YAML)</strong></p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">rows</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="s1">'yaml'</span><span class="p">))</span>
<span class="o">-</span> <span class="p">{</span><span class="n">active</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">Henry</span> <span class="n">Ford</span><span class="p">,</span> <span class="n">timezone</span><span class="p">:</span> <span class="s1">'2016-02-06 22:28:23.894202'</span><span class="p">,</span> <span class="n">user_email</span><span class="p">:</span> <span class="n">model</span><span class="o">-</span><span class="n">t</span><span class="nd">@gmail.com</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="n">model</span><span class="o">-</span><span class="n">t</span><span class="p">}</span>
<span class="o">...</span>
</pre>
<p><strong>JavaScript Object Notation (JSON)</strong></p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">rows</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="s1">'json'</span><span class="p">))</span>
<span class="p">[{</span><span class="s2">"username"</span><span class="p">:</span> <span class="s2">"model-t"</span><span class="p">,</span> <span class="s2">"active"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Henry Ford"</span><span class="p">,</span> <span class="s2">"user_email"</span><span class="p">:</span> <span class="s2">"model-t@gmail.com"</span><span class="p">,</span> <span class="s2">"timezone"</span><span class="p">:</span> <span class="s2">"2016-02-06 22:28:23.894202"</span><span class="p">},</span> <span class="o">...</span><span class="p">]</span>
</pre>
<p><strong>Microsoft Excel (xls, xlsx)</strong></p>
<pre><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'report.xls'</span><span class="p">,</span> <span class="s1">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">rows</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="s1">'xls'</span><span class="p">))</span>
</pre>
<p>You get the point. All other features of Tablib are also available,
so you can sort results, add/remove columns/rows, remove duplicates,
transpose the table, add separators, slice data by column, and more.</p>
<p>See the <a href="http://docs.python-tablib.org/en/latest/" rel="nofollow">Tablib Documentation</a>
for more details.</p>
</div>
<div id="installation">
<h3>‚ò§ Installation</h3>
<p>Of course, the recommended installation method is pip:</p>
<pre>$ pip install records
‚ú®üç∞‚ú®
</pre>
</div>

<div id="thank-you">
<h3>‚ò§ Thank You</h3>
<p>Thanks for checking this library out! I hope you find it useful.</p>
<p>Of course, there‚Äôs always room for improvement. Feel free to <a href="https://github.com/kennethreitz/records/issues" rel="nofollow">open an issue</a> so we can make Records better, stronger, faster.</p>
</div>
</div>
</div></body></html>