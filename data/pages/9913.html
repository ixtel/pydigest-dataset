<html><body><div><div id="usage">
<h2>Usage</h2>
<p>Textual items are identified by <a href="http://ctext.org/tools/api#urn" rel="nofollow">CTP URNs</a>. Each URN identifies a text or part of a text. You can get these manually by visiting the <a href="http://ctext.org" rel="nofollow">http://ctext.org</a> website (bottom-right of each page), or programmatically using the <strong>searchtexts()</strong> function. To use this library, first:</p>
<pre>from ctext import *
</pre>
<p>Some API functions (like getting the full structure of a text, or downloading a lot of data) may require an API key. If you have one, before calling any other functions, do this:</p>
<pre>setapikey("your-api-key-goes-here")
</pre>
<p>You can also set the interface language (“en” for English, “zh” for Chinese):</p>
<pre>setlanguage("zh")
</pre>
<p>Similarly, automatic remapping to simplified Chinese can be done with:</p>
<pre>setremap("gb")
</pre>


<div id="gettexttitles">
<h3>gettexttitles</h3>
<pre>titles = gettexttitles()
</pre>
<p>Simple wrapper around the <a href="http://ctext.org/plugins/apilist/#gettexttitles" rel="nofollow">gettexttitles API call</a>.</p>
</div>

<div id="readlink">
<h3>readlink</h3>
<pre>urn = readlink("http://ctext.org/mengzi")
</pre>
<p>Simple wrapper around the <a href="http://ctext.org/plugins/apilist/#readlink" rel="nofollow">readlink API call</a>.</p>
</div>
<div id="gettext">
<h3>gettext</h3>
<pre>passages = gettext("ctp:analects/xue-er")
</pre>
<p>Simple wrapper around the <a href="http://ctext.org/plugins/apilist/#gettext" rel="nofollow">gettext API call</a>. Note that the API gettext function needs to be called recursively to get the full text of an entire book; the Python helper functions <strong>gettextasparagrapharray</strong>, <strong>gettextasstring</strong>, and <strong>gettextasobject</strong> call gettext repeatedly to extract all corresponding textual data.</p>
</div>
<div id="gettextasobject">
<h3>gettextasobject</h3>
<pre>data = gettextasobject("ctp:analects/xue-er")
</pre>
<p>Returns the full text of the requested URN as an object with a nested structure representing what each <strong>gettext</strong> API call returns.</p>
</div>
<div id="gettextasparagrapharray">
<h3>gettextasparagrapharray</h3>
<pre>passages = gettextasparagrapharray("ctp:analects/xue-er")
</pre>
<p>Returns the full text of the requested URN as a simple array of strings, each corresponding to one passage of text. Titles are omitted.</p>
</div>
<div id="gettextasstring">
<h3>gettextasstring</h3>
<pre>string = gettextasstring("ctp:analects/xue-er")
</pre>
<p>Returns the full text of the requested URN as a single string. Each paragraph is separated with “\n\n”.</p>
</div>
<div id="gettextinfo">
<h3>gettextinfo</h3>
<pre>data = gettextinfo("ctp:analects")
</pre>
<p>Simple wrapper around the <a href="http://ctext.org/plugins/apilist/#gettextinfo" rel="nofollow">gettextinfo API call</a>.</p>
</div>
<div id="searchtexts">
<h3>searchtexts</h3>
<pre>data = searchtexts("論語")
</pre>
<p>Simple wrapper around the <a href="http://ctext.org/plugins/apilist/#searchtexts" rel="nofollow">searchtexts API call</a>.</p>
</div>
<div id="setapikey">
<h3>setapikey</h3>
<pre>setapikey("your-api-key-goes-here")
</pre>
<p>This sets an API key which is then supplied to the CTP API with all subsequent API requests.</p>
</div>
<div id="setlanguage">
<h3>setlanguage</h3>
<pre>setlanguage("zh")
</pre>
<p>This sets the “if” (interface language) parameter, which is then supplied to the CTP API with all subsequent API requests.</p>
</div>
<div id="setremap">
<h3>setremap</h3>
<pre>setlanguage("gb")
</pre>
<p>This sets the “remap” (character remapping) parameter, which is then supplied to the CTP API with all subsequent API requests.</p>
</div>
</div>
</div></body></html>