<html><body><div><div class="post-1398 post type-post status-publish format-standard has-post-thumbnail hentry category-flask-framework-tutorials-and-examples category-linux-mint-tutorials category-python category-selenium tag-devops-software tag-devops-tools tag-devops-tutorials tag-devops-wiki tag-install-selenium-on-linux tag-python-testing-example tag-python-tests tag-selenium-on-linux-example tag-selenium-python-example tag-selenium-testing tag-selenium-testing-training tag-selenium-testing-tutorial tag-selenium-tutorial tag-selenium-webdriver">
                <p>
                            <a href="" rel="nofollow"><img src="http://techarena51.com/wp-content/uploads/2015/02/selenium-on-linux.png" alt="How to  install Selenium on Linux and automate your web tests" align="left" class="affiliate-image"/></a>
                        </p><p>Selenium is a web testing toolkit that allows you to test a web application in any browser of your choice. It does this with the help of a software called WebDriver which allows you to emulate a web browser and test your web application in it.</p>
<p>In this post I am going to show you how to test a simple <a title="How to build CRUD app with Python, Flask, SQLAlchemy and MySQL" href="http://techarena51.com/index.php/flask-sqlalchemy-tutorial/" target="_blank">CRUD</a> application, by automating link clicking and form filling.</p>
<p><strong>Software versions</strong><br/>
Selenium (2.44.0)<br/>
Python 3.4.2<br/>
Linux kernel 3.13.0-37-generic and Mint 17.1 for Desktop.</p>
<p><strong>Installing Selenium on Linux</strong><br/>
To install the Selenium Bindings for Python on Linux use pip.</p>
<pre>[leo@selenium-on-linux]$ virtualenv -p /usr/bin/python3 venv-3.4
[leo@selenium-on-linux]$ source venv-3.4/bin/activate
[leo@selenium-on-linux]$ pip3 install selenium
</pre>
<p>The webdriver for Firefox is installed along with Selenium but if you want to test your applications on chrome then you need to download the <a href="http://chromedriver.storage.googleapis.com/index.html?path=2.14/" target="_blank">chrome driver </a>and ensure chrome is installed on your Linux distro.</p>
<p><strong>Getting started with the code.</strong><br/>
The first thing you need to do is create an instance of the webdriver.</p>
<pre>[leo@selenium-on-linux]$gedit selenium-tests.py
from selenium import webdriver

driver=webdriver.Chrome('/home/leo/Downloads/chromedriver')
</pre>
<p>Next you need to specify the url of the web application you need to test. I will be using a custom CMS application which is used to create, read, update and delete posts for this demonstration. Below is the screenshot of the app.</p>
<p><a href="http://techarena51.com/wp-content/uploads/2015/02/Flask-Blog.png"><img class="aligncenter size-full wp-image-1400" src="http://techarena51.com/wp-content/uploads/2015/02/Flask-Blog.png" alt="Install Selenium on Linux"/></a></p>
<pre>driver.get("http://url-for-posts.com")
assert "Post Page Title" in driver.title
</pre>
<p>The above code will fetch the web page and check if the web page has been successfully fetched by matching the content in the page title.</p>
<p>Now let’s test the “Create”, i.e add a post.</p>
<pre>  link=driver.find_element_by_link_text("Add new")
  NewWindow=link.click()
  assert "Save" in driver.page_source
</pre>
<p>In the code above I use “find_element_by_link_text()” to perform actions on the anchor HTML element which contains the text “Add new”. You can get elements with their ID or name or even by class name. You can click on elements with the “click()” method.</p>
<p>On clicking the “Add new” link you get the page to create a post.</p>
<p><a href="http://techarena51.com/wp-content/uploads/2015/02/Selenium-on-Linux.png"><img class="aligncenter size-full wp-image-1402" src="http://techarena51.com/wp-content/uploads/2015/02/Selenium-on-Linux.png" alt="Install Selenium on Linux"/></a></p>
<p>Here we need to fill in the title, body, category, select whether the post will be published and then click on the “Save” button to add the post.</p>
<p>So let’s fill in the form with some text</p>
<pre>#Add posts
        title=driver.find_element_by_name("title")
        title.send_keys("Your Title text here")

        content=driver.find_element_by_name("content")
        content.send_keys("Your Body text here")

        category=driver.find_element_by_name("category")
        category.send_keys("Your category text here")

</pre>
<p>Below is the html of the form elements.</p>
<pre>&lt;input type="text" name="title" required/&gt;
&lt;input type="text" name="content" required/&gt;
&lt;input type="text" name="category" required/&gt;
&lt;select name="published"&gt;
   &lt;option value="No"&gt;No&lt;/option&gt;
   &lt;option value="Yes" selected=""&gt;Yes&lt;/option&gt;                            
    &lt;/select&gt;
&lt;button class="button " type="submit"&gt;Save&lt;/button&gt;
</pre>
<p>As I mention earlier you can fetch an element by it’s name with “find_element_by_name(“element name”)”. You can then perform an action on it like fill it with text using “send_keys()”.</p>
<p>For the “select” element we will need to import the “Select” class.</p>

<p>


</p>

<pre>from selenium.webdriver.support.ui import Select

 select = Select(driver.find_element_by_name('published'))
 published=select.select_by_value("Your option value")
</pre>
<p>Now we need to click on Save, however the “Save” button does not have a name attribute hence we need to use the class name.</p>
<pre> button=driver.find_element_by_class_name('button')
 success=button.click()
 assert "Add was successful" in driver.page_source
</pre>
<p>Similarly the code for update is</p>
<pre> #Edit Posts
        link=driver.find_element_by_link_text("Edit")
        newindow=link.click()
        assert "Save" in driver.page_source

        title=driver.find_element_by_name("title")
        title.send_keys("Selenium web test edit")
        content=driver.find_element_by_name("content")
        content.send_keys("Selenium web test edit")
        category=driver.find_element_by_name("category")
        category.send_keys("Selenium web test edit")

        select = Select(driver.find_element_by_name('published'))
        published=select.select_by_value("0")

        button=driver.find_element_by_class_name('button')
        success=button.click()
        assert "Update was successful" in driver.page_source
</pre>
<p>And the code for delete is</p>
<pre> #Delete Posts
 link=driver.find_element_by_link_text("Delete")
 NewWindow=link.click()
 assert "Post was deleted successfully" in driver.page_source
</pre>
<p>The complete source code is available at <a href="https://github.com/Leo-g/Selenium/blob/master/python-selenium.py" target="_blank">https://github.com/Leo-g/Selenium/blob/master/python-selenium.py</a></p>
<p>I have also written a scaffolding app which will automatically creates tests for your modules along with the CRUD modules, you can download it from <a href="https://github.com/Leo-G/Flask-Scaffold" target="_blank">https://github.com/Leo-G/Flask-Scaffold</a> and read about it at <a title="How to build CRUD app with Python, Flask, SQLAlchemy and MySQL" href="http://techarena51.com/index.php/flask-sqlalchemy-tutorial/" target="_blank">Building database driven apps in Python with Flask</a></p>
<p>You can view the code in action in the video below.<br/>
<iframe src="https://www.youtube.com/embed/aTMYPsWBESg" frameborder="0" allowfullscreen="allowfullscreen">VIDEO</iframe></p>
<p>Comments and feedback is welcome.</p>
<p>Ref (http://selenium-python.readthedocs.org/en/latest/getting-started.html#using-selenium-to-write-tests)
</p>

<p/>
                         <div class="abh_box abh_box_down abh_box_business"><div class="abh_tab_content"><section class="vcard abh_about_tab abh_tab"><div class="abh_text"><p class="abh_job"/><p class="description note abh_description">Is a Technical project manager who through this blog shares his experience building Web Applications with Python, FlaskAngularjs and Linux.His Projects are opensource and available at https://github.com/Leo-g</p></div> </section><section class="abh_posts_tab abh_tab"><div class="abh_text"><h4>Latest posts by Leo G <span class="abh_allposts">(<a href="http://techarena51.com/index.php/author/leo/">see all</a>)</span></h4></div> </section></div> </div>        <p class="clear"/>
                
    </div>
    
    
        
</div></body></html>