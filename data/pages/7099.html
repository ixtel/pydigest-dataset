<html><body><div><div class="entry-content">

                

                <p>Ситуация: написали web-проект, свой, домашний, а может и на работе. Надо его опубликовать в Интернет - задеплоить. 
Зашли на сервер, активировали venv, скачали новые исходники из репозитория, накатили миграции, обновили static-файлы, перезапустили, предположим, celery, перезапустили uwsgi.</p>
<p>И тут, поняли что забыли раскоментировать строчку в коде. Делаем коммит, снова заходим на сервер, активировали venv.... 
Зачем вся эта рутина с деплоем? Может есть способ проще? Мы же IT-шники, давайте напишем скрипт. </p>
<p>Здесь то на помощь и приходит <code>fabric</code> - инструмент командной строки. 
<code>fabric</code> предоставляет обертку над командной строкой. Вы пишите fab файл с вашим сценарием деплоя. Например.</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">fabric.api</span> <span class="kn">import</span> <span class="n">run</span>

<span class="k">def</span> <span class="nf">host_type</span><span class="p">():</span>
    <span class="n">run</span><span class="p">(</span><span class="s1">'uname -s'</span><span class="p">)</span>
</pre></div>


<p>А затем запускаете на нескольких (или одной) удаленной машине</p>
<div class="highlight"><pre>$ fab -H localhost,linuxbox host_type
<span class="o">[</span>localhost<span class="o">]</span> run: uname -s
<span class="o">[</span>localhost<span class="o">]</span> out: Darwin
<span class="o">[</span>linuxbox<span class="o">]</span> run: uname -s
<span class="o">[</span>linuxbox<span class="o">]</span> out: Linux

Done.
Disconnecting from localhost... <span class="k">done</span>.
Disconnecting from linuxbox... <span class="k">done</span>.
</pre></div>


<p>Все очень просто</p>
<p><a href="http://www.fabfile.org/">http://www.fabfile.org/</a></p>
            </div>
            
</div></body></html>