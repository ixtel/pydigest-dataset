<html><body><div><div class="post-body entry-content" id="post-body-5289946319285992895" itemprop="description articleBody"><p>
Today I would like to share a simple solution to a problem I have wasted several hours on in the last week: Listening for key presses on Linux using Python. You see, on Windows you can simply use the </p><a href="http://sourceforge.net/projects/pyhook/">pyHook library</a><p> that has existed for years. On Linux no such library is as well documented.
</p><p>
<br/></p>
<div><p>
After posting my question in several forums I finally was able to track down a reasonable, fairly simple solution. Contained in the </p><a href="http://sourceforge.net/projects/pykeylogger/">Simple Python Keylogger</a><p>Â is a pyxhook.py library that is desktop independent and GUI toolkit neutral.</p></div>
<p>
<br/></p>

<pre><pre>
<span>#Libraries we need</span>
<span>import</span> pyxhook
<span>import</span> time

<span>#This function is called every time a key is presssed</span>
<span>def</span> kbevent<span>(</span> event <span>)</span><span>:</span>
    <span>#print key info</span>
    <span>print</span> event
    
    <span>#If the ascii value matches spacebar, terminate the while loop</span>
    <span>if</span> event<span>.</span>Ascii <span>=</span><span>=</span> <span>32</span><span>:</span>
        <span>global</span> running
        running <span>=</span> <span>False</span>

<span>#Create hookmanager</span>
hookman <span>=</span> pyxhook<span>.</span>HookManager<span>(</span><span>)</span>
<span>#Define our callback to fire when a key is pressed down</span>
hookman<span>.</span>KeyDown <span>=</span> kbevent
<span>#Hook the keyboard</span>
hookman<span>.</span>HookKeyboard<span>(</span><span>)</span>
<span>#Start our listener</span>
hookman<span>.</span>start<span>(</span><span>)</span>
    
<span>#Create a loop to keep the application running</span>
running <span>=</span> <span>True</span>
<span>while</span> running<span>:</span>
    time<span>.</span>sleep<span>(</span><span>0.1</span><span>)</span>

<span>#Close the listener when we are done</span>
hookman<span>.</span>cancel<span>(</span><span>)</span>
</pre>
<p>
</p>
<p>
</p>
</pre>
<p/>
</div>
</div></body></html>