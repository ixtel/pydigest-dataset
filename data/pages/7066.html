<html><body><div><div class="entry-content">

                

                <p>В синтаксисе Python один и тот же символ или конструкция часто используется для разных целей
Возможно вы встречались с подобным кодом:</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">outer_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">inner_func</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
        <span class="c1"># inner_func замкнуло в себе х</span>
        <span class="k">return</span> <span class="n">y</span> <span class="o">+</span> <span class="n">x</span>
    <span class="k">return</span> <span class="n">inner_func</span>
</pre></div>


<p>Похож на декоратор. Это называется замыканием. Это более общий случай декоратора.
Смысл замыкания состоит в том, что определение функции "замораживает" окружающий её контекст на момент определения. Это может делаться различными способами, например, за счёт параметризации создания функции</p>
<p>Такой подход позволяет:
Устранить жестко кодированные константы
Убрать глобальные переменные из кода
Увеличить производительность
Если первые два пункта весьма понятны, то третий поясню. В Python загрузка переменных в SCOPE (локальную область) долгий процесс (сравнительно), поэтому чем реже это делается - тем быстрее код. 
Пример: функция, которая делает insert в базу данных. Можно объявить коннект в замыкании и использовать.</p>
<p>Есть один нюанс. В Питоне замкнутые переменные доступны только для чтения. Чтобы обойти такое ограничение, нужно замыкать переменные в изменяемые переменные, например, в список. Сами замкнутые переменные нельзя будет перезаписывать, а вот содержимое контейнера - пожалуйста.</p>
<p>Замкнемся на ссылки:</p>

            </div>
            
    </div></body></html>