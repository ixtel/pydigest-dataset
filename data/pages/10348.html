<html><body><div><div class="section">
              <h1>stagpy 0.1.2</h1>

              


<p>Tool for StagYY output files processing</p>








<a href="https://landscape.io/github/mulvrova/StagPy/master" rel="nofollow"><img src="https://landscape.io/github/mulvrova/StagPy/master/landscape.svg?style=flat-square"/></a>
<div id="stagpy">
<h2>StagPy</h2>
<p>StagPy is a Python 3 command line tool to read and process StagYY output files
to produce high-quality figures.</p>
<p>The aim is to have different cases in one file (Cartesian, Spherical Annulus,
etc).</p>
<p>The code to read the binary output files has been adapted from a matlab version
initially developed by Boris Kaus.</p>
</div>
<div id="installation">
<h2>Installation</h2>
<p><em>if you want to use (and modify) the development version, see the</em> <a href="#for-developers" rel="nofollow">For
developers</a> <em>section at the end of this page</em></p>
<p>You will need Python 3.3 or higher to use StagPy. You can install StagPy with
<tt>conda</tt> (you will need Python 3.5) or with <tt>pip</tt>. Both process are
described hereafter.</p>
<p>If Python3 is not installed on your system or you don’t have sufficient
permissions to update it, the simplest way to get it is to install <a href="http://conda.pydata.org/miniconda.html" rel="nofollow">Miniconda</a>
or <a href="https://www.continuum.io/downloads" rel="nofollow">Anaconda</a> (Anaconda being Miniconda with a lot of extra modules that can be
installed in Miniconda later, this choice doesn’t matter; pick Miniconda if you
want a faster and lighter installation). Then, use <tt>conda</tt> to install StagPy.</p>
<div id="installation-using-conda">
<h3>Installation using <tt>conda</tt></h3>
<p>The installation is rather simple:</p>
<pre>conda install -c amorison stagpy
</pre>
<p>See the <a href="#some-setup" rel="nofollow">Some setup</a> subsection to enable autocompletion and create your
config file.</p>
</div>
<div id="installation-using-pip">
<h3>Installation using <tt>pip</tt></h3>
<p>If you don’t have <tt>pip</tt> for Python3 on your system, download the official
script &lt;<a href="https://bootstrap.pypa.io/get-pip.py" rel="nofollow">https://bootstrap.pypa.io/get-pip.py</a>&gt; and run it with <tt>python3</tt>.</p>
<p>You can then install StagPy with the following command:</p>
<pre>python3 -m pip install --user stagpy
</pre>
<p>Make sure that the directory where <tt>pip</tt> install package entry-points
(usually <tt><span class="pre">~/.local/bin</span></tt>) is in your <tt>PATH</tt> environment variable.
You can run <tt>python3 <span class="pre">-m</span> pip show stagpy</tt> to obtain some hint about this
location (this command will show you were the compiled sources are installed,
e.g. <tt><span class="pre">~/.local/lib/python3.5/site-packages</span></tt>, from which you can deduce the
entry-point location, e.g. <tt><span class="pre">~/.local/bin</span></tt>).</p>
<p>See the <a href="#some-setup" rel="nofollow">Some setup</a> subsection to enable autocompletion and create your
config file.</p>
</div>
<div id="some-setup">
<h3>Some setup</h3>
<p>Once you have installed, you can enable command-line auto-completion if you use
either bash or zsh.</p>
<p>Add this to your <tt><span class="pre">~/.bashrc</span></tt> file:</p>
<pre>eval "$(register-python-argcomplete stagpy)"
</pre>
<p>Or this to your <tt><span class="pre">~/.zshrc</span></tt> file:</p>
<pre>autoload bashcompinit
bashcompinit
eval "$(register-python-argcomplete stagpy)"
</pre>
<p>Finally, run the following once to create your config file (at
<tt><span class="pre">~/.config/stagpy/</span></tt>):</p>
<pre>stagpy config --create
</pre>
<p>Enjoy!</p>
</div>
</div>
<div id="available-commands">
<h2>Available commands</h2>
<p>The available subcommands are the following:</p>
<ul>
<li><tt>field</tt>: computes and/or plots scalar fields such as temperature or stream
function;</li>
<li><tt>rprof</tt>: computes and/or plots radial profiles;</li>
<li><tt>time</tt>: computes and/or plots time series;</li>
<li><tt>plates</tt>: plate analysis;</li>
<li><tt>var</tt>: displays a list of available variables;</li>
<li><tt>config</tt>: configuration handling.</li>
</ul>
<p>You can run <tt>stagpy <span class="pre">--help</span></tt> (or <tt>stagpy <span class="pre">-h</span></tt>) to display a help message
describing those subcommands. You can also run <tt>stagpy &lt;subcommand&gt; <span class="pre">--help</span></tt>
to have some help on the available options for one particular sub command.</p>
<p>StagPy looks for a StagYY <tt>par</tt> file in the current directory. It then reads
the value of the <tt>output_file_stem</tt> option to determine the location and name
of the StagYY output files (set to <tt>test</tt> if no <tt>par</tt> file can be found).
You can change the directory in which StagYY looks for a <tt>par</tt> file by two
different ways:</p>
<ul>
<li>you can change the default behavior in a global way by editing the config
file (<tt>stagpy config <span class="pre">--edit</span></tt>) and change the <tt>core.path</tt> variable;</li>
<li>or you can change the path only for the current run with the <tt><span class="pre">-p</span></tt> option.</li>
</ul>
<p>The time step option <tt><span class="pre">-s</span></tt> allows you to specify a range of time steps in a
way which mimic the slicing syntax: <tt>begin:end:gap</tt> (both ends included). If
the first step is not specified, it is set to <tt>0</tt>. If the final step is not
specified, all available time steps are processed. Here are some examples:</p>
<ul>
<li><tt><span class="pre">-s</span> 100:350</tt> will process every time steps between 100 and 350;</li>
<li><tt><span class="pre">-s</span> 201:206:2</tt> will process time steps 201, 203 and 205;</li>
<li><tt><span class="pre">-s</span> 201:205:2</tt> same as previous;</li>
<li><tt><span class="pre">-s</span> 5682:</tt> will process every time steps from the 5682nd to the last one;</li>
<li><tt><span class="pre">-s</span> :453</tt> will process every time steps from the 0th to the 453rd one;</li>
<li><tt><span class="pre">-s</span> ::2</tt> will process every even time steps.</li>
</ul>
<p>By default, the temperature, pressure and stream function fields are plotted.
You can change this with the <tt><span class="pre">-o</span></tt> option (e.g. <tt>./main.py field <span class="pre">-o</span> ps</tt> to
plot only the pressure and stream function fields).</p>
</div>
<div id="for-developers">
<h2>For developers</h2>
<p>If you want to contribute to development of StagPy, create an account on
<a href="https://github.com/" rel="nofollow">GitHub</a> and fork the <a href="https://github.com/mulvrova/StagPy" rel="nofollow">StagPy repository</a>.</p>
<p>The development of StagPy is made using the Git version control system. The
first three chapters of the <a href="https://git-scm.com/book/en/v2" rel="nofollow">Git book</a> should give you all the necessary
basic knowledge to use Git for this project.</p>
<p>A <tt>Makefile</tt> in the git repository allows you to install StagPy in a virtual
environment with all the necessary dependencies.  However, installation of
<tt>numpy</tt> and <tt>scipy</tt> involve heavy building operations, it might be better
that you (or your system administrator) install it with a package manager such
as <tt>homebrew</tt> on Mac OS or your favorite Linux package manager (or with
<tt>conda</tt> if you use it).</p>
<p>The installation process is then fairly simple:</p>
<pre>git clone https://github.com/YOUR_USER_NAME/StagPy.git
cd StagPy
make
</pre>
<p>A soft link named <tt><span class="pre">stagpy-git</span></tt> is created in your <tt>~/bin</tt> directory,
allowing you to launch the development version of StagPy directly by running
<tt><span class="pre">stagpy-git</span></tt> in a terminal (provided that <tt>~/bin</tt> is in your <tt>PATH</tt>
environment variable).</p>
<p>Two files <tt>comp.zsh</tt> and <tt>comp.sh</tt> are created in the <tt>bld</tt> folder.
Source them respectively in <tt><span class="pre">~/.zshrc</span></tt> and <tt><span class="pre">~/.bashrc</span></tt> to enjoy command
line completion with zsh and bash.  Run <tt>make info</tt> to obtain the right
sourcing commands.</p>
<p>To check that everything work fine, go to the <tt>data</tt> directory of the
repository and run:</p>
<pre>stagpy-git field
</pre>
<p>Three PDF files with a plot of the temperature, pressure and
stream function fields should appear.</p>
</div>
<div id="troubleshooting">
<h2>Troubleshooting</h2>
<ul>
<li><p>Matplotlib related error in MacOS</p>
<p>This might be due to the matplotlib backend that is not correctly set. See
this Stack Overflow question:
&lt;<a href="http://stackoverflow.com/questions/21784641/installation-issue-with-matplotlib-python" rel="nofollow">http://stackoverflow.com/questions/21784641/installation-issue-with-matplotlib-python</a>&gt;</p>
</li>
<li><p>Installation fails with <tt>ImportError: No module named 'encodings'</tt></p>
<p>This seems to be due to a bug in the venv module with some Python
installation setups. If installing Python properly with your package
manager doesn’t solve the issue, you can try installing StagPy without any
virtual environment by using <tt>make novirtualenv</tt>.</p>
</li>
</ul>
</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>112</span> downloads in the last week
  </li>
  <li>
    <span>889</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>