<html><body><div><div class="post-body entry-content" id="post-body-5050654875782270595" itemprop="description articleBody">




<span class="" id="result_box" lang="en"><span class="hps">After seeing</span> <span class="hps">this</span> <span class="hps">image on the Facebook page</span> <span class="hps">of</span> <span class="hps">a friend of mine</span>, <span class="hps">I thought it would be </span></span><span class="" id="result_box" lang="en"><span class="hps"><span class="" id="result_box" lang="en"><span class="hps">more</span> <span class="hps">convenient  to make </span></span></span><span class="hps">my own version </span><span class="hps"/><span class="hps">with</span> <span class="hps">a python script</span> <span class="hps">rather than</span> <span class="hps">open</span> <span class="hps">photoshop</span> <span class="hps">and start to</span> <span class="hps">copy and paste</span>. <span class="hps">I was wrong</span>, <span class="hps">but</span> <span class="hps">now I can</span> <span class="hps">share with you</span> <span class="hps">my result</span> <span class="hps">and</span> <span class="hps">comment on the</span> <span class="hps">difficulties encountered</span> <span class="hps">in</span> <span class="hps">this simple</span> <span class="hps">image processing.</span></span>
<span class="" id="result_box" lang="en"><span class="hps"><br/></span></span>
<span class="" id="result_box" lang="en"><span class="hps"/></span>
<a name="more"/>
<div class="almost_half_cell" id="gt-res-content">
<p dir="ltr">
<span class="" id="result_box" lang="en"><span class="hps">Unfortunately</span> <span class="hps">the whole article</span> <span class="hps">was based</span> <span class="hps">on a</span> <span class="hps">wrong assumption</span> <span class="hps">because of a</span> <span class="hps">wrong</span> <span class="hps">test</span>. <span class="hps">you can skip</span> <span class="hps">to the end</span> <span class="hps">to read</span> <span class="hps">the correct version</span></span></p>
<p dir="ltr">
<span class="" id="result_box" lang="en"><span class="hps"><br/></span></span></p>
<p dir="ltr">
<span class="" id="result_box" lang="en"><span class="hps"><br/></span></span></p>
<p dir="ltr">
<span class="" id="result_box" lang="en"><span class="hps">-------------------BEGIN-------------------- </span></span></p>
</div>

<span class="" id="result_box" lang="en"><span class="hps">The</span> <span class="hps">initial plan</span> <span class="hps">was to</span> <span class="hps">gradually change</span> <span class="hps">the brightness level</span> <span class="hps">of the image and</span> <span class="hps">then</span> <span class="hps">compose</span> <span class="hps">the output</span>.  <span class="hps"/></span>
<ul>
<li><span class="" id="result_box" lang="en"><span class="hps"> </span></span><span class="" id="result_box" lang="en"><span class="hps">PIL.ImageEnhance.Brightness</span> <span class="hps">(image)</span></span><span class="" id="result_box" lang="en"/></li>
</ul>
<span class="" id="result_box" lang="en"><span class="hps">Unfortunately,</span> <span class="hps">this method</span> <span class="hps">only accepts</span> <span class="hps">values</span> <span class="hps">from 0.0 to</span> 1.0, <span class="hps">then</span> <span class="hps">only</span> <span class="hps">10</span> <span class="hps">levels of brightness</span> (<span class="hps">we</span> <span class="hps">need</span> <span class="hps">50 shades</span>) a<span class="hps">nd in addition</span> <span class="hps">you can only</span> <span class="hps">darken the image.</span></span>
<span class="" id="result_box" lang="en"><span class="hps"/></span><span class="" id="result_box" lang="en"><span class="hps"> </span></span>
<span class="" id="result_box" lang="en"><span class="hps"/></span><span class="" id="result_box" lang="en"><span class="hps"><span class="" id="result_box" lang="en"><span class="hps">Second option</span>, <span class="hps">generating</span> <span class="hps">two</span> <span class="hps alt-edited">empty pictures</span>, <span class="hps">one white and one</span> <span class="hps">black</span>, <span class="hps">and superimpose them</span> <span class="hps">gradually</span> <span class="hps">to correct</span> <span class="hps">the brightness</span><span class="">. </span></span></span></span>
<ul>
<li><span class="" id="result_box" lang="en"><span class="hps"><span class="" id="result_box" lang="en"><span class="">PIL.Image.blend(image1, image2, alpha) </span></span></span></span></li>
</ul>
<span class="" id="result_box" lang="en"><span class="hps">Unfortunately,</span> <span class="hps">also this method</span> <span class="hps">only accepts alpha</span> <span class="hps">values</span> <span class="hps">from 0.0 to</span> <span class="hps">1.0</span>, <span class="hps">then</span> <span class="hps">only</span> <span class="hps">10</span> <span class="hps">levels </span></span>

<span class="" id="result_box" lang="en"><span class="hps"><span class="" id="result_box" lang="en"><span class=""/></span></span></span><span class="" id="result_box" lang="en"><span class="hps"><span class="" id="result_box" lang="en"><span class=""/></span></span></span><span class="" id="result_box" lang="en"><span class="hps">Third option</span>, <span class="hps">the one followed</span>, <span class="hps">generating</span> <span class="hps">50</span> <span class="hps">images</span> <span class="hps">in</span> <span class="hps">grayscale</span> <span class="hps">and</span> <span class="hps">overlay</span> <span class="hps">the original image</span>.<br/> <span class="hps">good</span>, <span class="hps">how can I</span> <span class="hps">generate</span> <span class="hps">these images</span><span class="">?</span></span>
<ul>
<li>PIL.Image.new("L", (width, height), '#greyHexValue')</li>
</ul>
<span class="" id="result_box" lang="en"><span class="hps">Unfortunately</span>, <span class="hps">as you can see</span> <span class="hps">at this</span> <a href="http://www.htmlportal.net/colors/shades-of-gray.php"><span class="hps">link</span></a>, <span class="hps">there are only</span> <span class="hps">33</span> <span class="hps">shades of gray</span> <span class="hps">in</span> <span class="hps">RGB</span></span> 

<span class="" id="result_box" lang="en"><span class="hps">Solution</span>, <span class="hps">create</span> <span class="hps">intermediate values</span> <span class="hps">of gray</span> <span class="hps">by mixing them</span> <span class="hps">gradually</span>. <span class="hps">instead of</span> <span class="hps">33</span>, <span class="hps">we now have</span> <span class="hps">65</span> <span class="hps">shades</span>.<br/> <span class="hps">this allows us to</span> <span class="hps">do more,</span> <span class="hps">then choose a</span> <span class="hps">range</span> <span class="hps">of shades</span> <span class="hps alt-edited">depending on the brightness</span> <span class="hps">of the original image</span>, <span class="hps">for better result</span><span class="">.</span></span>

<span class="" id="result_box" lang="en"><span class="">this is the code -&gt; <a href="https://dl.orangedox.com/kR54UYtIllFOndKIJE/toGrey.py">downlaod</a></span></span>

<span class="" id="result_box" lang="en"><span class="">$python toGrey.py inputimage </span></span>

<span class="" id="result_box" lang="en"><span class="">and there is some example</span></span>


<p class="separator">
<br/></p>

<p class="separator">
<br/></p>

<span class="" id="result_box" lang="en"><span class="hps">---------------------END---------------------- </span></span>

<span class="" id="result_box" lang="en"><span class="hps"><br/></span></span>
<span class="" id="result_box" lang="en"><span class="hps">The</span> <span class="hps">plan</span> is simple:  <span class="hps"/></span><span class="" id="result_box" lang="en"><span class="hps">gradually change</span> <span class="hps">the brightness level</span> <span class="hps">of the image and</span> <span class="hps">then</span> <span class="hps">compose</span> <span class="hps">the output</span>.  </span>



<p>
from PIL import Image <br/>from PIL import ImageEnhance<br/>import sys <br/><br/>inputImageName = sys.argv[1] <br/>outputImageName = '50ShadesOf_ ' + inputImageName<br/><br/>pilImage=Image.open(inputImageName) <br/>width = pilImage.size[0] <br/>height = pilImage.size[1]<br/><br/>out = Image.new("L", (width*10, height*5), "white")<br/><br/><br/>img = [] <br/>enhancer = ImageEnhance.Brightness(pilImage) <br/>for i in range(0,50): <br/>    pilImage=Image.open(inputImageName) <br/>    ppilImage = enhancer.enhance((50-i)/50.0)<br/>    img.append(ppilImage)<br/><br/>for y in range(0,5): <br/>    for x in range(0,10): <br/>        out.paste(img[(y*10) + x], (width*x,height*y))<br/><br/>out.save(outputImageName)</p>

<p>
you can download the code -&gt; </p><a href="https://dl.orangedox.com/D710RNEQsF3yMWZ1hA/grey.py">here</a>





<p/>
</div>
</div></body></html>