<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-django-salted" class="anchor" href="#django-salted" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Django Salted</h1>

<p><strong>One-command Django and PostgreSQL development environment on Vagrant.</strong></p>

<p><a href="https://camo.githubusercontent.com/f3eee2bfa18072a6a0f214561ec2f8ac20fd7b22/68747470733a2f2f7261772e6769746875622e636f6d2f77756e6b692f646a616e676f2d73616c7465642f6d61737465722f66696c65732f73616c742d7368616b65722e706e67" target="_blank"><img src="https://camo.githubusercontent.com/f3eee2bfa18072a6a0f214561ec2f8ac20fd7b22/68747470733a2f2f7261772e6769746875622e636f6d2f77756e6b692f646a616e676f2d73616c7465642f6d61737465722f66696c65732f73616c742d7368616b65722e706e67" alt="Shake it, shake it, shake it like a salt shaker..." title="Shake it!" data-canonical-src="https://raw.github.com/wunki/django-salted/master/files/salt-shaker.png"/></a></p>

<p>This is a complete <a href="http://saltstack.com/community.html">SaltStack</a> configuration for a Django centric stack. It
enables you setup a solid Django development environment with a single
command. Some of the great things which are included:</p>

<ul>
<li><em>Local development</em>, but the code is run within Ubuntu with the help of a
share.</li>
<li>Server running on <em><a href="http://uwsgi-docs.readthedocs.org/">uWSGI</a></em> and <em><a href="http://nginx.org/">Nginx</a></em>. uWSGI <em>reloads</em> your python code
automagically.</li>
<li><em><a href="http://www.postgresql.org/">PostgreSQL</a></em> is installed and setup for you. No more explaining to your
designer how to get the project running.</li>
<li>Some helpfull <em><a href="http://fabfile.org/">Fabric</a></em> functions, e.g., running <code>syncdb</code> on Vagrant.</li>
</ul>

<p><strong>Table of Contents</strong></p>



<p><strong>The repository is accomponied with a blog post we put on <a href="http://blog.gibbon.co">Gibbon</a>. Go read
<a href="http://blog.gibbon.co/posts/2013-06-12-salting-your-django-stack.html">Salting your Django Stack</a> if you want to know how this came to be.</strong></p>

<h2><a id="user-content-requirements" class="anchor" href="#requirements" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Requirements</h2>

<p>Django salted requires the following software to be installed on your machine:</p>



<p>You also need <a href="http://fabfile.org/">Fabric</a> and <a href="https://github.com/ronnix/fabtools">Fabtools</a> if you want to run the Fabric
commands. You can find these requirements in the <a href="https://github.com/wunki/django-salted/blob/master/requirements.txt">requirements.txt</a> file in
the root directory.</p>

<p>All of the above are open-source and free to use.</p>

<h2><a id="user-content-getting-started-quick" class="anchor" href="#getting-started-quick" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Getting started (quick)</h2>

<p>If you want to quickly try out what this is all about. Your installation will
adhere to the default configuration and use the example Django project. If you
have the requirements installed, it's just a single command:</p>

<pre><code>vagrant up
</code></pre>

<p>After running this command, you should see the Django example website on:
<a href="http://127.0.0.1:8080">http://127.0.0.1:8080/</a>. However, your database tables
still need to be created. There is a fabric command to help you with that:</p>

<pre><code>fab vagrant syncdb
</code></pre>

<p>You will also need to collect the static files to use the demo project. This can be done with fabric also:</p>

<pre><code>fab vagrant collectstatic
</code></pre>

<p>The demo_project is a very simple project with the Djagno Admin <a href="http://127.0.0.1:8080/admin">http://127.0.0.1:8080/admin</a></p>

<p>The vagrant machine uses a virtual venvironment located at <code>/home/vagrant/env</code></p>

<p>After getting familiar with it, using Django Salted on your own project is
simple done with changing a few settings.</p>

<ul>
<li>You will run and develop on the Django (1.5.1) <code>demo_project</code> inside the VM.</li>
<li>Ubuntu 12.04 will be used as OS.</li>
<li>Domain is: vagrant.django-salted.org</li>
</ul>

<h2><a id="user-content-modify-for-your-own-project" class="anchor" href="#modify-for-your-own-project" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Modify for your own project</h2>

<p>TODO: Write how to modify this repository for your own project.</p>

<h2><a id="user-content-faq" class="anchor" href="#faq" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>FAQ</h2>

<h3><a id="user-content-how-do-i-get-the-get-the-latest-stateversion" class="anchor" href="#how-do-i-get-the-get-the-latest-stateversion" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>How do I get the get the latest state/version?</h3>

<p>The fastest way is to run <code>vagrant provision</code>. The downfall is that you don't
see what's happening in colors. Or SSH to the box (my favourite) by doing the
following:</p>

<pre><code>vagrant ssh
# On the box...
sudo salt-call state.highstate
</code></pre>

<h3><a id="user-content-which-operating-systems-are-supported" class="anchor" href="#which-operating-systems-are-supported" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Which Operating Systems are supported?</h3>

<p>Currently I have only tested it on Ubuntu 12.04 box. In the future there will
be support for Debian and FreeBSD.</p>

<h3><a id="user-content-im-getting-502-bad-gateway-from-nginx" class="anchor" href="#im-getting-502-bad-gateway-from-nginx" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>I'm getting "502 Bad Gateway" from Nginx</h3>

<p>Ajj! This means uWSGI is down. It takes 15 seconds for uWSGI to spin up from a
cold boot (because we have to wait on the Vagrant share). However, if after 15
seconds it's still not working, check out what went wrong by looking at the logs:</p>

<pre><code>vagrant ssh
sudo cat /var/log/uwsgi/example.log
# or check the boss (emperor)
sudo cat /var/log/uwsgi/emperor.log
</code></pre>

<p>Let me know in an issue if this is something I need to fix.</p>

<h3><a id="user-content-omg-you-also-put-the-private-key-on-github" class="anchor" href="#omg-you-also-put-the-private-key-on-github" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>OMG, you also put the private key on Github?</h3>

<p>Yes, this private key is used for the Vagrant example project. It's supposed
to be there so you can spin up a box with a single command. Don't put your own
private keys there.</p>

<h2><a id="user-content-want-to-help" class="anchor" href="#want-to-help" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Want to help?</h2>

<p>That would be great! Check out the <a href="https://github.com/wunki/django-salted/blob/master/TODO.org">TODO.org</a> or the <a href="https://github.com/wunki/django-salted/issues">Issues</a> on things to do.</p>

<h2><a id="user-content-license" class="anchor" href="#license" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>License</h2>

<p>Django-salted was created by Petar Radosevic. You can reach out to me on
twitter at <a href="https://twitter.com/wunki">@wunki</a>.</p>

<p>It's BSD Licensed. Use it however you want, just don't try to sell it back to
me.</p>
</article>
  </div></body></html>