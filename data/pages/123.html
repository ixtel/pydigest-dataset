<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-pymata" class="anchor" href="#pymata" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>PyMata</h1>

<p>PyMata is a high performance, multi-threaded, non-blocking Python client for the Firmata Protocol that supports
the complete StandardFirmata protocol.</p>

<p>A new version for Python 3.5, pymata_aio, can be found <a href="https://github.com/MrYsLab/pymata-aio">here</a>. </p>

<h2><a id="user-content-major-features" class="anchor" href="#major-features" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Major features</h2>

<ul>
<li><strong>Implements the entire Firmata 2.4.1 protocol.</strong></li>
<li><strong>Python 2.7+ and Python 3.4+</strong> compatibility through a shared code set. (If you are running Python 3.4 on Linux, please see note below).</li>
<li>Easy to use and intuitive <strong>API</strong>. You can view the <a href="http://htmlpreview.github.com/?https://github.com/MrYsLab/PyMata/blob/master/documentation/html/PyMata.pymata.PyMata-class.html">PyMata API Documentation here</a> or view in the Documentation/html directory.</li>
<li>Custom support for <strong>stepper motors, Sonar Ping Devices (HC-SRO4), Piezo devices and Rotary Encoders</strong>.</li>
<li><strong>Wiring diagrams</strong> are provided for all examples in the examples directory.</li>
<li>Digial and Analog <strong>Transient Signal Monitoring Via Data Latches:</strong>

<ul>
<li>They provide "one-shot" notification when either a digital or analog pin meets a user defined threshold.</li>
<li>Analog latches compare each data change to a user specified value.

<ul>
<li>Comparison operators are &lt;, &gt;, &lt;= and &gt;=</li>
</ul></li>
<li>Digital latches compare a data change to either a high or low, specified by the user.</li>
<li>Latches can easily be re-armed to detect the next transient data change.</li>
<li>Latches can be either manually read or a callback can be associated with a latch for immediate notification.</li>
</ul></li>
<li>Optional <strong>callbacks</strong> provide asynchronous notification of data updates.</li>
</ul>

<h2><a id="user-content-callbacks" class="anchor" href="#callbacks" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Callbacks</h2>

<p>Check out the example code on the <a href="https://github.com/MrYsLab/PyMata/wiki">wiki</a>.</p>

<ul>
<li>Digital input pins.</li>
<li>Analog input pins.</li>
<li>Encoder changes.</li>
<li>I2C read data changes.</li>
<li>SONAR (HC-SR04) distance changes.</li>
<li>Analog latch condition achieved.</li>
<li>Digital latch condition achieved.</li>
<li>Callbacks return data reports in a single list format.</li>
<li>Polling methods and callbacks are available simultaneously and can be used in a mixed polled/callback environment.</li>
<li>Callbacks return data in a single list.</li>
</ul>

<h3><a id="user-content-the-callback-data-return-values" class="anchor" href="#the-callback-data-return-values" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>The callback data return values</h3>

<table><thead>
<tr>
<th>Callback Type</th>
<th>List Element 0</th>
<th>List Element 1</th>
<th>List Element 2</th>
<th>List Element 3</th>
</tr>
</thead><tbody>
<tr>
<td>Analog</td>
<td>ANALOG MODE</td>
<td>Pin Number</td>
<td>Data Value</td>
<td>Not Applicable</td>
</tr>
<tr>
<td>Digital</td>
<td>DIGITAL MODE</td>
<td>Pin Number</td>
<td>Data Value</td>
<td>Not Applicable</td>
</tr>
<tr>
<td>I2C</td>
<td>I2C MODE</td>
<td>I2C Device Address</td>
<td>Data Value</td>
<td>Not Applicable</td>
</tr>
<tr>
<td>Sonar</td>
<td>Trigger Pin</td>
<td>Distance in Centimeters</td>
<td>Not Applicable</td>
<td>Not Applicatble</td>
</tr>
<tr>
<td>Encoder</td>
<td>Encoder MODE</td>
<td>Pin Number</td>
<td>Data Value</td>
<td>Not Applicable</td>
</tr>
<tr>
<td>Latched Analog</td>
<td>LATCHED ANALOG MODE</td>
<td>Pin Number</td>
<td>Data Value</td>
<td>Time Stamp</td>
</tr>
<tr>
<td>Latched Digital</td>
<td>LATCHED DIGITAL MODE</td>
<td>Pin Number</td>
<td>Data Value</td>
<td>Time Stamp</td>
</tr>
</tbody></table>

<h2><a id="user-content-control-c-signal-handler" class="anchor" href="#control-c-signal-handler" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Control-C Signal Handler</h2>

<p>Below is a sample Control-C signal handler that can be added to a PyMata Application.
It suppresses exceptions being reported as a result of the user entering a Control-C to abort the application.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> sys
<span class="pl-k">import</span> signal
<span class="pl-c"># followed by another imports your application requires</span>

<span class="pl-c"># create a PyMata instance</span>
<span class="pl-c"># set the COM port string specifically for your platform</span>
board <span class="pl-k">=</span> PyMata(<span class="pl-s"><span class="pl-pds">"</span>/dev/ttyACM0<span class="pl-pds">"</span></span>)

<span class="pl-c"># signal handler function called when Control-C occurs</span>
<span class="pl-k">def</span> <span class="pl-en">signal_handler</span>(<span class="pl-smi">signal</span>, <span class="pl-smi">frame</span>):
    <span class="pl-c1">print</span>(<span class="pl-s"><span class="pl-pds">'</span>You pressed Ctrl+C!!!!<span class="pl-pds">'</span></span>)
    <span class="pl-k">if</span> board <span class="pl-k">!=</span> <span class="pl-c1">None</span>:
        board.reset()
    sys.exit(<span class="pl-c1">0</span>)

<span class="pl-c"># listen for SIGINT</span>
signal.signal(signal.<span class="pl-c1">SIGINT</span>, signal_handler)

<span class="pl-c"># Your Application Continues Below This Point</span></pre></div>

<h2><a id="user-content-misc" class="anchor" href="#misc" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Misc</h2>



<h1><a id="user-content-special-note-for-linux-users-wishing-to-use-python-35" class="anchor" href="#special-note-for-linux-users-wishing-to-use-python-35" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Special Note For Linux Users Wishing to Use Python 3.5</h1>




</article>
  </div></body></html>