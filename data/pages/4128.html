<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-eight-python-2-to-the-power-of-3" class="anchor" href="#eight-python-2-to-the-power-of-3" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>eight: Python 2 to the power of 3</h1>
<p>Eight is a Python module that provides a minimalist compatibility layer between Python 3 and 2. Eight lets you write
code for Python 3.3+ while providing limited compatibility with Python 2.7 with no code changes.  Eight is inspired by
<a href="https://pythonhosted.org/six/">six</a>, <a href="https://github.com/nandoflorestan/nine">nine</a>, and <a href="https://github.com/PythonCharmers/python-future">python-future</a>, but provides better internationalization (i18n) support, is more
lightweight, easier to use, and unambiguously biased toward Python 3 code: if you remove eight from your code, it will
continue to function exactly as it did with eight on Python 3.</p>
<p>To write code for Python 3 that is portable to Python 2, you may also want to read Armin Ronacher's excellent <a href="http://lucumr.pocoo.org/2013/5/21/porting-to-python-3-redux/">Python 3
porting guide</a>, as well as the official
<a href="http://docs.python.org/3/howto/pyporting.html">porting guide</a>.</p>
<p>Writing <code>from eight import *</code> in your code is a no-op in Python 3. In Python 2, it binds a bunch of Python 3 names to
their Python 2 equivalents. Also, if you need to import a module or module member that was renamed in Python 3, writing
<code>from eight import &lt;module&gt;</code> will do the right thing (equivalent to <code>import &lt;module&gt;</code> on Python 3 and <code>import
&lt;old_name&gt; as &lt;module&gt;</code> on Python 2). Finally, eight can optionally wrap your standard streams and environment variable
I/O to use text, not bytes (see below).</p>
<a name="user-content-installation"/>
<h2><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h2>
<pre>pip install eight
</pre>
<a name="user-content-synopsis"/>
<h2><a id="user-content-synopsis" class="anchor" href="#synopsis" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Synopsis</h2>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> eight <span class="pl-k">import</span> <span class="pl-k">*</span>
<span class="pl-k">from</span> eight <span class="pl-k">import</span> queue
<span class="pl-k">from</span> eight.collections <span class="pl-k">import</span> UserList, deque</pre></div>
<p>If you use <code>print</code>, division, non-ASCII literals, or relative imports, you should also add this <a href="http://docs.python.org/3/library/__future__.html">future import</a> at the top of each source file:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> __future__ <span class="pl-k">import</span> (print_function, division, unicode_literals, absolute_import)</pre></div>
<a name="user-content-wrapping-stdio"/>
<h2><a id="user-content-wrapping-stdio" class="anchor" href="#wrapping-stdio" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Wrapping stdio</h2>
<p>Eight provides wrappers for <code>sys.stdin</code>, <code>sys.stdout</code>, and <code>sys.stderr</code> to make them (and methods that use them)
behave like they do on Python 3. Specifically, in Python 3 these streams accept text data, and their <code>.buffer</code> attributes
refer to the underlying streams that accept bytes. Eight uses the <a href="http://docs.python.org/2/library/io.html">io</a> module
to do the same for you, but subclasses the TextIOWrapper class for <code>sys.stdout</code> and <code>sys.stderr</code> to coerce non-unicode
input to unicode on Python 2 (otherwise, because of the Python 2 semantics, things like exception printing cease to work).</p>
<p>To enable stdio wrapping, use the following:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> eight
eight.wrap_stdio()</pre></div>
<p>To revert the effects of this on any of the streams, use the detach method, e.g. <code>sys.stdin = sys.stdin.detach()</code> (but
remember to condition this on <code>eight.USING_PYTHON2</code>). See the <a href="http://docs.python.org/2/library/io.html">io module documentation</a> for more information.</p>
<a name="user-content-decoding-command-line-arguments"/>
<h2><a id="user-content-decoding-command-line-arguments" class="anchor" href="#decoding-command-line-arguments" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Decoding command-line arguments</h2>
<p>Eight provides a utility function to decode the contents of <code>sys.argv</code> on Python 2 (as Python 3 does). It uses
<code>sys.stdin.encoding</code> as the encoding to do so:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> eight
eight.decode_command_line_args()</pre></div>
<p>The call to <code>decode_command_line_args()</code> replaces <code>sys.argv</code> with its decoded contents and returns the new contents.
On Python 3, the call is a no-op (it returns <code>sys.argv</code> and leaves it intact).</p>
<a name="user-content-wrapping-environment-variable-getters-and-setters"/>
<h2><a id="user-content-wrapping-environment-variable-getters-and-setters" class="anchor" href="#wrapping-environment-variable-getters-and-setters" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Wrapping environment variable getters and setters</h2>
<p>Eight provides utility wrappers to help bring Python 2 environment variable access and assignment in line with Python
3: encode the input to <code>os.putenv</code> (which is used for statements like <code>os.environ[x] = y</code>) and decode the output of
<code>os.getenv</code> (used for <code>x = os.environ[y]</code>). Use <code>wrap_os_environ_io()</code> to monkey-patch these wrappers into the
<code>os</code> module:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> eight
eight.wrap_os_environ_io()</pre></div>
<p>On Python 3, the call is a no-op.</p>
<a name="user-content-selecting-from-the-buffet"/>
<h2><a id="user-content-selecting-from-the-buffet" class="anchor" href="#selecting-from-the-buffet" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Selecting from the buffet</h2>
<p>You can see what <code>from eight import *</code> will do by running <a href="https://github.com/ipython/ipython">IPython</a> and typing
<code>import eight</code>, then <code>eight.&lt;TAB&gt;</code>. Here is a full list of what's available:</p>
<ul>
<li><code>ascii</code></li>
<li><code>bytes</code></li>
<li><code>chr</code></li>
<li><code>filter</code></li>
<li><code>hex</code></li>
<li><code>input</code></li>
<li><code>int</code></li>
<li><code>map</code></li>
<li><code>oct</code></li>
<li><code>open</code></li>
<li><code>range</code></li>
<li><code>round</code></li>
<li><code>str</code></li>
<li><code>super</code></li>
<li><code>zip</code></li>
</ul>
<p>You can import these symbols by listing them explicitly. If for any reason you see an issue with importing them all (which
is recommended), you can of course import a subset.</p>
<p>In addition to names imported by <code>from eight import *</code>, the following modules are available and should be imported by
name using <code>from eight import &lt;name&gt;</code> when needed:</p>
<ul>
<li><code>queue</code> (old name: <code>Queue</code>)</li>
<li><code>builtins</code> (old name: <code>__builtin__</code>)</li>
<li><code>copyreg</code> (old name: <code>copy_reg</code>)</li>
<li><code>configparser</code> (old name: <code>ConfigParser</code>)</li>
<li><code>reprlib</code> (old name: <code>repr</code>)</li>
<li><code>winreg</code> (old name: <code>_winreg</code>)</li>
<li><code>_thread</code> (old name: <code>thread</code>)</li>
<li><code>_dummy_thread</code> (old name: <code>dummy_thread</code>)</li>
</ul>
<p>The following modules have attributes which resided elsewhere in Python 2: TODO</p>
<a name="user-content-acknowledgments"/>
<h2><a id="user-content-acknowledgments" class="anchor" href="#acknowledgments" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Acknowledgments</h2>
<p><a href="https://github.com/PythonCharmers/python-future">Python-future</a> for doing a bunch of heavy lifting on backports of
Python 3 features.</p>
<a name="user-content-links"/>
<h2><a id="user-content-links" class="anchor" href="#links" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Links</h2>

<a name="user-content-bugs"/>
<h3><a id="user-content-bugs" class="anchor" href="#bugs" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Bugs</h3>
<p>Please report bugs, issues, feature requests, etc. on <a href="https://github.com/kislyuk/eight/issues">GitHub</a>.</p>
<a name="user-content-license"/>
<h2><a id="user-content-license" class="anchor" href="#license" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>License</h2>
<p>Licensed under the terms of the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.</p>
<a href="https://travis-ci.org/kislyuk/eight"><img src="https://camo.githubusercontent.com/0fddb306c79b130e9f9892460e204fa9bbca334b/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f6b69736c79756b2f65696768742e737667" data-canonical-src="https://img.shields.io/travis/kislyuk/eight.svg"/>
</a>
<a href="https://coveralls.io/r/kislyuk/eight?branch=master"><img src="https://camo.githubusercontent.com/ddecfbeb8531222de41778af70a10172723396a6/68747470733a2f2f696d672e736869656c64732e696f2f636f766572616c6c732f6b69736c79756b2f65696768742e737667" data-canonical-src="https://img.shields.io/coveralls/kislyuk/eight.svg"/>
</a>
<a href="https://pypi.python.org/pypi/eight"><img src="https://camo.githubusercontent.com/2d5103000535e20975ef5f49b595ba535031c3e4/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f65696768742e737667" data-canonical-src="https://img.shields.io/pypi/v/eight.svg"/>
</a>
<a href="https://pypi.python.org/pypi/eight"><img src="https://camo.githubusercontent.com/467d827621911798429c3c9ec7d639efa2f45256/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646d2f65696768742e737667" data-canonical-src="https://img.shields.io/pypi/dm/eight.svg"/>
</a>
<a href="https://pypi.python.org/pypi/eight"><img src="https://camo.githubusercontent.com/37960dfa89206a03ee0c7de949cd1bc49237e8a0/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f65696768742e737667" data-canonical-src="https://img.shields.io/pypi/l/eight.svg"/>
</a>
<a href="https://eight.readthedocs.org/"><img alt="https://readthedocs.org/projects/eight/badge/?version=latest" src="https://camo.githubusercontent.com/5643799467ad9654193278122e91a20d7f8f80f6/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f65696768742f62616467652f3f76657273696f6e3d6c6174657374" data-canonical-src="https://readthedocs.org/projects/eight/badge/?version=latest"/></a>

</article>
  </div></body></html>