<html><body><div><div class="content-box"><p>What do you call those people who don’t follow you back on Twitter? Celebrities? News outlets? Using the Python tweepy library, we will write a bot to easily unfollow non-followers from the command line.</p><p>First, log in to <a title="http://dev.twitter.com" href="http://dev.twitter.com" target="_blank">http://dev.twitter.com</a> and create a new application.</p><p>The create a file, <span id="crayon-56d5b39d5b9d6074487384" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-liberation-mono"><span class="crayon-pre crayon-code"><span class="crayon-v">keys</span><span class="crayon-sy">.</span><span class="crayon-v">py</span></span></span> , and fill it in with the appropriate information:</p><div id="crayon-56d5b39d5b9f4471736196" class="crayon-syntax crayon-theme-classic crayon-font-liberation-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover disable-anim"><p class="crayon-info"/><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b39d5b9f4471736196-1"><span class="crayon-v">keys</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">dict</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5b9f4471736196-2"><span class="crayon-h">    </span><span class="crayon-v">screen_name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'xxxxxxxxx'</span></p><p class="crayon-line" id="crayon-56d5b39d5b9f4471736196-3"><span class="crayon-h">    </span><span class="crayon-v">consumer_key</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">          </span><span class="crayon-s">'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5b9f4471736196-4"><span class="crayon-h">    </span><span class="crayon-v">consumer_secret</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">       </span><span class="crayon-s">'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-56d5b39d5b9f4471736196-5"><span class="crayon-h">    </span><span class="crayon-v">access_token</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">          </span><span class="crayon-s">'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5b9f4471736196-6"><span class="crayon-h">    </span><span class="crayon-v">access_token_secret</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">   </span><span class="crayon-s">'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-56d5b39d5b9f4471736196-7"><span class="crayon-sy">)</span></p></div></td></tr></table></div></div><p>Now create a file, <span id="crayon-56d5b39d5ba00525068976" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-liberation-mono"><span class="crayon-pre crayon-code"><span class="crayon-v">unfollow</span><span class="crayon-sy">.</span><span class="crayon-v">py</span></span></span> , and add the following(pun intended):</p><div id="crayon-56d5b39d5ba0a889618124" class="crayon-syntax crayon-theme-classic crayon-font-liberation-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover disable-anim"><p class="crayon-info"/><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-56d5b39d5ba0a889618124-1">1</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b39d5ba0a889618124-2">2</p><p class="crayon-num" data-line="crayon-56d5b39d5ba0a889618124-3">3</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b39d5ba0a889618124-4">4</p><p class="crayon-num" data-line="crayon-56d5b39d5ba0a889618124-5">5</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b39d5ba0a889618124-6">6</p><p class="crayon-num" data-line="crayon-56d5b39d5ba0a889618124-7">7</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b39d5ba0a889618124-8">8</p><p class="crayon-num" data-line="crayon-56d5b39d5ba0a889618124-9">9</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b39d5ba0a889618124-10">10</p><p class="crayon-num" data-line="crayon-56d5b39d5ba0a889618124-11">11</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b39d5ba0a889618124-12">12</p><p class="crayon-num" data-line="crayon-56d5b39d5ba0a889618124-13">13</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b39d5ba0a889618124-14">14</p><p class="crayon-num" data-line="crayon-56d5b39d5ba0a889618124-15">15</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b39d5ba0a889618124-16">16</p><p class="crayon-num" data-line="crayon-56d5b39d5ba0a889618124-17">17</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b39d5ba0a889618124-18">18</p><p class="crayon-num" data-line="crayon-56d5b39d5ba0a889618124-19">19</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b39d5ba0a889618124-20">20</p><p class="crayon-num" data-line="crayon-56d5b39d5ba0a889618124-21">21</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b39d5ba0a889618124-22">22</p></div></td><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b39d5ba0a889618124-1"><span class="crayon-c">#! /usr/bin/python</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba0a889618124-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">tweepy</span></p><p class="crayon-line" id="crayon-56d5b39d5ba0a889618124-3"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">keys </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">keys</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba0a889618124-4"> </p><p class="crayon-line" id="crayon-56d5b39d5ba0a889618124-5"><span class="crayon-v">SCREEN_NAME</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">keys</span><span class="crayon-sy">[</span><span class="crayon-s">'screen_name'</span><span class="crayon-sy">]</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba0a889618124-6"><span class="crayon-v">CONSUMER_KEY</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">keys</span><span class="crayon-sy">[</span><span class="crayon-s">'consumer_key'</span><span class="crayon-sy">]</span></p><p class="crayon-line" id="crayon-56d5b39d5ba0a889618124-7"><span class="crayon-v">CONSUMER_SECRET</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">keys</span><span class="crayon-sy">[</span><span class="crayon-s">'consumer_secret'</span><span class="crayon-sy">]</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba0a889618124-8"><span class="crayon-v">ACCESS_TOKEN</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">keys</span><span class="crayon-sy">[</span><span class="crayon-s">'access_token'</span><span class="crayon-sy">]</span></p><p class="crayon-line" id="crayon-56d5b39d5ba0a889618124-9"><span class="crayon-v">ACCESS_TOKEN_SECRET</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">keys</span><span class="crayon-sy">[</span><span class="crayon-s">'access_token_secret'</span><span class="crayon-sy">]</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba0a889618124-10"> </p><p class="crayon-line" id="crayon-56d5b39d5ba0a889618124-11"><span class="crayon-v">auth</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">tweepy</span><span class="crayon-sy">.</span><span class="crayon-e">OAuthHandler</span><span class="crayon-sy">(</span><span class="crayon-v">CONSUMER_KEY</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">CONSUMER_SECRET</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba0a889618124-12"><span class="crayon-v">auth</span><span class="crayon-sy">.</span><span class="crayon-e">set_access_token</span><span class="crayon-sy">(</span><span class="crayon-v">ACCESS_TOKEN</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ACCESS_TOKEN_SECRET</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b39d5ba0a889618124-13"><span class="crayon-v">api</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">tweepy</span><span class="crayon-sy">.</span><span class="crayon-e">API</span><span class="crayon-sy">(</span><span class="crayon-v">auth</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba0a889618124-14">  <span class="crayon-h"> </span> </p><p class="crayon-line" id="crayon-56d5b39d5ba0a889618124-15"><span class="crayon-v">followers</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">api</span><span class="crayon-sy">.</span><span class="crayon-e">followers_ids</span><span class="crayon-sy">(</span><span class="crayon-v">SCREEN_NAME</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba0a889618124-16"><span class="crayon-v">friends</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">api</span><span class="crayon-sy">.</span><span class="crayon-e">friends_ids</span><span class="crayon-sy">(</span><span class="crayon-v">SCREEN_NAME</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b39d5ba0a889618124-17"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba0a889618124-18"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">f</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">friends</span><span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b39d5ba0a889618124-19">   <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-i">f</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">followers</span><span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba0a889618124-20">       <span class="crayon-h"> </span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"Unfollow {0}?"</span><span class="crayon-sy">.</span><span class="crayon-k ">format</span><span class="crayon-sy">(</span><span class="crayon-v">api</span><span class="crayon-sy">.</span><span class="crayon-e">get_user</span><span class="crayon-sy">(</span><span class="crayon-v">f</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">screen_name</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b39d5ba0a889618124-21">       <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-k ">raw_input</span><span class="crayon-sy">(</span><span class="crayon-s">"Y/N?"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'y'</span><span class="crayon-h"> </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-s">'Y'</span><span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba0a889618124-22">           <span class="crayon-h"> </span><span class="crayon-v">api</span><span class="crayon-sy">.</span><span class="crayon-e">destroy_friendship</span><span class="crayon-sy">(</span><span class="crayon-v">f</span><span class="crayon-sy">)</span></p></div></td></tr></table></div></div><p>To run it from the command line:</p><p>You will be prompted to unfollow the non-followers you are currently following. Goodbye, parasites!</p><p>Let’s step through it.</p><p>The first few blocks should be familiar to you by now: we import tweepy, our keys, and connect to the Twitter API. In the next two blocks perform a similar role, we create lists, and populate them with followers and friends.</p><div id="crayon-56d5b39d5ba1e105711760" class="crayon-syntax crayon-theme-classic crayon-font-liberation-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover disable-anim"><p class="crayon-info"/><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b39d5ba1e105711760-1"><span class="crayon-v">followers</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">api</span><span class="crayon-sy">.</span><span class="crayon-e">followers_ids</span><span class="crayon-sy">(</span><span class="crayon-v">SCREEN_NAME</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba1e105711760-2"><span class="crayon-v">friends</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">api</span><span class="crayon-sy">.</span><span class="crayon-e">friends_ids</span><span class="crayon-sy">(</span><span class="crayon-v">SCREEN_NAME</span><span class="crayon-sy">)</span></p></div></td></tr></table></div></div><p>Next, we iterate over  <span id="crayon-56d5b39d5ba28405690472" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-liberation-mono"><span class="crayon-pre crayon-code"><span class="crayon-v">friends</span></span></span>  and use an if statement to check whether or not each element of friends is in <span id="crayon-56d5b39d5ba31253579281" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-liberation-mono"><span class="crayon-pre crayon-code"><span class="crayon-v">followers</span></span></span> . Before we destroy the friendship, we ask for verification.</p><div id="crayon-56d5b39d5ba3a819223688" class="crayon-syntax crayon-theme-classic crayon-font-liberation-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover disable-anim"><p class="crayon-info"/><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b39d5ba3a819223688-1"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">f</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">friends</span><span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba3a819223688-2"><span class="crayon-h">    </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-i">f</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">followers</span><span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b39d5ba3a819223688-3"><span class="crayon-h">        </span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"Unfollow {0}?"</span><span class="crayon-sy">.</span><span class="crayon-k ">format</span><span class="crayon-sy">(</span><span class="crayon-v">api</span><span class="crayon-sy">.</span><span class="crayon-e">get_user</span><span class="crayon-sy">(</span><span class="crayon-v">f</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">screen_name</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b39d5ba3a819223688-4"><span class="crayon-h">        </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-k ">raw_input</span><span class="crayon-sy">(</span><span class="crayon-s">"Y/N?"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'y'</span><span class="crayon-h"> </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-s">'Y'</span><span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b39d5ba3a819223688-5"><span class="crayon-h">            </span><span class="crayon-v">api</span><span class="crayon-sy">.</span><span class="crayon-e">destroy_friendship</span><span class="crayon-sy">(</span><span class="crayon-v">f</span><span class="crayon-sy">)</span></p></div></td></tr></table></div></div><p>It’s a simple matter of setting this up to run automatically with a cron job. That’s against Twitter’s Best Practices, so I’ll leave you to figure it out for yourself.</p></div></div></body></html>