<html><body><div><body id="readabilityBody">
   <h1>Efforts to support MSVC 14.0</h1>
    <b>Michael Stahl</b> 
    <a href="mailto:libreoffice%40lists.freedesktop.org?Subject=Re%3A%20Efforts%20to%20support%20MSVC%2014.0&amp;In-Reply-To=%3Cmspkff%24de7%241%40ger.gmane.org%3E" title="Efforts to support MSVC 14.0">mstahl at redhat.com
       </a><br/>
    <i>Wed Sep  9 08:50:07 PDT 2015</i>
    <p/>
    <hr/>  

<pre>On 07.09.2015 08:43, David Ostrovsky wrote:
&gt;<i> * Python 3.5 upgrade is needed to support new compiler: [3]. I don't
</i>&gt;<i> have access to Mac OS X atm. Can someone check why Jenkins job on this
</i>&gt;<i> platform is failing: [4]? Moreover new Python release has announced to
</i>&gt;<i> discontinue support for older MS compilers (VS 2013). We never dropped
</i>&gt;<i> support for older compiler during introduction of a new one, right? Or
</i>&gt;<i> would this be a option?
</i>
as Norbert already said, a "flag day" to require new compiler is not an
option.

unfortunately CPython 3.5 has removed the project files for older MSVC
versions. (btw, there is an RC3 already now)

this leaves several bad options to deal with the transition:

1. bundle 2 different pythons depending on MSVC version (eek!)

   these would have different sets of patches, and the build system
   would probably need to check PYTHON_VERSION_MINOR in some places
   to do different things.

2. patch in the old PCbuild dir from a previous release as PC/VS10.0
   dir (eek!)

   it looks like that was removed with the following changeset:

   changeset:   93858:5754f069b123
   user:        Steve Dower &lt;<a href="http://lists.freedesktop.org/mailman/listinfo/libreoffice">steve.dower at microsoft.com</a>&gt;
   date:        Sat Nov 22 12:54:57 2014 -0800
   summary:     Issue #22919: Windows build updated to support VC 14.0
(Visual Studio 2015), which will be used for the official 3.5 release.

   no idea how much work that would be and how many refactorings
   that happened upstream since November aren't reflected in the
   deleted project files.

3. always --disable-python for now on MSVC2015 builds

   we can switch at a later point, when we switch the release builds
   to MSVC 2015 (and then enforce --disable-python for MSVC2013).

   or do it temporarily until we decide to do 1. or 2. :)

   of course nothing prevents having the patch in gerrit
   to upgrade to python 3.5 for those using MSVC2015.

so which option is the least bad?  hard to predict which of 1. or 2.
would be more work.

</pre>

























    <hr/>
    <p/>

<hr/>
<a href="http://lists.freedesktop.org/mailman/listinfo/libreoffice">More information about the LibreOffice
mailing list</a><br/>
</body></div></body></html>