<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-flask-google-maps" class="anchor" href="#flask-google-maps" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Flask Google Maps</h1>

<p><a href="https://github.com/pocoo/metaflask"><img src="https://camo.githubusercontent.com/57ad09c50c21213b51bbdc16500bdc576d2e2187/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f666c61736b2d726567697374657265642d677265656e2e7376673f7374796c653d666c6174" alt="Flask Registered" data-canonical-src="https://img.shields.io/badge/flask-registered-green.svg?style=flat"/></a>
<a target="_blank" href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=rochacbruno%40gmail%2ecom&amp;lc=BR&amp;item_name=FlaskGoogleMaps&amp;no_note=0&amp;currency_code=USD&amp;bn=PP%2dDonationsBF%3abtn_donate_SM%2egif%3aNonHostedGuest"><img alt="Donate with Paypal" src="https://camo.githubusercontent.com/ad67877fff8b4e2fcfdb8ed7f80fd474a316e1c8/687474703a2f2f7777772e70617970616c6f626a656374732e636f6d2f656e5f55532f692f62746e2f62746e5f646f6e6174655f534d2e676966" data-canonical-src="http://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif"/></a></p>

<p>Easy to use Google Maps in your Flask application</p>

<h3><a id="user-content-requires" class="anchor" href="#requires" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>requires</h3>

<ul>
<li>Jinja</li>
<li>Flask</li>
<li>A google api key (optional I guess)</li>
</ul>

<h3><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h3>

<p><code>pip install flask-googlemaps</code></p>

<p>or</p>

<div class="highlight highlight-source-shell"><pre>git clone https://github.com/rochacbruno/Flask-GoogleMaps
<span class="pl-c1">cd</span> Flask-GoogleMaps
python setup.py install</pre></div>

<h3><a id="user-content-how-it-works" class="anchor" href="#how-it-works" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>How it works</h3>

<p>Flask-GoogleMaps includes some global functions and template filters in your Jinja environment, also it allows you to use the Map in views if needed.</p>

<h4><a id="user-content-registering" class="anchor" href="#registering" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>registering</h4>

<p>in your app</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> flask <span class="pl-k">import</span> Flask
<span class="pl-k">from</span> flask_googlemaps <span class="pl-k">import</span> GoogleMaps

app <span class="pl-k">=</span> Flask(<span class="pl-c1">__name__</span>)
GoogleMaps(app)</pre></div>

<p>In template</p>

<div class="highlight highlight-text-html-basic"><pre>{{googlemap("my_awesome_map", lat=0.23234234, lng=-0.234234234, markers=[(0.12, -0.45345), ...])}}</pre></div>

<p>That's it! now you have some template filters and functions to use, more details in examples and screenshot below.</p>

<h3><a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Usage</h3>

<ul>
<li>You can create the map in the view and then send to the template context</li>
<li>you can use the template functions and filters directly</li>
</ul>

<h4><a id="user-content-1-view" class="anchor" href="#1-view" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>1. View</h4>

<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> flask <span class="pl-k">import</span> Flask, render_template
<span class="pl-k">from</span> flask_googlemaps <span class="pl-k">import</span> GoogleMaps
<span class="pl-k">from</span> flask_googlemaps <span class="pl-k">import</span> Map

app <span class="pl-k">=</span> Flask(<span class="pl-c1">__name__</span>, <span class="pl-v">template_folder</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>.<span class="pl-pds">"</span></span>)
GoogleMaps(app)

<span class="pl-en">@app.route</span>(<span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>)
<span class="pl-k">def</span> <span class="pl-en">mapview</span>():
    <span class="pl-c"># creating a map in the view</span>
    mymap <span class="pl-k">=</span> Map(
        <span class="pl-v">identifier</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>view-side<span class="pl-pds">"</span></span>,
        <span class="pl-v">lat</span><span class="pl-k">=</span><span class="pl-c1">37.4419</span>,
        <span class="pl-v">lng</span><span class="pl-k">=</span><span class="pl-k">-</span><span class="pl-c1">122.1419</span>,
        <span class="pl-v">markers</span><span class="pl-k">=</span>[(<span class="pl-c1">37.4419</span>, <span class="pl-k">-</span><span class="pl-c1">122.1419</span>)]
    )
    sndmap <span class="pl-k">=</span> Map(
        <span class="pl-v">identifier</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>sndmap<span class="pl-pds">"</span></span>,
        <span class="pl-v">lat</span><span class="pl-k">=</span><span class="pl-c1">37.4419</span>,
        <span class="pl-v">lng</span><span class="pl-k">=</span><span class="pl-k">-</span><span class="pl-c1">122.1419</span>,
        <span class="pl-v">markers</span><span class="pl-k">=</span>{<span class="pl-s"><span class="pl-pds">'</span>http://maps.google.com/mapfiles/ms/icons/green-dot.png<span class="pl-pds">'</span></span>:[(<span class="pl-c1">37.4419</span>, <span class="pl-k">-</span><span class="pl-c1">122.1419</span>)],
                 <span class="pl-s"><span class="pl-pds">'</span>http://maps.google.com/mapfiles/ms/icons/blue-dot.png<span class="pl-pds">'</span></span>:[(<span class="pl-c1">37.4300</span>, <span class="pl-k">-</span><span class="pl-c1">122.1400</span>)]}
    )
    <span class="pl-k">return</span> render_template(<span class="pl-s"><span class="pl-pds">'</span>example.html<span class="pl-pds">'</span></span>, <span class="pl-v">mymap</span><span class="pl-k">=</span>mymap, <span class="pl-v">sndmap</span><span class="pl-k">=</span>sndmap)

<span class="pl-k">if</span> <span class="pl-c1">__name__</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>__main__<span class="pl-pds">"</span></span>:
    app.run(<span class="pl-v">debug</span><span class="pl-k">=</span><span class="pl-c1">True</span>)</pre></div>

<h5><a id="user-content-map-parameters" class="anchor" href="#map-parameters" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a><code>Map()</code> Parameters:</h5>

<ul>
<li><strong>lat</strong>: The latitude coordinate for centering the map.</li>
<li><strong>lng</strong>: The longitutde coordinate for centering the map.</li>
<li><strong>zoom</strong>: The zoom level. Defaults to <code>13</code>.</li>
<li><strong>maptype</strong>: The map type - <code>ROADMAP</code>, <code>SATELLITE</code>, <code>HYBRID</code>, <code>TERRAIN</code>. Defaults to <code>ROADMAP</code>.</li>
<li><strong>markers</strong>: Markers array. Defaults to <code>None</code>.</li>
<li>or <strong>markers</strong>: Markers dictionary with icon urls as keys and markers array as values.<br/></li>
<li><strong>varname</strong>: The instance variable name.</li>
<li><strong>style</strong>: A string containing CSS styles. Defaults to <code>"height:300px;width:300px;margin:0;"</code>.</li>
<li><strong>identifier</strong>: The CSS ID selector name.</li>
<li><strong>cls</strong>: The CSS Class selector name. Defaults to <code>"map"</code>.</li>
</ul>

<h4><a id="user-content-2-template" class="anchor" href="#2-template" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>2. Template</h4>

<div class="highlight highlight-text-html-basic"><pre>&lt;!DOCTYPE html&gt;
    &lt;<span class="pl-ent">html</span>&gt;
    &lt;<span class="pl-ent">head</span>&gt;
            {{"decoupled-map"|googlemap_js(37.4419, -122.1419, markers=[(37.4419, -122.1419)])}}
            {{mymap.js}}
            {{sndmap.js}}
    &lt;/<span class="pl-ent">head</span>&gt;
    &lt;<span class="pl-ent">body</span>&gt;
        &lt;<span class="pl-ent">h1</span>&gt;Flask Google Maps Example&lt;/<span class="pl-ent">h1</span>&gt;

        &lt;<span class="pl-ent">h2</span>&gt; Template function centered, no marker &lt;/<span class="pl-ent">h2</span>&gt;
        {{googlemap("simple-map", 37.4419, -122.1419)}}

        &lt;<span class="pl-ent">h2</span>&gt; Template filter decoupled with single marker &lt;/<span class="pl-ent">h2</span>&gt;
        {{"decoupled-map"|googlemap_html(37.4419, -122.1419)}}


        &lt;<span class="pl-ent">h2</span>&gt; Template function with multiple markers &lt;/<span class="pl-ent">h2</span>&gt;
        {% with map=googlemap_obj("another-map", 37.4419, -122.1419, markers=[(37.4419, -122.1419), (37.4300, -122.1400)]) %}
            {{map.html}}
            {{map.js}}
        {% endwith %}

        &lt;<span class="pl-ent">h2</span>&gt; First map generated in view&lt;/<span class="pl-ent">h2</span>&gt;
        {{mymap.html}}

        &lt;<span class="pl-ent">h2</span>&gt; Second map generated in view&lt;/<span class="pl-ent">h2</span>&gt;
        &lt;<span class="pl-ent">h3</span>&gt; Example for different icons in multiple markers&lt;/<span class="pl-ent">h3</span>&gt;
        {{sndmap.html}}

    &lt;/<span class="pl-ent">body</span>&gt;
&lt;/<span class="pl-ent">html</span>&gt;
</pre></div>

<h3><a id="user-content-screenshot" class="anchor" href="#screenshot" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Screenshot</h3>

<p><a href="/rochacbruno/Flask-GoogleMaps/blob/master/screenshot.png" target="_blank"><img src="/rochacbruno/Flask-GoogleMaps/raw/master/screenshot.png"/></a></p>

<h3><a id="user-content-infobox" class="anchor" href="#infobox" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Infobox</h3>

<p>Users should now be able to create infoboxes in python and have them displayed in a map. You can specify the optional argument <code>infobox</code> when creating a <code>Map</code> instance to have infoboxes for markers enabled. Pass in normal text or html to this parameter to format the infobox. I have provided an example where I pass in a list of images assigned to various lat/longs. There is also support for a single string value for infobox (so if you have four markers but only specify one string value for infobox, all markers will have the same infobox). This required some...umm...jankification as jinja2 has no builtin for <code>type()</code> to check if <code>infobox</code> is a list or string. I ended up creating a flag and checking it in <code>__init__.py</code>. </p>

<p>Here's an example snippet of code: 
<a href="https://cloud.githubusercontent.com/assets/8108300/8969636/01994d80-3602-11e5-80ba-e0aa707b63a3.png" target="_blank"><img alt="screen shot 2015-07-29 at 2 55 53 pm" src="https://cloud.githubusercontent.com/assets/8108300/8969636/01994d80-3602-11e5-80ba-e0aa707b63a3.png"/></a></p>

<p>Which results in the following map:
<a href="https://cloud.githubusercontent.com/assets/8108300/8969650/13b0de7a-3602-11e5-9ed0-9f328ac9253f.png" target="_blank"><img alt="screen shot 2015-07-29 at 2 41 52 pm" src="https://cloud.githubusercontent.com/assets/8108300/8969650/13b0de7a-3602-11e5-9ed0-9f328ac9253f.png"/></a></p>

<h3><a id="user-content-todo" class="anchor" href="#todo" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>TODO:</h3>

<p>Implement other methods from the api, add layers etc...</p>

<p><a href="https://bitdeli.com/free" title="Bitdeli Badge"><img src="https://camo.githubusercontent.com/3baab38b476cfd35fb632d03c97ea0e3268dd260/68747470733a2f2f64327765637a68766c38323376302e636c6f756466726f6e742e6e65742f726f636861636272756e6f2f666c61736b2d676f6f676c656d6170732f7472656e642e706e67" alt="Bitdeli Badge" data-canonical-src="https://d2weczhvl823v0.cloudfront.net/rochacbruno/flask-googlemaps/trend.png"/></a></p>
</article>
  </div></body></html>