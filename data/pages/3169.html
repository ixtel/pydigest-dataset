<html><body><div><div class="window-body">
<pre data-line="" class="line-numbers code-output" id="codeone">
<code class="prism-code language-python">
import urllib2
import json

def getIPAddress(api_key,ip_address):
    api_endpoint = "http://api.ipinfodb.com/v3/ip-city/?key=" +api_key+"&amp;ip="+ip_address+"&amp;format=json"
    try:
        api_response = urllib2.urlopen(api_endpoint)
        try:
            return json.loads(api_response.read())
        except (ValueError, KeyError, TypeError):
            return "JSON format error"
    
    except IOError, e:
        if hasattr(e, 'code'):
            return e.code
        elif hasattr(e, 'reason'):
            return e.reason

api_key = "YOUR_API_KEY" 
ip_address = "IP_ADDRESS"

data = getIPAddress(api_key,ip_address)
#print data
if data['statusCode'] == "OK":
    print "IP: "+ ip_address
    print "API Status:"+ data['statusCode']
    print "Country:"+ data['countryName']
    print "Region:"+ data['regionName']
    print "City:"+ data['cityName']
    print "Latitude:"+ data['latitude']
    print "Longitude:"+ data['longitude']
else:
    print data['statusCode']
    print data['statusMessage']
</code>
</pre>
</div></div></body></html>