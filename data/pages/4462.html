<html><body><div><div class="post-body entry-content"><p>
By </p><a href="http://www.dancingbison.com">Vasudev Ram</a><p/><a href=""/>

<p>
Near the end of a recent blog post:

</p><a href="http://jugad2.blogspot.in/2015/04/asciiflowcom-draw-flowcharts-online-in.html">asciiflow.com: Draw flowcharts online, in ASCII</a>
<p>
, I showed how this small snippet of Python code can be used to make a Python program usable as a component in a Unix pipeline:
</p><pre>for lin in sys.stdin:
    sys.stdout.write(process(lin))
</pre>
<p>
Today I saw </p><a href="https://mobile.twitter.com/raymondh">Raymond Hettinger</a><p> (@raymondh)'s </p><a href="https://mobile.twitter.com/raymondh/status/586361353805369345?p=v">tweet</a><p> about the </p><a href="https://docs.python.org/2/using/cmdline.html"><b>-t</b> and <b>-tt</b></a> <b>command line options</b><p> of Python:
</p><pre>#python tip: In Python 2, the -tt option raises an error when you foolishly mix spaces and tabs. In Python 3, that is always an error.
</pre><p>That made me think of writing a simple Python 2 tool to change the tabs in a Python file to spaces. Yes, I know it can be easily done in </p><b>Unix or Windix</b><p> [1] with any of </p><b>sed / awk / tr</b><p> etc. That's not the point. So here is </p><b>tabtospaces.py</b><p>:
</p><pre>import sys
for lin in sys.stdin:
    sys.stdout.write(lin.replace("\t", "    "))
</pre><p>[ Note: this code converts each tab into 4 spaces. It can be parameterized by passing a </p><a href="http://jugad2.blogspot.in/2014/09/my-ibm-developerworks-article.html">command-line</a><p> option that specifies the number of spaces, such as 4 or 8, and then replacing each tab with that many spaces. Also note that I have not tested the program on many sets of data, just one for now. ]
</p><p>
I created a simple Python file, </p><b>test1.py</b><p>, that has mixed tabs and spaces to use as input to tabtospaces.py. Then I ran the following commands:
</p><pre>$ py -tt test1.py
  File "test1.py", line 4
    print arg,
              ^
TabError: inconsistent use of tabs and spaces in indentation

$ py tabtospaces.py  test2.py

$ py -tt test2.py
0 1 2 3 4 5 6 7 8 9
</pre><p>which shows that tabtospaces.py does convert the tabs to spaces.
</p><p>
And you can see from this diff that the original test1.py and the test2.py generated by tabtospaces.py, differ only in the use of tabs vs. spaces:
</p><pre>$ fc /l test1.py test2.py
Comparing files test1.py and TEST2.PY
***** test1.py
    for arg in args:
                print arg,

***** TEST2.PY
    for arg in args:
        print arg,

*****
</pre><p>
[1] </p><b>Windix</b><p> is the </p><b>latest</b><p> upcoming </p><b>Unix-compatible OS</b><p> from </p><b>M$</b><p>, due Real Soon Now. You heard it here first - </p><b>TM</b><p>.

</p><p/><p>- </p><a href="http://jugad2.blogspot.in/p/about-vasudev-ram.html">Vasudev Ram - Online Python training and  programming</a> <p/><p>Dancing Bison Enterprises</p><p/><p/><b><a href="mailto:vasudevram@gmail.com?subject=Email%20me%20about%20your%20new%20products%20and%20services">Signup to hear about new software products or info-products that I create.</a></b> <p/><a href="http://jugad2.blogspot.com/search/label/python">Posts about Python</a>  <a href="http://jugad2.blogspot.com/search/label/xtopdf">Posts about xtopdf</a> <p/><a href="http://www.dancingbison.com/contact.html">Contact Page</a> <p/>   
<p/>
</div>
</div></body></html>