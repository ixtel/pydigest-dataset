<html><body><div><div itemprop="articleBody"><p>Well, might be not, might be the fact i'm just doing it wrong. I'm using flex 2.</p><p>So here is the problem: I want to add sounds to buttons and whatever from css in a similar fasion to skinning. I have a mess of all sorts of buttons everywhere and I don't want to patch all of them with a mouseOverEffect, mouseUpEffect or whatever.</p><p>I would think having a <tt class="docutils literal">&lt;mx:SoundEffect <span class="pre">source="@Embed(source='blabla.mp3')"</span> <span class="pre">id="foo"</span> /&gt;</tt> would make this snippet work (but it doesn't):</p><div class="highlight"><pre><span/><span class="nx">Button</span> <span class="p">{</span>
    <span class="nx">mouseOverEffect</span><span class="o">:</span> <span class="nx">foo</span><span class="o">;</span> <span class="cm">/* neither does "foo" */</span>
<span class="p">}</span>
</pre></div><p>So what to do? StyleManager and CSSStyleDeclaration perhaps.</p><div class="highlight"><pre><span/><span class="k">var</span> <span class="nx">myDynStyle</span><span class="o">:</span><span class="nx">CSSStyleDeclaration</span><span class="o">;</span>
<span class="nx">myDynStyle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CSSStyleDeclaration</span><span class="p">(</span><span class="s1">'Button'</span><span class="p">);</span>
<span class="nx">myDynStyle</span><span class="p">.</span><span class="nx">setStyle</span><span class="p">(</span><span class="s2">"mouseUpEffect"</span><span class="o">,</span> <span class="nx">Sounds</span><span class="p">.</span><span class="nx">clickButtonEffect</span><span class="p">);</span>
<span class="nx">StyleManager</span><span class="p">.</span><span class="nx">setStyleDeclaration</span><span class="p">(</span><span class="s2">"Button"</span><span class="o">,</span> <span class="nx">myDynStyle</span><span class="o">,</span> <span class="kc">true</span><span class="p">);</span>
</pre></div><div class="line-block"><p class="line">This is very cool. Allows me to set behaviors (via Effects) on</p><p class="line">whatever object classes.</p></div><p>I've discovered by accident that setting those effect props to some bogus values in the css beforehand (like <tt class="docutils literal">Button { mouseUpEffect: none; }</tt>) makes that programmatic styling work.</p><p>I wonder if this is a flex bug, though by the looks of it seems that is a compile-time vs run-time issue - some stuff that makes the effect work on the buttons is setted only on compile time?</p></div></div></body></html>