<html><body><div><p>A trie structure supporting fuzzy string searches.</p>








<div id="usage">
<h2>Usage</h2>
<p>Create a trie:</p>
<pre>&gt;&gt;&gt; from vtrie import Trie
&gt;&gt;&gt; t = Trie()
</pre>
<p>Add strings to the trie. Currently, only ascii strings are supported:</p>
<pre>&gt;&gt;&gt; t[b"Hello"] = 123
&gt;&gt;&gt; t[b"World"] = {"my": "dict"}
&gt;&gt;&gt; t[b"foo"] = None
</pre>
<p>Check if “Hello” is in the trie:</p>
<pre>&gt;&gt;&gt; b"Hello" in t
True
</pre>
<p>Show all inserted strings sharing the same prefix:</p>
<pre>&gt;&gt;&gt; t[b"foo"] = 0
&gt;&gt;&gt; t[b"foobar"] = 1
&gt;&gt;&gt; t[b"fooo"] = 2
&gt;&gt;&gt; t[b"hello"] = 3
&gt;&gt;&gt; list(t.suffixes(b"fo"))
[('o', 0), ('obar', 1), ('oo', 2)]
</pre>
<p>Search for keys that differ by less than a given number of substitutions from
the provided key. The results are tuples with first the Hamming distance
between the given key and the found key, then the found key and its value:</p>
<pre>&gt;&gt;&gt; t[b"hello world"] = 0
&gt;&gt;&gt; t[b"*ello world"] = "a"
&gt;&gt;&gt; t[b"*ell* world"] = "b"
&gt;&gt;&gt; t[b"*ell* w*rld"] = "c"
&gt;&gt;&gt; t[b"hell* w*rl*"] = "d"
&gt;&gt;&gt; list(t.neighbors(b"hello world", maxhd = 1))
[(1, '*ello world', 'a')]
&gt;&gt;&gt; list(t.neighbors(b"hello world", maxhd = 2))
[(1, '*ello world', 'a'), (2, '*ell* world', 'b')]
&gt;&gt;&gt; print("\n".join(map(str,list(t.neighbors(b"hello world", 3)))))
(3, 'hell* w*rl*', 'd')
(1, '*ello world', 'a')
(2, '*ell* world', 'b')
(3, '*ell* w*rld', 'c')
</pre>
<p>Search for all keys of a certain length that are within a certain Hamming of
each other. The results are tuples with first the Hamming distance between the
found keys, then the first key and its value, and then the second key and
its value:</p>
<pre>&gt;&gt;&gt; print("\n".join(map(str,list(t.pairs(keylen = 11, maxhd = 2)))))
(1, 'hello world', 0, '*ello world', 'a')
(2, 'hello world', 0, '*ell* world', 'b')
(2, 'hell* w*rl*', 'd', '*ell* w*rld', 'c')
(1, '*ello world', 'a', '*ell* world', 'b')
(2, '*ello world', 'a', '*ell* w*rld', 'c')
(1, '*ell* world', 'b', '*ell* w*rld', 'c')
</pre>
</div>


</div></body></html>