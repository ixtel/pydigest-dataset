<html><body><div><div class="post-text" itemprop="text">

<p>I have the following setup - </p>

<p><strong>folders structure</strong>:</p>

<pre><code>myapp
  - conf
    - locale
      - ru
        - LC_MESSAGES
          - django.mo # contains "This is the title." translation
          - django.po
  - templates
    - index.html
  setting.py
  main.py
</code></pre>

<p><strong>app.yaml</strong>:</p>

<pre><code>...
env_variables:
 DJANGO_SETTINGS_MODULE: 'settings'

handlers:
...
- url: /locale/ # do I need this?
  static_dir: templates/locale

libraries:
- name: django
  version: "1.5"
</code></pre>

<p><strong>settings.py</strong>:</p>

<pre><code>USE_I18N = True

LANGUAGES = (
    ('en', 'EN'),
    ('ru', 'RU'),
)

LANGUAGE_CODE = 'ru'
LANGUAGE_COOKIE_NAME = 'django_language'

SECRET_KEY = 'some-dummy-value'

MIDDLEWARE_CLASSES = (
  'django.middleware.locale.LocaleMiddleware'
)

LOCALE_PATHS = (
    '/locale',
    '/templates/locale',
)
</code></pre>

<p><strong>index.html</strong>:</p>

<pre><code>{% load i18n %}
...
{% trans "This is the title." %}
</code></pre>

<p>and <strong>main.py</strong>:</p>

<pre><code>from google.appengine.ext.webapp import template
...
translation.activate('ru')
template_values = {}
file_template = template.render('templates/index.html', template_values)
self.response.out.write(file_template)
</code></pre>

<p>But in result <code>"This is the title."</code> is displayed in English. What is wrong with my setup (or files location)?</p>
    </div>
    </div></body></html>