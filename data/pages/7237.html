<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-libtree" class="anchor" href="#libtree" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>libtree</h1>

<p><a href="https://travis-ci.org/conceptsandtraining/libtree"><img src="https://camo.githubusercontent.com/cc6425195b726820ea1e4bc4cc8e81bafbd78abf/68747470733a2f2f7472617669732d63692e6f72672f636f6e6365707473616e64747261696e696e672f6c6962747265652e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/conceptsandtraining/libtree.svg?branch=master"/></a>
<a href="https://coveralls.io/github/conceptsandtraining/libtree?branch=master"><img src="https://camo.githubusercontent.com/f0de5bb92b456c2e47286a41f0bc4450372cfb3a/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f636f6e6365707473616e64747261696e696e672f6c6962747265652f62616467652e7376673f6272616e63683d6d617374657226736572766963653d676974687562" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/conceptsandtraining/libtree/badge.svg?branch=master&amp;service=github"/></a>
<a href="https://scrutinizer-ci.com/g/conceptsandtraining/libtree/?branch=master"><img src="https://camo.githubusercontent.com/c620ae432fb21a36cbbc183d629ae6d954f69dbd/68747470733a2f2f7363727574696e697a65722d63692e636f6d2f672f636f6e6365707473616e64747261696e696e672f6c6962747265652f6261646765732f7175616c6974792d73636f72652e706e673f623d6d6173746572" alt="Scrutinizer Code Quality" data-canonical-src="https://scrutinizer-ci.com/g/conceptsandtraining/libtree/badges/quality-score.png?b=master"/></a>
<a href="https://libtree.readthedocs.org/en/latest/?badge=latest"><img src="https://camo.githubusercontent.com/0fba465d2fcd799c8bf6ec5f3742185603751555/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f6c6962747265652f62616467652f3f76657273696f6e3d6c6174657374" alt="Documentation Status" data-canonical-src="https://readthedocs.org/projects/libtree/badge/?version=latest"/></a></p>

<p><strong>libtree</strong> is a Python library which assists you in dealing with <strong>large,
hierarchical data sets</strong>. It runs on top of <strong>PostgreSQL 9.4</strong> and is
compatible with <strong>all major Python interpreters</strong> (2.7, 3.3-3.5, PyPy2
and PyPy3).</p>

<p>Why use <strong>libtree</strong>? Because...</p>

<ul>
<li>the usage is <strong>super simple</strong></li>
<li>it scales up to <strong>billions of nodes</strong></li>
<li>the reads and writes are <strong>blazingly fast</strong></li>
<li>it supports <strong>attribute inheritance</strong></li>
</ul>

<p>But there's even more, <strong>libtree</strong>...</p>

<ul>
<li>offers <strong>thread-safety</strong> by working inside transactions</li>
<li>enforces <strong>integrity</strong> by moving tree logic to inside the database</li>
<li>provides a <strong>convenient</strong> high level API and <strong>fast</strong> low level functions</li>
<li>core is <strong>fully integration tested</strong>, the testsuite covers <strong>&gt;90%</strong> of the code</li>
</ul>

<h1><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h1>

<p>Install <strong>libtree</strong> directly via <code>pip</code>:</p>



<h1><a id="user-content-quickstart" class="anchor" href="#quickstart" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Quickstart</h1>

<p>Start the interactive Python interpreter of your choice to start working with
<strong>libtree</strong>:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c"># Imports</span>
<span class="pl-k">from</span> libtree <span class="pl-k">import</span> Tree
<span class="pl-k">import</span> psycopg2

<span class="pl-c"># Connect to PostgreSQL</span>
connection <span class="pl-k">=</span> psycopg2.connect(<span class="pl-s"><span class="pl-pds">"</span>dbname=test_tree user=vortec<span class="pl-pds">"</span></span>)
tree <span class="pl-k">=</span> Tree(connection)

<span class="pl-c"># Start working with libtree inside a database transaction</span>
<span class="pl-k">with</span> tree() <span class="pl-k">as</span> transaction:

    <span class="pl-c"># Create tables</span>
    transaction.install()

    <span class="pl-c"># Create nodes</span>
    root <span class="pl-k">=</span> transaction.insert_root_node()
    binx <span class="pl-k">=</span> root.insert_child({<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Binary folder<span class="pl-pds">'</span></span>})
    bash <span class="pl-k">=</span> binx.insert_child({<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Bash executable<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>chmod<span class="pl-pds">'</span></span>: <span class="pl-c1">755</span>})
    etc <span class="pl-k">=</span> root.insert_child({<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Config folder<span class="pl-pds">'</span></span>})
    hosts <span class="pl-k">=</span> etc.insert_child({<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Hosts file<span class="pl-pds">'</span></span>})
    passwd <span class="pl-k">=</span> etc.insert_child({<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Password file<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>chmod<span class="pl-pds">'</span></span>: <span class="pl-c1">644</span>})

    <span class="pl-c"># Direct attribute access</span>
    root.children  <span class="pl-c"># =&gt; binx, etc</span>
    <span class="pl-c1">len</span>(root)  <span class="pl-c"># =&gt; 2</span>
    binx.parent  <span class="pl-c"># =&gt; root</span>
    bash.ancestors  <span class="pl-c"># =&gt; binx, root</span>
    root.descendants  <span class="pl-c"># =&gt; binx, bash, etc, hosts, passwd</span>

    <span class="pl-c"># Query by property</span>
    transaction.get_nodes_by_property_key(<span class="pl-s"><span class="pl-pds">'</span>chmod<span class="pl-pds">'</span></span>)  <span class="pl-c"># bash, passwd</span>
    transaction.get_nodes_by_property_dict({<span class="pl-s"><span class="pl-pds">'</span>chmod<span class="pl-pds">'</span></span>: <span class="pl-c1">644</span>})  <span class="pl-c"># passwd</span>

    <span class="pl-c"># Move bash node into etc node</span>
    bash.move(etc)
    etc.children  <span class="pl-c"># =&gt; hosts, passwd, bash</span>
    bash.set_position(<span class="pl-c1">1</span>)
    etc.children  <span class="pl-c"># =&gt; hosts, bash, passwd</span>

    <span class="pl-c"># Print entire tree</span>
    transaction.print_tree()
    <span class="pl-c"># Output:</span>
    <span class="pl-c"># &lt;NodeData id=1, parent=None, position=0&gt;</span>
    <span class="pl-c">#   &lt;NodeData id=2, title='Binary folder'&gt;</span>
    <span class="pl-c">#   &lt;NodeData id=4, title='Config folder'&gt;</span>
    <span class="pl-c">#     &lt;NodeData id=5, title='Hosts file'&gt;</span>
    <span class="pl-c">#     &lt;NodeData id=6, title='Password file'&gt;</span>
    <span class="pl-c">#     &lt;NodeData id=3, title='Bash executable'&gt;</span></pre></div>

<h1><a id="user-content-documentation" class="anchor" href="#documentation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Documentation</h1>

<p>The full documentation including API reference and database model
description can be found at
<strong><a href="https://libtree.readthedocs.org/en/latest/">ReadTheDocs.org</a></strong>.</p>

<h1><a id="user-content-authors" class="anchor" href="#authors" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Authors</h1>

<p><strong>libtree</strong> is written and maintained by Fabian Kochem for CaT Concepts
and Training GmbH.</p>
</article>
  </div></body></html>