<html><body><div><div class="body" role="main">
            
  <div class="section" id="xmldataset-xml-parsing-made-easy">
<h1>xmldataset: xml parsing made easy</h1>
<p class="toctree-wrapper compound">
</p>
<p>XML is a simple markup language that can be used to encode documents in both a human-readable and machine-readable format.  Yet, whilst it is simple, why aren’t the means of gathering what we need from XML just as simple?</p>
<p>Although there are a variety of approaches for gathering data from XML, most require an intermediate understanding of Python.  This however, changes with the use of <strong>xmldataset</strong>.</p>
<p><strong>xmldataset</strong> is designed to make the process of gathering your desired data into a Python structure as simple as possible through its plaintext collection schema, deliminated just like Python!</p>
<p>The parsing process is aided with the following:</p>
<ul class="simple">
<li>A simple plaintext collection schema that describes the XML, the content of interest and the dataset in which it should be placed.  Datasets are returned as python structures, essentially, a dictionary with the key as the dataset and within a list of datasets (dictionaries).</li>
<li>Extendable options to to ensure that the data is collected into a dataset, just the way you want it.  If you’re not happy with the element name in the XML schema, there’s an option for that, if the data format does not meet your requirements, there’s an option of inline processing to manipulate data on the fly.  Whilst simple, <strong>xmldataset</strong> also provides a variety of options that allow it to be extended past it’s normal usage.</li>
</ul>
<p>An example of xmldataset in use is as follows -</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">xmldataset</span>
<span class="kn">import</span> <span class="nn">pprint</span>

<span class="c"># Setup Pretty Printing</span>
<span class="n">ppsetup</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">pp</span> <span class="o">=</span> <span class="n">ppsetup</span><span class="o">.</span><span class="n">pprint</span>

<span class="c"># Declare XML</span>
<span class="n">xml</span> <span class="o">=</span> <span class="s">"""&lt;?xml version="1.0"?&gt;</span>
<span class="s">&lt;colleagues&gt;</span>
<span class="s">    &lt;colleague&gt;</span>
<span class="s">        &lt;title&gt;The Boss&lt;/title&gt;</span>
<span class="s">        &lt;phone&gt;+1 202-663-9108&lt;/phone&gt;</span>
<span class="s">        &lt;email&gt;boss@the_company.com&lt;/email&gt;</span>
<span class="s">    &lt;/colleague&gt;</span>
<span class="s">    &lt;colleague&gt;</span>
<span class="s">        &lt;title&gt;Admin Assistant&lt;/title&gt;</span>
<span class="s">        &lt;phone&gt;+1 347-999-5454&lt;/phone&gt;</span>
<span class="s">        &lt;email&gt;admin@the_company.com&lt;/email&gt;</span>
<span class="s">    &lt;/colleague&gt;</span>
<span class="s">    &lt;colleague&gt;</span>
<span class="s">        &lt;title&gt;Minion&lt;/title&gt;</span>
<span class="s">        &lt;phone&gt;+1 792-123-4109&lt;/phone&gt;</span>
<span class="s">        &lt;email&gt;minion@the_company.com&lt;/email&gt;</span>
<span class="s">    &lt;/colleague&gt;</span>
<span class="s">&lt;/colleagues&gt;"""</span>

<span class="c"># Declare Profile</span>
<span class="n">profile</span> <span class="o">=</span> <span class="s">"""</span>
<span class="s">colleagues</span>
<span class="s">    colleague</span>
<span class="s">        title = dataset:colleagues</span>
<span class="s">        email = dataset:colleagues</span>
<span class="s">        phone = dataset:colleagues"""</span>

<span class="c"># Capture the output</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">xmldataset</span><span class="o">.</span><span class="n">parse_using_profile</span><span class="p">(</span><span class="n">xml</span><span class="p">,</span> <span class="n">profile</span><span class="p">)</span>

<span class="c"># Pretty Print the output</span>
<span class="n">pp</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</pre></div>
</div>
<p>Which results in the following output:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>   <span class="s">'colleagues'</span><span class="p">:</span> <span class="p">[</span>   <span class="p">{</span>   <span class="s">'email'</span><span class="p">:</span> <span class="s">'boss@the_company.com'</span><span class="p">,</span>
                          <span class="s">'phone'</span><span class="p">:</span> <span class="s">'+1 202-663-9108'</span><span class="p">,</span>
                          <span class="s">'title'</span><span class="p">:</span> <span class="s">'The Boss'</span><span class="p">},</span>
                      <span class="p">{</span>   <span class="s">'email'</span><span class="p">:</span> <span class="s">'admin@the_company.com'</span><span class="p">,</span>
                          <span class="s">'phone'</span><span class="p">:</span> <span class="s">'+1 347-999-5454'</span><span class="p">,</span>
                          <span class="s">'title'</span><span class="p">:</span> <span class="s">'Admin Assistant'</span><span class="p">},</span>
                      <span class="p">{</span>   <span class="s">'email'</span><span class="p">:</span> <span class="s">'minion@the_company.com'</span><span class="p">,</span>
                          <span class="s">'phone'</span><span class="p">:</span> <span class="s">'+1 792-123-4109'</span><span class="p">,</span>
                          <span class="s">'title'</span><span class="p">:</span> <span class="s">'Minion'</span><span class="p">}]}</span>
</pre></div>
</div>
<div class="section" id="features">
<h2>Features</h2>
<ul class="simple">
<li>Handles missing data from the XML structure, if it’s missing in the XML it is not populated in the dataset</li>
<li>Handles both XML Elements and Attributes using the plaintext collection schema (attributes are depicted as a sublevel of an element)</li>
<li>Easy to rename XML attributes/elements during processing to meet your requirements</li>
<li>Dispatch mechanism, allows datasets to be dispatched for every N instance to allow asynchronous processing</li>
</ul>
<p>Contents:</p>

</div>
</div>
<div class="section" id="contributors">
<h1>Contributors</h1>
<p><code class="docutils literal"><span class="pre">xmldataset</span></code> is written and maintained by <a class="reference external" href="https://github.com/james.spurin">James Spurin</a>,  The module stands on the shoulders of giants with it’s use of ElementTree and cElementTree as the core XML parser.  Thanks go to the team of <code class="docutils literal"><span class="pre">dataset</span></code>, namely <a class="reference external" href="https://github.com/pudo">Friedrich Lindenberg</a>, <a class="reference external" href="https://github.com/gka">Gregor Aisch</a> and <a class="reference external" href="https://github.com/stefanw">Stefan Wehrmeyer</a> who’s influence is very prevelant in this sphinx documentation (and might I add, this module would work fantastically alongside dataset).  Thanks to Kenneth Reitz and Armin Ronacher for the Sphinx template.</p>

</div>


          </div>
        </div></body></html>