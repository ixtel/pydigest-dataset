<html><body><div><div class="post-text" itemprop="text">

<h3>Introduction</h3>

<p>As I am coming from <a href="/questions/tagged/matlab" class="post-tag" title="show questions tagged 'matlab'" rel="tag">matlab</a>, I am used to an interactive interface where a script can update figures while it is running. During the processing each figure can be re-sized or even closed. This probably means that each figure is running in its own thread which is obviously not the case with <a href="/questions/tagged/matplotlib" class="post-tag" title="show questions tagged 'matplotlib'" rel="tag">matplotlib</a>. </p>

<p>IPython can imitate the Matlab behavior using the magic command <code>%pylab</code> or <code>%matplotlib</code> which does something that I don't understand yet and which is the very point of my question. </p>

<p>My goal is then to allow standalone Python scripts to work as Matlab does (or as IPython with <code>%matplotlib</code> does). In other words, I would like this script to be executed from the command line. I am expecting a new figure that pop-up every 3 seconds. During the execution I would be able to zoom, resize or even close the figure. </p>

<pre><code>#!/usr/bin/python
import matplotlib.pyplot as plt
import time

def do_some_work(): 
    time.sleep(3)

for i in range(10):
    plt.plot([1,2,3,4])
    plt.show() # this is way too boilerplate, I'd like to avoid it too. 
    do_some_work()
</code></pre>

<blockquote>
  <p>What alternative to <code>%matplotlib</code> I can use to manipulate figures while a script is running in Python (not IPython)?</p>
</blockquote>

<h3>What solutions I've already investigated?</h3>

<p>I currently found 3 way to get a plot show. </p>

<p><strong>1. <code>%pylab</code> / <code>%matplotlib</code></strong></p>

<p>As <a href="http://stackoverflow.com/users/588071/tom">tom</a> said, the use of <code>%pylab</code> should be avoided to prevent the namespace to be polluted. </p>

<pre><code>&gt;&gt;&gt; %pylab
&gt;&gt;&gt; plot([1,2,3,4])
</code></pre>

<p>This solution is sweet, the plot is non-blocking, there is no need for an additionnal <code>show()</code>, I can still add a grid with <code>grid()</code> afterwards and I can close, resize or zoom on my figure with no additional issues.</p>

<p>Unfortunately the <code>%matplotlib</code> command is only available on IPython.</p>

<p><strong>2. <code>from pylab import *</code> or <code>from matplotlib.pyplot import plt</code></strong></p>

<pre><code>&gt;&gt;&gt; from pylab import *
&gt;&gt;&gt; plot([1,2,3,4])
</code></pre>

<p>Things are quite different here. I need to add the command <code>show()</code> to display my figure which is blocking. I cannot do anything but closing the figure to execute the next command such as <code>grid()</code> which will have no effect since the figure is now closed...</p>

<p>** 3. <code>from pylab import *</code> or <code>from matplotlib.pyplot import plt</code> + <code>ion()</code>**
Some suggestions recommend to use the <code>ion()</code> command as follow: </p>

<pre><code>&gt;&gt;&gt; from pylab import *
&gt;&gt;&gt; ion()
&gt;&gt;&gt; plot([1,2,3,4])
&gt;&gt;&gt; draw()
&gt;&gt;&gt; pause(0.0001)
</code></pre>

<p>Unfortunately, even if the plot shows, I cannot close the figure manually. I will need to execute <code>close()</code> on the terminal which is not very convenient. Moreover the need for two additional commands such as <code>draw(); pause(0.0001)</code> is not what I am expecting. </p>

<h3>Summary</h3>

<p>With <code>%pylab</code>, everything is wonderful, but I cannot use it outside of IPython</p>

<p>With <code>from pylab import *</code> followed by a <code>plot</code>, I get a blocking behavior and  all the power of IPython is wasted.</p>

<p><code>from pylab import *</code> followed by <code>ion</code> offers a nice alternative to the previous one, but I have to use the weird <code>pause(0.0001)</code> command that leads to a window that I cannot close manually (I know that the <code>pause</code> is not needed with some backends. I am using <code>WxAgg</code> which is the only one that works well on <code>Cygwin x64</code>. </p>

<p>This <a href="https://stackoverflow.com/questions/27943731/reliably-show-matplotlib-0-99-to-1-3-1-figures-without-blocking">question</a> advices to use <code>matplotlib.interactive(True)</code>. Unfortunately it does not work and gives the same behavior as <code>ion()</code> does. </p>
    </div>
    </div></body></html>