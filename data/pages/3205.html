<html><body><div><section class="entry">
<p class="fsb-clear"/><p><a href="http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_header.png"><img class="aligncenter wp-image-2004" src="http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_header.png" alt="remove_contours_header" srcset="http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_header-300x114.png 300w, http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_header-1024x389.png 1024w, http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_header.png 2456w" sizes="(max-width: 600px) 100vw, 600px"/></a></p>
<p>Awhile back I was going through <a href="http://www.reddit.com/r/computervision/" target="_blank">/r/computervision</a> when I stumbled across a question asking <a href="http://www.reddit.com/r/computervision/comments/2rhg3h/opencv_how_to_remove_contours_from_image/" target="_blank">how to remove contours from an image using OpenCV</a>.</p>
<p>Intrigued, I posted a reply. The basic algorithm for removing contours from an image goes something like this:</p>
<ul>
<li><strong>Step 1:</strong> Detect and find contours in your image.</li>
<li><strong>Step 2:</strong> Loop over contours individually.</li>
<li><strong>Step 3:</strong> Determine if the contour is “bad” and should be removed according to some criterion.</li>
<li><strong>Step 4:</strong> Accumulate a mask of “bad” contours to be removed.</li>
<li><strong>Step 5:</strong> Apply the accumulated mask of bad contours to the original image using a bitwise ‘and’.</li>
</ul>
<p>And that’s it!</p>
<p>The algorithm itself is very straightforward, the main step that you need to pay attention to and consider is <strong>Step 3</strong>, determining if a contour should be removed.</p>
<p>This step could be very simple — or it also could be quite hard, it really depends on your application. And while it’s impossible for me to guess the criterion as to why you want to remove a contoured region from an image, the remainder of this blog post will demonstrate a toy example that you can use to remove contours from an image. From here, you’ll be able to take this code and modify the contour removal criterion according to your own needs.</p>

<p><strong>OpenCV and Python versions:</strong><br/>
This example will run on<strong> Python 2.7/Python 3.4+</strong> and <strong>OpenCV 2.4.X</strong>.</p>
<h1>Removing contours from an image using Python and OpenCV</h1>
<div id="attachment_2003" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2015/01/shapes.png"><img class="wp-image-2003 size-full" src="http://www.pyimagesearch.com/wp-content/uploads/2015/01/shapes.png" alt="shapes" srcset="http://www.pyimagesearch.com/wp-content/uploads/2015/01/shapes-300x200.png 300w, http://www.pyimagesearch.com/wp-content/uploads/2015/01/shapes.png 600w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 1:</strong> Our example toy image. Our goal is to <strong>remove all circles/ellipses</strong> while <strong>retaining the rectangles.</strong></p></div>
<p>In this toy example our goal is to <b>remove the circles/ellipses </b>from the image above <strong>while retaining the rectangles</strong>. We’ll accomplish this by applying a test to every contour to determine if it should be removed or not.</p>
<p>Anyway, let’s go ahead and get this example started. Open up a new file, name it 
			<span id="crayon-56d58ff6507df572104880" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">remove_contours</span><span class="crayon-sy">.</span><span class="crayon-v">py</span></span></span> , and let’s get coding:</p>

		<div id="crayon-56d58ff6507eb814029512" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d58ff6507eb814029512-1"><span class="crayon-c"># import the necessary packages</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff6507eb814029512-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">numpy </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-e">np</span></p><p class="crayon-line" id="crayon-56d58ff6507eb814029512-3"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">cv2</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff6507eb814029512-4"> </p><p class="crayon-line" id="crayon-56d58ff6507eb814029512-5"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">is_contour_bad</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff6507eb814029512-6"><span class="crayon-h">	</span><span class="crayon-c"># approximate the contour</span></p><p class="crayon-line" id="crayon-56d58ff6507eb814029512-7"><span class="crayon-h">	</span><span class="crayon-v">peri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">arcLength</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff6507eb814029512-8"><span class="crayon-h">	</span><span class="crayon-v">approx</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">approxPolyDP</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.02</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">peri</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d58ff6507eb814029512-9"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff6507eb814029512-10"><span class="crayon-h">	</span><span class="crayon-c"># the contour is 'bad' if it is not a rectangle</span></p><p class="crayon-line" id="crayon-56d58ff6507eb814029512-11"><span class="crayon-h">	</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-k ">len</span><span class="crayon-sy">(</span><span class="crayon-v">approx</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>The first thing we’ll do is import our necessary packages. We’ll use NumPy for numerical processing and 
			<span id="crayon-56d58ff6507f0495453620" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">cv2</span></span></span>  for our OpenCV bindings.</p>
<p>We then define our 
			<span id="crayon-56d58ff6507f4794125090" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">is_contour_bad</span></span></span>  function on <strong>Line 5</strong>. This function handles the implementation of <strong>Step 3</strong> above and defines the criterion under which a contour should be marked as “bad” and removed from an image.</p>
<p>The 
			<span id="crayon-56d58ff6507f8165448462" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">is_contour_bad</span></span></span>  function requires a single argument, 
			<span id="crayon-56d58ff6507fb214172106" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">c</span></span></span> , which is the contour we are going to test to determine if it should be removed or not.</p>
<p>Remember, in our toy example image above, our goal is to remove the circles/ellipses, while keeping the rectangles intact.</p>
<p><em>So let’s take a second to consider if we can exploit the geometry of this problem.</em></p>
<p>A rectangle has 4 sides. And a circle has no sides.</p>
<p>So if we <strong><em>approximate the contour</em></strong><em> </em>and then <strong><em>examine the number of points within the approximated contour</em></strong>, we’ll be able to determine if the contour is a square or not!</p>
<p>And that’s exactly what <strong>Lines 7-11 </strong>do. We first approximate the contour on <strong>Lines 7 and 8</strong>, while <strong>Line 11</strong> returns a boolean, indicating whether the contour should be removed or not. In this case, the contour will be kept if the approximation has 4 points (vertices), indicating that the contour is a rectangle.</p>
<p>Let’s finish implementing the other steps to solve this problem:</p>

		<div id="crayon-56d58ff650800366623240" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-56d58ff650800366623240-13">13</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ff650800366623240-14">14</p><p class="crayon-num" data-line="crayon-56d58ff650800366623240-15">15</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ff650800366623240-16">16</p><p class="crayon-num" data-line="crayon-56d58ff650800366623240-17">17</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ff650800366623240-18">18</p><p class="crayon-num" data-line="crayon-56d58ff650800366623240-19">19</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ff650800366623240-20">20</p><p class="crayon-num" data-line="crayon-56d58ff650800366623240-21">21</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ff650800366623240-22">22</p><p class="crayon-num" data-line="crayon-56d58ff650800366623240-23">23</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ff650800366623240-24">24</p><p class="crayon-num" data-line="crayon-56d58ff650800366623240-25">25</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ff650800366623240-26">26</p><p class="crayon-num" data-line="crayon-56d58ff650800366623240-27">27</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ff650800366623240-28">28</p><p class="crayon-num" data-line="crayon-56d58ff650800366623240-29">29</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ff650800366623240-30">30</p><p class="crayon-num" data-line="crayon-56d58ff650800366623240-31">31</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ff650800366623240-32">32</p><p class="crayon-num" data-line="crayon-56d58ff650800366623240-33">33</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ff650800366623240-34">34</p><p class="crayon-num" data-line="crayon-56d58ff650800366623240-35">35</p></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d58ff650800366623240-13"><span class="crayon-c"># load the shapes image, convert it to grayscale, and edge edges in</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff650800366623240-14"><span class="crayon-c"># the image</span></p><p class="crayon-line" id="crayon-56d58ff650800366623240-15"><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imread</span><span class="crayon-sy">(</span><span class="crayon-s">"shapes.png"</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff650800366623240-16"><span class="crayon-v">gray</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">cvtColor</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">COLOR_BGR2GRAY</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d58ff650800366623240-17"><span class="crayon-v">edged</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">Canny</span><span class="crayon-sy">(</span><span class="crayon-v">gray</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">50</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">100</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff650800366623240-18"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Original"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d58ff650800366623240-19"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff650800366623240-20"><span class="crayon-c"># find contours in the image and initialize the mask that will be</span></p><p class="crayon-line" id="crayon-56d58ff650800366623240-21"><span class="crayon-c"># used to remove the bad contours</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff650800366623240-22"><span class="crayon-sy">(</span><span class="crayon-v">cnts</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">_</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">findContours</span><span class="crayon-sy">(</span><span class="crayon-v">edged</span><span class="crayon-sy">.</span><span class="crayon-k ">copy</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">RETR_LIST</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">CHAIN_APPROX_SIMPLE</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d58ff650800366623240-23"><span class="crayon-v">mask</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">np</span><span class="crayon-sy">.</span><span class="crayon-e">ones</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">.</span><span class="crayon-v">shape</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dtype</span><span class="crayon-o">=</span><span class="crayon-s">"uint8"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">255</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff650800366623240-24"> </p><p class="crayon-line" id="crayon-56d58ff650800366623240-25"><span class="crayon-c"># loop over the contours</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff650800366623240-26"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">c</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">cnts</span><span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d58ff650800366623240-27"><span class="crayon-h">	</span><span class="crayon-c"># if the contour is bad, draw it on the mask</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff650800366623240-28"><span class="crayon-h">	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-e">is_contour_bad</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d58ff650800366623240-29"><span class="crayon-h">		</span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">drawContours</span><span class="crayon-sy">(</span><span class="crayon-v">mask</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">c</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff650800366623240-30"> </p><p class="crayon-line" id="crayon-56d58ff650800366623240-31"><span class="crayon-c"># remove the contours from the image and show the resulting images</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff650800366623240-32"><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">bitwise_and</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">mask</span><span class="crayon-o">=</span><span class="crayon-v">mask</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d58ff650800366623240-33"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Mask"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">mask</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ff650800366623240-34"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"After"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d58ff650800366623240-35"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>In order to find and detect the contours in our image (<strong>Step 1</strong>), we preprocess our image on <strong>Lines 15-18</strong> by loading it from disk, converting it to grayscale and detecting edges.</p>
<p>Finding the actual contours happens on <strong>Line 22</strong> by making a call to 
			<span id="crayon-56d58ff650804214421319" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">findContours</span></span></span> .</p>
<p>We then initialize a 
			<span id="crayon-56d58ff650808928088435" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">mask</span></span></span>  on <strong>Line 23</strong> to store our accumulated “bad” contours. We’ll be using this mask along with bitwise operations later on in the code to perform the actual removal of the contour.</p>
<p>Now we can move on to <strong>Step 2</strong>, looping over the individual contours which happens on <strong>Line 26</strong>.</p>
<p>For each of the contours we make a call to 
			<span id="crayon-56d58ff65080c358853297" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">is_contour_bad</span></span></span>  on <strong>Line 28</strong>, and if the contour is indeed “bad”, then we accumulate our contours to be removed on <strong>Line 29</strong> by drawing the contour on our mask.</p>
<p>Finally, all we have to do is apply a bitwise ‘and’ to the image using the accumulated mask to remove the contours on <strong>Line 32</strong>. <strong>Lines 33-35</strong> then display our results.</p>
<h1>Results</h1>
<p>To execute our script, just issue the following command:</p>

		<div id="crayon-56d58ff650810400668709" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d58ff650810400668709-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">python </span><span class="crayon-v">remove_contours</span><span class="crayon-sy">.</span><span class="crayon-v">py</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>First, you’ll see our mask of accumulated contours that will be removed:</p>
<div id="attachment_2005" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_mask.png"><img class="wp-image-2005" src="http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_mask.png" alt="Figure 2: Our accumulated mask of contours to be removed. Shapes to be removed appear as black whereas the regions of the image to be retained are white." srcset="http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_mask-300x211.png 300w, http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_mask-1024x720.png 1024w, http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_mask.png 1200w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 2:</strong> Our accumulated mask of contours to be removed. Shapes to be removed appear as <strong>black</strong> whereas the regions of the image to be retained are <strong>white</strong>.</p></div>
<p>Notice how the contours appear as <em>black shapes</em> on a <em>white background</em>. This is because the black shapes will be removed from the original image while the white regions will be retained once we apply the 
			<span id="crayon-56d58ff650814067719361" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">bitwise_and</span></span></span>  function.</p>
<p>And here is the output after applying the accumulated mask:</p>
<div id="attachment_2007" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_output.png"><img class="wp-image-2007" src="http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_output.png" alt="Figure 3: We have successfully removed the circles/ellipses while retaining the rectangles." srcset="http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_output-300x211.png 300w, http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_output-1024x720.png 1024w, http://www.pyimagesearch.com/wp-content/uploads/2015/01/remove_contours_output.png 1200w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 3:</strong> We have successfully removed the circles/ellipses while retaining the rectangles.</p></div>
<p>Clearly we have removed the circles/ellipses from the image while retaining the rectangles!</p>
<h1>Summary</h1>
<p>In this blog post I showed you how to remove contoured regions from an image using Python and OpenCV. Removing contours from an image is extremely straightforward and can be accomplished using the following 5 steps:</p>
<ol>
<li>Detecting and finding the contours in an image.</li>
<li>Looping over each of the contours individually.</li>
<li>Applying a “test” of some sort to determine if the contour should be removed.</li>
<li>Accumulating a mask of contours to be removed.</li>
<li>Applying the mask to the original image.</li>
</ol>
<p>To apply this algorithm to your own images you’ll need to take a second and consider <strong>Step 3</strong> and determine the criterion you are using to remove contours. From there, you can apply the rest of the algorithm as-is.</p>
<h1 id="post_downloads">Downloads:</h1>

	</section>
	</div></body></html>