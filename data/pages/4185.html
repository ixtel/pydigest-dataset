<html><body><div><div class="entry-content">
<p>I’m really not much of a programmer, but I dabble at times, in order to make tools for myself and my colleagues. Or toys, like the time I wrote an entire <a href="https://github.com/standaloneSA/libMBTA" target="_blank">MBTA library</a> because I wanted to build a <a href="https://slack.com/" target="_blank">Slack </a>integration for the local train service.</p>
<p>One of the things that I want to learn better, because it seems so gosh-darned helpful, is <a href="https://www.python.org/" target="_blank">Python</a>. I’m completely fluent (though non-expert level) in both Bash and PHP, so I’m decent at writing systems scripts and web back-ends, but I’m only passingly familiar with Perl. The way I see it, the two “modern” languages that get the most use in systems scripts are Python and Ruby, and it’s basically a toss-up for me as to which to pick.</p>
<p>Python seems a little more pervasive, although ruby has the benefit of basically being the language of our systems stack. Puppet, Foreman, logstash, and several other tools are all written in Ruby, and there’s a lot to be said for being fluent in the language of your tools. That being said, I’m going to learn Python because it seems easier and honestly, flying sounds so cool.</p>
<p><a href="https://xkcd.com/353/"><img class="aligncenter" src="//imgs.xkcd.com/comics/python.png" alt=""/></a></p>
<p> </p>
<p>One of the things that a lot of intro-to-Python tutorials don’t give you is the concept of virtual environments. These are actually pretty important in a lot of ways. You don’t absolutely <em>need</em> them, but you’re going to make your life a lot better if you use them. There’s a really great bit on why you should use them on the <a href="http://docs.python-guide.org/en/latest/dev/virtualenvs/" target="_blank">Python Guide</a>, but basically, they create an entire custom python environment for your code, segregated away from the rest of the OS. You can use a specific version of python, a specific set of modules, and so on (with no need for root access, since they’re being installed locally).</p>
<p>Installing virtualenv is pretty easy. You may be able to install it with your system’s package manager, or you may need to use <a href="https://pypi.python.org/pypi/pip" target="_blank">pip</a>. Or you could use <a href="http://www.pythonforbeginners.com/basics/how-to-use-python-virtualenv" target="_blank">easy_install</a>. Python, all by itself, has several package managers. Because <a href="http://www.standalone-sysadmin.com/blog/2014/03/just-what-we-need-another-package-manager/" target="_blank">of course it does</a>.</p>
<p>Setting up a virtual environment is straight forward, if a little kudgy-feeling. If you find that you’re going to be moving it around, maybe from machine to machine or whatever, you should probably know about the —<a href="http://stackoverflow.com/questions/6628476/renaming-a-virtualenv-folder-without-breaking-it" target="_blank">relocatable flag</a>.</p>
<p>By default, the workflow is basically, create a virtual environment, “activate” the virtual environment (which mangles lots of environmental variables and paths, so that python-specific stuff runs local to the environment rather than across the entire server), configuring it by installing the modules you need, write/execute your code as normal, and then deactivate your environment when you’re done, which restores all of your original environmental settings.</p>
<p>There is also a piece of software called <a href="http://virtualenvwrapper.readthedocs.org/en/latest/" target="_blank">virtualenvwrapper </a>that is supposed to make all of this easier. I haven’t used it, but it looks interesting. If you find yourself really offended by the aforementioned workflow, give it a shot and let me know what you think.</p>
<p>Also as a reminder, make sure to put your virtual environment directory in your .gitignore file, because you’re definitely using version control, right? (Right?) Right.</p>
<p>Here’s how I use virtual environments in my workflow:</p>
<p><code><br/>
<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="87eaf4eeeaeae8e9f4c7e5f2ebebf7f2f7">[email protected]</a>:~/tmp &gt; <strong>mkdir mycode</strong><br/>
<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="7d100e14101012130e3d1f0811110d080d">[email protected]</a>:~/tmp &gt; <strong>cd mycode</strong><br/>
<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="cfa2bca6a2a2a0a1bc8fadbaa3a3bfbabf">[email protected]</a>:~/tmp/mycode &gt; <strong>git init</strong><br/>
Initialized empty Git repository in /home/msimmons/tmp/mycode/.git/<br/>
<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="412c32282c2c2e2f320123342d2d313431">[email protected]</a>:~/tmp/mycode &gt; <strong>virtualenv env</strong><br/>
New python executable in env/bin/python<br/>
Installing setuptools, pip...done.<br/>
<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="f19c82989c9c9e9f82b193849d9d818481">[email protected]</a>:~/tmp/mycode &gt; <strong>echo "env" &gt; .gitignore</strong><br/>
<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="8fe2fce6e2e2e0e1fccfedfae3e3fffaff">[email protected]</a>:~/tmp/mycode &gt; <strong>git add .gitignore # I always forget this!</strong><br/>
<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="59342a30343436372a193b2c3535292c29">[email protected]</a>:~/tmp/mycode &gt; <strong>source env/bin/activate</strong><br/>
(env)<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="48253b21252527263b082a3d2424383d38">[email protected]</a>:~/tmp/mycode &gt;<br/>
(env)<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="85e8f6ece8e8eaebf6c5e7f0e9e9f5f0f5">[email protected]</a>:~/tmp/mycode &gt; <strong>which python</strong><br/>
/home/msimmons/tmp/mycode/env/bin/python<br/>
(env)<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="e28f918b8f8f8d8c91a280978e8e929792">[email protected]</a>:~/tmp/mycode &gt; <strong>deactivate</strong><br/>
<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="462b352f2b2b2928350624332a2a363336">[email protected]</a>:~/tmp/mycode &gt; <strong>which python</strong><br/>
/usr/bin/python<br/>
</code></p>
 

 
 </div> 
</div></body></html>