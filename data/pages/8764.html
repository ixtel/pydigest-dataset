<html><body><div><div class="post-text" itemprop="text">

<p>I am getting those annoying element is not visible exception using python's selenium, while the element is active, selected, and flashing.</p>

<p>The issue is on the page to make a jfiddle, so instead of making a fiddle of the fiddle itself here is a cut and paste way to log in and have a webdriver (named 'driver') in your ipython terminal (enter username and password into ipython, not the page):</p>

<p><a href="https://gist.github.com/codyc4321/787dd6f62e71cc71ae83">https://gist.github.com/codyc4321/787dd6f62e71cc71ae83</a></p>

<p>Now there is a driver up and you're logged into jsfiddle, everything I do here fails except picking the box the first time (let's say I wanna drop CSS in the CSS box):</p>

<p><a href="https://gist.github.com/codyc4321/f4c03c0606c2e3e4ff5b">https://gist.github.com/codyc4321/f4c03c0606c2e3e4ff5b</a></p>

<p>Paste <code>activate_hidden_element</code> and the first codeline in and see the CSS panel light up. For some reason, this highlighted panel is 'not visible', and you can't paste and code in it. The item is</p>

<pre><code>  &lt;div class="window top" id="panel_css" data-panel_type="css"&gt;
    &lt;textarea id="id_code_css" rows="10" cols="40" name="code_css"&gt;&lt;/textarea&gt;
    &lt;a href="#" class="windowLabel" data-panel="css"&gt;
      &lt;span class="label"&gt;CSS&lt;/span&gt;&lt;i class="bts bt-gear"&gt;&lt;/i&gt;
    &lt;/a&gt;
  &lt;/div&gt;
</code></pre>

<p>All the other items (HTML, JS) are essentially the same. Why won't this active box allow text to paste in? Thank you</p>

<p>SOLUTION:</p>

<p>the ugly way I made this service work was to manually fake a cut and paste:</p>

<pre><code>css_content = get_inline_content_and_remove_tags(webpage_content, 'style')

js_content = get_inline_content_and_remove_tags(webpage_content, 'script')

webpage_content = # ...clean cruft...

def copy_paste_to_hidden_element(content=None, html_id=None):
    pyperclip.copy(content)
    activate_hidden_element(html_id=html_id, driver=driver)
    call_sp('xdotool key from+ctrl+v')
    time.sleep(1)

copy_paste_to_hidden_element(content=webpage_content, html_id="panel_html")
copy_paste_to_hidden_element(content=js_content, html_id="panel_js")
copy_paste_to_hidden_element(content=css_content, html_id="panel_css")
</code></pre>

<p>It does work, the only minor issue is it can't run in the background, I need to leave the screen alone for about 30 seconds</p>
    </div>
    </div></body></html>