<html><body><div><header class="entry-header">
				<h1 class="entry-title">How situations drive me to write my own applications?</h1>		<p class="entry-meta entry-meta-time">
						<a href="https://impythonist.wordpress.com/2014/12/20/how-situations-drive-me-to-write-my-own-applications/"><span class="posted-on"><span class="screen-reader-text">Posted on </span><time class="entry-date published" datetime="December 20, 2014"><i class="fa fa-clock-o"/>December 20, 2014</time></span></a> <span class="byline">by <span class="author vcard"><a class="url fn n" href="https://impythonist.wordpress.com/author/narenarya2014/">Naren arya</a></span></span>		</p>
	</header>

	<div class="entry-content">
		<p><a href="http://www.slate.com/content/dam/slate/articles/podcasts/PODCAST_AudioBookClub_click.gif.CROP.promo-mediumlarge.gif"><img class="aligncenter" src="https://i2.wp.com/www.slate.com/content/dam/slate/articles/podcasts/PODCAST_AudioBookClub_click.gif.CROP.promo-mediumlarge.gif" alt=""/></a> This article shows how I created an audio book downloader because I am tired of manual downloading.</p>
<h2 id="toc_0">Who am I?</h2>
<p>I am a good fan of books.I have an e-book reader.I listen to podcasts often.I always  download audio books before journey.It is pleasant to listen stories and novels rather than reading,means using ears rather than eyes.So I always aware of some websites which provide good audio books to listen online.They are audible.com,ITunes and many more.Only few provide the downloadable audio books free with no restrictions.The main players are: <a href="http://www.librivox.org" rel="nofollow">http://www.librivox.org</a> , <a href="http://www.loyalbooks.com" rel="nofollow">http://www.loyalbooks.com</a> , <a href="http://www.openculture.com/freeaudiobooks" rel="nofollow">http://www.openculture.com/freeaudiobooks</a> Everything is fine for some days. I was adjusted with them.Then came the actual problem.The recordings which are made by librivox,loyalbooks are volunteered.It means anybody can create and upload an audio book.Some books are good to listen,but many others are boring and voices are below average.I need premium voices for zero bucks.I searched on the web and found one such website.It is Lit2Go. <a href="http://etc.usf.edu/lit2go/books/" rel="nofollow">http://etc.usf.edu/lit2go/books/</a>   <a href="https://impythonist.files.wordpress.com/2014/12/lit2go.png"><img class="aligncenter size-full wp-image-918" src="https://impythonist.files.wordpress.com/2014/12/lit2go.png?w=1000" alt="lit2go"/></a> It consists of all classical books recorded with premium voices.But it kept as a free service because it is one of the academical project of http://etc.usf.edu/ .</p>
<h2 id="toc_0">What is drawback of Lit2Go?</h2>
<p>Lit2Go is a free service.It divides each book into no of chapters.It allows you to play chapters online.But we can download those by  right clicking, a common way.But if chapters are more then downloading them is dead boring task.Going to each chapter link and right clicking.Next copying them to a folder.I do it frequently and always thought “why these people are not providing all chapters in a single file?”.</p>
<h2 id="toc_0">How I overcame that ?</h2>
<p>This is my personal life and python is still playing a role in it.Computing is made simpler like talking about a movie to a friend.I created a home application called “createbook” that asks me which book to download.Moreover it  downloads all chapters within a single folder in a systematic order.Just by running a small script, I can select and download entire audio book now.</p>
<h2 id="toc_0">How createbook works?</h2>
<p><a href="https://impythonist.files.wordpress.com/2014/12/mike.png"><img class="aligncenter size-full wp-image-921" src="https://impythonist.files.wordpress.com/2014/12/mike.png?w=1000" alt="mike"/></a> Just i ran the script(You can just click on script,if you were a windows user) and I got listed with all classic book options. <a href="https://impythonist.files.wordpress.com/2014/12/select.png"><img class="aligncenter size-full wp-image-922" src="https://impythonist.files.wordpress.com/2014/12/select.png?w=1000" alt="select"/></a> I selected 199(Winesburg Ohio) and I saw this folder in my script directory after some time. <a href="https://impythonist.files.wordpress.com/2014/12/ohio.png"><img class="aligncenter size-full wp-image-923" src="https://impythonist.files.wordpress.com/2014/12/ohio.png?w=1000" alt="ohio"/></a> <a href="https://impythonist.files.wordpress.com/2014/12/ohio1.png"><img class="aligncenter size-full wp-image-924" src="https://impythonist.files.wordpress.com/2014/12/ohio1.png?w=1000" alt="ohio1"/></a> All 26 chapters were downloaded excellently with a folder named after book. Now I am running it happily.Next copying the downloaded folder to my phone,so that enjoying the premium voices without having any pain of downloading.Python helped me in this situation.It may help you too.Just apply it and you will see the comfort you get.Below is the code for my application.I used lxml,requests to do this.In your case,find out the library that suits your situation and build your own fun applications.</p>
<pre class="python highlighted_source">#Just run it,select book and sit back,sip coffee
import requests
from lxml import html
import os

def createbook(url):
    res = requests.get(url)
    folder = url.split('/')[-2]
    if not os.path.exists(folder):
        os.makedirs(folder)
    tree  = html.fromstring(res.text)
    parts = tree.xpath('//dl/dt/a/@href')
    for i in parts:
        res = requests.get(i)
        tree  = html.fromstring(res.text)
        parturl = tree.xpath('//audio/source[@type="audio/mpeg"]/@src')
        for surl in parturl:
            with open('%s/%s'%(folder,surl.split('/')[-1]), 'wb') as handle:
                response = requests.get(surl, stream=True)
                for block in response.iter_content(1024):
                    if not block:
                        break
                    handle.write(block)

    print '"%s" is successfully downloaded.....'%folder

res = requests.get('http://etc.usf.edu/lit2go/books/')
tree = html.fromstring(res.text)
books = [i.encode('utf-8') for i in tree.xpath('//figcaption[@class="title"]/a/text()')]
links = tree.xpath('//figcaption[@class="title"]/a/@href')

catalog = dict(zip(books,links))
numcatalog = enumerate(books,1)
chose = {}
print '@@@@@@@@@@ Select from the books below @@@@@@@@@@\n'

for i,j in numcatalog:
    print '%d) %s'%(i,j)
    chose[i] = catalog[j]

choice = int(raw_input('\nSelect Book:'))

print 'Your book started downloading.......'
createbook(chose[choice])
</pre>
<p>If you too have the same taste of listening to audio books ,feel free to use this script and download classic books.you can find same code in my git repository.The output book folder will be on the same directory of your script.I advise you to use python computing power, wherever it is required.Create your own applications and be comfort. <a href="https://github.com/narenaryan/makebook" rel="nofollow">https://github.com/narenaryan/makebook</a></p>
		<p id="geo-post-917" class="geo geo-post">
			<span class="latitude">17.385044</span>
			<span class="longitude">78.486671</span>
		</p>		<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><p class="geolocation-chip"><span class="noticon noticon-location"/>Badi Chowdi, Kachiguda, Hyderabad, Telangana, India</p>
<div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" id="like-post-wrapper-62549587-917-56d5b2ab3b8d0" data-src="//widgets.wp.com/likes/#blog_id=62549587&amp;post_id=917&amp;origin=impythonist.wordpress.com&amp;obj_id=62549587-917-56d5b2ab3b8d0" data-name="like-post-frame-62549587-917-56d5b2ab3b8d0"><h3 class="sd-title">Like this:</h3><p class="likes-widget-placeholder post-likes-widget-placeholder"><span class="button"><span>Like</span></span> <span class="loading">Loading...</span></p><span class="sd-text-color"/><a class="sd-link-color"/></div>
<p id="jp-relatedposts" class="jp-relatedposts">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</p></div>					</div>

	</div></body></html>