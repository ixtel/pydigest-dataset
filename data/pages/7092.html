<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-python-wats" class="anchor" href="#python-wats" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Python wats</h1>

<p>A "wat" is what I call a snippet of code that demonstrates a counterintuitive edge case of a programming language. (The name comes from <a href="https://www.destroyallsoftware.com/talks/wat">this excellent talk by Gary Bernhardt</a>.) If you're not familiar with the language, you might conclude that it's poorly designed when you see a wat. Often, more context about the language design will make the wat seem reasonable, or at least justified.</p>

<p>Wats are funny, and learning about a language's edge cases probably helps you with that language, but I don't think you should judge a language based on its wats. (It's perfectly fine to judge a language, of course, as long as it's an <em>informed</em> judgment, based on whether the language makes it difficult for its developers to write error-free code, not based on artificial, funny one-liners.) This is the point I want to prove to Python developers.</p>

<p>If you're a Python developer reading these, you're likely to feel a desire to put them into context with more information about how the language works. You're likely to say "Actually that makes perfect sense if you consider how Python handles <em>X</em>", or "Yes that's a little weird but in practice it's not an issue." And I completely agree. Python is a well designed language, and these wats do not reflect badly on it. You shouldn't judge a language by its wats.</p>

<h2><a id="user-content-the-python-wat-quiz" class="anchor" href="#the-python-wat-quiz" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>The Python wat quiz</h2>

<p>Are you unimpressed by these wats? Do you think these edge cases are actually completely intuitive? Try your hand at <a href="https://github.com/cosmologicon/pywat/blob/master/quiz.md">the Python wat quiz</a>!</p>

<h2><a id="user-content-the-wats" class="anchor" href="#the-wats" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>The wats</h2>



<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">False</span> <span class="pl-k">**</span> <span class="pl-c1">False</span> <span class="pl-k">==</span> <span class="pl-c1">True</span>
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">False</span> <span class="pl-k">**</span> <span class="pl-c1">True</span> <span class="pl-k">==</span> <span class="pl-c1">False</span>
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">True</span> <span class="pl-k">**</span> <span class="pl-c1">False</span> <span class="pl-k">==</span> <span class="pl-c1">True</span>
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">True</span> <span class="pl-k">**</span> <span class="pl-c1">True</span> <span class="pl-k">==</span> <span class="pl-c1">True</span>
<span class="pl-c1">True</span></pre></div>

<h3><a id="user-content-mixing-numerical-types" class="anchor" href="#mixing-numerical-types" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Mixing numerical types</h3>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> x <span class="pl-k">=</span> (<span class="pl-c1">1</span> <span class="pl-k">&lt;&lt;</span> <span class="pl-c1">53</span>) <span class="pl-k">+</span> <span class="pl-c1">1</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> x <span class="pl-k">+</span> <span class="pl-c1">1.0</span> <span class="pl-k">&lt;</span> x
<span class="pl-c1">True</span></pre></div>

<p>Note: this is not simply due to floating-point imprecision.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> x <span class="pl-k">=</span> <span class="pl-c1">float</span>((<span class="pl-c1">1</span> <span class="pl-k">&lt;&lt;</span> <span class="pl-c1">53</span>) <span class="pl-k">+</span> <span class="pl-c1">1</span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> x <span class="pl-k">+</span> <span class="pl-c1">1.0</span> <span class="pl-k">&lt;</span> x
<span class="pl-c1">False</span></pre></div>

<p>Many other languages that have floats and ints do not have this behavior. I'm only aware of it in Python and Ruby.</p>

<p>Also, your systems may give different results, but you can always find at least one wat along these lines.</p>

<h3><a id="user-content-operator-precedence" class="anchor" href="#operator-precedence" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Operator precedence?</h3>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">False</span> <span class="pl-k">==</span> <span class="pl-c1">False</span> <span class="pl-k">in</span> [<span class="pl-c1">False</span>]
<span class="pl-c1">True</span></pre></div>

<p><a href="https://www.reddit.com/r/programming/comments/3cjjgp/why_does_return_the_string_10/csxak65">Source</a>.</p>

<h3><a id="user-content-iterable-types-in-comparisons" class="anchor" href="#iterable-types-in-comparisons" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Iterable types in comparisons</h3>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> a <span class="pl-k">=</span> [<span class="pl-c1">0</span>, <span class="pl-c1">0</span>]
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> (x, y) <span class="pl-k">=</span> a
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> (x, y) <span class="pl-k">==</span> a
<span class="pl-c1">False</span></pre></div>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> [<span class="pl-c1">1</span>,<span class="pl-c1">2</span>,<span class="pl-c1">3</span>] <span class="pl-k">==</span> <span class="pl-c1">sorted</span>([<span class="pl-c1">1</span>,<span class="pl-c1">2</span>,<span class="pl-c1">3</span>])
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> (<span class="pl-c1">1</span>,<span class="pl-c1">2</span>,<span class="pl-c1">3</span>) <span class="pl-k">==</span> <span class="pl-c1">sorted</span>((<span class="pl-c1">1</span>,<span class="pl-c1">2</span>,<span class="pl-c1">3</span>))
<span class="pl-c1">False</span></pre></div>

<h3><a id="user-content-types-of-arithmetic-operations" class="anchor" href="#types-of-arithmetic-operations" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Types of arithmetic operations</h3>

<p>The type of an arithmetic operation cannot be predicted from the type of the operands alone. You also need to know their value.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">type</span>(<span class="pl-c1">1</span>) <span class="pl-k">==</span> <span class="pl-c1">type</span>(<span class="pl-k">-</span><span class="pl-c1">1</span>)
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">1</span> <span class="pl-k">**</span> <span class="pl-c1">1</span> <span class="pl-k">==</span> <span class="pl-c1">1</span> <span class="pl-k">**</span> <span class="pl-k">-</span><span class="pl-c1">1</span>
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">type</span>(<span class="pl-c1">1</span> <span class="pl-k">**</span> <span class="pl-c1">1</span>) <span class="pl-k">==</span> <span class="pl-c1">type</span>(<span class="pl-c1">1</span> <span class="pl-k">**</span> <span class="pl-k">-</span><span class="pl-c1">1</span>)
<span class="pl-c1">False</span></pre></div>

<h3><a id="user-content-fun-with-iterators" class="anchor" href="#fun-with-iterators" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Fun with iterators</h3>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> a <span class="pl-k">=</span> <span class="pl-c1">2</span>, <span class="pl-c1">1</span>, <span class="pl-c1">3</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">sorted</span>(a) <span class="pl-k">==</span> <span class="pl-c1">sorted</span>(a)
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">reversed</span>(a) <span class="pl-k">==</span> <span class="pl-c1">reversed</span>(a)
<span class="pl-c1">False</span></pre></div>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> b <span class="pl-k">=</span> <span class="pl-c1">reversed</span>(a)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">sorted</span>(b) <span class="pl-k">==</span> <span class="pl-c1">sorted</span>(b)
<span class="pl-c1">False</span></pre></div>

<h3><a id="user-content-circular-types" class="anchor" href="#circular-types" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Circular types</h3>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">isinstance</span>(<span class="pl-c1">object</span>, <span class="pl-c1">type</span>)
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">isinstance</span>(<span class="pl-c1">type</span>, <span class="pl-c1">object</span>)
<span class="pl-c1">True</span></pre></div>

<p><a href="https://www.reddit.com/r/Python/comments/3c344g/so_apparently_type_is_of_type_type/csrwwyv">Source</a>.</p>

<h3><a id="user-content-extend-vs-" class="anchor" href="#extend-vs-" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a><code>extend</code> vs <code>+=</code></h3>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> a <span class="pl-k">=</span> ([],)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> a[<span class="pl-c1">0</span>].extend([<span class="pl-c1">1</span>])
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> a[<span class="pl-c1">0</span>]
[<span class="pl-c1">1</span>]
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> a[<span class="pl-c1">0</span>] <span class="pl-k">+=</span> [<span class="pl-c1">2</span>]
Traceback (most recent call last):
  File <span class="pl-s"><span class="pl-pds">"</span>&lt;stdin&gt;<span class="pl-pds">"</span></span>, line <span class="pl-c1">1</span>, <span class="pl-k">in</span> <span class="pl-k">&lt;</span>module<span class="pl-k">&gt;</span>
<span class="pl-c1">TypeError</span>: <span class="pl-s"><span class="pl-pds">'</span>tuple<span class="pl-pds">'</span></span> <span class="pl-c1">object</span> does <span class="pl-k">not</span> support item assignment
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> a[<span class="pl-c1">0</span>]
[<span class="pl-c1">1</span>, <span class="pl-c1">2</span>]</pre></div>

<h3><a id="user-content-indexing-with-floats" class="anchor" href="#indexing-with-floats" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Indexing with floats</h3>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> [<span class="pl-c1">4</span>][<span class="pl-c1">0</span>]
<span class="pl-c1">4</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> [<span class="pl-c1">4</span>][<span class="pl-c1">0.0</span>]
Traceback (most recent call last):
  File <span class="pl-s"><span class="pl-pds">"</span>&lt;stdin&gt;<span class="pl-pds">"</span></span>, line <span class="pl-c1">1</span>, <span class="pl-k">in</span> <span class="pl-k">&lt;</span>module<span class="pl-k">&gt;</span>
<span class="pl-c1">TypeError</span>: <span class="pl-c1">list</span> indices must be integers, <span class="pl-k">not</span> <span class="pl-c1">float</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> {<span class="pl-c1">0</span>:<span class="pl-c1">4</span>}[<span class="pl-c1">0</span>]
<span class="pl-c1">4</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> {<span class="pl-c1">0</span>:<span class="pl-c1">4</span>}[<span class="pl-c1">0.0</span>]
<span class="pl-c1">4</span></pre></div>

<h3><a id="user-content-all-and-emptiness" class="anchor" href="#all-and-emptiness" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a><code>all</code> and emptiness</h3>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">all</span>([])
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">all</span>([[]])
<span class="pl-c1">False</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">all</span>([[[]]])
<span class="pl-c1">True</span></pre></div>

<h3><a id="user-content-sum-and-strings" class="anchor" href="#sum-and-strings" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a><code>sum</code> and strings</h3>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">sum</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>)
<span class="pl-c1">0</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">sum</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, ())
()
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">sum</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, [])
[]
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">sum</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, {})
{}
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">sum</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>)
Traceback (most recent call last):
  File <span class="pl-s"><span class="pl-pds">"</span>&lt;stdin&gt;<span class="pl-pds">"</span></span>, line <span class="pl-c1">1</span>, <span class="pl-k">in</span> <span class="pl-k">&lt;</span>module<span class="pl-k">&gt;</span>
<span class="pl-c1">TypeError</span>: <span class="pl-c1">sum</span>() can<span class="pl-s"><span class="pl-pds">'</span>t sum strings [use <span class="pl-pds">'</span><span class="pl-pds">'</span>.join(seq) instead]<span class="pl-ii"/></span></pre></div>

<h3><a id="user-content-nan-related-wats" class="anchor" href="#nan-related-wats" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>NaN-related wats</h3>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> x <span class="pl-k">=</span> <span class="pl-c1">float</span>(<span class="pl-s"><span class="pl-pds">"</span>nan<span class="pl-pds">"</span></span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> y <span class="pl-k">=</span> <span class="pl-c1">float</span>(<span class="pl-s"><span class="pl-pds">"</span>nan<span class="pl-pds">"</span></span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> x <span class="pl-k">==</span> x
<span class="pl-c1">False</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> [x] <span class="pl-k">==</span> [x]
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> [x] <span class="pl-k">==</span> [y]
<span class="pl-c1">False</span></pre></div>

<p><a href="https://github.com/cosmologicon/pywat/issues/22">Source</a>.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> x <span class="pl-k">=</span> <span class="pl-c1">float</span>(<span class="pl-s"><span class="pl-pds">"</span>nan<span class="pl-pds">"</span></span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">len</span>({x, x, <span class="pl-c1">float</span>(x), <span class="pl-c1">float</span>(x), <span class="pl-c1">float</span>(<span class="pl-s"><span class="pl-pds">"</span>nan<span class="pl-pds">"</span></span>), <span class="pl-c1">float</span>(<span class="pl-s"><span class="pl-pds">"</span>nan<span class="pl-pds">"</span></span>)})
<span class="pl-c1">3</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">len</span>({x, <span class="pl-c1">float</span>(x), <span class="pl-c1">float</span>(<span class="pl-s"><span class="pl-pds">"</span>nan<span class="pl-pds">"</span></span>)})
<span class="pl-c1">2</span></pre></div>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> x <span class="pl-k">=</span> <span class="pl-c1">float</span>(<span class="pl-s"><span class="pl-pds">"</span>nan<span class="pl-pds">"</span></span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> (<span class="pl-c1">2</span> <span class="pl-k">*</span> x).imag
<span class="pl-c1">0.0</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> (x <span class="pl-k">+</span> x).imag
<span class="pl-c1">0.0</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> (<span class="pl-c1">2</span> <span class="pl-k">*</span> <span class="pl-c1">complex</span>(x)).imag
nan
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> (<span class="pl-c1">complex</span>(x) <span class="pl-k">+</span> <span class="pl-c1">complex</span>(x)).imag
<span class="pl-c1">0.0</span></pre></div>

<h2><a id="user-content-explanations" class="anchor" href="#explanations" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Explanations</h2>

<p>Want to learn more about the inner workings behind these wats? Check out the <a href="https://github.com/cosmologicon/pywat/blob/master/explanation.md">explanation page</a> for clarity.</p>
</article>
  </div></body></html>