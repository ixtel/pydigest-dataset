<html><body><div><div class="response-text-container post-body"><p>Could be a data issue.</p>

<p>Commenting out line 211 and inserting some print statements:</p>

<pre><code># symbols = [s.symbol for s in sids]  
print 'sids',type(sids),sids  
symbols=[]  
for s in sids:  
    print 's',type(s),s  
    symbols.append(s.symbol)
</code></pre>

<p>And then running 01/25/2007 to 02/02/2007.</p>

<p>On 2007-01-26 we see that the usual format of the fetcher_data['sid'] looks like this:</p>

<p>2007-01-26 PRINT sids<br/>
2007-01-26 PRINT type 'set'<br/>
2007-01-26 PRINT<br/>
set([Security(12160, symbol='COF', security_name='CAPITAL ONE FINANCIAL CORP', exchange='NEW YORK STOCK EXCHANGE', start_date=Timestamp('1994-11-16 00:00:00+0000', tz='UTC'), end_date=Timestamp('2015-04-01 00:00:00+0000', tz='UTC'), first_traded=None)])</p>

<p>But on 2007-02-01, the entry returned looks different:</p>

<p>2007-02-01PRINT sids<br/>
2007-02-01PRINT type 'set'<br/>
2007-02-01PRINT<br/>
set([0, Security(20163, symbol='WCC', security_name='WESCO INTERNATIONAL INC', exchange='NEW YORK STOCK EXCHANGE', start_date=Timestamp('1999-05-12 00:00:00+0000', tz='UTC'), end_date=Timestamp('2015-04-01 00:00:00+0000', tz='UTC'), first_traded=None)])</p>

<p>There is an integer of value zero as the first element in the set instead of the expected security object.</p>

<p>Richard<br/>
 <a href="http://quant-coder.prokopyshen.com/ContactMe">http://quant-coder.prokopyshen.com/ContactMe</a></p>
</div>
</div></body></html>