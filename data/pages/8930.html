<html><body><div><div id="content">

            

            
        


            <div class="section">
              <h1>aiorq 0.1</h1>

              


<p>asyncio client and server for RQ</p>








<p><a href="https://travis-ci.org/proofit404/aiorq" rel="nofollow"><img src="https://img.shields.io/travis/proofit404/aiorq.svg?style=flat-square"/></a> <a href="https://coveralls.io/r/proofit404/aiorq" rel="nofollow"><img src="https://img.shields.io/coveralls/proofit404/aiorq.svg?style=flat-square"/></a> <a href="https://requires.io/github/proofit404/aiorq/requirements" rel="nofollow"><img src="https://img.shields.io/requires/github/proofit404/aiorq.svg?style=flat-square"/></a> <a href="https://www.codacy.com/app/proofit404/aiorq" rel="nofollow"><img src="https://img.shields.io/codacy/2ba66fc33f9d482095350cc69b4fc02b.svg?style=flat-square"/></a> <a href="https://pypi.python.org/pypi/aiorq/" rel="nofollow"><img src="https://img.shields.io/pypi/v/aiorq.svg?style=flat-square"/></a></p>
<p><a href="https://docs.python.org/3/library/asyncio.html" rel="nofollow">asyncio</a> client and server for <a href="http://python-rq.org" rel="nofollow">RQ</a>.</p>

<div id="features">
<h2>Features</h2>
<ul>
<li>Event loop friendly</li>
<li>Non-blocking job enqueueing and result obtaining</li>
</ul>
</div>
<div id="installation">
<h2>Installation</h2>
<p>You can always install last released version from python package
index.</p>
<pre>pip install aiorq
</pre>
</div>
<div id="getting-started">
<h2>Getting started</h2>
<p>Suppose we have a module with slow blocking function like this one.</p>
<pre><span class="kn">import</span> <span class="nn">requests</span>

<span class="k">def</span> <span class="nf">get_json</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre>
<p>To schedule deferred jobs create queue and enqueue the function call
within event loop.</p>
<pre><span class="kn">import</span> <span class="nn">asyncio</span>

<span class="kn">from</span> <span class="nn">aioredis</span> <span class="kn">import</span> <span class="n">create_redis</span>
<span class="kn">from</span> <span class="nn">aiorq</span> <span class="kn">import</span> <span class="n">Queue</span><span class="p">,</span> <span class="n">use_connection</span>

<span class="kn">from</span> <span class="nn">my_module</span> <span class="kn">import</span> <span class="n">get_json</span>

<span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span>

<span class="nd">@asyncio.coroutine</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">redis</span> <span class="o">=</span> <span class="k">yield from</span> <span class="n">create_redis</span><span class="p">((</span><span class="s1">'localhost'</span><span class="p">,</span> <span class="mi">6379</span><span class="p">),</span> <span class="n">loop</span><span class="o">=</span><span class="n">loop</span><span class="p">)</span>
    <span class="n">use_connection</span><span class="p">(</span><span class="n">redis</span><span class="p">)</span>
    <span class="n">queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">()</span>
    <span class="n">job</span> <span class="o">=</span> <span class="k">yield from</span> <span class="n">queue</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">get_json</span><span class="p">,</span> <span class="s1">'https://www.python.org'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">((</span><span class="k">yield from</span> <span class="n">job</span><span class="o">.</span><span class="n">result</span><span class="p">))</span>
    <span class="n">redis</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">yield from</span> <span class="n">redis</span><span class="o">.</span><span class="n">wait_closed</span><span class="p">()</span>

<span class="n">loop</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre>
</div>
<div id="license">
<h2>License</h2>
<p>The aiorq is offered under LGPL license.</p>
</div>
<div id="changelog">
<h2>Changelog</h2>
<h2 id="id1"><span class="section-subtitle">0.1 (2016-01-03)</span></h2>
<ul>
<li>Enqueue job and gather result without blocking event loop.</li>
</ul>
</div>


<a name="downloads">Â </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>28</span> downloads in the last week
  </li>
  <li>
    <span>225</span> downloads in the last month
  </li>
</ul>









            </div>


          </div>
          </div></body></html>