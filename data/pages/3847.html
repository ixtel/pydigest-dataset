<html><body><div><div class="post-body entry-content"><p>
By </p><a href="http://www.dancingbison.com">Vasudev Ram</a>
<a href=""/><p>
Recently I had blogged about </p><b>which.py</b><p>, a simple Python program that I wrote, here:

</p><a href="http://jugad2.blogspot.in/2015/03/a-simple-unix-like-which-command-in.html">A simple UNIX-like 'which' command in Python</a>
<p>
I also posted the same program on </p><b>ActiveState Code</b><p>:

</p><a href="https://code.activestate.com/recipes/579035-a-unix-like-which-command-for-python/?in=user-4173351">A UNIX-like "which" command for Python (Python recipe)</a>
<p>
A reader there, </p><b>Hongxu Chen</b><p>, pointed out that my which.py actually implemented the variant "</p><b>which -a</b><p>", that is, the UNIX </p><b>which with the -a (or -all) option included</b><p>. This variant displays not just the first full pathname of an occurrence of the searched-for name in the PATH (environment variable), but all such occurrences, in any directory in the PATH. That was not what I had intended. It was a bug. I had intended it to only show the first occurrence. 
</p><p>
So I rewrote the program to fix that bug, and also implemented the -a option properly - i.e. when </p><b>-a</b><p> (or its </p><a href="http://www.gnu.org/software/libc/manual/html_node/Getopt-Long-Options.html">long form</a><p>, </p><b>--all</b><p>, is given, find all occurrences, otherwise only find the first. Here is the new version:
</p><pre>from __future__ import print_function

# which.py
# A minimal version of the UNIX which utility, in Python.
# Also implements the -a or --all option.
# Author: Vasudev Ram - www.dancingbison.com
# Copyright 2015 Vasudev Ram - http://www.dancingbison.com

import sys
import os
import os.path
import stat

def usage():
    sys.stderr.write("Usage: python which.py [ -a | --all ] name ...\n") 
    sys.stderr.write("or: which.py [ -a | --all ] name ...\n") 

def which(name, all):
    for path in os.getenv("PATH").split(os.path.pathsep):
        full_path = path + os.sep + name
        if os.path.exists(full_path):
            print(full_path)
            if not all:
                break

def main():
    if len(sys.argv) 

I tested it some and it seems to be working okay both with and without the -a option now.

After more testing, I'll upload it to my Bitbucket account.

<p/>- <a href="http://jugad2.blogspot.in/p/about-vasudev-ram.html">Vasudev Ram - Online Python training and  programming</a> <p/>Dancing Bison Enterprises<p/><p/><b><a href="mailto:vasudevram@gmail.com?subject=Email%20me%20about%20your%20new%20products%20and%20services">Signup to hear about new software or info products that I create.</a></b> <p/><a href="http://jugad2.blogspot.com/search/label/python">Posts about Python</a>  <a href="http://jugad2.blogspot.com/search/label/xtopdf">Posts about xtopdf</a> <p/><a href="http://www.dancingbison.com/contact.html">Contact Page</a> <p/>   
<p/>
</pre></div>
</div></body></html>