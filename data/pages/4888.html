<html><body><div><div class="entry-content"><p>В последние годы языки общего назначения стали чаще использоваться для анализа данных. Разработчики и организации используют Python или Javascript для решения своих задач. И в этом им помогают регулярные выражения. Они — незаменимый инструмент для упорядочивания, причесывания, поиска или извлечения текстовых данных.</p><p>Все это делает регулярные выражения полезными для изучения.</p><p>В этой статье мы рассмотрим примеры использования и применения регулярных выражений. Они часто используются программистами в различных языках — Perl, С++, Java. Мы будем использовать Python. Ближе к концу мы также посмотрим на некоторые реальные задачи, решаемые с их помощью.</p><p><span id="more-6785"/></p><h3>Что такое регулярные выражения и как их использовать?</h3><p>Говоря простым языком, регулярное выражение — это последовательность символов, используемая для поиска и замены текста в строке или файле. Как уже было упомянуто, их поддерживает множество языков общего назначения: <a href="http://www.analyticsvidhya.com/blog/2014/07/baby-steps-learning-python-data-analysis/" target="_blank">Python</a>, <a href="http://www.tutorialspoint.com/perl/" target="_blank">Perl</a>, <a href="http://www.analyticsvidhya.com/learning-paths-data-science-business-analytics-business-intelligence-big-data/learning-path-r-data-science/" target="_blank">R</a>. Так что изучение регулярных выражений рано или поздно пригодится.</p><p>Регулярные выражения используют два типа символов:</p><ul><li>специальные символы: как следует из названия, у этих символов есть специальные значения, например, <code>*</code> означает «любой символ»;</li><li>литералы (например: a, b, 1, 2 и т. д.).</li></ul><p>В Python для работы с регулярными выражениями есть модуль <code>re</code>. Для использования его нужно импортировать:</p><p> Чаще всего регулярные выражения используются для:</p><ul><li>поиска в строке;</li><li>разбиения строки на подстроки;</li><li>замены части строки.</li></ul><p>Давайте посмотрим на методы, которые предоставляет библиотека <code>re</code> для этих задач. Вот наиболее часто используемые из них:</p><ul><li><code>re.match()</code></li><li><code>re.search()</code></li><li><code>re.findall()</code></li><li><code>re.split()</code></li><li><code>re.sub()</code></li><li><code>re.compile()</code></li></ul><p>Рассмотрим их подробнее.</p><h4><tt>re.match(<i>pattern</i>, <i>string</i>):</tt></h4><p>Этот метод ищет по заданному шаблону в начале строки. Например, если мы вызовем метод <code>match()</code> на строке «AV Analytics AV» с шаблоном «AV», то он завершится успешно. Однако если мы будем искать «Analytics», то результат будет отрицательный. Давайте посмотрим на его работу:</p><div id="crayon-56d5b669568b0952183857" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568b0952183857-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">re</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568b0952183857-2"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">match</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'AV'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV Analytics Vidhya AV'</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b669568b0952183857-3"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568b0952183857-4"> </p><p class="crayon-line" id="crayon-56d5b669568b0952183857-5">Результат<span class="crayon-o">:</span></p></div></td></tr></table></div></div><p> Искомая подстрока найдена. Чтобы вывести ее содержимое, используем метод <code>group()</code>. (Мы используем «r» перед строкой шаблона, чтобы показать, что это «сырая» строка в Python).</p><div id="crayon-56d5b669568b6291837331" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568b6291837331-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">match</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'AV'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV Analytics Vidhya AV'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568b6291837331-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-sy">.</span><span class="crayon-e">group</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b669568b6291837331-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568b6291837331-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b669568b6291837331-5"><span class="crayon-v">AV</span></p></div></td></tr></table></div></div><p> Теперь попробуем найти «Analytics» в данной строке. Поскольку строка начинается на «AV», метод вернет <code>None</code>:</p><div id="crayon-56d5b669568bb256405835" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568bb256405835-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">match</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'Analytics'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV Analytics Vidhya AV'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568bb256405835-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b669568bb256405835-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568bb256405835-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b669568bb256405835-5"><span class="crayon-t">None</span></p></div></td></tr></table></div></div><p> Также есть методы <code>start()</code> и <code>end()</code> для того, чтобы узнать начальную и конечную позицию найденной строки.</p><div id="crayon-56d5b669568c0983739788" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568c0983739788-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">match</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'AV'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV Analytics Vidhya AV'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568c0983739788-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b669568c0983739788-3"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-sy">.</span><span class="crayon-e">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568c0983739788-4"> </p><p class="crayon-line" id="crayon-56d5b669568c0983739788-5">Результат<span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568c0983739788-6"><span class="crayon-cn">0</span></p><p class="crayon-line" id="crayon-56d5b669568c0983739788-7"><span class="crayon-cn">2</span></p></div></td></tr></table></div></div><p> Эти методы иногда очень полезны для работы со строками.</p><h4><tt>re.search(<i>pattern</i>, <i>string</i>):</tt></h4><p>Этот метод похож на <code>match()</code>, но он ищет не только в начале строки. В отличие от предыдущего, <code>search()</code> вернет объект, если мы попытаемся найти «Analytics».</p><div id="crayon-56d5b669568c5542795729" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568c5542795729-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">search</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'Analytics'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV Analytics Vidhya AV'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568c5542795729-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-sy">.</span><span class="crayon-e">group</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b669568c5542795729-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568c5542795729-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b669568c5542795729-5"><span class="crayon-v">Analytics</span></p></div></td></tr></table></div></div><p> Метод <code>search()</code> ищет по всей строке, но возвращает только первое найденное совпадение.</p><h4><tt>re.findall(<i>pattern</i>, <i>string</i>):</tt></h4><p>Этот метод возвращает список всех найденных совпадений. У метода <code>findall()</code> нет ограничений на поиск в начале или конце строки. Если мы будем искать «AV» в нашей строке, он вернет все вхождения «AV». Для поиска рекомендуется использовать именно <code>findall()</code>, так как он может работать и как <code>re.search()</code>, и как <code>re.match()</code>.</p><div id="crayon-56d5b669568cb500836925" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568cb500836925-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'AV'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV Analytics Vidhya AV'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568cb500836925-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b669568cb500836925-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568cb500836925-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b669568cb500836925-5"><span class="crayon-sy">[</span><span class="crayon-s">'AV'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p/><h4><tt>re.split(<i>pattern</i>, <i>string</i>, <i>[maxsplit=0]</i>):</tt></h4><p>Этот метод разделяет строку по заданному шаблону.</p><div id="crayon-56d5b669568d0459036963" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568d0459036963-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'y'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Analytics'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568d0459036963-2"><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b669568d0459036963-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568d0459036963-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b669568d0459036963-5"><span class="crayon-sy">[</span><span class="crayon-s">'Anal'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'tics'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> В примере мы разделили слово «Analytics» по букве «y». Метод <code>split()</code> принимает также аргумент <code>maxsplit</code> со значением по умолчанию, равным 0. В данном случае он разделит строку столько раз, сколько возможно, но если указать этот аргумент, то разделение будет произведено не более указанного количества раз. Давайте посмотрим на примеры:</p><div id="crayon-56d5b669568d5352729527" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568d5352729527-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'i'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Analytics Vidhya'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568d5352729527-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b669568d5352729527-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568d5352729527-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b669568d5352729527-5"><span class="crayon-sy">[</span><span class="crayon-s">'Analyt'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'cs V'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'dhya'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-c"># все возможные участки.</span></p></div></td></tr></table></div></div><p/><div id="crayon-56d5b669568da651150788" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568da651150788-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'i'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Analytics Vidhya'</span><span class="crayon-sy">,</span><span class="crayon-v">maxsplit</span><span class="crayon-o">=</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568da651150788-2"><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b669568da651150788-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568da651150788-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b669568da651150788-5"><span class="crayon-sy">[</span><span class="crayon-s">'Analyt'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'cs Vidhya'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> Мы установили параметр <code>maxsplit</code> равным 1, и в результате строка была разделена на две части вместо трех.</p><h4><tt>re.sub(<i>pattern</i>, <i>repl</i>, <i>string</i>):</tt></h4><p>Этот метод ищет шаблон в строке и заменяет его на указанную подстроку. Если шаблон не найден, строка остается неизменной.</p><div id="crayon-56d5b669568df197875868" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568df197875868-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">sub</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'India'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'the World'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568df197875868-2"><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b669568df197875868-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568df197875868-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b669568df197875868-5"><span class="crayon-s">'AV is largest Analytics community of the World'</span></p></div></td></tr></table></div></div><p/><h4><tt>re.compile(<i>pattern</i>, <i>repl</i>, <i>string</i>):</tt></h4><p>Мы можем собрать регулярное выражение в отдельный объект, который может быть использован для поиска. Это также избавляет от переписывания одного и того же выражения.</p><div id="crayon-56d5b669568e5979642006" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568e5979642006-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">re</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568e5979642006-2"><span class="crayon-v">pattern</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-k ">compile</span><span class="crayon-sy">(</span><span class="crayon-s">'AV'</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b669568e5979642006-3"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pattern</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-s">'AV Analytics Vidhya AV'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568e5979642006-4"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-e">result</span></p><p class="crayon-line" id="crayon-56d5b669568e5979642006-5"><span class="crayon-v">result2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pattern</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-s">'AV is largest analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568e5979642006-6"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result2</span></p><p class="crayon-line" id="crayon-56d5b669568e5979642006-7"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568e5979642006-8">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b669568e5979642006-9"><span class="crayon-sy">[</span><span class="crayon-s">'AV'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV'</span><span class="crayon-sy">]</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568e5979642006-10"><span class="crayon-sy">[</span><span class="crayon-s">'AV'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> До сих пор мы рассматривали поиск определенной последовательности символов. Но что, если у нас нет определенного шаблона, и нам надо вернуть набор символов из строки, отвечающий определенным правилам? Такая задача часто стоит при извлечении информации из строк. Это можно сделать, написав выражение с использованием специальных символов. Вот наиболее часто используемые из них:</p><table><tbody><tr><th><strong>Оператор</strong></th><th><strong>Описание</strong></th></tr><tr><td><tt>.</tt></td><td>Один любой символ, кроме новой строки <tt>\n</tt>.</td></tr><tr><td><tt>?</tt></td><td>0 или 1 вхождение шаблона слева</td></tr><tr><td><tt>+</tt></td><td>1 и более вхождений шаблона слева</td></tr><tr><td><tt>*</tt></td><td>0 и более вхождений шаблона слева</td></tr><tr><td><tt>\w</tt></td><td>Любая цифра или буква (<tt>\W</tt> — все, кроме буквы или цифры)</td></tr><tr><td><tt>\d</tt></td><td>Любая цифра [0-9] (<tt>\D</tt> — все, кроме цифры)</td></tr><tr><td><tt>\s</tt></td><td>Любой пробельный символ (<tt>\S</tt> — любой непробельнй символ)</td></tr><tr><td><tt>\b</tt></td><td>Граница слова</td></tr><tr><td><tt>[..]</tt></td><td>Один из символов в скобках (<tt>[^..]</tt> — любой символ, кроме тех, что в скобках)</td></tr><tr><td><tt>\</tt></td><td>Экранирование специальных символов (<tt>\.</tt> означает точку или <tt>\+</tt> — знак «плюс»)</td></tr><tr><td><tt>^</tt> и <tt>$</tt></td><td>Начало и конец строки соответственно</td></tr><tr><td><tt>{n,m}</tt></td><td>От <tt>n</tt> до <tt>m</tt> вхождений (<tt>{,m}</tt> — от 0 до <tt>m</tt>)</td></tr><tr><td><tt>a|b</tt></td><td>Соответствует <tt>a</tt> или <tt>b</tt></td></tr><tr><td><tt>()</tt></td><td>Группирует выражение и возвращает найденный текст</td></tr><tr><td><tt>\t</tt>, <tt>\n</tt>, <tt>\r</tt></td><td>Символ табуляции, новой строки и возврата каретки соответственно</td></tr></tbody></table><p> </p><p>Больше информации по специальным символам, таким как <tt>()</tt>, <tt>|</tt> и др., можно найти на странице документации: <a href="https://docs.python.org/2/library/re.html" target="_blank">https://docs.python.org/2/library/re.html</a>).</p><p>Теперь давайте посмотрим на примеры использования регулярных выражений.</p><h3>Примеры использования регулярных выражений</h3><h4>Задача 1: Вернуть первое слово из строки</h4><p>Сначала попробуем вытащить каждый символ (используя <code>\w</code>)</p><div id="crayon-56d5b669568ed490761360" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568ed490761360-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">re</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568ed490761360-2"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'.'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b669568ed490761360-3"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568ed490761360-4"> </p><p class="crayon-line" id="crayon-56d5b669568ed490761360-5">Результат<span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568ed490761360-6"><span class="crayon-sy">[</span><span class="crayon-s">'A'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'V'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">' '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'i'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'s'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">' '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'l'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'a'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'r'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'g'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'e'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'s'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'t'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">' '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'A'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'n'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'a'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'l'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'y'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'t'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'i'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'c'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'s'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">' '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'c'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'o'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'m'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'m'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'u'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'n'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'i'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'t'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'y'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">' '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'o'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'f'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">' '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'I'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'n'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'d'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'i'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'a'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> Для того, чтобы в конечный результат не попал пробел, используем вместо <code>.</code> <code>\w</code>.</p><div id="crayon-56d5b669568f3695188728" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568f3695188728-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'\w'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568f3695188728-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b669568f3695188728-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568f3695188728-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b669568f3695188728-5"><span class="crayon-sy">[</span><span class="crayon-s">'A'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'V'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'i'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'s'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'l'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'a'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'r'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'g'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'e'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'s'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'t'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'A'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'n'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'a'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'l'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'y'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'t'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'i'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'c'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'s'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'c'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'o'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'m'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'m'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'u'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'n'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'i'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'t'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'y'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'o'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'f'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'I'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'n'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'d'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'i'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'a'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> Теперь попробуем достать каждое слово (используя <code>*</code> или <code>+</code>)</p><div id="crayon-56d5b669568f8673184321" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568f8673184321-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'\w*'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568f8673184321-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b669568f8673184321-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568f8673184321-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b669568f8673184321-5"><span class="crayon-sy">[</span><span class="crayon-s">'AV'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'is'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'largest'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Analytics'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'community'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'of'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'India'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> И снова в результат попали пробелы, так как <code>*</code> означает «ноль или более символов». Для того, чтобы их убрать, используем <code>+</code>:</p><div id="crayon-56d5b669568fd217697356" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b669568fd217697356-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'\w+'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568fd217697356-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b669568fd217697356-3">Результат<span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b669568fd217697356-4"><span class="crayon-sy">[</span><span class="crayon-s">'AV'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'is'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'largest'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Analytics'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'community'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'of'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'India'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> Теперь вытащим первое слово, используя <code>^</code>:</p><div id="crayon-56d5b66956902273352718" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b66956902273352718-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'^\w+'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956902273352718-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b66956902273352718-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956902273352718-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b66956902273352718-5"><span class="crayon-sy">[</span><span class="crayon-s">'AV'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> Если мы используем <code>$</code> вместо <code>^</code>, то мы получим последнее слово, а не первое:</p><div id="crayon-56d5b66956906617765098" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b66956906617765098-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'\w+$'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956906617765098-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b66956906617765098-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956906617765098-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b66956906617765098-5"><span class="crayon-sy">[</span>‘<span class="crayon-i">India</span>’<span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p/><h4>Задача 2: Вернуть первые два символа каждого слова</h4><p>Вариант 1: используя <code>\w</code>, вытащить два последовательных символа, кроме пробельных, из каждого слова:</p><div id="crayon-56d5b6695690c804233446" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b6695690c804233446-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'\w\w'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695690c804233446-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b6695690c804233446-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695690c804233446-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b6695690c804233446-5"><span class="crayon-sy">[</span><span class="crayon-s">'AV'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'is'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'la'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'rg'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'es'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'An'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'al'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'yt'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'ic'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'co'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'mm'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'un'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'it'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'of'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'In'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'di'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> Вариант 2: вытащить два последовательных символа, используя символ границы слова (<code>\b</code>):</p><div id="crayon-56d5b66956910805364039" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b66956910805364039-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'\b\w.'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956910805364039-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b66956910805364039-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956910805364039-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b66956910805364039-5"><span class="crayon-sy">[</span><span class="crayon-s">'AV'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'is'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'la'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'An'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'co'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'of'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'In'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p/><h4>Задача 3: вернуть список доменов из списка адресов электронной почты</h4><p>Давайте снова рассмотрим решение пошагово. Сначала вернем все символы после «@»:</p><div id="crayon-56d5b66956916657725613" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b66956916657725613-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'@\w+'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'abc.test@gmail.com, xyz@test.in, test.first@analyticsvidhya.com, first.test@rest.biz'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956916657725613-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b66956916657725613-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956916657725613-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b66956916657725613-5"><span class="crayon-sy">[</span><span class="crayon-s">'@gmail'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'@test'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'@analyticsvidhya'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'@rest'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> Как видим, части «.com», «.in» и т. д. не попали в результат. Изменим наш код:</p><div id="crayon-56d5b6695691a080291469" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b6695691a080291469-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'@\w+.\w+'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'abc.test@gmail.com, xyz@test.in, test.first@analyticsvidhya.com, first.test@rest.biz'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695691a080291469-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b6695691a080291469-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695691a080291469-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b6695691a080291469-5"><span class="crayon-sy">[</span><span class="crayon-s">'@gmail.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'@test.in'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'@analyticsvidhya.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'@rest.biz'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> Второй вариант — вытащить только домен, используя группировку — <code>( )</code>:</p><div id="crayon-56d5b66956920109863952" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b66956920109863952-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'@\w+.(\w+)'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'abc.test@gmail.com, xyz@test.in, test.first@analyticsvidhya.com, first.test@rest.biz'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956920109863952-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b66956920109863952-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956920109863952-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b66956920109863952-5"><span class="crayon-sy">[</span><span class="crayon-s">'com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'in'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'biz'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p/><h4>Задача 4: Извлечь дату из строки</h4><p>Используем <code>\d</code> для извлечения цифр.</p><div id="crayon-56d5b66956925884885174" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b66956925884885174-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'\d{2}-\d{2}-\d{4}'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Amit 34-3456 12-05-2007, XYZ 56-4532 11-11-2011, ABC 67-8945 12-01-2009'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956925884885174-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b66956925884885174-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956925884885174-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b66956925884885174-5"><span class="crayon-sy">[</span><span class="crayon-s">'12-05-2007'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'11-11-2011'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'12-01-2009'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> Для извлечения только года нам опять помогут скобки:</p><div id="crayon-56d5b6695692a156746113" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b6695692a156746113-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'\d{2}-\d{2}-(\d{4})'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Amit 34-3456 12-05-2007, XYZ 56-4532 11-11-2011, ABC 67-8945 12-01-2009'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695692a156746113-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b6695692a156746113-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695692a156746113-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b6695692a156746113-5"><span class="crayon-sy">[</span><span class="crayon-s">'2007'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'2011'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'2009'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p/><h4>Задача 5: Извлечь все слова, начинающиеся на гласную</h4><p>Для начала вернем все слова:</p><div id="crayon-56d5b6695692f182917941" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b6695692f182917941-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'\w+'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695692f182917941-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b6695692f182917941-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695692f182917941-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b6695692f182917941-5"><span class="crayon-sy">[</span><span class="crayon-s">'AV'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'is'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'largest'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Analytics'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'community'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'of'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'India'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> А теперь — только те, которые начинаются на определенные буквы (используя <code>[]</code>):</p><div id="crayon-56d5b66956934588641323" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b66956934588641323-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'[aeiouAEIOU]\w+'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956934588641323-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b66956934588641323-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956934588641323-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b66956934588641323-5"><span class="crayon-sy">[</span><span class="crayon-s">'AV'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'is'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'argest'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Analytics'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'ommunity'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'of'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'India'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> Выше мы видим обрезанные слова «argest» и «ommunity». Для того, чтобы убрать их, используем <code>\b</code> для обозначения границы слова:</p><div id="crayon-56d5b66956939680338646" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b66956939680338646-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'\b[aeiouAEIOU]\w+'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956939680338646-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b66956939680338646-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956939680338646-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b66956939680338646-5"><span class="crayon-sy">[</span><span class="crayon-s">'AV'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'is'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Analytics'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'of'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'India'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> Также мы можем использовать <code>^</code> внутри квадратных скобок для инвертирования группы:</p><div id="crayon-56d5b6695693e151171908" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b6695693e151171908-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'\b[^aeiouAEIOU]\w+'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695693e151171908-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b6695693e151171908-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695693e151171908-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b6695693e151171908-5"><span class="crayon-sy">[</span><span class="crayon-s">' is'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">' largest'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">' Analytics'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">' community'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">' of'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">' India'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> В результат попали слова, «начинающиеся» с пробела. Уберем их, включив пробел в диапазон в квадратных скобках:</p><div id="crayon-56d5b66956943512119129" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b66956943512119129-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'\b[^aeiouAEIOU ]\w+'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AV is largest Analytics community of India'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956943512119129-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b66956943512119129-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956943512119129-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b66956943512119129-5"><span class="crayon-sy">[</span><span class="crayon-s">'largest'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'community'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p/><h4>Задача 6: Проверить телефонный номер (номер должен быть длиной 10 знаков и начинаться с 8 или 9)</h4><p>У нас есть список телефонных номеров, и нам нужно проверить их, используя регулярные выражения:</p><div id="crayon-56d5b66956948219584037" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b66956948219584037-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">re</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956948219584037-2"><span class="crayon-v">li</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'9999999999'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'999999-999'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'99999x9999'</span><span class="crayon-sy">]</span></p><p class="crayon-line" id="crayon-56d5b66956948219584037-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956948219584037-4"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">val </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">li</span><span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b66956948219584037-5"><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">match</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'[8-9]{1}[0-9]{9}'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">val</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-k ">len</span><span class="crayon-sy">(</span><span class="crayon-v">val</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956948219584037-6"><span class="crayon-h">     </span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">'yes'</span></p><p class="crayon-line" id="crayon-56d5b66956948219584037-7"><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956948219584037-8"><span class="crayon-h">     </span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">'no'</span></p><p class="crayon-line" id="crayon-56d5b66956948219584037-9"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956948219584037-10">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b66956948219584037-11"><span class="crayon-e">yes</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956948219584037-12"><span class="crayon-e">no</span></p><p class="crayon-line" id="crayon-56d5b66956948219584037-13"><span class="crayon-v">no</span></p></div></td></tr></table></div></div><p/><h4>Задача 7: Разбить строку по нескольким разделителям</h4><p>Возможное решение:</p><div id="crayon-56d5b6695694d655913437" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b6695694d655913437-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">re</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695694d655913437-2"><span class="crayon-v">line</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'asdf fjdk;afed,fjek,asdf,foo'</span><span class="crayon-h"> </span><span class="crayon-c"># String has multiple delimiters (";",","," ").</span></p><p class="crayon-line" id="crayon-56d5b6695694d655913437-3"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'[;,\s]'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">line</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695694d655913437-4"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b6695694d655913437-5"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695694d655913437-6">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b6695694d655913437-7"><span class="crayon-sy">[</span><span class="crayon-s">'asdf'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'fjdk'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'afed'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'fjek'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'asdf'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'foo'</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> Также мы можем использовать метод <code>re.sub()</code> для замены всех разделителей пробелами:</p><div id="crayon-56d5b66956952908876354" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b66956952908876354-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">re</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956952908876354-2"><span class="crayon-v">line</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'asdf fjdk;afed,fjek,asdf,foo'</span></p><p class="crayon-line" id="crayon-56d5b66956952908876354-3"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">sub</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'[;,\s]'</span><span class="crayon-sy">,</span><span class="crayon-s">' '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">line</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956952908876354-4"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b66956952908876354-5"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956952908876354-6">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b66956952908876354-7"><span class="crayon-e">asdf </span><span class="crayon-e">fjdk </span><span class="crayon-e">afed </span><span class="crayon-e">fjek </span><span class="crayon-e">asdf </span><span class="crayon-v">foo</span></p></div></td></tr></table></div></div><p/><h4>Задача 8: Извлечь информацию из html-файла</h4><p>Допустим, нам надо извлечь информацию из html-файла, заключенную между <code>&lt;td&gt;</code> и <code>&lt;/td&gt;</code>, кроме первого столбца с номером. Также будем считать, что html-код содержится в строке.</p><p>Пример html-файла:</p><div id="crayon-56d5b66956957438645239" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b66956957438645239-1">1NoahEmma2LiamOlivia3MasonSophia4JacobIsabella5WilliamAva6EthanMia7MichaelEmily</p></div></td></tr></table></div></div><p> Решение:</p><div id="crayon-56d5b6695695c164084394" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b6695695c164084394-1"><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'\w+\s(\w+)\s(\w+)'</span><span class="crayon-sy">,</span><span class="crayon-k ">str</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695695c164084394-2"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-i">result</span></p><p class="crayon-line" id="crayon-56d5b6695695c164084394-3"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b6695695c164084394-4">Результат<span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5b6695695c164084394-5"><span class="crayon-sy">[</span><span class="crayon-sy">(</span><span class="crayon-s">'Noah'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Emma'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Liam'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Olivia'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Mason'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Sophia'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Jacob'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Isabella'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'William'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Ava'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Ethan'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Mia'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Michael'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Emily'</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p> Прочитать содержимое html-файла можно с помощью библиотеки <code>urllib2</code>:</p><div id="crayon-56d5b66956961624925688" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b66956961624925688-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">urllib2</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b66956961624925688-2"><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">urllib2</span><span class="crayon-sy">.</span><span class="crayon-e">urlopen</span><span class="crayon-sy">(</span><span class="crayon-s">''</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b66956961624925688-3"><span class="crayon-v">html</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p></div></td></tr></table></div></div><p/><h3>Заключение</h3><p>В этой статье мы узнали, что такое регулярные выражения и как их использовать, на примере библиотеки <code>re</code> в Python. Кроме того, мы рассмотрели наиболее часто встречающиеся задачи, в которых их можно применить.</p><p><sub>Перевод статьи <a href="http://www.analyticsvidhya.com/blog/2015/06/regular-expression-python/" target="_blank">«Beginners Tutorial for Regular Expressions in Python»</a>.</sub></p><p class="mistape_caption"/><footer class="entry-meta clearfix"><p class="vk_like" id="vk_like_bottom_6785"/></footer></div></div></body></html>