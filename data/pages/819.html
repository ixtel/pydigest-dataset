<html><body><div><div class="entry-content">
		<p><a href="https://github.com/carlsborg/callviz">rcviz</a> is a small python module for recursive call graph visualization, which i wrote a few weekends ago. It differs from regular call graph visualizations because i) it shows the recursion tree with each <strong>invocation</strong> of the function as a different node  ii)  it also shows the args and return values at each node, and iii)  it allows you track and graph the execution of just the function/s you are interested in without affecting or slowing down the rest of the codebase.</p>
<p>It’s probably only useful for visual intuition and debugging of recursive algorithms, not general purpose call graphs. Below, I show the usage and output for a Fibonacci numbers routine, and then a recursive descent parser (parser code due to Dr. Tim Finin from <a href="https://github.com/finin/recursive_descent/blob/master/rd.py">here</a>).  For another example, see the quicksort visualizations on <a href="https://github.com/carlsborg/callviz">rcviz github readme</a>.</p>
<p><span id="more-228"/></p>
<p><strong>== Usage</strong></p>
<p>1. Use the @viz decorator to instrument the recursive function.</p>
<pre class="brush: python; title: ; notranslate" title="">

@viz
def factorial(n):

</pre>
<p>2. At the end of the calling program  render the recursion with</p>
<pre class="brush: python; title: ; notranslate" title="">
callgraph.render("outfile.png")
</pre>
<p><strong>== Fibonacci visualization</strong></p>
<pre class="brush: python; title: ; notranslate" title="">

from rcviz import callgraph, viz

@viz
def fibonacci(number):
    if number &lt;= 1:
        return number
    else:
        return fibonacci(number-1) + fibonacci(number-2)
        
print fibonacci(5)        
callgraph.render("fibonacci.png")

</pre>
<p>renders<br/>
<a href="https://zvzzt.files.wordpress.com/2014/05/fibonacci1.png"><img class="alignnone wp-image-234 size-large" src="https://zvzzt.files.wordpress.com/2014/05/fibonacci1.png?w=630&amp;h=400" alt="fibonacci"/></a></p>
<p>The edges are numbered with the order of invocation and the order of unwinding ( in brackets with the up arrow ). The edge colors fade from black to light gray with the invocation order (black invoked first, light grey last).</p>
<p><strong>== Recursive descent visualization</strong></p>
<p>The code and grammar can be viewed in rd.py <a href="https://github.com/finin/recursive_descent/blob/master/rd.py">here</a>. It is a top down recursive descent parser that takes a string such as “1 + (4*5) – 3” and returns a parse tree or error on bad syntax. The parse tree is represented as a nested tuple of the form  ( left_tree, node, right_tree ), for the above example it is (‘+’, 1, (‘-‘, (‘*’, 4, 5), 3)) , rooted at 1. The output is below.</p>
<p> </p>
<p><a href="https://zvzzt.files.wordpress.com/2014/05/rd.png"><img class="alignnone wp-image-229 size-large" src="https://zvzzt.files.wordpress.com/2014/05/rd.png?w=630&amp;h=788" alt="rd"/></a></p>
<p> </p>
<p> </p>
<p>To generate the above image, I added the decorator @viz to all six functions in rd.py, and rendered to png. It should be trivial to extend rcviz to programatically decorate all functions in a module.</p>
<p> </p>
<p><strong>== Some rcviz examples from the web</strong></p>
<p>* <a href="https://deptinfo-ensip.univ-poitiers.fr/blogpydefis/methode-memoization.html">The Ackermann function</a> (french, scroll down for visual)</p>
<p>Shows Ackermann(3,2) growing to a 541 node graph.</p>
<p> </p>
<p>.</p>
<p> </p>
		<div id="jp-post-flair" class="sharedaddy sd-like-enabled"><div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" id="like-post-wrapper-12163874-228-56d599293bd96" data-src="//widgets.wp.com/likes/#blog_id=12163874&amp;post_id=228&amp;origin=zvzzt.wordpress.com&amp;obj_id=12163874-228-56d599293bd96" data-name="like-post-frame-12163874-228-56d599293bd96"><h3 class="sd-title">Like this:</h3><p class="likes-widget-placeholder post-likes-widget-placeholder"><span class="button"><span>Like</span></span> <span class="loading">Loading...</span></p><span class="sd-text-color"/><a class="sd-link-color"/></div></div>			</div>

	</div></body></html>