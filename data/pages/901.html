<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-pyminifier" class="anchor" href="#pyminifier" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>pyminifier</h1>
<p>Pyminifier is a Python code minifier, obfuscator, and compressor.</p>

<a name="user-content-overview"/>
<h2><a id="user-content-overview" class="anchor" href="#overview" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Overview</h2>
<p>When you install pyminifier it should automatically add a 'pyminifier'
executable to your <code>$PATH</code>.  This executable has a number of command line
arguments:</p>
<div class="highlight highlight-source-shell"><pre>$ pyminifier --help
Usage: pyminifier [options] <span class="pl-s"><span class="pl-pds">"</span>&lt;input file&gt;<span class="pl-pds">"</span></span>

Options:
--version             show program<span class="pl-s"><span class="pl-pds">'</span>s version number and exit</span>
<span class="pl-s">-h, --help            show this help message and exit</span>
<span class="pl-s">-o &lt;file path&gt;, --outfile=&lt;file path&gt;</span>
<span class="pl-s">                      Save output to the given file.</span>
<span class="pl-s">-d &lt;file path&gt;, --destdir=&lt;file path&gt;</span>
<span class="pl-s">                      Save output to the given directory. This option is</span>
<span class="pl-s">                        required when handling multiple files. Defaults to</span>
<span class="pl-s">                        <span class="pl-pds">'</span></span>./minified<span class="pl-s"><span class="pl-pds">'</span> and will be created if not present.</span>
<span class="pl-s">--nominify            Don<span class="pl-pds">'</span></span>t bother minifying (only used with --pyz).
--use-tabs            Use tabs <span class="pl-k">for</span> indentation instead of spaces.
--bzip2               bzip2-compress the result into a self-executing python
                        script.  Only works on stand-alone scripts without
                        implicit imports.
--gzip                gzip-compress the result into a self-executing python
                        script.  Only works on stand-alone scripts without
                        implicit imports.
--lzma                lzma-compress the result into a self-executing python
                        script.  Only works on stand-alone scripts without
                        implicit imports.
--pyz=<span class="pl-k">&lt;</span>name of archive<span class="pl-k">&gt;</span>.pyz
                      zip-compress the result into a self-executing python
                        script. This will create a new file that includes any
                        necessary implicit (<span class="pl-k">local</span> to the script) modules.
                        Will include/process all files given as arguments to
                        pyminifier.py on the <span class="pl-c1">command</span> line.
-O, --obfuscate       Obfuscate all function/method names, variables, and
                        classes.  Default is to NOT obfuscate.
--obfuscate-classes   Obfuscate class names.
--obfuscate-functions
                      Obfuscate <span class="pl-k">function</span> <span class="pl-en">and</span> method names.
--obfuscate-variables
                      Obfuscate variable names.
--obfuscate-import-methods
                      Obfuscate globally-imported mouled methods (e.g.
                        <span class="pl-s"><span class="pl-pds">'</span>Ag=re.compile<span class="pl-pds">'</span></span>).
--obfuscate-builtins  Obfuscate built-ins (i.e. True, False, object,
                        Exception, etc).
--replacement-length=1
                      The length of the random names that will be used when
                        obfuscating identifiers.
--nonlatin            Use non-latin (unicode) characters <span class="pl-k">in</span> obfuscation
                        (Python 3 only).  WARNING: This results <span class="pl-k">in</span> some
                        SERIOUSLY hard-to-read code.
--prepend=<span class="pl-k">&lt;</span>file path<span class="pl-k">&gt;</span>
                      Prepend the text <span class="pl-k">in</span> this file to the top of our
                        output.  e.g. A copyright notice.</pre></div>
<p>For the examples below we'll be minifying, obfuscating, and compressing the
following totally made-up Python script (saved to <code>/tmp/tumult.py</code>):</p>
<pre>#!/usr/bin/env python
"""
tumult.py - Because everyone needs a little chaos every now and again.
"""

try:
    import demiurgic
except ImportError:
    print("Warning: You're not demiurgic. Actually, I think that's normal.")
try:
    import mystificate
except ImportError:
    print("Warning: Dark voodoo may be unreliable.")

# Globals
ATLAS = False # Nothing holds up the world by default

class Foo(object):
    """
    The Foo class is an abstract flabbergaster that when instantiated
    represents a discrete dextrogyratory inversion of a cattywompus
    octothorp.
    """
    def __init__(self, *args, **kwargs):
        """
        The initialization vector whereby the ineffably obstreperous
        becomes paramount.
        """
        # TODO.  BTW: What happens if we remove that docstring? :)

    def demiurgic_mystificator(self, dactyl):
        """
        A vainglorious implementation of bedizenment.
        """
        inception = demiurgic.palpitation(dactyl) # Note the imported call
        demarcation = mystificate.dark_voodoo(inception)
        return demarcation

    def test(self, whatever):
        """
        This test method tests the test by testing your patience.
        """
        print(whatever)

if __name__ == "__main__":
    print("Forming...")
    f = Foo("epicaricacy", "perseverate")
    f.test("Codswallop")
</pre>
<p>By default pyminifier will perform basic minification and print the resulting
code to stdout:</p>
<div>
<p>Note</p>
<p>The tumult.py script is 1358 bytes.  Remember that.</p>
</div>
<div class="highlight highlight-source-shell"><pre>$ pyminifier /tmp/tumult.py
<span class="pl-c">#!/usr/bin/env python</span>
try:
 import demiurgic
except ImportError:
 print(<span class="pl-s"><span class="pl-pds">"</span>Warning: You're not demiurgic. Actually, I think that's normal.<span class="pl-pds">"</span></span>)
try:
 import mystificate
except ImportError:
 print(<span class="pl-s"><span class="pl-pds">"</span>Warning: Dark voodoo may be unreliable.<span class="pl-pds">"</span></span>)
ATLAS=False
class Foo(object):
 def __init__(self,<span class="pl-k">*</span>args,<span class="pl-k">**</span>kwargs):
  pass
 def demiurgic_mystificator(self,dactyl):
  inception=demiurgic.palpitation(dactyl)
  demarcation=mystificate.dark_voodoo(inception)
  <span class="pl-k">return</span> demarcation
 def <span class="pl-c1">test</span>(self,whatever):
  print(whatever)
<span class="pl-k">if</span> __name__==<span class="pl-s"><span class="pl-pds">"</span>__main__<span class="pl-pds">"</span></span>:
 print(<span class="pl-s"><span class="pl-pds">"</span>Forming...<span class="pl-pds">"</span></span>)
 f=Foo(<span class="pl-s"><span class="pl-pds">"</span>epicaricacy<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>perseverate<span class="pl-pds">"</span></span>)
 f.<span class="pl-c1">test</span>(<span class="pl-s"><span class="pl-pds">"</span>Codswallop<span class="pl-pds">"</span></span>)
<span class="pl-c"># Created by pyminifier.py</span></pre></div>
<p>This reduced the size of tumult.py from 1358 bytes to 640 bytes.  Not bad!</p>
<p>Minifying by itself can reduce code size considerably but pyminifier can go
further by obfuscating the code.  What that means is that it will replace the
names of things like variables and functions to the smallest possible size.</p>
<p>To see more examples of pyminifier in action (e.g. compression features) see the
<a href="http://liftoff.github.io/pyminifier/">full documentation</a></p>
<a name="user-content-special-sauce"/>
<h2><a id="user-content-special-sauce" class="anchor" href="#special-sauce" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Special Sauce</h2>
<p>So let's pretend for a moment that your intentions are not pure; that you
totally want to mess with the people that look at your minified code.  What you
need is Python 3 and the <code>--nonlatin</code> option...</p>
<div class="highlight highlight-source-shell"><pre><span class="pl-c">#!/usr/bin/env python</span>
ﵛ=ImportError
ࡅ=print
㮀=False
搓=object
try:
 import demiurgic
except ﵛ:
ࡅ(<span class="pl-s"><span class="pl-pds">"</span>Warning: You're not demiurgic. Actually, I think that's normal.<span class="pl-pds">"</span></span>)
try:
 import mystificate
except ﵛ:
ࡅ(<span class="pl-s"><span class="pl-pds">"</span>Warning: Dark voodoo may be unreliable.<span class="pl-pds">"</span></span>)
ﵩ=㮀
class רּ(搓):
 def __init__(self,<span class="pl-k">*</span>args,<span class="pl-k">**</span>kwargs):
  pass
 def 𐨱(self,dactyl):
  ﱲ=demiurgic.palpitation(dactyl)
  ꁁ=mystificate.dark_voodoo(ﱲ)
  <span class="pl-k">return</span> ꁁ
 def 𨠅(self,whatever):
  ࡅ(whatever)
<span class="pl-k">if</span> __name__==<span class="pl-s"><span class="pl-pds">"</span>__main__<span class="pl-pds">"</span></span>:
 ࡅ(<span class="pl-s"><span class="pl-pds">"</span>Forming...<span class="pl-pds">"</span></span>)
 녂=רּ(<span class="pl-s"><span class="pl-pds">"</span>epicaricacy<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>perseverate<span class="pl-pds">"</span></span>)
 녂.𨠅(<span class="pl-s"><span class="pl-pds">"</span>Codswallop<span class="pl-pds">"</span></span>)
<span class="pl-c"># Created by pyminifier.py (https://github.com/liftoff/pyminifier)</span></pre></div>
<p>Yes, that code actually works <em>but only using Python 3</em>.  This is because Python
3 supports coding in languages that use non-latin character sets.</p>
<div>
<p>Note</p>
<p>Most text editors/IDEs will have a hard time with code generated using the
<code>--nonlatin</code> option because it will be a random mix of left-to-right
and right-to-left characters.  Often the result is some code appearing on
the left of the screen and some code appearing on the right.  This makes it
<em>really</em> hard to figure out things like indentation levels and whatnot!</p>
</div>
<p>There's even more ways to mess with people in the
<a href="http://liftoff.github.io/pyminifier/">full documentation</a></p>

</article>
  </div></body></html>