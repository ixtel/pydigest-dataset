<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-crashreporter" class="anchor" href="#crashreporter" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>CrashReporter</h1>

<p>CrashReporter creates reports from the traceback if your python code crashes. The reports can be uploaded directly
to the developers via email or web server. If no internet connection is available, crash reporter stores offline reports
and later sends them when possible.</p>

<h2><a id="user-content-features" class="anchor" href="#features" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Features</h2>

<p>Features of crashreporter include:</p>

<pre><code>- Uploading of crash reports via email or to a web server (HQ).
- Offline crash reporting that stores crash reports until they are uploaded.
- Traceback and variable inspection output
</code></pre>

<h2><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h2>

<p>To install:</p>

<pre><code>pip install crashreporter
</code></pre>

<h2><a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Usage</h2>

<p>Implementing the crash reporter is easy. Just create a CrashReporter object. Configure the SMTP or HQ accounts for
uploading of reports (optional) and you are good to go!</p>

<p>In the following example, we wil create a Person class that has an optional age  attribute. We will then create two
Person objects, one with an age and one without. When we attempt to combine their ages we get the following error:</p>

<pre><code>TypeError: unsupported operand type(s) for +: 'int' and 'NoneType'
</code></pre>

<p>example.py</p>

<div class="highlight highlight-source-python"><pre>    <span class="pl-k">from</span> crashreporter <span class="pl-k">import</span> CrashReporter

    <span class="pl-k">class</span> <span class="pl-en">Person</span>(<span class="pl-c1">object</span>):

        <span class="pl-k">def</span> <span class="pl-c1">__init__</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">name</span>, <span class="pl-smi">age</span><span class="pl-k">=</span><span class="pl-c1">None</span>):
            <span class="pl-v">self</span>.name <span class="pl-k">=</span> name
            <span class="pl-v">self</span>.age <span class="pl-k">=</span> age

    <span class="pl-k">def</span> <span class="pl-en">combine_ages</span>(<span class="pl-smi">person_a</span>, <span class="pl-smi">person_b</span>):
        a_local_variable <span class="pl-k">=</span> <span class="pl-c1">134</span>
        <span class="pl-k">return</span> person_a.age <span class="pl-k">+</span> person_b.age, Person.<span class="pl-c1">__name__</span>

    <span class="pl-k">if</span> <span class="pl-c1">__name__</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>__main__<span class="pl-pds">'</span></span>:
        <span class="pl-c"># Note I have used a configuration file for setting up SMTP and HQ accounts but you can also call functions</span>
        <span class="pl-c"># cr.setup_smtp() and cr.setup_hq() with your credentials to configure SMTP/HQ respectively.</span>
        cr <span class="pl-k">=</span> CrashReporter(<span class="pl-v">report_dir</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>/home/calvin/crashreporter<span class="pl-pds">'</span></span>,
                           <span class="pl-v">check_interval</span><span class="pl-k">=</span><span class="pl-c1">10</span>,
                           <span class="pl-v">config</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>./crashreporter.cfg<span class="pl-pds">'</span></span>)

        cr.application_name <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>My App<span class="pl-pds">'</span></span>
        cr.application_version <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>1.1.350<span class="pl-pds">'</span></span>

        calvin <span class="pl-k">=</span> Person(<span class="pl-s"><span class="pl-pds">'</span>calvin<span class="pl-pds">'</span></span>, <span class="pl-v">age</span><span class="pl-k">=</span><span class="pl-c1">25</span>)
        bob <span class="pl-k">=</span> Person(<span class="pl-s"><span class="pl-pds">'</span>bob<span class="pl-pds">'</span></span>)
        combine_ages(calvin, bob)

        <span class="pl-k">while</span> <span class="pl-c1">1</span>:
            <span class="pl-k">pass</span>
</pre></div>

<p>When the crash occurs, the crash reporter will attempt to send it by email or upload it to the HQ server, if both methods
fail, the crash is written to file in <code>report_dir</code>. The next time the script is run, the crash reporter will look for
any offline reports and attempt to send them every <code>check_interval</code> seconds. After a sucessful upload, the stored reports
are deleted.</p>

<h2><a id="user-content-configuration-file" class="anchor" href="#configuration-file" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Configuration File</h2>

<p>If you don't want to keep your SMTP and HQ credentials in your scripts you can alternatively use a configuration file.
Simple pass the path to the configuration file as the <code>config</code> argument in CrashReporter or call the <code>load_configuration(path)</code>
method with the path. The format of the configuration file should have two sections, SMTP and HQ. Under each section are parameters
that are passed to the setup_smtp and setup_ftp functions:</p>

<p>Example:</p>

<pre><code>[SMTP]
user = mycrashreporter@gmail.com
passwd = mypasswordissupersecret
recipients = developer1@gmail.com, developer2@gmail.com
host = smtp.gmail.com
port = 587

[HQ]
api_key = ar923086wkjsldl235dfgdf32
server = http://www.crashreporter-hq.com
</code></pre>

<h2><a id="user-content-attributes" class="anchor" href="#attributes" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Attributes</h2>

<p>The CrashReporter has several attributes that can be changed:</p>

<pre><code>offline_report_limit:
        The maximum number of offline reports to save before overwriting
        the oldest report.

application_version:
        Application version as a string to be included in the report.

application_name:
        Application name as a string to be included in the report.

source_code_line_limit:
        The number of source code lines to include before and after the error
        as a tuple (before, after)
</code></pre>

<h2><a id="user-content-example-report" class="anchor" href="#example-report" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Example Report</h2>

<p><a href="https://raw.githubusercontent.com/lobocv/crashreporter/master/example.png" target="_blank"><img src="https://raw.githubusercontent.com/lobocv/crashreporter/master/example.png" alt="alt tag"/></a></p>
</article>
  </div></body></html>