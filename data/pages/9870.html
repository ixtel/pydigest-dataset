<html><body><div><div id="installation">
<h2>Installation</h2>
<p>Install via pip:</p>
<pre>$ pip install mamonsu
</pre>
<p>Install from git:</p>
<pre>$ git clone ... <span class="o">&amp;&amp;</span> <span class="nb">cd</span> mamonsu <span class="o">&amp;&amp;</span> python setup.py build <span class="o">&amp;&amp;</span> python setup.py install
</pre>
<p>Build deb:</p>
<pre>$ apt-get install make dpkg-dev debhelper python-dev python-setuptools
$ git clone ... <span class="o">&amp;&amp;</span> <span class="nb">cd</span> mamonsu <span class="o">&amp;&amp;</span> make deb <span class="o">&amp;&amp;</span> dpkg -i mamonsu*.deb
</pre>
<p>Build rpm:</p>
<pre>$ yum install make rpm-build python2-devel python-setuptools
$ git clone ... <span class="o">&amp;&amp;</span> <span class="nb">cd</span> mamonsu <span class="o">&amp;&amp;</span> make rpm <span class="o">&amp;&amp;</span> rpm -i mamonsu*.rpm
</pre>
<p>Build exe:</p>
<pre>$ pip install cx_freeze
$ git clone ... <span class="o">&amp;&amp;</span> <span class="nb">cd</span> mamonsu <span class="o">&amp;&amp;</span> python setup.py build
</pre>
</div>
<div id="configure">
<h2>Configure</h2>
<p>Export template for zabbix:</p>
<pre>$ mamonsu -e template.xml
</pre>
<p>Import this file in web interface of zabbix: Configuration =&gt; Templates =&gt; Import.</p>
<p>Add this template like <cite>PostgresPro-Linux</cite> at your monitoring host.</p>
<p>Generate config on monitring host:</p>
<pre>$ mamonsu -w /etc/mamonsu/agent.conf
</pre>
<p>Change previously zabbix server address and client hostname:</p>
<pre>$ vim /etc/mamonsu/agent.conf

$ cat /etc/mamonsu/agent.conf

<span class="o">[</span>zabbix<span class="o">]</span>
<span class="nv">client</span> <span class="o">=</span> zabbix_client_host_name
<span class="nv">address</span> <span class="o">=</span> zabbix_server_ip

<span class="o">[</span>postgres<span class="o">]</span>
<span class="nv">user</span> <span class="o">=</span> postgres
<span class="nv">password</span> <span class="o">=</span> None
<span class="nv">database</span> <span class="o">=</span> postgres
<span class="nv">host</span> <span class="o">=</span> localhost
<span class="nv">port</span> <span class="o">=</span> 5432
<span class="nv">query_timeout</span> <span class="o">=</span> 10

<span class="o">[</span>log<span class="o">]</span>
<span class="nv">file</span> <span class="o">=</span> /var/log/mamonsu/agent.log
<span class="nv">level</span> <span class="o">=</span> INFO
</pre>
</div>
</div></body></html>