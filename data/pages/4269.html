<html><body><div><div class="entry-content"><p>Google Chrome plugins are written in HTML, JavaScript and and CSS.  If you have never written a Chrome plugin before I suggest <a href="https://developer.chrome.com/extensions/getstarted" target="_blank">reading this.</a> We want to use Python instead of JavaScript and in this tutorial we will show you how to do that.</p><p><strong>Create an Google Chrome Plugin</strong><br/> To start, we will have to create a manifest file: manifest.json.</p><div class="wp_syntax"><table><tr><td class="code"><pre class="python"><span>{</span>
  <span>"manifest_version"</span>: <span>2</span><span>,</span>
 
  <span>"name"</span>: <span>"Python Chrome Plugin"</span><span>,</span>
  <span>"description"</span>: <span>"This extension runs Python code."</span><span>,</span>
  <span>"version"</span>: <span>"1.0"</span><span>,</span>
 
  <span>"browser_action"</span>: <span>{</span>
    <span>"default_icon"</span>: <span>"icon.png"</span><span>,</span>
    <span>"default_popup"</span>: <span>"popup.html"</span>
  <span>}</span><span>,</span>
  <span>"permissions"</span>: <span>[</span>
    <span>"activeTab"</span><span>,</span>
    <span>"https://ajax.googleapis.com/"</span>
  <span>]</span>
<span>}</span></pre></td></tr></table></div><p>Create a file called popup.html</p><div class="wp_syntax"><table><tr><td class="code"><pre class="python">&amp;lt<span>;!</span>doctype html&amp;gt<span>;</span>
&amp;lt<span>;!</span>--
 This page <span>is</span> shown when the extension button <span>is</span> clicked<span>,</span> because the
 <span>"browser_action"</span> field <span>in</span> manifest.<span>json</span> contains the <span>"default_popup"</span> key <span>with</span>
 value <span>"popup.html"</span>.
 --&amp;gt<span>;</span>
&amp;lt<span>;</span>html&amp;gt<span>;</span>
  &amp;lt<span>;</span>head&amp;gt<span>;</span>
    &amp;lt<span>;</span>title&amp;gt<span>;</span>Getting Started Extension<span>'s Popup&amp;lt;/title&amp;gt;
    &amp;lt;style&amp;gt;
      body {
        font-family: "Segoe UI", "Lucida Grande", Tahoma, sans-serif;
        font-size: 100%;
      }
      #status {
        /* avoid an excessively wide status text */
        white-space: pre;
        text-overflow: ellipsis;
        overflow: hidden;
        max-width: 400px;
      }
    &amp;lt;/style&amp;gt;
 
    &amp;lt;!--
      - JavaScript and HTML must be in separate files: see our Content Security
      - Policy documentation[1] for details and explanation.
      -
      - [1]: https://developer.chrome.com/extensions/contentSecurityPolicy
     --&amp;gt;
    &amp;lt;script src="popup.js"&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
    &amp;lt;div id="status"&amp;gt;&amp;lt;/div&amp;gt;
    &amp;lt;img id="image-result" hidden&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;</span></pre></td></tr></table></div><p>Finally get an icon and save it as icon.png.  Open <a href="chrome://extensions" target="_blank">chrome://extensions</a> and press developer mode. Press “load unpacked extension”, select your directory and press ok.</p><p><strong>Adding Python to the Chrome extension</strong><br/> Now that you have the basics right we can add Python to the code.  To run Python in the browser you have several options including Brython and emcascripten. We decided to give Brython a try. We will run the Brython script from a server. Change popup.html to:</p><div class="wp_syntax"><table><tr><td class="code"><pre class="python">&amp;lt<span>;!</span>DOCTYPE html PUBLIC <span>"-//W3C//DTD HTML 4.01 Transitional//EN"</span>&amp;gt<span>;</span>
&amp;lt<span>;</span>html&amp;gt<span>;</span>
&amp;lt<span>;</span>head&amp;gt<span>;</span>
&amp;lt<span>;</span>meta charset<span>=</span><span>"iso-8859-1"</span>&amp;gt<span>;</span>
&amp;lt<span>;</span>style&amp;gt<span>;</span>
body <span>{</span>    
    margin: <span>0</span> <span>!</span>important<span>;</span>
    padding: <span>0</span> <span>!</span>important<span>;</span>
    width: <span>800</span><span>;</span>
<span>}</span>
 
<span>#frame {</span>
    overflow: hidden<span>;</span>
    width:<span>790</span><span>;</span>
    height:<span>324</span><span>;</span>
<span>}</span>
&amp;lt<span>;</span>/style&amp;gt<span>;</span>
&amp;lt<span>;</span>/head&amp;gt<span>;</span>
&amp;lt<span>;</span>body onLoad<span>=</span><span>""</span>&amp;gt<span>;</span>
&amp;lt<span>;</span>iframe src<span>=</span>http://brython.<span>info</span>/console.<span>html</span> <span>id</span><span>=</span><span>"frame"</span> seamless<span>=</span><span>"seamless"</span> scrolling<span>=</span><span>"no"</span>&amp;gt<span>;</span>&amp;lt<span>;</span>/iframe&amp;gt<span>;</span>
&amp;lt<span>;</span>/body&amp;gt<span>;</span>
&amp;lt<span>;</span>/html&amp;gt<span>;</span></pre></td></tr></table></div><p>Once you restart your plugin you will have a Python (Brython) interpreter inside your Google Chrome.</p><figure id="attachment_483" class="wp-caption alignnone"><a href="https://pythonspot.com/wp-content/uploads/2015/04/out.gif"><img class="size-full wp-image-483" src="https://pythonspot.com/wp-content/uploads/2015/04/out.gif" alt="Python inside Google Chrome"/></a><figcaption class="wp-caption-text">Python inside Google Chrome</figcaption></figure><p><strong>Running your own scripts</strong><br/> To run your own script simply change the url inside the popup.html frame:</p><div class="wp_syntax"><table><tr><td class="code"><pre class="python">&amp;lt<span>;</span>iframe src<span>=</span><span>"BRYTHON SCRIPT URL"</span> <span>id</span><span>=</span><span>"frame"</span> seamless<span>=</span><span>"seamless"</span> scrolling<span>=</span><span>"no"</span>&amp;gt<span>;</span>&amp;lt<span>;</span>/iframe&amp;gt<span>;</span></pre></td></tr></table></div><p>The script should run on your own server. You can run any Brython script from the web.  Using Brython you can simply type Python code inside the script tags. Have a look at <a href="view-source:http://brython.info/gallery/hello.html" target="_blank">this</a> Brython examples or simply<a href="http://brython.info/gallery/gallery_en.html?lang=en" target="_blank"> browse the gallery</a>.</p><p><strong>Concluding:</strong><br/> Chrome plugins are created using HTML, JavaScript and CSS. We wanted to figure out if we can use Python code inside a Google Chrome plugin. We ended up with a Python interpreter inside the browser and the ability to execute scripts.  Bare in mind this is very experimental and only a toy,  I would not suggest porting or creating all your plugins in Brython at this point (we could not find a single website about the idea of combining Chrome plugins with Python).</p><p>Leave a comment <img src="https://pythonspot.com/wp-includes/images/smilies/simple-smile.png" alt=":-)" class="wp-smiley"/></p><p> </p><p id="epoch-width-sniffer"/></div></div></body></html>