<html><body><div><div class="entry-content"><p>Представьте себе робота, находящегося в левом верхнем углу сетки с координатами (X, Y). Робот может перемещаться в двух направлениях: вправо и вниз. Сколько существует маршрутов, проходящих от точки (0, 0) до точки (X, Y)?</p><p><span id="more-7486"/></p><h3>Дополнительно:</h3><p>Предположите, что на сетке существуют области, которые робот не может пересекать. Разработайте алгоритм построения маршрута от левого верхнего до правого нижнего угла.</p><h3>Решение</h3><p>Нам нужно подсчитать количество вариантов прохождения дистанции с Х шагов вправо и Y шагов вниз (X + Y шагов).</p><p>Чтобы создать путь, мы делаем Х шагов вправо так, чтобы общее количество перемещений оставалось фиксированным (X + Y). Таким образом, количество путей должно совпадать с количеством способов выбрать Х элементов из X + Y, то есть биномиальным коэффициентом. Биномиальный коэффициент из n по r имеет вид:</p><p/><center><a class="lightbox" href="http://cdn.tproger.ru/wp-content/uploads/2015/07/11112222.jpg"><img class="aligncenter wp-image-7489 size-full" src="http://cdn.tproger.ru/wp-content/uploads/2015/07/11112222-e1441318246383.jpg" alt="formula1"/></a></center><p>Для нашей задачи выражение будет следующим:</p><p/><center><a class="lightbox" href="http://cdn.tproger.ru/wp-content/uploads/2015/07/1113333.jpg"><img class="aligncenter wp-image-7491 size-full" src="http://cdn.tproger.ru/wp-content/uploads/2015/07/1113333-e1441318265429.jpg" alt="formula2"/></a></center><p>Даже если вы незнакомы с комбинаторикой, то все равно можете найти решение этой задачи самостоятельно.</p><p>Представим путь как строку длиной X + Y, состоящую из X символов R и Y символов D. Мы знаем, что из X + Y неповторяющихся символов мы можем составить (X + Y)! строк. Но в нашем случае используется X символов R и Y символов D. Символы R могут быть расставлены X! способами (то же самое мы можем сделать и с символами D). Таким образом, необходимо убрать лишние строки X! и Y!. В итоге мы получим то же самое выражение:</p><p/><center><a class="lightbox" href="http://cdn.tproger.ru/wp-content/uploads/2015/07/114444.jpg"><img class="aligncenter wp-image-7492 size-full" src="http://cdn.tproger.ru/wp-content/uploads/2015/07/114444-e1441318278838.jpg" alt="formula3"/></a></center><h3>Дополнительно</h3><p>Найдите маршрут (на карте есть места, через которые не может пройти робот).</p><p>Если мы изобразим нашу карту, то единственный способ попасть в квадрат (X, Y) — оказаться в одном из смежных квадратов: (X-1, Y) или (X, Y-1). Следовательно, необходимо найти путь к любому из этих квадратов ((X-1, Y) или (X, Y-1)).</p><p>Как это осуществить? Чтобы найти путь в квадрат (X-1, Y) или (X, Y-1), мы должны оказаться в одной из смежных ячеек. То есть нам необходимо найти путь к квадрату, смежному с (X-1, Y) ((X-2, Y) и (X-1, Y-1)) или (X, Y-1) ((X-1, Y-1) и (X, Y-2)). Обратите внимание: в наших рассуждениях точка (X-1, Y-1) упоминается дважды, мы еще вернемся к этому факту.</p><p>Давайте попробуем найти путь от исходного квадрата, двигаясь в обратном направлении, — начинаем с последней ячейки и пытаемся найти путь к каждому смежному квадрату. Далее приведен рекурсивный код, реализующий наш алгоритм.</p><div id="crayon-56d5b92065c50803022494" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-56d5b92065c50803022494-1">1</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c50803022494-2">2</p><p class="crayon-num" data-line="crayon-56d5b92065c50803022494-3">3</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c50803022494-4">4</p><p class="crayon-num" data-line="crayon-56d5b92065c50803022494-5">5</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c50803022494-6">6</p><p class="crayon-num" data-line="crayon-56d5b92065c50803022494-7">7</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c50803022494-8">8</p><p class="crayon-num" data-line="crayon-56d5b92065c50803022494-9">9</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c50803022494-10">10</p><p class="crayon-num" data-line="crayon-56d5b92065c50803022494-11">11</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c50803022494-12">12</p><p class="crayon-num" data-line="crayon-56d5b92065c50803022494-13">13</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c50803022494-14">14</p><p class="crayon-num" data-line="crayon-56d5b92065c50803022494-15">15</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c50803022494-16">16</p><p class="crayon-num" data-line="crayon-56d5b92065c50803022494-17">17</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c50803022494-18">18</p></div></td><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b92065c50803022494-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">getPath</span><span class="crayon-sy">(</span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ArrayList</span><span class="crayon-o">&lt;</span><span class="crayon-v">Point</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c50803022494-2"><span class="crayon-h">    </span><span class="crayon-i">Point</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Point</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b92065c50803022494-3"><span class="crayon-h">    </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">add</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c50803022494-4"><span class="crayon-h">    </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92065c50803022494-5"><span class="crayon-h">        </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span><span class="crayon-h">                  </span><span class="crayon-c">// найти путь</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c50803022494-6"><span class="crayon-h">    </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b92065c50803022494-7"><span class="crayon-h">    </span><span class="crayon-e">bolean </span><span class="crayon-v">success</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c50803022494-8"><span class="crayon-h">    </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">isFree</span><span class="crayon-sy">(</span><span class="crayon-i">x</span><span class="crayon-h"> </span>–<span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">    </span><span class="crayon-c">// Пытаемся идти вправо</span></p><p class="crayon-line" id="crayon-56d5b92065c50803022494-9"><span class="crayon-h">        </span><span class="crayon-v">success</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getpath</span><span class="crayon-sy">(</span><span class="crayon-i">x</span><span class="crayon-h"> </span>–<span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">  </span><span class="crayon-c">// Свободно! Можно идти вправо</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c50803022494-10"><span class="crayon-h">    </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b92065c50803022494-11"><span class="crayon-h">    </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">success</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">isFree</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">   </span><span class="crayon-c">// Пытаемся идти вниз</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c50803022494-12"><span class="crayon-h">        </span><span class="crayon-v">success</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getPath</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">y</span><span class="crayon-h"> </span>–<span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">    </span><span class="crayon-c">// Свободно! Можно идти вниз</span></p><p class="crayon-line" id="crayon-56d5b92065c50803022494-13"><span class="crayon-h">    </span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c50803022494-14"><span class="crayon-h">    </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">success</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92065c50803022494-15"><span class="crayon-h">        </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">remove</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">  </span><span class="crayon-c">// Неверный путь! Прекратить движение этим маршрутом</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c50803022494-16"><span class="crayon-h">    </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b92065c50803022494-17"><span class="crayon-h">        </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">success</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c50803022494-18"><span class="crayon-sy">}</span></p></div></td></tr></table></div></div><p> Помните, что маршруты дублируются? Чтобы найти все пути к (X, Y), мы находим все пути к (X-1, Y) и (X, Y-1). Затем мы смотрим на координаты смежных квадратов: (X-2, Y), (X-1, Y-1), (X-1, Y-1) и (X, Y-2). Квадрат (X-1, Y-1) появляется дважды. Давайте будем запоминать посещенные квадраты, чтобы не тратить на них время.</p><p>Это можно сделать с помощью следующего алгоритма динамического программирования:</p><div id="crayon-56d5b92065c63875773335" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-56d5b92065c63875773335-1">1</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c63875773335-2">2</p><p class="crayon-num" data-line="crayon-56d5b92065c63875773335-3">3</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c63875773335-4">4</p><p class="crayon-num" data-line="crayon-56d5b92065c63875773335-5">5</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c63875773335-6">6</p><p class="crayon-num" data-line="crayon-56d5b92065c63875773335-7">7</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c63875773335-8">8</p><p class="crayon-num" data-line="crayon-56d5b92065c63875773335-9">9</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c63875773335-10">10</p><p class="crayon-num" data-line="crayon-56d5b92065c63875773335-11">11</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c63875773335-12">12</p><p class="crayon-num" data-line="crayon-56d5b92065c63875773335-13">13</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c63875773335-14">14</p><p class="crayon-num" data-line="crayon-56d5b92065c63875773335-15">15</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c63875773335-16">16</p><p class="crayon-num" data-line="crayon-56d5b92065c63875773335-17">17</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c63875773335-18">18</p><p class="crayon-num" data-line="crayon-56d5b92065c63875773335-19">19</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c63875773335-20">20</p><p class="crayon-num" data-line="crayon-56d5b92065c63875773335-21">21</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92065c63875773335-22">22</p><p class="crayon-num" data-line="crayon-56d5b92065c63875773335-23">23</p></div></td><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b92065c63875773335-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">Boolean</span><span class="crayon-h"> </span><span class="crayon-e">getPath</span><span class="crayon-sy">(</span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ArrayList</span><span class="crayon-o">&lt;</span><span class="crayon-v">Point</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c63875773335-2"><span class="crayon-v">Hashtable</span><span class="crayon-o">&lt;</span><span class="crayon-v">Point</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">Boolean</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">cache</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92065c63875773335-3"><span class="crayon-h">        </span><span class="crayon-i">Point</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Point</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c63875773335-4"><span class="crayon-h">        </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">cache</span><span class="crayon-sy">.</span><span class="crayon-e">containsKey</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// Мы уже посещали эту ячейку</span></p><p class="crayon-line" id="crayon-56d5b92065c63875773335-5"><span class="crayon-h">            </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">cache</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c63875773335-6"><span class="crayon-h">        </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b92065c63875773335-7"><span class="crayon-h">        </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">add</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c63875773335-8"><span class="crayon-h">        </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92065c63875773335-9"><span class="crayon-h">            </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span><span class="crayon-h">  </span><span class="crayon-c">// Найден путь</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c63875773335-10"><span class="crayon-h">        </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b92065c63875773335-11"><span class="crayon-h">        </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">success</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c63875773335-12"><span class="crayon-h">        </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">isFree</span><span class="crayon-sy">(</span><span class="crayon-v">X</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Y</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">//Пытаемся идти вправо</span></p><p class="crayon-line" id="crayon-56d5b92065c63875773335-13"><span class="crayon-h">            </span><span class="crayon-v">success</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getPath</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cache</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Свободно! Можно идти вправо</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c63875773335-14"><span class="crayon-h">        </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b92065c63875773335-15"><span class="crayon-h">        </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">success</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">isFree</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// Пытаемся идти вниз</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c63875773335-16"><span class="crayon-h">            </span><span class="crayon-v">success</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getPath</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cache</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Свободно! Можно идти вниз</span></p><p class="crayon-line" id="crayon-56d5b92065c63875773335-17"><span class="crayon-h">        </span><span class="crayon-sy">}</span><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c63875773335-18"><span class="crayon-h">        </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">success</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92065c63875773335-19"><span class="crayon-h">            </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">remove</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//Неверный путь! Прекратить движение этим маршрутом</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c63875773335-20"><span class="crayon-h">        </span><span class="crayon-sy">}</span><span class="crayon-h">  </span></p><p class="crayon-line" id="crayon-56d5b92065c63875773335-21"><span class="crayon-h">        </span><span class="crayon-v">cache</span><span class="crayon-sy">.</span><span class="crayon-e">put</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">success</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Вычисляем результат</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92065c63875773335-22"><span class="crayon-h">        </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">success</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b92065c63875773335-23"><span class="crayon-sy">}</span></p></div></td></tr></table></div></div><p> Это простое изменение сделает наш код более быстрым.</p><p><small>Разбор задачи по книге <a href="http://oz.by/books/more10247911.html" target="_blank">«Карьера программиста. Как устроиться на работу в Google, Microsoft или другую ведущую IT-компанию»</a></small></p><p class="mistape_caption"/><footer class="entry-meta clearfix"><p class="vk_like" id="vk_like_bottom_7486"/></footer></div></div></body></html>