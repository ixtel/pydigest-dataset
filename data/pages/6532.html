<html><body><div><div class="entry-content"><p>Множество — это коллекция, которая реализует основные математические операции над множествами: пересечения <i>(intersection)</i>, объединение <i>(union)</i>, разность <i>(difference)</i> и симметрическая разность <i>(symmetric difference)</i>. Каждый из алгоритмов мы разберем в соответствуещем разделе.</p><p><span id="more-8567"/></p><h3>Множество</h3><p>В математике множества — это коллекции объектов, у которых есть что-то общее. Например, мы можем объявить множество четных положительных целых чисел:</p><p>Или множество нечетных положительных целых:</p><p>В этих двух множествах нет общих элементов. Давайте теперь посмотрим на множество делителей числа 100:</p><div id="crayon-56d5b92167268570583527" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b92167268570583527-1"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">20</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">25</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">50</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">100</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p>Теперь мы можем узнать, какие делители числа 100 — нечетные, просто глядя на множество нечетных чисел и на множество делителей и выбирая те из чисел, которые присутствуют в обоих. Мы также можем ответить на вопрос: «Какие нечетные числа не являются делителями ста?» или «Какие положительные целые, четные или нечетные, не являются делителями ста?».</p><p>На первый взгляд это кажется не очень полезным, но это искусственный пример. Предположим, что у нас есть множество всех работников предприятия и множество работников, прошедших ежемесячную проверку. Тогда мы с легкостью сможем ответить на вопрос: «Кто из работников не прошел проверку?».</p><p>Мы также можем добавить различные множества и построить более сложный запрос, например: «Кто из штатных работников отдела продаж, имеющих корпоративную кредитную карточку, не прошел обязательный курс повышения квалфикации?».</p><h3>Класс <tt>Set</tt></h3><p>Класс <code>Set</code> реализует интерфейс <code>IEnumerable</code> и принимает аргумент типа, который является наследником <code>IComparable</code>, так как для работы алгоритмов нужна проверка элементов на равенство.</p><p>Элементы нашего множества будут храниться в экземпляре стандартного класса .NET <code>List</code>, но на практике для хранения обычно используются древовидные структуры, например, двоичное дерево поиска. Выбор внутреннего представления будет влиять на сложность алгоритмов работы с множеством. К примеру, при использовании списка метод <code>Contains</code> будет выполняться за <i>O(n)</i> времени, в то время как множество, реализованное с помощью дерева, будет работать в среднем за <i>O(log n)</i> времени.</p><p>Кроме методов для работы с множеством класс <code>Set</code> также имеет конструктор, который принимает <code>IEnumerable</code> с начальными элементами.</p><div id="crayon-56d5b92167270856668120" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-56d5b92167270856668120-1">1</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-2">2</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-3">3</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-4">4</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-5">5</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-6">6</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-7">7</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-8">8</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-9">9</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-10">10</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-11">11</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-12">12</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-13">13</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-14">14</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-15">15</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-16">16</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-17">17</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-18">18</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-19">19</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-20">20</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-21">21</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-22">22</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-23">23</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-24">24</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-25">25</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-26">26</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-27">27</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-28">28</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-29">29</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-30">30</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-31">31</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-32">32</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-33">33</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-34">34</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-35">35</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-36">36</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-37">37</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b92167270856668120-38">38</p><p class="crayon-num" data-line="crayon-56d5b92167270856668120-39">39</p></div></td><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b92167270856668120-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">IEnumerable</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-2"><span class="crayon-e">    </span><span class="crayon-i">where</span><span class="crayon-h"> </span><span class="crayon-v">T</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">IComparable</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-3"><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-4"><span class="crayon-h">    </span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">readonly</span><span class="crayon-h"> </span><span class="crayon-e">List </span><span class="crayon-v">_items</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">List</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-5"><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-6"><span class="crayon-h">    </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-7"><span class="crayon-h">    </span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-8"><span class="crayon-h">    </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-9"><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-10"><span class="crayon-h">    </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-sy">(</span><span class="crayon-e">IEnumerable </span><span class="crayon-v">items</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-11"><span class="crayon-h">    </span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-12"><span class="crayon-h">        </span><span class="crayon-e">AddRange</span><span class="crayon-sy">(</span><span class="crayon-v">items</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-13"><span class="crayon-h">    </span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-14"><span class="crayon-h"> </span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-15"><span class="crayon-h">    </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">Add</span><span class="crayon-sy">(</span><span class="crayon-i">T</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-16"><span class="crayon-h"> </span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-17"><span class="crayon-h">    </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">AddRange</span><span class="crayon-sy">(</span><span class="crayon-e">IEnumerable </span><span class="crayon-v">items</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-18"><span class="crayon-h"> </span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-19"><span class="crayon-h">    </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">bool</span><span class="crayon-h"> </span><span class="crayon-e">Remove</span><span class="crayon-sy">(</span><span class="crayon-i">T</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-20"><span class="crayon-h"> </span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-21"><span class="crayon-h">    </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">bool</span><span class="crayon-h"> </span><span class="crayon-e">Contains</span><span class="crayon-sy">(</span><span class="crayon-i">T</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-22"><span class="crayon-h"> </span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-23"><span class="crayon-h">    </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-e">Count</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-24"><span class="crayon-h">    </span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-25"><span class="crayon-h">        </span><span class="crayon-st">get</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-26"><span class="crayon-h">    </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-27"><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-28"><span class="crayon-h">    </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-e">Union</span><span class="crayon-sy">(</span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-v">other</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-29"><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-30"><span class="crayon-h">    </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-e">Intersection</span><span class="crayon-sy">(</span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-v">other</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-31"><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-32"><span class="crayon-h">    </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-e">Difference</span><span class="crayon-sy">(</span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-v">other</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-33"><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-34"><span class="crayon-h">    </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-e">SymmetricDifference</span><span class="crayon-sy">(</span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-v">other</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-35"><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-36"><span class="crayon-h">    </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">IEnumerator </span><span class="crayon-e">GetEnumerator</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-37"><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167270856668120-38"><span class="crayon-h">    </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">Collections</span><span class="crayon-sy">.</span><span class="crayon-e">IEnumerator </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">Collections</span><span class="crayon-sy">.</span><span class="crayon-v">IEnumerable</span><span class="crayon-sy">.</span><span class="crayon-e">GetEnumerator</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b92167270856668120-39"><span class="crayon-sy">}</span></p></div></td></tr></table></div></div><h4>Метод <tt>Add</tt></h4><ul><li><b>Поведение:</b> Добавляет элементы в множество. Если элемент уже присутствует в множестве, бросается исключение <code>InvalidOperationException</code>.</li><li><b>Сложность:</b> <i>O(n)</i></li></ul><p>При реализации метода <code>Add</code> необходимо решить, будем ли мы разрешать дублирующиеся элементы. К примеру, если у нас есть мнжество:</p><p>Если пользователь попытается добавить число 3, в результате получится:</p><p>В некоторых случаях это допустимо, но в нашей реализации мы не будем поддерживать дубликаты. Если представить, например, множество студентов колледжа, было бы нелогичным добавлять в него одного и того же студента дважды. На самом деле, попытка добавить элемент, который уже присутствует — скорее всего ошибка, и наша реализация класса <code>Set</code> воспринимает ее именно так.</p><p>Метод <code>Add</code> использует метод <code>Contains</code>, который будет рассмотрен далее.</p><div id="crayon-56d5b92167280870592702" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b92167280870592702-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">Add</span><span class="crayon-sy">(</span><span class="crayon-i">T</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167280870592702-2"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92167280870592702-3"><span class="crayon-h">    </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">Contains</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167280870592702-4"><span class="crayon-h">    </span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92167280870592702-5"><span class="crayon-h">        </span><span class="crayon-st">throw</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">InvalidOperationException</span><span class="crayon-sy">(</span><span class="crayon-s">"Item already exists in Set"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167280870592702-6"><span class="crayon-h">    </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b92167280870592702-7"><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167280870592702-8"><span class="crayon-h">    </span><span class="crayon-v">_items</span><span class="crayon-sy">.</span><span class="crayon-e">Add</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b92167280870592702-9"><span class="crayon-sy">}</span></p></div></td></tr></table></div></div><h4>Метод <tt>AddRange</tt></h4><ul><li><b>Поведение:</b> Добавляет несколько элементов в множество. Если какой-либо из добавляемых элементов присутствует в множестве, или в добавляемых элементах есть дублирующиеся, выбрасывается исключение <code>InvalidOperationException</code>.</li><li><b>Сложность:</b> <i>O(m·n)</i>, где <i>m</i> — количество вставляемых элементов и <i>n</i> — количество элементов множества.</li></ul><div id="crayon-56d5b92167286729480189" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b92167286729480189-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">AddRange</span><span class="crayon-sy">(</span><span class="crayon-e">IEnumerable </span><span class="crayon-v">items</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167286729480189-2"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92167286729480189-3"><span class="crayon-h">    </span><span class="crayon-st">foreach</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">T</span><span class="crayon-h"> </span><span class="crayon-e">item </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">items</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167286729480189-4"><span class="crayon-h">    </span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92167286729480189-5"><span class="crayon-h">        </span><span class="crayon-e">Add</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167286729480189-6"><span class="crayon-h">    </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b92167286729480189-7"><span class="crayon-sy">}</span></p></div></td></tr></table></div></div><h4>Метод <tt>Remove</tt></h4><ul><li><b>Поведение:</b> Удаляет указанный элемент из множества и возвращает <code>true</code>. В случае, если элемента нет, возвращает <code>false</code>.</li><li><b>Сложность:</b> <i>O(n)</i></li></ul><div id="crayon-56d5b9216728b000250328" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b9216728b000250328-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">bool</span><span class="crayon-h"> </span><span class="crayon-e">Remove</span><span class="crayon-sy">(</span><span class="crayon-i">T</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b9216728b000250328-2"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b9216728b000250328-3"><span class="crayon-h">    </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">_items</span><span class="crayon-sy">.</span><span class="crayon-e">Remove</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b9216728b000250328-4"><span class="crayon-sy">}</span></p></div></td></tr></table></div></div><h4>Метод <tt>Contains</tt></h4><ul><li><b>Поведение:</b> Возвращает <code>true</code>, если множество содержит указанный элемент. В противном случае возвращает <code>false</code>.</li><li><b>Сложность:</b> <i>O(n)</i></li></ul><div id="crayon-56d5b92167290886775362" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b92167290886775362-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">bool</span><span class="crayon-h"> </span><span class="crayon-e">Contains</span><span class="crayon-sy">(</span><span class="crayon-i">T</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167290886775362-2"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92167290886775362-3"><span class="crayon-h">    </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">_items</span><span class="crayon-sy">.</span><span class="crayon-e">Contains</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167290886775362-4"><span class="crayon-sy">}</span></p></div></td></tr></table></div></div><h4>Метод <tt>Count</tt></h4><ul><li><b>Поведение:</b> Возвращает количество элементов множества или 0, если множество пусто.</li><li><b>Сложность:</b> <i>O(1)</i></li></ul><div id="crayon-56d5b92167295280577012" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b92167295280577012-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-e">Count</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167295280577012-2"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92167295280577012-3"><span class="crayon-h">    </span><span class="crayon-st">get</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167295280577012-4"><span class="crayon-h">    </span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92167295280577012-5"><span class="crayon-h">        </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">_items</span><span class="crayon-sy">.</span><span class="crayon-v">Count</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167295280577012-6"><span class="crayon-h">    </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b92167295280577012-7"><span class="crayon-sy">}</span></p></div></td></tr></table></div></div><h4>Метод <tt>GetEnumerator</tt></h4><ul><li><b>Поведение:</b> Возвращает итератор для перебора элементов множества.</li><li><b>Сложность:</b> Получение итератора — <i>O(1)</i>, обход элементов множества — <i>O(n)</i>.</li></ul><div id="crayon-56d5b92167299047796291" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b92167299047796291-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">IEnumerator </span><span class="crayon-e">GetEnumerator</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167299047796291-2"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b92167299047796291-3"><span class="crayon-h">    </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">_items</span><span class="crayon-sy">.</span><span class="crayon-e">GetEnumerator</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167299047796291-4"><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b92167299047796291-5"><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167299047796291-6"><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">Collections</span><span class="crayon-sy">.</span><span class="crayon-e">IEnumerator </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">Collections</span><span class="crayon-sy">.</span><span class="crayon-v">IEnumerable</span><span class="crayon-sy">.</span><span class="crayon-e">GetEnumerator</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b92167299047796291-7"><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b92167299047796291-8"><span class="crayon-h">    </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">_items</span><span class="crayon-sy">.</span><span class="crayon-e">GetEnumerator</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b92167299047796291-9"><span class="crayon-sy">}</span></p></div></td></tr></table></div></div><h3>Алгоритмы</h3><h4>Метод <tt>Union</tt></h4><ul><li><b>Поведение:</b> Возвращает множество, полученное операцией объединения его с указанным.</li><li><b>Сложность:</b> <i>O(m·n)</i>, где <i>m</i> и <i>n</i> — количество элементов переданного и текущего множеств соответственно.</li></ul><p>Объединение множеств — это множество, которое содержит элементы, пртсутствующие хотя бы в одном из двух.</p><p>Например, есть два множества (выделены красным):</p><p><img src="http://cdn.tproger.ru/wp-content/uploads/2015/09/data_structures_031.jpg" alt="data_structures_031" class="aligncenter size-full wp-image-8575"/></p><p>При операции объединения выбираются элементы обоих множеств. Если элемент присутствует в обоих множествах, берется только одна его копия. Объединение двух множеств показано желтым цветом.</p><p><img src="http://cdn.tproger.ru/wp-content/uploads/2015/09/data_structures_032.jpg" alt="data_structures_032" class="aligncenter size-full wp-image-8576"/></p><p>Такая диаграмма, наглядно показывающая операции над множествами, называется <a href="https://ru.wikipedia.org/wiki/%D0%94%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0_%D0%92%D0%B5%D0%BD%D0%BD%D0%B0" target="_blank">диаграммой Венна</a>.</p><p>Другой пример с использованием множеств целых чисел:</p><div id="crayon-56d5b921672a0065345162" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b921672a0065345162-1"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-i">union</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">6</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">6</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><div id="crayon-56d5b921672a5070246419" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b921672a5070246419-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-e">Union</span><span class="crayon-sy">(</span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-v">other</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672a5070246419-2"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b921672a5070246419-3"><span class="crayon-h">    </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-sy">(</span><span class="crayon-v">_items</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672a5070246419-4"><span class="crayon-h"> </span></p><p class="crayon-line" id="crayon-56d5b921672a5070246419-5"><span class="crayon-h">    </span><span class="crayon-st">foreach</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">T</span><span class="crayon-h"> </span><span class="crayon-e">item </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">other</span><span class="crayon-sy">.</span><span class="crayon-v">_items</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672a5070246419-6"><span class="crayon-h">    </span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b921672a5070246419-7"><span class="crayon-h">        </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-e">Contains</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672a5070246419-8"><span class="crayon-h">        </span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b921672a5070246419-9"><span class="crayon-h">            </span><span class="crayon-v">result</span><span class="crayon-sy">.</span><span class="crayon-e">Add</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672a5070246419-10"><span class="crayon-h">        </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b921672a5070246419-11"><span class="crayon-h">    </span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672a5070246419-12"><span class="crayon-h"> </span></p><p class="crayon-line" id="crayon-56d5b921672a5070246419-13"><span class="crayon-h">    </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672a5070246419-14"><span class="crayon-sy">}</span></p></div></td></tr></table></div></div><h4>Метод <tt>Intersection</tt></h4><ul><li><b>Поведение:</b> Возвращает множество, полученное операцией пересечения его с указанным.</li><li><b>Сложность:</b> <i>O(m·n)</i>, где <i>m</i> и <i>n</i> — количество элементов переданного и текущего множеств соответственно.</li></ul><p>Пересечение множеств содержит только те элементы, которые есть в обоих множествах. Используя диагрмму Венна, пересечение можно изобразить так:</p><p><img src="http://cdn.tproger.ru/wp-content/uploads/2015/09/data_structures_033.jpg" alt="data_structures_033" class="aligncenter size-full wp-image-8577"/></p><p>Или, используя целые числа:</p><div id="crayon-56d5b921672aa090573144" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b921672aa090573144-1"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-i">intersect</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">6</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><div id="crayon-56d5b921672af176270541" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b921672af176270541-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-e">Intersection</span><span class="crayon-sy">(</span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-v">other</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672af176270541-2"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b921672af176270541-3"><span class="crayon-h">    </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672af176270541-4"><span class="crayon-h"> </span></p><p class="crayon-line" id="crayon-56d5b921672af176270541-5"><span class="crayon-h">    </span><span class="crayon-st">foreach</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">T</span><span class="crayon-h"> </span><span class="crayon-e">item </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">_items</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672af176270541-6"><span class="crayon-h">    </span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b921672af176270541-7"><span class="crayon-h">        </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">other</span><span class="crayon-sy">.</span><span class="crayon-v">_items</span><span class="crayon-sy">.</span><span class="crayon-e">Contains</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672af176270541-8"><span class="crayon-h">        </span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b921672af176270541-9"><span class="crayon-h">            </span><span class="crayon-v">result</span><span class="crayon-sy">.</span><span class="crayon-e">Add</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672af176270541-10"><span class="crayon-h">        </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b921672af176270541-11"><span class="crayon-h">    </span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672af176270541-12"><span class="crayon-h"> </span></p><p class="crayon-line" id="crayon-56d5b921672af176270541-13"><span class="crayon-h">    </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672af176270541-14"><span class="crayon-sy">}</span></p></div></td></tr></table></div></div><h4>Метод <tt>Difference</tt></h4><ul><li><b>Поведение:</b> Возвращает множество, являющееся разностью текущего с указанным.</li><li><b>Сложность:</b> <i>O(m·n)</i>, где <i>m</i> и <i>n</i> — количество элементов переданного и текущего множеств соответственно.</li></ul><p>Разность множеств — это все элементы, которые содержатся в одном множестве (том, у которого вызывается метод), но не содержатся в другом (том, которое передается аргументом). Диаграмма Венна для разности множеств будет выглядеть так:</p><p><img src="http://cdn.tproger.ru/wp-content/uploads/2015/09/data_structures_034.jpg" alt="data_structures_034" class="aligncenter size-full wp-image-8578"/></p><p>Или, используя целые числа:</p><div id="crayon-56d5b921672b5184300575" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b921672b5184300575-1"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-i">difference</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">6</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><div id="crayon-56d5b921672ba763497064" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b921672ba763497064-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-e">Difference</span><span class="crayon-sy">(</span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-v">other</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672ba763497064-2"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b921672ba763497064-3"><span class="crayon-h">    </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-sy">(</span><span class="crayon-v">_items</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672ba763497064-4"><span class="crayon-h"> </span></p><p class="crayon-line" id="crayon-56d5b921672ba763497064-5"><span class="crayon-h">    </span><span class="crayon-st">foreach</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">T</span><span class="crayon-h"> </span><span class="crayon-e">item </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">other</span><span class="crayon-sy">.</span><span class="crayon-v">_items</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672ba763497064-6"><span class="crayon-h">    </span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b921672ba763497064-7"><span class="crayon-h">        </span><span class="crayon-v">result</span><span class="crayon-sy">.</span><span class="crayon-e">Remove</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672ba763497064-8"><span class="crayon-h">    </span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-56d5b921672ba763497064-9"><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672ba763497064-10"><span class="crayon-h">    </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b921672ba763497064-11"><span class="crayon-sy">}</span></p></div></td></tr></table></div></div><h4>Метод <tt>Symmetric Difference</tt></h4><ul><li><b>Поведение:</b> Возвращает множество, являющееся симметрической разностью текущего с указанным.</li><li><b>Сложность:</b> <i>O(m·n)</i>, где <i>m</i> и <i>n</i> — количество элементов переданного и текущего множеств соответственно.</li></ul><p>Симметрическая разность — это все элементы, которые содержатся только в одном из рассматриваемых множеств. Диаграмма Венна для симметрической разности будет выглядеть так:</p><p><img src="http://cdn.tproger.ru/wp-content/uploads/2015/09/data_structures_035.jpg" alt="data_structures_035" class="aligncenter size-full wp-image-8579"/></p><p>Или, используя целые числа:</p><div id="crayon-56d5b921672bf598080935" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b921672bf598080935-1"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-e">symmetric </span><span class="crayon-i">difference</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">6</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">6</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p>Вы, возможно, заметили, что симметрическая разность — это «пересечение наоборот». Учитывая это, давайте попробуем найти ее, используя уже имеющиеся операции.</p><p>Итак, мы хотим получить множество, которое содержит все элементы из двух множеств, за исключением тех, которые есть в обоих. Другими словами, мы хотим получить разность объединения двух множеств и их пересечения.</p><p>Или, если рассматривать по шагам:</p><div id="crayon-56d5b921672c5753542626" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b921672c5753542626-1"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-i">union</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">6</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">6</span><span class="crayon-sy">]</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672c5753542626-2"> </p><p class="crayon-line" id="crayon-56d5b921672c5753542626-3"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-i">intersection</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">6</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">]</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672c5753542626-4"> </p><p class="crayon-line" id="crayon-56d5b921672c5753542626-5"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">6</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-e">set </span><span class="crayon-i">difference</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">6</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p>Что дает нам нужный результат: <code>[1, 2, 5, 6]</code>.</p><div id="crayon-56d5b921672ca078803387" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b921672ca078803387-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-e">SymmetricDifference</span><span class="crayon-sy">(</span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-v">other</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672ca078803387-2"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-56d5b921672ca078803387-3"><span class="crayon-h">    </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-v">union</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Union</span><span class="crayon-sy">(</span><span class="crayon-v">other</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672ca078803387-4"><span class="crayon-h">    </span><span class="crayon-st">Set</span><span class="crayon-h"> </span><span class="crayon-v">intersection</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Intersection</span><span class="crayon-sy">(</span><span class="crayon-v">other</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b921672ca078803387-5"><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b921672ca078803387-6"><span class="crayon-h">    </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">union</span><span class="crayon-sy">.</span><span class="crayon-e">Difference</span><span class="crayon-sy">(</span><span class="crayon-v">intersection</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-56d5b921672ca078803387-7"><span class="crayon-sy">}</span></p></div></td></tr></table></div></div><h4>Метод <tt>IsSubset</tt></h4><p>Вы, возможно, интересуетесь, почему мы не добавили метод <code>IsSubset</code>, который проверяет, содержится ли одно множество целиком в другом. Например:</p><div id="crayon-56d5b921672cf560135824" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b921672cf560135824-1"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-i">subset</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span></p></div></td></tr></table></div></div><p>В то время, как:</p><div id="crayon-56d5b921672d4236321114" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b921672d4236321114-1"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-i">subset</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span></p></div></td></tr></table></div></div><p>Дело в том, что эту проверку можно провести, используя имещиеся методы. К примеру:</p><div id="crayon-56d5b921672d9995650476" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b921672d9995650476-1"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-i">difference</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p>Пустое множество в результате говорит нам о том, что все элементы первого множества содержатся во втором, а значит, первое является подмножеством второго. Другой способ проверить это:</p><div id="crayon-56d5b921672de572634091" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"/><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"/><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b921672de572634091-1"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-i">intersection</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">]</span></p></div></td></tr></table></div></div><p>Если в результате мы получим множество с таким же количеством элементов, что и изначальное, значит, оно является подмножеством второго.</p><p>В общем случае, конечно, класс <code>Set</code> может иметь метод <code>IsSubset</code> (который может быть реализован более эффективно). Однако стоит помнить, что это уже не какая-то новая возможность, а просто другое применение существующих.</p><h3>Продолжение следует</h3><p>На этом все, а в следующий раз мы перейдем к заключительной теме этого цикла статей — алгоритмам сортировки.</p><p><sub>Перевод статьи <a href="http://code.tutsplus.com/tutorials/the-set-collection--cms-20667">«The Set Collection»</a></sub></p><p class="mistape_caption"/><footer class="entry-meta clearfix"><p class="vk_like" id="vk_like_bottom_8567"/></footer></div></div></body></html>