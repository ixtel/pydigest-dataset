<html><body><div><div id="about">
<h2>About</h2>
<p>With Testinfra you can write unit tests in Python to test <em>actual state</em> of
your servers configured by managements tools like <a href="http://saltstack.com/" rel="nofollow">Salt</a>, <a href="http://www.ansible.com/" rel="nofollow">Ansible</a>, <a href="https://puppetlabs.com/" rel="nofollow">Puppet</a>,
<a href="https://www.chef.io/" rel="nofollow">Chef</a> and so on.</p>
<p>Testinfra aims to be a <a href="http://serverspec.org/" rel="nofollow">Serverspec</a> equivalent in python and is written as
a plugin to the powerful <a href="http://pytest.org" rel="nofollow">Pytest</a> test engine</p>
</div>
<div id="quick-start">
<h2>Quick start</h2>
<p>Install testinfra using pip:</p>
<pre>$ pip install testinfra

# or install the devel version
$ pip install 'git+https://github.com/philpep/testinfra@master#egg=testinfra'
</pre>
<p>Write your first tests file to <cite>test_myinfra.py</cite>:</p>
<pre>def test_passwd_file(File):
    passwd = File("/etc/passwd")
    assert passwd.contains("root")
    assert passwd.user == "root"
    assert passwd.group == "root"
    assert passwd.mode == 0o644


def test_nginx_is_installed(Package):
    nginx = Package("nginx")
    assert nginx.is_installed
    assert nginx.version.startswith("1.2")


def test_nginx_running_and_enabled(Service):
    nginx = Service("nginx")
    assert nginx.is_running
    assert nginx.is_enabled
</pre>
<p>And run it:</p>
<pre>$ testinfra -v test_myinfra.py


====================== test session starts ======================
platform linux -- Python 2.7.3 -- py-1.4.26 -- pytest-2.6.4
plugins: testinfra
collected 3 items

test_myinfra.py::test_passwd_file[local] PASSED
test_myinfra.py::test_nginx_is_installed[local] PASSED
test_myinfra.py::test_nginx_running_and_enabled[local] PASSED

=================== 3 passed in 0.66 seconds ====================
</pre>
</div>


</div></body></html>