<html><body><div><div id="content">

            

            
        


            <div class="section">
              <h1>tsip 0.2.0</h1>

              


<p>Python package for parsing and creating TSIP packets</p>








<p><img src="https://img.shields.io/pypi/pyversions/python-TSIP.svg"/>
 <img src="https://img.shields.io/pypi/status/python-TSIP.svg"/>
 <img src="https://img.shields.io/github/license/mjuenema/python-TSIP.svg"/>
</p>
<div id="about-python-tsip">
<h2>About Python-TSIP</h2>
<p>Python-TSIP is a Python package for parsing and creating TSIP packets. The Trimble Standard
Interface Protocol (TSIP) is the binary protocol spoken by the GPS receivers sold by Trimble Navigation Ltd.
(<a href="http://www.trimble.com" rel="nofollow">http://www.trimble.com</a>).</p>
<p>Python-TSIP is available under the “BSD 2-Clause Simplified License”.</p>
</div>
<div id="status">
<h2>Status</h2>
<p>Almost the full set of TSIP command and report packets understood by the Copernicus II receiver has been implemented but
so far only some of them have been tested against the actual GPS. Implementing a complete set of tests against an actual
Copernicus II receiver is currently work in progress. Presumably Trimble Thunderbolt and Thunderbolt-E are also
supported as they appear to implement a subset of the commands/reports of the (newer) Copernicus II receiver.
I don’t have access to any other Trimble products.</p>
<p>Documentation is way behind and largely reflects an obsolete implementation of this project.</p>
<p>Python-TSIP is automatically tested against the following Python versions.</p>
<ul>
<li>Python 2.6</li>
<li>Python 2.7</li>
<li>Python 3.3</li>
<li>Python 3.4</li>
<li>Python 3.5</li>
<li>pypy</li>
<li>pypy3</li>
</ul>
<p>The tests currently fail on the following Python versions.</p>
<ul>
<li>Python 3.2 (syntax error in the coverage module, it may work otherwise)</li>
<li>Jython (can’t get Tox to work with jython)</li>
</ul>
<table>
<colgroup>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Branch</th>
<th>Travis-CI</th>
<th>Codacy</th>
<th>Codecov</th>
</tr>
</thead>
<tbody>
<tr><td>master</td>
<td><a href="https://travis-ci.org/mjuenema/python-TSIP" rel="nofollow"><img src="https://travis-ci.org/mjuenema/python-TSIP.svg?branch=master"/></a></td>
<td><a href="https://www.codacy.com/app/markus_2/python-TSIP" rel="nofollow"><img src="https://api.codacy.com/project/badge/grade/91b7ca0231a24e3288ac88ff5085af42"/></a></td>
<td><a href="https://codecov.io/github/mjuenema/python-TSIP?branch=master" rel="nofollow"><img src="https://codecov.io/github/mjuenema/python-TSIP/coverage.svg?branch=master"/></a></td>
</tr>
<tr><td>develop</td>
<td><a href="https://travis-ci.org/mjuenema/python-TSIP" rel="nofollow"><img src="https://travis-ci.org/mjuenema/python-TSIP.svg?branch=develop"/></a></td>
<td> </td>
<td><a href="https://codecov.io/github/mjuenema/python-TSIP?branch=develop" rel="nofollow"><img src="https://codecov.io/github/mjuenema/python-TSIP/coverage.svg?branch=develop"/></a></td>
</tr>
</tbody>
</table>
<p>The <a href="https://github.com/mjuenema/python-TSIP/tree/master" rel="nofollow">master</a> branch equals the latest release. The <a href="https://github.com/mjuenema/python-TSIP/tree/develop" rel="nofollow">develop</a> branch represents the latest development but may not always pass all tests. I use the <a href="https://github.com/nvie/gitflow" rel="nofollow">gitflow</a> plugin to follow this <a href="http://nvie.com/posts/a-successful-git-branching-model/" rel="nofollow">Git branching model</a>.</p>
</div>
<div id="example">
<h2>Example</h2>
<p>The following code shows how to receive the current GPS time from the receiver.</p>
<ul>
<li>Command packet 0x21 requests the current GPS time.</li>
<li>Report packet 0x41 contains the current GPS time. Its fields are accessible by index.</li>
</ul>
<pre><span class="kn">import</span> <span class="nn">tsip</span>
<span class="kn">import</span> <span class="nn">serial</span>

<span class="c1"># Open serial connection to Copernicus II receiver</span>
<span class="n">serial_conn</span> <span class="o">=</span> <span class="n">serial</span><span class="o">.</span><span class="n">Serial</span><span class="p">(</span><span class="s1">'/dev/ttyS0'</span><span class="p">,</span> <span class="mi">38400</span><span class="p">)</span>
<span class="n">gps_conn</span> <span class="o">=</span> <span class="n">tsip</span><span class="o">.</span><span class="n">GPS</span><span class="p">(</span><span class="n">serial_conn</span><span class="p">)</span>

<span class="c1"># Prepare and send command packet 0x21</span>
<span class="n">command</span> <span class="o">=</span> <span class="n">tsip</span><span class="o">.</span><span class="n">Packet</span><span class="p">(</span><span class="mh">0x21</span><span class="p">)</span>
<span class="n">gps_conn</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>      <span class="c1"># should implement timeout here!!!</span>
    <span class="n">report</span> <span class="o">=</span> <span class="n">gps</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">report</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mh">0x41</span><span class="p">:</span>
        <span class="k">print</span> <span class="s1">'GPS time of week .......: </span><span class="si">%f</span><span class="s1">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">report</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">print</span> <span class="s1">'Extended GPS week number: </span><span class="si">%d</span><span class="s1">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">report</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">print</span> <span class="s1">'GPS UTC offset .........: </span><span class="si">%f</span><span class="s1">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">report</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">break</span>
</pre>
</div>
<div id="history">
<h2>History</h2>
<div id="dec-2015">
<h3>0.2.0 (03-Dec-2015)</h3>
<ul>
<li>Rewritten from scratch.</li>
<li>Implements almost complete set of TSIP commands supported by
Trimble Copernicus II and Thunderbolt/Thunderbolt-E GPS
receivers.</li>
</ul>
</div>

</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>10</span> downloads in the last week
  </li>
  <li>
    <span>128</span> downloads in the last month
  </li>
</ul>









            </div>


          </div>
          </div></body></html>