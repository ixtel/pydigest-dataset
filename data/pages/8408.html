<html><body><div><div class="section">
              <h1>tri.form 1.11.0</h1>

              


<p>tri.form is a form library</p><p>








.. image:: https://travis-ci.org/TriOptima/tri.form.svg?branch=master</p><p>    :target: https://travis-ci.org/TriOptima/tri.form</p><p>.. image:: http://codecov.io/github/TriOptima/tri.form/coverage.svg?branch=master</p><p>    :target: http://codecov.io/github/TriOptima/tri.form?branch=master</p><p>tri.form</p><p>==========</p><p>tri.form is alternative forms library for Django. It is inspired by, and comes from a frustration with, the standard Django forms.</p><p>Major features compared to Django forms:</p><p>- Supports :code:`__` syntax for going across table boundaries, similar to how Django does with QuerySets.</p><p>- Send in a callable that is late evaluated to determine if a field should be displayed (:code:`show`). This is very handy for showing a slightly different form to administrators for example.</p><p>- Easy configuration without writing entire classes that are only used in one place anyway.</p><p>Example</p><p>-------</p><p>You can either create a subclass of :code:`Form`...</p><p>.. code:: python</p><p>    class UserForm(Form):</p><p>        name = Field.text()</p><p>        username = Field.text(is_valid=lambda form, field, parsed_data: parsed_data.startswith('demo_'))</p><p>        is_admin = Field.boolean(</p><p>            show=lambda form, field: form.request.user.is_staff, # show only for staff</p><p>            label_template='tweak_label_tag.html')</p><p>    def edit_user_view(request, username):</p><p>        form = UserForm(request=request)</p><p>        user = User.objects.get(username=username)</p><p>        if form.is_valid() and request.method == 'POST':</p><p>            form.apply(user)</p><p>            user.save()</p><p>            return HttpRedirect('..')</p><p>        return render(</p><p>            template_name='edit_user.html',</p><p>            context_instance=RequestContext(request, {'form': form}))</p><p>.. code:: html    </p><p>    &lt;form action="" method="post"&gt;{% csrf_token %}</p><p>      &lt;div&gt;</p><p>        &lt;table&gt;</p><p>          {{ form }}</p><p>        &lt;/table&gt;</p><p>      &lt;/div&gt;</p><p>      &lt;input type="submit" value="Save"/&gt;</p><p>    &lt;/form&gt;</p><p>or just instantiate a :code:`Form` with a :code:`Field` list and use it directly:</p><p>.. code:: python</p><p>    def edit_user_view(request, username):</p><p>        form = Form(fields=[</p><p>            Field.text(</p><p>                name='name',</p><p>                is_valid=lambda form, field, parsed_data: parsed_data.startswith('demo_')),</p><p>            Field.text(name='username'),</p><p>            Field.boolean(</p><p>                name='is_admin',</p><p>                show=lambda form, field: form.request.user.is_staff, # show only for staff</p><p>                label_template='tweak_label_tag.html',)])</p><p>        # rest of view function...</p><p>You can also generate forms from Django models automatically (but still change the behavior!). The above example</p><p>is equivalent to:</p><p>.. code:: python</p><p>    def edit_user_view(request, username):</p><p>        form = Form.from_model(</p><p>            request.POST,</p><p>            User,</p><p>            # the field 'name' is generated automatically and we are fine with the defaults</p><p>            username__is_valid=lambda form, field, parsed_data: parsed_data.startswith('demo_'),</p><p>            is_admin__label_template='tweak_label_tag.html',</p><p>            is_admin__show=lambda form, field: form.request.user.is_staff) # show only for staff</p><p>        # rest of view function...</p><p>or even better: use :code:`tri.form.views.create_or_edit_object`:</p><p>.. code:: python</p><p>    def edit_user_view(request, username):</p><p>        return create_or_edit_object(</p><p>            request,</p><p>            model=User,</p><p>            is_create=False,</p><p>            instance=User.objects.get(username=username),</p><p>            form__username__is_valid=lambda form, field, parsed_data: parsed_data.startswith('demo_'),</p><p>            form__is_admin__label_template='tweak_label_tag.html',</p><p>            form__is_admin__show=lambda form, field: form.request.user.is_staff) # show only for staff</p><p>        # no html template! tri.form has a nice default for you :P</p><p>tri.form pre-packages sets of defaults for common field types as 'shortcuts'. Some examples include :code:`Field.boolean`,</p><p>:code:`Field.integer` and :code:`Field.choice`. The full list of shortcuts can be found in the `API documentation for Field &lt;api.html#tri.form.field&gt;`_.</p><p>Running tests</p><p>-------------</p><p>You need tox installed then just `make test`.</p><p>License</p><p>-------</p><p>BSD</p><p>Documentation</p><p>-------------</p><p>http://triform.readthedocs.org.</p><p>Changelog</p><p>=========</p><p>1.11.0 (2016-02-29)</p><p>~~~~~~~~~~~~~~~~~~~</p><p>* Datetime fields used to not roundtrip cleanly via the form (they output</p><p>  milliseconds then failed on parsing them) Field.file didn't exist.</p><p>* Changed syntax for specifying html attributes and classes. They are now use</p><p>  the same way of addressing as other things, e.g.:</p><p>  Field.choice(attrs__foo="bar", attrs__class__baz=True) will yield something</p><p>  like `&lt;select ...="" class="baz" foo="bar"&gt;...&lt;/select&gt;`</p><p>1.10.0 (2016-02-08)</p><p>~~~~~~~~~~~~~~~~~~~</p><p>* Made sure form validation is only run once</p><p>* Fixed input form class and render context to create_or_edit_object view</p><p>1.9.0 (2016-01-15)</p><p>~~~~~~~~~~~~~~~~~~</p><p>* Fixed default value initialization on Field attributes to not reuse containers.</p><p>* Added support for ManyToManyField when generating forms for model objects.</p><p>* Added 'read_from_instance' and 'write_to_instance' callbacks for customized instance marshalling.</p><p>1.8.0 (2016-01-13)</p><p>~~~~~~~~~~~~~~~~~~</p><p>Bugfix release.</p><p>* Added missing 'after' attribute on Field prohibiting form order customization</p><p>* Fixed default value handling of 'attr' to make None a valid value when no attribute should be read.</p><p>* Fixed CSS handling on required fields.</p><p>1.7.0 (2016-01-13)</p><p>~~~~~~~~~~~~~~~~~~</p><p>* Made evaluation of choices lazy even when there is a None alternative.

</p><a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>36</span> downloads in the last week
  </li>
  <li>
    <span>318</span> downloads in the last month
  </li>
</ul>



<ul class="nodot">
 <li>
  <strong>Author:</strong>
  <span>Anders Hovmöller</span>
 </li>

 

 


 


 

 


 <li>
  <strong>Keywords:</strong>
  <span>tri.form</span>
 </li>

 <li>
  <strong>License:</strong>
  
  
  <span>BSD</span>
  
 </li>

 


 
 
 

 <li>
  <strong>Categories</strong>
  
 </li>



 

 

 

 

 


 <li>
  <strong>Package Index Owner:</strong>
  <span>j_lubcke, boxed</span>
 </li>

 

 <li>
  <strong><a href="http://usefulinc.com/doap">DOAP</a> record:</strong>
  <a href="/pypi?:action=doap&amp;name=tri.form&amp;version=1.11.0">tri.form-1.11.0.xml</a>
 </li>

</ul>





            </div>


          </div></body></html>