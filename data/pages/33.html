<html><body><div><div class="content html_format"><p>
      Как известно, существует множество решений которые позволяют сделать из «консольного» редактора (vim/emacs) более-менее удобную IDE для языка Python. Представляю Вашему вниманию наиболее успешную, на мой взгляд, реализацию среды разработкы в редакторе emacs на основе пакета </p><a href="https://github.com/davidhalter/jedi">python-jedi.el</a><p>. Отмечу, что бандл заменяющий rope(*-jedi) есть так же для vim, инстукцию по его настройке можно </p><a href="http://unlogic.co.uk/posts/vim-python-ide.html">найти здесь </a><p>.
</p><a name="habracut"/>
<img src="https://habrastorage.org/getpro/habr/post_images/72c/b64/7c0/72cb647c02db638f8cff070c48288fc2.png" alt="image"/>

<h4>1. Подготовка к настройке</h4><p>
Для настройки emacs следует знать о стандартном конфигурационном файле, который располагается в ~/.emacs и директории ~/.emacs.d куда мы будем добавлять плагины. </p><p>
Так же следует ознакомиться с сокращениями и обозначений «горячих» клавиш. Таких как C(по-умолчанию Ctrl) и Meta(по-умолчанию Alt). Так же существуют определенные правила при написании комбинаций клавиш, так, например: </p><code>C-h t</code><p> Данная команда означает, что надо одновременно нажать Ctrl и h, отпустить, затем t. </p><a href="http://allhotkeys.com/emacs_hotkeys.html">Полный список «горячих» клавиш.</a><p>
После того как разобрались с основными клавишами и порядком их использования, можно приступать к превращению редактора в IDE.

</p><h4>2. Необходимые пакеты</h4><p>
Конечно, кроме python-jedi нам понадобятся еще такие пакеты как:
</p><p>
Сам же </p><i>python-jedi</i><p>, является расширенным авто-дополнением кода, т.е. в отличие от </p><i>auto-complete</i><p>, он умеет дополнять еще и тот код который вы еще не вводили в данном файле, например — дополнение импорта 

</p><h5>2.1 Установка пакетов в Emacs-24</h5><p>
Для простой и быстрой установки пакетов в emacs лучше всего воспользоваться ELPA (Emacs Lisp Package Archive), для этого необходимо в конфиг-файл .emacs добавить репозитории и определить директорию откуда будут подгружаться модули
</p><pre><code class="erlang">(add-to-list 'load-path "~/.emacs.d/")
(load "package")
(require 'package)
(setq package-archives '(("gnu" . "http://elpa.gnu.org/packages/")
                         ("marmalade" . "http://marmalade-repo.org/packages/")
                          ("melpa" . "http://melpa.milkbox.net/packages/")))

</code></pre><p>
После этого можно получить список 
</p><pre><code>M-x: package-list-packages</code></pre><p>
 и преступить к установке пакетов auto-complete, autopair, flycheck, ipython
</p><pre><code>M-x: package-install
</code></pre><p>
Однако, кроме package существует решение </p><b>el-get</b><p>, отличительной особенностью которого яляется умение автоматически докачивать зависимости. Для установки el-get перейдите в буфер </p><b>*scratch*</b><p> (</p><i>C-x b</i><p>) и вставьте следующие строки:
</p><pre><code class="erlang">(url-retrieve
 "https://raw.github.com/dimitri/el-get/master/el-get-install.el"
 (lambda (s)
   (let (el-get-master-branch)
     (goto-char (point-max))
     (eval-print-last-sexp))))
</code></pre> <p>
затем нажмите </p><i>C-j</i><p> (это выполнит код), после этого добавляем в конфиг директорию el-get c условием перезакачки скрипта
</p><pre><code>(add-to-list 'load-path "~/.emacs.d/el-get/el-get")
(unless (require 'el-get nil 'noerror)
  (with-current-buffer
      (url-retrieve-synchronously
       "https://raw.github.com/dimitri/el-get/master/el-get-install.el")
    (let (el-get-master-branch)
      (goto-char (point-max))
      (eval-print-last-sexp))))
(el-get 'sync)
</code></pre><p>
Т.к. пакет ido уже присутствует в emacs 24, то просто активируем его через .emacs:
</p><pre><code>(require 'ido)
(ido-mode t)
</code></pre>
 
<h5>2.2 Установка jedi</h5><p>
Для корректной работы python-jedi необходим python-модуль virtualenv, в большинстве ОС, по-умолчанию, он отсутствует, устанавливаем через pip:
</p><pre><code>pip install virtualenv
</code></pre>
<pre><code>M-x: el-get-install jedi
</code></pre><p>
После этого в конфигурационный файл добавляем 
</p><pre><code>(add-hook 'python-mode-hook 'auto-complete-mode)
(add-hook 'python-mode-hook 'jedi:ac-setup)
</code></pre>

<h5>2.2 Навигация по проекту</h5><p>
Для передвижения по директории проекта, предлагается использовать emacs-nav
</p><pre><code>M-x: el-get-install emacs-nav
</code></pre>
<img src="https://habrastorage.org/getpro/habr/post_images/078/f7a/9cf/078f7a9cfd0a528a832e279f333fb412.png" alt="image"/>

<h4>3. Дополнительные пакеты</h4><p>
Дополнительно можно установить модуль для автоматического подсвечивания ошибок и автоматического закрытия кавычек и скобок.Правим .emacs:
</p><pre><code>(add-hook 'after-init-hook #'global-flycheck-mode)

(require 'autopair)
(autopair-global-mode) 
</code></pre><p>
Отмечу, что последний (autopair) может создать очень много скобок или кавычек при копи-пасте, для отключения оного следует удалить две последние строчки.</p><p>
Для того, что бы использовать ipython как оболочку по-умолчанию, добавляем строчки
</p><pre><code>(setq-default py-shell-name "ipython")
(setq-default py-which-bufname "IPython")
</code></pre>

<h4>Заключение</h4><p>
Вот и все, из простого редактора мы получили, по функциональным возможностям, IDE с собственным менеджером пакетов и возможностью расширения.
</p><img src="https://habrastorage.org/getpro/habr/post_images/beb/4a3/1ee/beb4a31eed4e05e63ee9c7b7fa568362.png" alt="image"/><p>
Спасибо всем кто дочитал до конца.
      </p><p class="clear"/>
    </div>

    
  </div></body></html>