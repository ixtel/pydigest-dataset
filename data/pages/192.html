<html><body><div><div id="articleText">
                    <p id="articleLongDescription">In Part 1 of a seven-part series, Jesse Smith shows how to build on Python OO concepts by taking them to the Web using Python and the Pyramid Framework for building Python-based web applications.</p>
                    <p id="articleDescription"/>

                    <a class="relatedBookLink" href="#">Like this article? We recommend <span class="ss-icon"></span></a>
                    
                    

                <p>If you have been following my <a href="http://www.informit.com/articles/article.aspx?p=2145968">Python articles</a> on InformIT, you should be ready for Python Web development. If you haven't  read my previous InformIT articles on Python programming basics and OO  concepts, I strongly suggest you do so before continuing with this article. The  previous articles are meant as prerequisites for this web development series.</p>
<p>
  This article will introduce you to the Pyramid Python web  development framework and get you started with a simple project. Many Python  frameworks are available for facilitating web development, but I found this one  quite interesting when comparing it to others like Django and Cherry Pie.  Pyramid was one of the first frameworks to be compatible with Python 3, and it's  flexible, minimalistic, fast, and reliable.</p>
<p>
  Pyramid can also be classified as an MVC framework, but doesn't  follow this specification completely. Unlike other MVC frameworks, Pyramid  doesn't have a "front controller," so to speak, but rather has a  resource tree that defines the site structure. The "views" are stored  in this resource tree.</p>
<h2>Installing Pyramid and Creating Your First Project</h2>
<p>Pyramid runs on a variety of platforms; for the purposes of this  article, I'll focus on the Windows installation. I'm using Python 3.3, but you  can use anything after 2.7 for Pyramid. I should note that all commands are  executed using my <tt>Python33 python.exe</tt> command. This command path should  be added to your system <tt>path</tt> environment variable. If you don't have it  already, install the Python interpreter, and then follow these instructions for  getting started with Pyramid:</p>
<p>
  1.  Install <a href="http://sourceforge.net/projects/pywin32/files/pywin32/Build%20218/">Python  Extensions</a> and choose the correct version for your setup.</p>
<p>
  2.  Download and install the <a href="http://python-distribute.org/distribute_setup.py">distribute_setup.py</a>.  This one is a bit tricky to install; the only way I got it to work was to  download the file into my main Python directory, right-click the file, and  choose Open to run the script.</p>
<p>
  3.  From your <tt>Python33</tt> directory, change to  the <tt>Scripts</tt> subdirectory using the command line. Execute the following  command:</p>
<pre>easy_install-3.3 virtualenv-3.3</pre>
<p>
  This command installs the virtual environment needed to  run a site within its own application pool. Think of it as the infrastructure  for running a Python web server.</p>
<p>
  4.  Create the workspace in the virtual  environment by executing this command from the <tt>Scripts</tt> directory:</p>
<pre>virtualenv --no-site-packages env</pre>
<p>
  Also run the <tt>activate.bat</tt> file to wire the shell  environment to the virtual environment. The <tt>env</tt> directory is now your  virtual environment directory. Depending on how you installed Python, you might  already support a virtual environment. If so, you'll find that the scripts in  the <tt>env/Scripts</tt> directory are already in your <tt>Python33/Scripts</tt> directory.</p>
<p>
  5.  Time to install the Pyramid dependencies. From  the command line of your <tt>Python33/Scripts</tt> directory, execute <tt>easy_install-3.3  pyramid</tt>. To install other packages for web applications, such as <a href="http://en.wikipedia.org/wiki/SQLAlchemy">SQLAlchemy</a>, use the  same command sequence.</p>
<p>
  Be sure to install the <tt>paste</tt> packages by using <tt>easy_install-3.3  paste</tt>. <tt>paste</tt> is a set of utilities for web development with Python.  It's basically a web server that can be used to run Python applications.</p>
<p>
  6.  Python now has some site templates, better  referred to as <em>scaffolding</em>, that came  with the Pyramid installation. You don't have to use one of these, but it's  recommended if you're just getting started. From the command line, create the  website directory using the <tt>starter</tt> scaffolding. For my example, I  created a project called <tt>MyProject</tt> in the <tt>Python33/Scripts</tt> directory by using the <tt>pcreate</tt> command:</p>
<pre>pcreate -s starter MyProject</pre>
<p>
  Once the site project <tt>MyProject</tt> directory is  created, use the command line to switch to the <tt>MyProject/Scripts</tt> directory, and set up the development environment by using this command:</p>
<pre>python setup.py develop</pre>
<p>
  The <tt>setup.py</tt> file sets up your application for  deployment on the web server.</p>
<p>
  7.  Finally, you can try running the site and  viewing it in a browser. Execute the following command from the <tt>Python33/Scripts</tt> directory:</p>
<pre>pserve.exe   MyProject\development.ini --reload</pre>
<p>
  You should see the following lines:</p>

<pre>Starting server in PID 16601.
serving on  http://0.0.0.0:6543</pre>
<p>
  If you go to the path <tt>http://localhost:6543</tt> on  your machine, you should see the Pyramid welcome page with your site's project  name shown.</p>
<p>
  Of course, you could change the default port of the server in the <tt>development.ini</tt> file, which also contains debug settings appropriate for a development  environment.</p>
<p>
  8.  If you get syntax errors when running the  command in step 7, it's easy to fix. Go to the problem file (it will give you  the path) and change the error line to Python 3.3-compatible code. For example,  one error you might receive will be on line 634 of the <tt>httpexceptions.py</tt> file. Open the file in a text editor and replace line 634 with this line:</p>
<pre>except HTTPException as exc:</pre>
<p>
  You might have to fix a few more, but the premise is the  same. Once the syntax errors are resolved, run the site again and all should be  well.</p>
<p>
  There you have it - eight relatively easy steps for setting up Python  and your first scaffolding project with Pyramid. It reminds me a lot of how  Ruby is set up on Windows. Getting all the moving parts to work in tandem on  Windows can be challenging, but this article should help you get onto the fast  track.</p>
<p>
  If you click around on this sample template web application, you  may notice how fast it is. Everything comes up instantly with no lag  whatsoever. I can't say the same for Java and .NET, even when accessing the  site from the same server.</p>
<h2>Conclusion</h2>
<p>In this article, you learned the basics of using a Python web  development framework called Pyramid. You should now be comfortable with some  of the terminology, such as the virtualization environment and how it's used. Setting  up Pyramid for Windows should be an easy task, along with creating your first  web application using Pyramid's scaffolding. Although we didn't get into details  on the mechanics of using Pyramid, <a href="/articles/article.aspx?p=2161677">Part 2 of this series</a> will address this topic by covering  configuration files and custom development using the Pyramid framework.</p>
            </div>
            </div></body></html>