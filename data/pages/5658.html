<html><body><div><div id="content">

            

            
        


            <div class="section">
              <h1>echod 0.1.0</h1>

              


<p>Echod is a mock server and a callback recorder.</p>








<p><a href="https://travis-ci.org/wiliamsouza/echo" rel="nofollow"><img src="https://travis-ci.org/wiliamsouza/echo.svg"/>
</a> <a href="https://coveralls.io/github/wiliamsouza/echo?branch=master" rel="nofollow"><img src="https://coveralls.io/repos/wiliamsouza/echo/badge.svg?branch=master&amp;service=github"/></a></p>
<p>Echod is a fully configurable mock server and an HTTP callback recorder.
It is perfect to test external services.</p>
<p>It is easy to controlling Echod on the fly from your code or using your
testing framework setup mechanism.</p>
<p>The main part of Echod is an HTTP server with an REST API, the Echo HTTP
server have a lot of flexibility and support many start up methods.</p>
<p>Echod server can be run as:</p>
<ul>
<li>A standalone using <tt>echod</tt> command line tool.</li>
<li>A WSGI HTTP Server application.</li>
<li>A Docker instance container.</li>
</ul>
<div id="mock">
<h2>Mock</h2>
<pre><span class="kn">import</span> <span class="nn">echod</span>


<span class="n">mock_response</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'status_code'</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
    <span class="s1">'body'</span><span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span>
<span class="p">}</span>

<span class="n">request_contain</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'body'</span><span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">}</span>
<span class="p">}</span>

<span class="n">expectation</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'method'</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
    <span class="s1">'path'</span><span class="p">:</span> <span class="s1">'/v1/users/'</span><span class="p">,</span>
    <span class="s1">'request'</span><span class="p">:</span> <span class="n">request_contain</span><span class="p">,</span>
    <span class="s1">'response'</span><span class="p">:</span> <span class="n">mock_response</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">with</span> <span class="n">echod</span><span class="o">.</span><span class="n">mock</span><span class="p">(</span><span class="o">**</span><span class="n">expectation</span><span class="p">)</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">()</span>
    <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span>
</pre>
</div>
<div id="callback">
<h2>callback</h2>
<pre><span class="kn">import</span> <span class="nn">requests</span>


<span class="k">with</span> <span class="n">echod</span><span class="o">.</span><span class="n">callback</span><span class="p">()</span> <span class="k">as</span> <span class="n">webhook</span><span class="p">:</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">callback_url</span> <span class="o">=</span> <span class="n">webhook</span><span class="o">.</span><span class="n">url</span>
    <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">()</span>
    <span class="n">webhook</span><span class="o">.</span><span class="n">wait_callback</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">webhook</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="p">{</span><span class="o">...</span><span class="p">}</span>
</pre>
</div>


<a name="downloads">Â </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>24</span> downloads in the last week
  </li>
  <li>
    <span>146</span> downloads in the last month
  </li>
</ul>









            </div>


          </div>
          </div></body></html>