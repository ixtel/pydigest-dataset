<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-eldr------" class="anchor" href="#eldr------" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Eldr <a href="https://travis-ci.org/eldr-rb/eldr"><img src="https://camo.githubusercontent.com/3e8d103c7f76aa3798309c081ea1ccf1bf89bc5f/68747470733a2f2f7472617669732d63692e6f72672f656c64722d72622f656c64722e737667" alt="Build Status" data-canonical-src="https://travis-ci.org/eldr-rb/eldr.svg"/></a> <a href="https://codeclimate.com/github/eldr-rb/eldr"><img src="https://camo.githubusercontent.com/46c20334254e595595a762817e657895f1eca1d0/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f656c64722d72622f656c64722f6261646765732f6770612e737667" alt="Code Climate" data-canonical-src="https://codeclimate.com/github/eldr-rb/eldr/badges/gpa.svg"/></a> <a href="https://coveralls.io/r/eldr-rb/eldr?branch=master"><img src="https://camo.githubusercontent.com/6f10ee1cf5675aa59daf63cef0742d4d5cefa0bd/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f656c64722d72622f656c64722f62616467652e7376673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/eldr-rb/eldr/badge.svg?branch=master"/></a> <a href="https://gemnasium.com/eldr-rb/eldr"><img src="https://camo.githubusercontent.com/8d782107772b638da25e24294b521abff1132a7a/68747470733a2f2f67656d6e617369756d2e636f6d2f656c64722d72622f656c64722e737667" alt="Dependency Status" data-canonical-src="https://gemnasium.com/eldr-rb/eldr.svg"/></a> <a href="http://inch-ci.org/github/eldr-rb/eldr"><img src="https://camo.githubusercontent.com/cf2de057b72844d2fc58b135610028d400280825/68747470733a2f2f696e63682d63692e6f72672f6769746875622f656c64722d72622f656c64722e7376673f6272616e63683d6d6173746572" alt="Inline docs" data-canonical-src="https://inch-ci.org/github/eldr-rb/eldr.svg?branch=master"/></a> <a href="https://www.gratipay.com/k2052/"><img src="https://camo.githubusercontent.com/855dfbd998b5f2b01ed5331779d9af74f2008ade/68747470733a2f2f696d672e736869656c64732e696f2f67726174697061792f6b323035322e737667" alt="Gratipay" data-canonical-src="https://img.shields.io/gratipay/k2052.svg"/></a></h1>

<p>Eldr is a minimal ruby framework that doesn't hide the rack. It aims to be lightweight, simple, modular and above all, clear. Eldr is a ruby framework without all the magic.</p>

<p>Eldr apps are rack apps like this:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">App<span class="pl-e"> &lt; Eldr::App</span></span>
  get <span class="pl-s"><span class="pl-pds">'</span>/posts<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
    <span class="pl-c1">Rack</span>::<span class="pl-c1">Response</span>.<span class="pl-k">new</span> <span class="pl-s"><span class="pl-pds">"</span>posts<span class="pl-pds">"</span></span>, <span class="pl-c1">200</span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>Since they are rack apps you can boot them like this:</p>



<p>And when you want to combine them you can do this:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">Posts<span class="pl-e"> &lt; Eldr::App</span></span>
  get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>
    <span class="pl-c1">Rack</span>::<span class="pl-c1">Response</span>.<span class="pl-k">new</span> <span class="pl-s"><span class="pl-pds">"</span>posts<span class="pl-pds">"</span></span>, <span class="pl-c1">200</span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span>

<span class="pl-k">class</span> <span class="pl-en">Tasks<span class="pl-e"> &lt; Eldr::App</span></span>
  get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>
    <span class="pl-c1">Rack</span>::<span class="pl-c1">Response</span>.<span class="pl-k">new</span> <span class="pl-s"><span class="pl-pds">"</span>tasks<span class="pl-pds">"</span></span>, <span class="pl-c1">200</span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span>

map <span class="pl-s"><span class="pl-pds">'</span>/posts<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
  <span class="pl-c1">Posts</span>.<span class="pl-k">new</span>
<span class="pl-k">end</span>

map <span class="pl-s"><span class="pl-pds">'</span>/tasks<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
  run <span class="pl-c1">Tasks</span>.<span class="pl-k">new</span>
<span class="pl-k">end</span></pre></div>





<h2><a id="user-content-table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Table of Contents</h2>





<h2><a id="user-content-features" class="anchor" href="#features" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Features</h2>

<ul>
<li><strong>Small</strong>           Eldr's core is under 500 lines; you can learn it in an afternoon.</li>
<li><strong>Flexible</strong>        Build your apps how you want to and with what you want.</li>
<li><strong>Modular</strong>         Eldr's views, response helpers, sessions etc; are all independent gems.</li>
<li><strong>No Magic</strong>        Eldr encourages you to build apps that you actually understand.</li>
<li><strong>Fast</strong>            Eldr is among the fastest ruby microframeworks and it is getting faster.</li>
<li><strong>Powerful Router</strong> Powered by <a href="https://github.com/rkh/mustermann">Mustermann</a> -- you can use everything from Sinatra to Rails style routing.</li>
<li><strong>Flexible</strong>        That router? Is also just a Rack app. You can swap it out just like everything else in Eldr.</li>
<li><strong>Extensible</strong> with standard ruby classes, modules, and patterns. In Eldr there are no mystical helper blocks.</li>
</ul>

<h2><a id="user-content-installation-and-usage" class="anchor" href="#installation-and-usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation and Usage</h2>

<p>To install Eldr add the following to your gemfile:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">gem</span> <span class="pl-s"><span class="pl-pds">'</span>eldr<span class="pl-pds">'</span></span>
<span class="pl-c"># or if you want to use the master branch:</span>
<span class="pl-c"># gem 'eldr', github: 'eldr-rb/eldr'</span></pre></div>

<p>Then run bundler:</p>



<p>To use it you need to create a rackup file. Add the following to a config.ru file:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">HelloWorld<span class="pl-e"> &lt; Edlr::App</span></span>
  get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>, proc { [<span class="pl-c1">200</span>, {<span class="pl-s"><span class="pl-pds">'</span>Content-Type<span class="pl-pds">'</span></span> =&gt; <span class="pl-s"><span class="pl-pds">'</span>txt<span class="pl-pds">'</span></span>}, [<span class="pl-s"><span class="pl-pds">'</span>Hello World!<span class="pl-pds">'</span></span>]]}
<span class="pl-k">end</span>

run <span class="pl-c1">HelloWorld</span></pre></div>

<p>Route handlers are anything that respond to call and return a valid Rack response. All the http verbs you expect are available:</p>

<div class="highlight highlight-source-ruby"><pre>get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>,  proc { [<span class="pl-c1">200</span>, {<span class="pl-s"><span class="pl-pds">'</span>Content-Type<span class="pl-pds">'</span></span> =&gt; <span class="pl-s"><span class="pl-pds">'</span>txt<span class="pl-pds">'</span></span>}, [<span class="pl-s"><span class="pl-pds">'</span>Hello World!<span class="pl-pds">'</span></span>]]}
post <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>, proc { [<span class="pl-c1">201</span>, {<span class="pl-s"><span class="pl-pds">'</span>Content-Type<span class="pl-pds">'</span></span> =&gt; <span class="pl-s"><span class="pl-pds">'</span>txt<span class="pl-pds">'</span></span>}, [<span class="pl-s"><span class="pl-pds">'</span>Hello World!<span class="pl-pds">'</span></span>]]}</pre></div>

<p>etc...</p>

<p>For further usage examples checkout the <a href="https://github.com/eldr-rb/eldr/tree/master/examples">examples folder</a></p>

<p>I have already built and released extensions for many common tasks:</p>



<h2><a id="user-content-quickstart-guides" class="anchor" href="#quickstart-guides" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Quickstart Guides</h2>

<h3><a id="user-content-hello-world" class="anchor" href="#hello-world" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Hello World</h3>

<p>Start by adding the following to your gemfile:</p>



<p>Then run bundler:</p>

<pre><code>$ bundle install
</code></pre>

<p>Now create a new file called app.rb with the following contents:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">App<span class="pl-e"> &lt; Eldr::App</span></span>
  get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
    <span class="pl-c1">Rack</span>::<span class="pl-c1">Response</span>.<span class="pl-k">new</span> <span class="pl-s"><span class="pl-pds">"</span>Hello World!<span class="pl-pds">"</span></span>, <span class="pl-c1">200</span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>This defines a new App with a root route that returns "Hello World!". To make use of this app we need to add a rackup file. In the root of your project create a new file called config.ru:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">require_relative</span> <span class="pl-s"><span class="pl-pds">'</span>app<span class="pl-pds">'</span></span>
run <span class="pl-c1">App</span></pre></div>

<p>Now boot it using rackup:</p>



<p>When you visit http:///localhost:9292 in your browser you should see "Hello World!"</p>

<h3><a id="user-content-rendering-a-template" class="anchor" href="#rendering-a-template" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Rendering a Template</h3>

<p>Eldr provides no render helper in its core but it is easy to define your own.
One can use Tilt as the templating library (with your engine of choice) and then create some helper methods to handle finding the template and rendering it.</p>

<p>Create a module with the following:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">module</span> <span class="pl-en">RenderingHelpers</span>
  <span class="pl-k">def</span> <span class="pl-en">render</span>(<span class="pl-smi">path</span>, <span class="pl-smi">resp_code</span><span class="pl-k">=</span><span class="pl-c1">200</span>)
    <span class="pl-c1">Rack</span>::<span class="pl-c1">Response</span>.<span class="pl-k">new</span> <span class="pl-c1">Tilt</span>.<span class="pl-k">new</span>(find_template(path)).render(<span class="pl-v">self</span>), resp_code
  <span class="pl-k">end</span>

  <span class="pl-k">def</span> <span class="pl-en">find_template</span>(<span class="pl-smi">path</span>)
    template <span class="pl-k">=</span> <span class="pl-c1">File</span>.join(<span class="pl-s"><span class="pl-pds">'</span>views<span class="pl-pds">'</span></span>, path)
    <span class="pl-k">raise</span> <span class="pl-c1">NotFoundError</span> <span class="pl-k">unless</span> <span class="pl-c1">File</span>.exists? template
    template
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>This takes a template, finds the template and then passes it off to tilt for handling.
If the template does not exist it raises a NotFoundError.</p>

<p>We can use these helpers by including them in our App:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">App</span>
  <span class="pl-k">include</span> <span class="pl-c1">RenderingHelpers</span>

  get <span class="pl-s"><span class="pl-pds">'</span>/cats<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
    render <span class="pl-s"><span class="pl-pds">'</span>cats.slim<span class="pl-pds">'</span></span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>Using it, is as simple as including it!</p>

<p><em>Checkout</em>: <a href="https://github.com/eldr-rb/eldr-rendering">eldr-rendering</a> for some pre-made rendering helpers.</p>

<h3><a id="user-content-beforeafter-filters" class="anchor" href="#beforeafter-filters" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Before/After Filters</h3>

<p>Eldr comes with support for before/after filters. You can add a filter like this:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">App<span class="pl-e"> &lt; Eldr::App</span></span>
  before <span class="pl-k">do</span>
    <span class="pl-smi">@message</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Hello World!<span class="pl-pds">'</span></span>
  <span class="pl-k">end</span>

  after <span class="pl-k">do</span>
    puts <span class="pl-s"><span class="pl-pds">'</span>after<span class="pl-pds">'</span></span>
  <span class="pl-k">end</span>

  get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>, proc { [<span class="pl-c1">200</span>, {}, [<span class="pl-smi">@message</span>]] }
<span class="pl-k">end</span></pre></div>

<p>Filters can be limited to specific routes by giving your route a name:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">App<span class="pl-e"> &lt; Eldr::App</span></span>
  before(<span class="pl-c1">:bob</span>) <span class="pl-k">do</span>
    <span class="pl-smi">@message</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Hello World!<span class="pl-pds">'</span></span>
  <span class="pl-k">end</span>

  after(<span class="pl-c1">:bob</span>) <span class="pl-k">do</span>
    puts <span class="pl-s"><span class="pl-pds">'</span>after<span class="pl-pds">'</span></span>
  <span class="pl-k">end</span>

  get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>, <span class="pl-c1">name:</span> <span class="pl-c1">:bob</span>, proc { [<span class="pl-c1">200</span>, {}, [<span class="pl-smi">@message</span>]] }
<span class="pl-k">end</span></pre></div>

<h3><a id="user-content-helpers" class="anchor" href="#helpers" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Helpers</h3>

<p>In Eldr, helpers are not mystical elements, they are plain ruby modules:</p>



<p>If you need registration callbacks then you can make use of ruby's own included callback:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">module</span> <span class="pl-en">Helpers</span>
  <span class="pl-k">def</span> <span class="pl-en">included</span>(<span class="pl-smi">klass</span>)
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>If you need to define these methods directly on the app class, something like <em>helpers do</em>, you can do the following:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">App</span>
  <span class="pl-k">def</span> <span class="pl-en">helper_method</span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>This will put your helper method on every instance of your app's class and make it available to any templates.</p>

<h3><a id="user-content-rails-style-routing" class="anchor" href="#rails-style-routing" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Rails Style Routing</h3>

<p>In the rails world routes are methods on controller instances:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">Cats</span>
  <span class="pl-k">def</span> <span class="pl-en">index</span>
    <span class="pl-c"># stuff here</span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>Then in a separate router object we map our routes to these action methods.</p>

<div class="highlight highlight-source-ruby"><pre>get <span class="pl-s"><span class="pl-pds">'</span>/cats<span class="pl-pds">'</span></span>, <span class="pl-c1">to:</span> <span class="pl-s"><span class="pl-pds">'</span>cats#index<span class="pl-pds">'</span></span></pre></div>

<p>This is easy to do with Eldr; because Eldr apps are Rack apps, we can use one as a dispatcher/router and then another as our controller.</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">Cats</span>
  <span class="pl-k">def</span> <span class="pl-en">index</span>
    <span class="pl-c1">Rack</span>::<span class="pl-c1">Response</span>.<span class="pl-k">new</span> <span class="pl-s"><span class="pl-pds">"</span>Hello From all the Cats!<span class="pl-pds">"</span></span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>Then run it:</p>

<div class="highlight highlight-source-ruby"><pre>run <span class="pl-c1">Router</span>.<span class="pl-k">new</span> <span class="pl-k">do</span>
  get <span class="pl-s"><span class="pl-pds">'</span>/cats<span class="pl-pds">'</span></span>, <span class="pl-c1">to:</span> <span class="pl-s"><span class="pl-pds">'</span>cats#index<span class="pl-pds">'</span></span>
<span class="pl-k">end</span></pre></div>

<p>We could add a lot more abstraction but this is simple enough and accomplishes our goals. Eldr encourages you to <em>build up</em> abstractions as you go.</p>

<p>Pre-building flexibility and accounting for things you don't need to do yet is unnecessary work. You should build apps that you can <em>see into</em> and actually understand, no magic.</p>

<h3><a id="user-content-rails-style-responses" class="anchor" href="#rails-style-responses" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Rails Style Responses</h3>

<p>The Rails world has a tremendous amount of conventions and abstraction for dealing with responses. They range from complex to simple, from format helpers to full fledged REST abstractions. At their core, they all take information from Rack::Request and turn it into a valid Rack response -- and a valid rack response is just an array.</p>

<p>Once we realize this, replicating rails becomes just a matter of patterns.</p>

<p>Eldr routes must return a valid rack response, which is an array -- actually its just something that can act like an array. We can return an object that responds to :to_a and Rack will be just as happy.</p>

<p>Let's create a object that holds a response string, response headers, and a status.</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">Response</span>
  <span class="pl-k">attr_accessor</span> <span class="pl-c1">:status</span>, <span class="pl-c1">:headers</span>, <span class="pl-c1">:body</span>

  <span class="pl-k">def</span> <span class="pl-en">initialize</span>(<span class="pl-smi">body</span>, <span class="pl-smi">status</span><span class="pl-k">=</span><span class="pl-c1">200</span>, <span class="pl-smi">headers</span><span class="pl-k">=</span>{})
    <span class="pl-smi">@body</span>, <span class="pl-smi">@status</span>, <span class="pl-smi">@headers</span> <span class="pl-k">=</span> body, status, headers
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>Now add a to_a method:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">def</span> <span class="pl-en">to_a</span>
  [<span class="pl-smi">@status</span>, <span class="pl-smi">@headers</span>, [<span class="pl-smi">@body</span>]]
<span class="pl-k">end</span>
<span class="pl-k">alias_method</span> <span class="pl-c1">:to_ary</span>, <span class="pl-c1">:to_a</span> <span class="pl-c"># this makes ruby aware the object can act like an array</span></pre></div>

<p>To use this we just return a new instance of it as our response:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c1">Eldr</span>::<span class="pl-c1">App</span>.<span class="pl-k">new</span> <span class="pl-k">do</span>
  get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
    <span class="pl-c1">Response</span>.<span class="pl-k">new</span>(<span class="pl-s"><span class="pl-pds">"</span>Hello World!<span class="pl-pds">"</span></span>)
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>This simple pattern is enough to build all sorts of powerful abstractions.</p>

<h3><a id="user-content-rails-style-requests" class="anchor" href="#rails-style-requests" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Rails Style Requests</h3>

<p>Rails provides all sorts of ways to digest the data passed to it by a client. At their core they all operate on Rack's env object. They take Rack's env object and pass it off to a wrapper.</p>

<p>The wrapper modifies the request <em>only</em> on the env object, this means at any point we can duplicate the state of the wrapper by passing it the env; and any objects that need parsed request data (e.g params) will know to find it in the env object.</p>

<p>The most typical way rails helps us with requests is through parameter parsing and validation. If we of params a just a hash, then validating, error handling on them etc is simple, we can use all the tools we are already used to.</p>

<p>Lets start by getting our parameters into a hash. To do this we pass env into Rack::Request; a wrapper object that parses the query string and injects the results into @env["rack.request.query_hash"]:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">App<span class="pl-e"> &lt; Eldr::App</span></span>
  post <span class="pl-s"><span class="pl-pds">'</span>/cats<span class="pl-pds">'</span></span> <span class="pl-k">do </span>|<span class="pl-smi">env</span>|
    request <span class="pl-k">=</span> <span class="pl-c1">Rack</span>::<span class="pl-c1">Request</span>.<span class="pl-k">new</span>(env)
    params  <span class="pl-k">=</span> request.<span class="pl-c1">GET</span> <span class="pl-c"># we could also access it from env["rack.request.query_hash"]</span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>Now we will need an object to <em>validate</em> the parameters. We can use Virtus and ActiveModel::Validations for this:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">CatParams</span>
  <span class="pl-k">include</span> <span class="pl-c1">Virtus</span>.model
  <span class="pl-k">include</span> <span class="pl-c1">ActiveModel</span>::<span class="pl-c1">Validations</span>

  attribute <span class="pl-c1">:name</span>,       <span class="pl-c1">String</span>
  attribute <span class="pl-c1">:age</span>,        <span class="pl-c1">Integer</span>
  attribute <span class="pl-c1">:human_kils</span>, <span class="pl-c1">Integer</span>

  validates <span class="pl-c1">:name</span>, <span class="pl-c1">:age</span>, <span class="pl-c1">:human_kills</span>, <span class="pl-c1">presence:</span> <span class="pl-c1">true</span>
<span class="pl-k">end</span></pre></div>

<p>To <em>validate</em> a request we need to instantiate CatParams:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">InvalidParams<span class="pl-e"> &lt; Edlr::ResponseError</span></span>
  <span class="pl-k">def</span> <span class="pl-en">status</span>
    <span class="pl-c1">400</span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span>

<span class="pl-k">class</span> <span class="pl-en">App<span class="pl-e"> &lt; Eldr::App</span></span>
  post <span class="pl-s"><span class="pl-pds">'</span>/cats<span class="pl-pds">'</span></span> <span class="pl-k">do </span>|<span class="pl-smi">env</span>|
    request <span class="pl-k">=</span> <span class="pl-c1">Rack</span>::<span class="pl-c1">Request</span>.<span class="pl-k">new</span>(env)
    params  <span class="pl-k">=</span> <span class="pl-c1">CatParams</span>.<span class="pl-k">new</span>(request.<span class="pl-c1">GET</span>)

    <span class="pl-k">raise</span> <span class="pl-c1">InvalidParams</span>.<span class="pl-k">new</span>(errors) <span class="pl-k">unless</span> params.valid?

    cat <span class="pl-k">=</span> <span class="pl-c1">Cat</span>.create(params.attributes)
    <span class="pl-c1">Rack</span>::<span class="pl-c1">Response</span>.<span class="pl-k">new</span>(cat.to_json)
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>If our parameters are invalid we raise an InvalidParams response (Eldr has error handling). If they are valid, then we create our Cat and return it as JSON.</p>

<h3><a id="user-content-errors" class="anchor" href="#errors" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Errors</h3>

<p>You can <code>raise</code> an error with any class that inherits from StandardError and responds to call. This is useful in before filters, when you want to halt a route from executing.</p>

<p>An error class looks like this:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">ErrorResponse<span class="pl-e"> &lt; StandardErrro</span></span>
  <span class="pl-k">def</span> <span class="pl-en">call</span>(<span class="pl-smi">env</span>)
    <span class="pl-c1">Rack</span>::<span class="pl-c1">Response</span>.<span class="pl-k">new</span> message, <span class="pl-c1">500</span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>And you can use it like a standard ruby error class:</p>

<div class="highlight highlight-source-ruby"><pre>app <span class="pl-k">=</span> <span class="pl-c1">Edlr</span>::<span class="pl-c1">App</span>.<span class="pl-k">new</span> <span class="pl-k">do</span>
  get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
    <span class="pl-k">raise</span> <span class="pl-c1">ErrorResponse</span>, <span class="pl-s"><span class="pl-pds">"</span>Bad Data<span class="pl-pds">"</span></span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span>

run app</pre></div>

<h3><a id="user-content-error-catching" class="anchor" href="#error-catching" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Error Catching</h3>

<p>Eldr will NOT catch all errors. In a production setting you will need to use middleware to make certain nothing ever explodes at your user. Something like <a href="https://github.com/blambeau/rack-robustness">rack-robustness</a> will work fine:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">App<span class="pl-e"> &lt; Edlr::App</span></span>
  use <span class="pl-c1">Rack</span>::<span class="pl-c1">Robustness</span> <span class="pl-k">do </span>|<span class="pl-smi">g</span>|
    g.on(<span class="pl-c1">ArgumentError</span>){|<span class="pl-smi">ex</span>| <span class="pl-c1">400</span> }
    g.on(<span class="pl-c1">SecurityError</span>){|<span class="pl-smi">ex</span>| <span class="pl-c1">403</span> }

    g.content_type <span class="pl-s"><span class="pl-pds">'</span>text/plain<span class="pl-pds">'</span></span>

    g.body{|<span class="pl-smi">ex</span>|
      ex.message
    }

    g.ensure(<span class="pl-c1">true</span>){|<span class="pl-smi">ex</span>|
      env[<span class="pl-s"><span class="pl-pds">'</span>rack.errors<span class="pl-pds">'</span></span>].write(ex.message)
    }
  <span class="pl-k">end</span>
<span class="pl-k">end</span>

run <span class="pl-c1">App</span></pre></div>

<h3><a id="user-content-conditions" class="anchor" href="#conditions" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Conditions</h3>

<p>Most microframeworks provide a DSL for route conditions. This needlesly complicates a framework with multiple ways to do things. Do we check for <em>x</em> in our conditions or do we check for it in the route's handler?</p>

<p>Eldr's strives for clarity. There is only one place to place logic for a route, in the route's handler.</p>

<p>If you want a route to only be executed under certain conditions you check those conditions in the handler and then <code>throw :pass</code> if conditions match/do not match:</p>

<div class="highlight highlight-source-ruby"><pre>  get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
    <span class="pl-k">throw</span> <span class="pl-c1">:pass</span> <span class="pl-k">if</span> params[<span class="pl-s"><span class="pl-pds">'</span>agent<span class="pl-pds">'</span></span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>secret<span class="pl-pds">'</span></span>
    <span class="pl-c"># respond here</span>
  <span class="pl-k">end</span>

  <span class="pl-c"># Executed only if we pass from the first route</span>
  get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
  <span class="pl-k">end</span></pre></div>

<h3><a id="user-content-access-control" class="anchor" href="#access-control" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Access Control</h3>

<p>Originally Eldr had an access control DSL that looked like this:</p>

<div class="highlight highlight-source-ruby"><pre>access_control <span class="pl-k">do</span>
  allow <span class="pl-c1">:create</span>, <span class="pl-c1">:registered</span>, <span class="pl-c1">:admin</span>
<span class="pl-k">end</span></pre></div>

<p>The DSL pulled a route's name and its roles into a before filter, then checked them against the current_user's roles. The filter itself was five lines.</p>

<p>I soon realized that this was redundant abstraction. The DSL didn't save me any coding, it merely gave the code pretty words. I was sacrificing clarity for poetry.</p>

<p>To protect a route you need a before filter that checks the user for roles. It can look like this:</p>

<div class="highlight highlight-source-ruby"><pre>before <span class="pl-c1">:create</span>, <span class="pl-c1">:edit</span> <span class="pl-k">do</span>
  <span class="pl-k">unless</span> current_user.has_role? <span class="pl-c1">:admin</span>
    <span class="pl-k">raise</span> <span class="pl-c1">NotAuthorized</span>, <span class="pl-s"><span class="pl-pds">"</span>You are not authorized to do this!<span class="pl-pds">"</span></span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>It is just as short as any DSL and ambiguity free. Any ruby developer can guess what
it means without having to know your framework's secret language.</p>

<h3><a id="user-content-inheritance" class="anchor" href="#inheritance" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Inheritance</h3>

<p>In many frameworks you are encouraged to wrap your controllers in a central app.
You build a main app that handles routing, scoping, sharing configuration and middleware etc; often controllers are merely blocks executed in the context of this app. This allows you to build DRY controllers but at the cost of a large central app.</p>

<p>In Eldr we reverse this model and encourage you to build up your controllers through inheritance. Eldr apps can inherit middleware and configuration from parent apps.
This allows you to define a base app and allow all your controllers to share the same configuration.</p>

<p>For example:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">SimpleCounterMiddleware</span>
  <span class="pl-k">def</span> <span class="pl-en">initialize</span>(<span class="pl-smi">app</span>)
    <span class="pl-smi">@app</span> <span class="pl-k">=</span> app
  <span class="pl-k">end</span>

  <span class="pl-k">def</span> <span class="pl-en">call</span>(<span class="pl-smi">env</span>)
    env[<span class="pl-s"><span class="pl-pds">'</span>eldr.simple_counter<span class="pl-pds">'</span></span>] <span class="pl-k">||=</span> <span class="pl-c1">0</span>
    env[<span class="pl-s"><span class="pl-pds">'</span>eldr.simple_counter<span class="pl-pds">'</span></span>] <span class="pl-k">+=</span> <span class="pl-c1">1</span>
    <span class="pl-smi">@app</span>.call(env)
  <span class="pl-k">end</span>
<span class="pl-k">end</span>

<span class="pl-k">class</span> <span class="pl-en">BaseApp<span class="pl-e"> &lt; Eldr::App</span></span>
  use <span class="pl-c1">SimpleCounterMiddleware</span>
  set <span class="pl-c1">:bob</span>, <span class="pl-s"><span class="pl-pds">'</span>what about him?<span class="pl-pds">'</span></span>
<span class="pl-k">end</span>

<span class="pl-k">class</span> <span class="pl-en">InheritedApp<span class="pl-e"> &lt; BaseApp</span></span>
  get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>, proc { [<span class="pl-c1">200</span>, {}, [env[<span class="pl-s"><span class="pl-pds">'</span>eldr.simple_counter<span class="pl-pds">'</span></span>]]]}
<span class="pl-k">end</span>

run <span class="pl-c1">InheritedApp</span></pre></div>

<h3><a id="user-content-extensions" class="anchor" href="#extensions" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Extensions</h3>

<p>Extending a framework is a mystical process full of esoteric patterns and confusing APIs. Engines, helper blocks, plugin apis, and if you are lucky yaml configuration.</p>

<p>You can extend Eldr in two ways;</p>

<ol>
<li>Through standard Ruby patterns</li>
<li>Through standard Rack patterns</li>
</ol>

<h4><a id="user-content-extending-using-ruby-patterns" class="anchor" href="#extending-using-ruby-patterns" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Extending using Ruby patterns</h4>

<p>Ruby patterns are something you are already intimately familiar with. Include, extend, ducks, blocks, procs etc are something you know like the front of your MacBook (btw you should <em>really</em> clean that smudge). Eldr is a DSL you already know how to speak.</p>

<p>I have designed Edlr to work well with common ruby patterns; you can include it, extend it, pass it blocks etc, and it wont blow up. If it does blow up its a bug.</p>

<p>You can add methods to your app (i.e helpers) by including them:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">App<span class="pl-e"> &lt; Eldr::App</span></span>
  <span class="pl-k">include</span> <span class="pl-c1">Helpers</span>
<span class="pl-k">end</span></pre></div>

<p>If you want to use an app as a block you can:</p>

<div class="highlight highlight-source-ruby"><pre>run <span class="pl-c1">App</span>.<span class="pl-k">new</span> <span class="pl-k">do</span>
  get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span> { <span class="pl-c1">Rack</span>::<span class="pl-c1">Response</span>.<span class="pl-k">new</span> <span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span> }
<span class="pl-k">end</span></pre></div>

<p>Flexibility in Eldr is not accomplished through abstraction but through clarity. You can make Eldr do what you want it to because you will understand it not because it provides every feature.</p>

<h4><a id="user-content-extending-using-rack" class="anchor" href="#extending-using-rack" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Extending using Rack</h4>

<p>Rails has a powerful code reuse model. You can generalize routes, controllers, even assets and views, then share them. Authentication/Authorization, shopping carts, social engines, admin panels, all abound in the rails world. This reuse of code allows one to build complex large apps that once took months, in a matter of minutes.</p>

<p>In Eldr you re-use applications the Rack way. You will architect your app so it can <em>be mounted</em> as a Rack app, then an end-developer can mount it or extend it using Rack tools.</p>

<p>For example, imagine a user registration/authentication app, something like Devise.</p>

<p>First we create our app class:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">EldrWise</span>
  <span class="pl-c">###</span>
  <span class="pl-c"># Registrations</span>
  <span class="pl-c">###</span>

  <span class="pl-c"># Register a new user</span>
  post <span class="pl-s"><span class="pl-pds">'</span>/user<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
    <span class="pl-c"># ... user creation stuff</span>
    redirect_to <span class="pl-s"><span class="pl-pds">"</span>/users/<span class="pl-pse">#{</span><span class="pl-s1">user.id</span><span class="pl-pse"><span class="pl-s1">}</span></span><span class="pl-pds">"</span></span>
  <span class="pl-k">end</span>

  <span class="pl-c"># ...  more code</span>

  <span class="pl-c">###</span>
  <span class="pl-c"># Users</span>
  <span class="pl-c">###</span>
  get <span class="pl-s"><span class="pl-pds">'</span>/users/:id<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
    render <span class="pl-s"><span class="pl-pds">'</span>users/show<span class="pl-pds">'</span></span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>We would probably want to break this up into separate controllers:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">EldrWise::Registrations</span>
  <span class="pl-c"># ... registration routes</span>
<span class="pl-k">end</span>

<span class="pl-k">class</span> <span class="pl-en">EldrWise::Users</span>
  <span class="pl-c"># ... user routes</span>
<span class="pl-k">end</span>

<span class="pl-k">module</span> <span class="pl-en">EldrWise</span>
  map <span class="pl-s"><span class="pl-pds">'</span>/registration<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
    <span class="pl-c1">Registrations</span>
  <span class="pl-k">end</span>

  map <span class="pl-s"><span class="pl-pds">'</span>/users<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
    <span class="pl-c1">Users</span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>Then an end user can either mount the entire thing:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c1">App</span>.<span class="pl-k">extend</span> <span class="pl-c1">EldrWise</span>
run <span class="pl-c1">App</span></pre></div>

<p>Or just a part:</p>

<div class="highlight highlight-source-ruby"><pre>map <span class="pl-s"><span class="pl-pds">'</span>/users<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
  <span class="pl-c1">EldrWise</span>::<span class="pl-c1">Users</span>
<span class="pl-k">end</span>
run <span class="pl-c1">App</span></pre></div>

<p>To customize it they can either extend it:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">UsersController<span class="pl-e"> &lt; EldrWise::Users</span></span>
<span class="pl-k">end</span>

map <span class="pl-s"><span class="pl-pds">'</span>/users<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
  <span class="pl-c1">UsersController</span>
<span class="pl-k">end</span></pre></div>

<p>If we want to define all our controllers on the root we can use Eldr::Cascade. We define the routes we want to override, Cascade will get a 404 on the ones we didn't, then call the next app until it gets a response:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">require</span> <span class="pl-s"><span class="pl-pds">'</span>eldr<span class="pl-pds">'</span></span>
<span class="pl-k">require</span> <span class="pl-s"><span class="pl-pds">'</span>eldr/cascade<span class="pl-pds">'</span></span>
<span class="pl-k">class</span> <span class="pl-en">App</span>
  <span class="pl-c"># override the users post route but nothing else</span>
  post <span class="pl-s"><span class="pl-pds">'</span>/users<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span>
run <span class="pl-c1">Eldr</span>::<span class="pl-c1">Cascade</span>.<span class="pl-k">new</span>[<span class="pl-c1">App</span>, <span class="pl-c1">EldrWise</span>]</pre></div>

<p>Thinking about Rack when you construct your Eldr apps will make them flexible and easy to reuse.</p>

<h3><a id="user-content-using-rack-inside-eldr" class="anchor" href="#using-rack-inside-eldr" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Using Rack inside Eldr</h3>

<p>Eldr apps are an instance of Rack::Builder; this means we can use any middleware or other Rack apps (including other Eldr apps) inside an app. To use Rack::Builder features you call the methods on the class.</p>

<p>For example, to use Rack session cookies we do:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">App<span class="pl-e"> &lt; Eldr::App</span></span>
  use <span class="pl-c1">Rack</span>::<span class="pl-c1">Session</span>::<span class="pl-c1">Cookie</span>
<span class="pl-k">end</span></pre></div>

<p>If we wanted to mount other Eldr apps/controllers in our app we would do the following:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">App<span class="pl-e"> &lt; Eldr::App</span></span>
  map <span class="pl-s"><span class="pl-pds">'</span>/users<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
    <span class="pl-c1">UsersController</span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>Because rack builder itself can take rack builder instances we can run our App in config.ru just like we expect:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">App<span class="pl-e"> &lt; Eldr::App</span></span>
  use <span class="pl-c1">Rack</span>::<span class="pl-c1">Session</span>::<span class="pl-c1">Cookie</span>
<span class="pl-k">end</span>

run <span class="pl-c1">App</span></pre></div>

<h3><a id="user-content-redirecting-things" class="anchor" href="#redirecting-things" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Redirecting Things</h3>

<p>Redirects are an <em>enormously</em> complex subject involving thousands of lines of helper code. Just kidding, they are just a status code and a new path. We can create a redirection helper in 5 lines:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">module</span> <span class="pl-en">Helpers</span>
  <span class="pl-k">def</span> <span class="pl-en">redirect</span>(<span class="pl-smi">path</span>, <span class="pl-smi">message</span>)
    [<span class="pl-c1">302</span>, {<span class="pl-s"><span class="pl-pds">'</span>location<span class="pl-pds">'</span></span> =&gt; path}, [message]]
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<h3><a id="user-content-route-handlers-the-power-of-action-objects" class="anchor" href="#route-handlers-the-power-of-action-objects" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Route Handlers: The Power of Action Objects</h3>

<p>In Edlr (just like in Rack) route handlers are things that respond to call. This means we can use everthing from procs, to blocks, to instances of a class.</p>

<p>If we wanted to we could do the following:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">Handler</span>
  <span class="pl-k">def</span> <span class="pl-en">call</span>(<span class="pl-smi">env</span>)
    <span class="pl-c1">Rack</span>::<span class="pl-c1">Response</span>.<span class="pl-k">new</span> <span class="pl-s"><span class="pl-pds">"</span>Hi there Dave!<span class="pl-pds">"</span></span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span>

<span class="pl-k">class</span> <span class="pl-en">App</span>
  get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>, <span class="pl-c1">Handler</span>.<span class="pl-k">new</span>
<span class="pl-k">end</span></pre></div>

<p>This isn't as silly as it might seem. Its a common and powerful pattern that can clean up
complex controllers.</p>

<p>Imagine we have a complex show action that takes up hundreds of lines. Our first inclination will be to split this up into different methods on our controller. This would make our show action a lot shorter; but we would have logic for our show action spread across our controller. Our other actions don't need to be able to access the show action's logic. It would be better to have all the logic for the show action in one object.</p>

<p>We can do this by writing our show action as an Action Object. Our action's logic will be contained entirely in this object.</p>

<p>Action objects give us the freedom to instantiatie them, inject things, pass them around, test and generally just engage in whatever sociopathic whimsys we might want to do to them.</p>

<p>Let's take a look at that show action:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">class</span> <span class="pl-en">Show</span>
  <span class="pl-k">attr_accessor</span> <span class="pl-c1">:env</span>

  <span class="pl-k">def</span> <span class="pl-en">helper_logic</span>
    <span class="pl-c"># do things here</span>
  <span class="pl-k">end</span>

  <span class="pl-k">def</span> <span class="pl-en">params</span>
    env[<span class="pl-s"><span class="pl-pds">'</span>eldr.params<span class="pl-pds">'</span></span>]
  <span class="pl-k">end</span>

  <span class="pl-k">def</span> <span class="pl-en">call</span>(<span class="pl-smi">env</span>)
    <span class="pl-smi">@env</span> <span class="pl-k">=</span> env

    helper_logic
    <span class="pl-c"># @cat = Cat.find params[:id]</span>
    <span class="pl-c1">Rack</span>::<span class="pl-c1">Response</span>.<span class="pl-k">new</span> <span class="pl-s"><span class="pl-pds">"</span>Found cat named <span class="pl-pse">#{</span><span class="pl-s1">params[<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>].capitalize</span><span class="pl-pse"><span class="pl-s1">}</span></span>!<span class="pl-pds">"</span></span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span>

<span class="pl-k">class</span> <span class="pl-en">CatsController</span>
  get <span class="pl-s"><span class="pl-pds">'</span>/cats/:name<span class="pl-pds">'</span></span>, <span class="pl-c1">Show</span>.<span class="pl-k">new</span>
<span class="pl-k">end</span>

run <span class="pl-c1">CatsController</span></pre></div>

<p>Once you start using this pattern you cant stop. Like nutella, you start putting it on everything, trying it on absurd things you know are wrong -- just in case it might work well.</p>

<p>Don't overuse action objects, but remember they are there when you want deliciousness.</p>

<h3><a id="user-content-testing-eldr-apps" class="anchor" href="#testing-eldr-apps" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Testing Eldr Apps</h3>

<p>You are ready to set out on your own but you are afraid of breaking all the things. You need some safety checks to keep you from hurting yourself or your apps. Testing Eldr apps is the same as testing rack apps.</p>

<p>In your spec helper include rack-test. With rspec that would look like this:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c1">RSpec</span>.configure <span class="pl-k">do </span>|<span class="pl-smi">config</span>|
  config.<span class="pl-k">include</span> <span class="pl-c1">Rack</span>::<span class="pl-c1">Test</span>::<span class="pl-c1">Methods</span>
<span class="pl-k">end</span></pre></div>

<p>Now you need to define your app method so rack-test can mount your app. Eldr apps are rack apps so we can <em>simply</em> return a new instance of it:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">def</span> <span class="pl-en">app</span>
  <span class="pl-c1">YourEldrApp</span>.<span class="pl-k">new</span>
<span class="pl-k">end</span></pre></div>

<p>If you want to test each of your apps individually you can use <code>let</code> to create a new Rack::Test session thingy:</p>

<div class="highlight highlight-source-ruby"><pre>let(<span class="pl-c1">:rt</span>) <span class="pl-k">do</span>
  <span class="pl-c1">Rack</span>::<span class="pl-c1">Test</span>::<span class="pl-c1">Session</span>.<span class="pl-k">new</span> <span class="pl-c1">YourEldrApp</span>.<span class="pl-k">new</span>
<span class="pl-k">end</span></pre></div>

<p>Then you'll be able to access the rack-test methods from <code>rt</code>. For example:</p>

<div class="highlight highlight-source-ruby"><pre>response <span class="pl-k">=</span> rt.get <span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>
response.status.should <span class="pl-k">==</span> <span class="pl-c1">200</span></pre></div>

<p>Rack apps sure are easy to work with!</p>

<p>See the spec/ in this repo for some specific rspec examples.</p>

<h2><a id="user-content-performance" class="anchor" href="#performance" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Performance</h2>

<p>Eldr has been built with perfomance in mind. Right now it performs in the middle of the pack and more performance improvements are forthcoming:</p>

<table><thead>
<tr>
<th>Framework</th>
<th align="center">Requests/sec</th>
<th align="right">% from best</th>
</tr>
</thead><tbody>
<tr>
<td>rack</td>
<td align="center">10282.20</td>
<td align="right">100.0%</td>
</tr>
<tr>
<td>hobbit</td>
<td align="center">8853.81</td>
<td align="right">86.11%</td>
</tr>
<tr>
<td>roda</td>
<td align="center">8830.00</td>
<td align="right">85.88%</td>
</tr>
<tr>
<td>cuba</td>
<td align="center">8517.00</td>
<td align="right">82.83%</td>
</tr>
<tr>
<td>lotus-router</td>
<td align="center">8464.81</td>
<td align="right">82.32%</td>
</tr>
<tr>
<td>rack-response</td>
<td align="center">7939.67</td>
<td align="right">77.22%</td>
</tr>
<tr>
<td>brooklyn</td>
<td align="center">7639.88</td>
<td align="right">74.3%</td>
</tr>
<tr>
<td><em>eldr</em></td>
<td align="center">7170.15</td>
<td align="right">69.73%</td>
</tr>
<tr>
<td>rambutan</td>
<td align="center">6954.75</td>
<td align="right">67.64%</td>
</tr>
<tr>
<td>nancy</td>
<td align="center">6516.84</td>
<td align="right">63.38%</td>
</tr>
<tr>
<td>gin</td>
<td align="center">3850.00</td>
<td align="right">37.44%</td>
</tr>
<tr>
<td>nyny</td>
<td align="center">3745.96</td>
<td align="right">36.43%</td>
</tr>
<tr>
<td>sinatra</td>
<td align="center">2740.50</td>
<td align="right">26.65%</td>
</tr>
<tr>
<td>rails</td>
<td align="center">2475.50</td>
<td align="right">24.08%</td>
</tr>
<tr>
<td>scorched</td>
<td align="center">1692.18</td>
<td align="right">16.46%</td>
</tr>
<tr>
<td>ramaze</td>
<td align="center">1490.42</td>
<td align="right">14.5%</td>
</tr>
</tbody></table>

<p>See the <a href="https://github.com/eldr-rb/bench-micro">bench-micro</a> repo to run your own perfomance benchmarks</p>

<h2><a id="user-content-helpresources" class="anchor" href="#helpresources" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Help/Resources</h2>

<p>You can get help from the following places:</p>

<ul>
<li><a href="http://twitter.com/k_2052">@k_2052</a> Feel free to mention me on twitter for quick questions</li>
<li><a href="https://groups.google.com/forum/#!forum/eldr-ruby">The Mailing List</a> For questions that aren't a bug or feature request</li>
<li><a href="https://github.com/eldr-rb/eldr/tree/master/examples">The examples folder</a> in this repo has full runnable versions of the quickstart's examples</li>
<li><a href="http://buildyourownsinatra.com">BuildYourOwnSinatra.com</a> A companion book on building Eldr</li>
<li><a href="https://github.com/eldr-rb/eldr/issues">Issues</a> on this repo for bug reports and feature requests</li>
<li>And of course checkout the GitHub org <a href="https://github.com/eldr-rb">eldr-rb/</a> for all the Eldr gems.</li>
</ul>

<h2><a id="user-content-contributing" class="anchor" href="#contributing" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Contributing</h2>

<ol>
<li>Fork. it</li>
<li>Create. your feature branch (git checkout -b cat-evolver)</li>
<li>Commit. your changes (git commit -am 'Add Cat Evolution')</li>
<li>Test. your changes (always be testing)</li>
<li>Push. to the branch (git push origin cat-evolver)</li>
<li>Pull. Request. (for extra points include funny gif and or pun in comments)</li>
</ol>

<p>To remember this you can use the easy to remember and totally not tongue-in-check initialism:
FCCTPP.</p>

<p>I don't want any of these steps to scare you off. If you don't know how to do something or are struggle getting it to work feel free to create a pull request or issue anyway. I'll be happy to help you get your contributions up to code and into the repo!</p>

<h2><a id="user-content-license" class="anchor" href="#license" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>License</h2>

<p>Licensed under MIT by K-2052.</p>
</article>
  </div></body></html>