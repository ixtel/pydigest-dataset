<html><body><div><div class="section">
              <h1>pytest-json 0.4.0</h1>

              


<p>Generate JSON test reports</p>








<a href="https://travis-ci.org/mattcl/pytest-json" rel="nofollow"><img src="https://travis-ci.org/mattcl/pytest-json.svg?branch=master"/></a>
<p>pytest-json is a plugin for <a href="http://pytest.org" rel="nofollow">py.test</a> that generates JSON
reports for test results</p>
<hr class="docutils"/>
<p>This <a href="https://github.com/pytest-dev/pytest" rel="nofollow">Pytest</a> plugin was generated with <a href="https://github.com/audreyr/cookiecutter" rel="nofollow">Cookiecutter</a> along with
<a href="https://github.com/hackebrot" rel="nofollow">@hackebrot</a>’s <a href="https://github.com/pytest-dev/cookiecutter-pytest-plugin" rel="nofollow">Cookiecutter-pytest-plugin</a> template.</p>
<div id="requirements">
<h2>Requirements</h2>
<ul>
<li>Python 2.7, 3.3, 3.4, 3.5</li>
<li>py.test 2.7 or newer</li>
</ul>
</div>
<div id="installation">
<h2>Installation</h2>
<p>You can install “pytest-json” via <a href="https://pypi.python.org/pypi/pip/" rel="nofollow">pip</a> from <a href="https://pypi.python.org/pypi" rel="nofollow">PyPI</a>:</p>
<pre>$ pip install pytest-json
</pre>
</div>
<div id="usage">
<h2>Usage</h2>
<pre>$ py.test --json=report.json
</pre>
<p>or you can set the report path in an ini file:</p>
<pre>[pytest]
json_report = report.json
</pre>
<p>The command-line option will override the ini file</p>
<p>There is an optional flag to normalize the generated report to
<a href="http://jsonapi.org" rel="nofollow">jsonapi</a>. This is intended for (easier) consumption by
ember-data and others:</p>
<pre>$ py.test --json=report.json --jsonapi
</pre>
<p>or you can set the jsonapi flag in an ini file:</p>
<pre>[pytest]
jsonapi = anything
</pre>
<p>Note that the value of the ini var can be anything. Presence alone will cause
it to be true.</p>
</div>
<div id="adding-to-environment">
<h2>Adding to environment</h2>
<p>You can modify <tt>request.config._json_environment</tt> in a fixture</p>
<pre><span class="nd">@pytest.fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s1">'session'</span><span class="p">,</span> <span class="n">autouse</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">extra_json_environment</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">request</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">_json_environment</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s1">'herp'</span><span class="p">,</span> <span class="s1">'derp'</span><span class="p">))</span>
</pre>
</div>


<div id="compatibility-with-pytest-html">
<h2>Compatibility with pytest-html</h2>
<p>To avoid issues with pytest-html, pytest-json uses
<tt>request.config._json_environment</tt> instead of <tt>request.config._environment</tt></p>
<p>Additionally, pytest-json ignores the <tt>extra</tt> field on reports.</p>
</div>
<div id="example-json">
<h2>Example json</h2>
<p>A formatted example of the output can be found in example.json</p>
<p>The actual output is not formatted, but this was passed through jq for
readability.</p>
<p>A formatted example of the jsonapi output can be found in example_jsonapi.json</p>
</div>
<div id="contributing">
<h2>Contributing</h2>
<p>Contributions are very welcome. Tests can be run with <a href="https://tox.readthedocs.org/en/latest/" rel="nofollow">tox</a>, please ensure
the coverage at least stays the same before you submit a pull request.</p>
</div>
<div id="license">
<h2>License</h2>
<p>Distributed under the terms of the <a href="http://opensource.org/licenses/MIT" rel="nofollow">MIT</a> license, “pytest-json” is free and open source software</p>
</div>
<div id="issues">
<h2>Issues</h2>
<p>If you encounter any problems, please <a href="https://github.com/mattcl/pytest-json/issues" rel="nofollow">file an issue</a> along with a detailed description.</p>
</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>1532</span> downloads in the last week
  </li>
  <li>
    <span>14795</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>