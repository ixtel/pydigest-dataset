<html><body><div><div class="post-text" itemprop="text">

<p>I'm trying to use the metadata harvesting package <a href="https://pypi.python.org/pypi/pyoai">https://pypi.python.org/pypi/pyoai</a> to harvest the data on this site <a href="https://www.duo.uio.no/oai/request?verb=Identify">https://www.duo.uio.no/oai/request?verb=Identify</a></p>

<p>I tried the example on the pyaoi site, but that did not work. When I test it I get a error. The code is:</p>

<pre><code>from oaipmh.client import Client
from oaipmh.metadata import MetadataRegistry, oai_dc_reader

URL = 'http://uni.edu/ir/oaipmh'
registry = MetadataRegistry()
registry.registerReader('oai_dc', oai_dc_reader)
client = Client(URL, registry)

for record in client.listRecords(metadataPrefix='oai_dc'):
    print record
</code></pre>

<p>This is the stack trace:</p>

<pre><code>Traceback (most recent call last):
  File "/Users/arashsaidi/PycharmProjects/get-new-DUO/get-files.py", line 8, in &lt;module&gt;
    for record in client.listRecords(metadataPrefix='oai_dc'):
  File "/Users/arashsaidi/.virtualenvs/lbk/lib/python2.7/site-packages/oaipmh/common.py", line 115, in method
    return obj(self, **kw)
  File "/Users/arashsaidi/.virtualenvs/lbk/lib/python2.7/site-packages/oaipmh/common.py", line 110, in __call__
    return bound_self.handleVerb(self._verb, kw)
  File "/Users/arashsaidi/.virtualenvs/lbk/lib/python2.7/site-packages/oaipmh/client.py", line 65, in handleVerb
    kw, self.makeRequestErrorHandling(verb=verb, **kw))    
  File "/Users/arashsaidi/.virtualenvs/lbk/lib/python2.7/site-packages/oaipmh/client.py", line 273, in makeRequestErrorHandling
    raise error.XMLSyntaxError(kw)
oaipmh.error.XMLSyntaxError: {'verb': 'ListRecords', 'metadataPrefix': 'oai_dc'}
</code></pre>

<p>I need to get access to all the files on the page I have linked to above plus generate an additional file with some metadata. </p>

<p>Any suggestions?</p>
    </div>
    </div></body></html>