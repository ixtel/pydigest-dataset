<html><body><div><div class="forum-post blog-post">
            

<p>The Republic, Julius Caesar, The Colosseum. Yes, I'm talking about Ancient Rome.
A few days ago I read Conn Iggulden's book about Caesar successor, Octavian
and remembered the CheckiO mission "Roman Numerals". So let's look revisit this numeral system. </p>
<p>Roman numerals come from the ancient Roman numbering system.
They are based on specific letters of the alphabet which are combined to signify the sum 
(or, in some cases, the difference) of their values. The first ten Roman numerals are:</p>
<p><code>I, II, III, IV, V, VI, VII, VIII, IX, X</code></p>
<p>The Roman numeral system is decimal based, but not directly positional and does not include a zero.
Roman numerals are based on combinations of these seven symbols:</p>
<p><img src="http://checkio.s3.amazonaws.com/blog/share/roman-numeral-example.svg" alt="Roman-numerals"/></p>
<h2 id="simple-solution">Simple Solution</h2>
<p>We can single out "elemental" numbers and break the given number at these elements top down.
Here is those "elements" for the roman numerals:</p>
<pre class="grey-pre"><code><span class="hljs-string">"M"</span> <span class="hljs-number">1000</span>, <span class="hljs-string">"CM"</span> <span class="hljs-number">900</span>,
<span class="hljs-string">"D"</span>  <span class="hljs-number">500</span>, <span class="hljs-string">"CD"</span> <span class="hljs-number">400</span>,
<span class="hljs-string">"C"</span>  <span class="hljs-number">100</span>, <span class="hljs-string">"XC"</span>  <span class="hljs-number">90</span>,
<span class="hljs-string">"L"</span>   <span class="hljs-number">50</span>, <span class="hljs-string">"XL"</span>  <span class="hljs-number">40</span>,
<span class="hljs-string">"X"</span>   <span class="hljs-number">10</span>, <span class="hljs-string">"IX"</span>   <span class="hljs-number">9</span>,
<span class="hljs-string">"V"</span>    <span class="hljs-number">5</span>, <span class="hljs-string">"IV"</span>   <span class="hljs-number">4</span>,
<span class="hljs-string">"I"</span>    <span class="hljs-number">1</span>
</code></pre><p>Next we try to subtract these numbers from the given until we can. 
And connect characters from left to right.
The result is our number in roman form.</p>
<pre class="grey-pre"><code><span class="hljs-type">ELEMENTS</span> = ((<span class="hljs-string">"M"</span>, <span class="hljs-number">1000</span>), (<span class="hljs-string">"CM"</span>, <span class="hljs-number">900</span>), (<span class="hljs-string">"D"</span>, <span class="hljs-number">500</span>), (<span class="hljs-string">"CD"</span>, <span class="hljs-number">400</span>),
            (<span class="hljs-string">"C"</span>, <span class="hljs-number">100</span>), (<span class="hljs-string">"XC"</span>, <span class="hljs-number">90</span>), (<span class="hljs-string">"L"</span>, <span class="hljs-number">50</span>), (<span class="hljs-string">"XL"</span>, <span class="hljs-number">40</span>),
            (<span class="hljs-string">"X"</span>, <span class="hljs-number">10</span>), (<span class="hljs-string">"IX"</span>, <span class="hljs-number">9</span>), (<span class="hljs-string">"V"</span>, <span class="hljs-number">5</span>), (<span class="hljs-string">"IV"</span>, <span class="hljs-number">4</span>), (<span class="hljs-string">"I"</span>, <span class="hljs-number">1</span>))


def checkio(number):
    <span class="hljs-literal">result</span> = <span class="hljs-string">""</span>
    <span class="hljs-keyword">for</span> roman, n <span class="hljs-keyword">in</span> <span class="hljs-type">ELEMENTS</span>:
        <span class="hljs-keyword">if</span> n &lt;= number:
            <span class="hljs-literal">result</span> += roman * (number // n)
            number %= n
    <span class="hljs-keyword">return</span> <span class="hljs-literal">result</span>
</code></pre><h2 id="-clear-solutions">"Clear" Solutions</h2>
<p>In the "Clear" category, <a href="http://www.checkio.org/user/JulianNicholls/">@JulianNicholls's</a> <a href="http://www.checkio.org/mission/roman-numerals/publications/JulianNicholls/python-3/first/share/32d77904208759d1fdbda5e915ac5e03/">"First" solution</a>
has earned many player votes and uses simple clear algorithm.</p>
<p>The next is <a href="http://www.checkio.org/mission/roman-numerals/publications/macfreek/python-3/mark-pilgrims-library/share/cf938a8d7047aa73017af3e9286e4e10/">Mark Pilgrim's realisation</a> written by <a href="http://www.checkio.org/user/macfreek/">@macfreek</a>.
This solution is like the previous one but with comments and other "production" features.</p>
<h2 id="-creative-solutions-just-for-fun-">"Creative" solutions (just for fun)</h2>
<p>How about a <a href="http://www.checkio.org/mission/roman-numerals/publications/ciel/python-3/second/share/c5ae14877855e94a941c90320880d179/">veeeery long one-liner</a> from <a href="http://www.checkio.org/user/ciel/">@ciel</a>?</p>
<pre class="grey-pre"><code>checkio=lambda data: [<span class="hljs-link_label">'','M','MM','MMM'</span>][<span class="hljs-link_reference">data//1000</span>]+[<span class="hljs-link_label">'','C','CC','CCC','CD','D','DC','DCC','DCCC','CM'</span>][<span class="hljs-link_reference">data//100%10</span>]+[<span class="hljs-link_label">'','X','XX','XXX','XL','L','LX','LXX','LXXX','XC'</span>][<span class="hljs-link_reference">data//10%10</span>]+[<span class="hljs-link_label">'','I','II','III','IV','V','VI','VII','VIII','IX'</span>][<span class="hljs-link_reference">data%10</span>]
</code></pre><p>Or <a href="http://www.checkio.org/mission/roman-numerals/publications/hrvoje/python-27/recursive-short-weird-but-works/share/32cea072123936826684609a547c07fd/">"Recursive, short, weird but works! :)"</a> by <a href="http://www.checkio.org/user/hrvoje/">@hrvoje</a>.</p>
<pre class="grey-pre"><code><span class="hljs-function">def <span class="hljs-title">checkio</span><span class="hljs-params">(data)</span>:
    s </span>= lambda b,z: <span class="hljs-string">''</span> <span class="hljs-function"><span class="hljs-keyword">if</span> not z <span class="hljs-keyword">else</span> <span class="hljs-title">str</span><span class="hljs-params">(s(b%z[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>], z[<span class="hljs-number">1</span>:])</span>) + <span class="hljs-params">(b//z[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>])</span>*z[0][1]    
    <span class="hljs-keyword">return</span> <span class="hljs-title">s</span><span class="hljs-params">(data, [(<span class="hljs-number">1000</span>, <span class="hljs-string">'M'</span>)</span>, <span class="hljs-params">(<span class="hljs-number">900</span>, <span class="hljs-string">'MC'</span>)</span>, <span class="hljs-params">(<span class="hljs-number">500</span>, <span class="hljs-string">'D'</span>)</span>, <span class="hljs-params">(<span class="hljs-number">400</span>, <span class="hljs-string">'DC'</span>)</span>, <span class="hljs-params">(<span class="hljs-number">100</span>, <span class="hljs-string">'C'</span>)</span>, <span class="hljs-params">(<span class="hljs-number">90</span>, <span class="hljs-string">'CX'</span>)</span>, <span class="hljs-params">(<span class="hljs-number">50</span>, <span class="hljs-string">'L'</span>)</span>, <span class="hljs-params">(<span class="hljs-number">40</span>, <span class="hljs-string">'LX'</span>)</span>, <span class="hljs-params">(<span class="hljs-number">10</span>, <span class="hljs-string">'X'</span>)</span>, <span class="hljs-params">(<span class="hljs-number">9</span>, <span class="hljs-string">'XI'</span>)</span>, <span class="hljs-params">(<span class="hljs-number">5</span>, <span class="hljs-string">'V'</span>)</span>, <span class="hljs-params">(<span class="hljs-number">4</span>, <span class="hljs-string">'VI'</span>)</span>, <span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-string">'I'</span>)</span>])[::-1]</span>
</code></pre><p>Or even the <a href="http://www.checkio.org/mission/roman-numerals/publications/veky/python-27/dict-ftw/share/751f02120f45aa26f2a5628ca3d4bd70/">puzzler "dict FTW"</a> from <a href="http://www.checkio.org/user/veky/">@veky</a> instead of a weekend crossword for you.</p>
<pre class="grey-pre"><code><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">checkio</span><span class="hljs-params">(x)</span>:</span>
    a,r=<span class="hljs-string">""</span>,{}
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">3</span>):
        p,(j,c,d)=<span class="hljs-number">10</span>**i,<span class="hljs-string">"IVXLCDM"</span>[<span class="hljs-number">2</span>*i:][:<span class="hljs-number">3</span>]
        r.update({p:j,<span class="hljs-number">5</span>*p:c,<span class="hljs-number">4</span>*p:j+c,<span class="hljs-number">9</span>*p:j+d,<span class="hljs-number">10</span>*p:d})
    <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> reversed(sorted(r)):
        a+=x//k*r[k]
        x%=k
    <span class="hljs-keyword">return</span> a
</code></pre><p>That's all folks. Maybe you would like to review some CiO mission? </p>
<p><em>Valentin Bryukhanov aka Bryukh</em></p>
        </div>
        </div></body></html>