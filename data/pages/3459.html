<html><body><div><p class="lead" itemprop="description">Консольная утилита django-dev для тех, кто разрабатывает/поддерживает больше одного приложения для Django.</p>
                <div class="py_user"><p>Сегодня накидал </p><a href="https://pypi.python.org/pypi/django-dev/" target="_blank">django-dev</a><p> — консольную утилиту, которая может применять некие команды сразу ко всем вашим приложениям.</p><p>Например, сейчас оно может помочь в обновлении файлов локализации, а также в создании миграций для South и Django 1.7 одновременно.</p><p>Можно устанавливать и пробовать пользоваться. По ощущениям работает и на Python 2.7+, и на Python 3.2+. Для работы потребуется пакет </p><code>virtualenv</code><p> или просто Питон 3.3+.</p><b>Как начать пользоваться</b><p>1. Создайте новую директорию, где будет располагаться ваше рабочее место и переместитесь в неё;</p><p>2. Выполните </p><code>&gt; django-dev bootstrap</code><p>, чтобы создать нужные для работы утилиты файлы и директории.</p><p>3. Создайте символические ссылки с директорий ваших  приложений в поддиректорию </p><i>apps</i><p> (она создалась в текущей директории в ходе шага 2).</p><p>Например:</p><code>ln -s /home/idle/dev/django-sitetree/sitetree /home/idle/dev/dj_workspace/apps/sitetree</code><p>Обратите внимание, что ссылки создаём с директорий, содержащих </p><i>models</i><p>.py, но не </p><i>setup</i><p>.py.</p><b>Создаём миграции для South и Django 1</b><p>.</p><b>7+ одновременно</b><p>С выходом Django 1.7 отпала необходимость в приложении </p><i>South</i><p>  — функциональность в переработанном виде переместилась прямо в каркас. По задумке авторов это должно было облегчить жизнь пользователям приложений, но пока видно только, что оно усложнило жизнь их разработчикам: для сохранения совместимости с предыдущими версиями Django вам придётся поддерживать два вида миграций одновременно.</p><p>Облегчаем себе жизнь при помощи команды </p><code>add_migrations</code><p>.</p><p>1. Для начала адаптируем старое приложение, использующее South: переносим старые миграции в </p><i>south_migrations</i><p> и создаём новые в </p><i>migrations</i><p>:</p><code>&gt; django-dev add_migrations --relocate_south</code><p>После этого не забудьте зафиксировать эти изменения в вашей системе управления версиями, а также в документации к приложениям попросить пользователей перейти на South 1.0+ (эта версия знает, что нужно искать в </p><i>south_migrations</i><p>).</p><p>2. А далее, после внесений изменений в модели, по мере необходимости можно запускать автоматическое создание миграций обоих типов одновременно:</p><code>&gt; django-dev add_migrations</code><p>3. Можно задать фильтр нужных приложений:</p><code>&gt; django-dev add_migrations --apps sitecats siteflags</code><b>Обновляем файлы переводов</b><p>Чтобы удобно создавать/обновлять файлы локализаций (.mo и .po), используйте команду </p><code>make_trans</code><p>.</p><p>1. Обновляем все уже имеющиеся в приложениях файлы локализаций:</p><code>&gt; django-dev make_trans</code><p>2. Обновляем/создаём файлы локализаций для указанных локалей:</p><code>&gt; django-dev make_trans ru en</code><p>3. Обновляем/создаём файлы локализаций для указанных локалей и приложений:</p><code>&gt; django-dev make_trans ru --apps sitetree sitegate</code><p>Пока всё.</p><p>Пользуйте, экономьте время.</p></div>

                

                

                </div></body></html>