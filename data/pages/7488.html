<html><body><div><div id="content">

            

            
        


            <div class="section">
              <h1>pytest-logbook 1.2.0</h1>

              


<p>py.test plugin to capture logbook log messages</p>








<p>Capture and show logbook logging output during test runs.</p>
<p>This <a href="http://pytest.org" rel="nofollow">pytest</a> plugin provides will capture log messages emitted by
logbook and display them in their own section in the test report if
the test fails.  Additionally it provides a fixture which provides
easy access to the log records emitted during the test which allows
making assertions on emitted log message.  The plugin also sets up
logging redirection from the stdlib to go via logbook so any
libraries which use stdlib logging will also be captured.</p>
<div id="installation">
<h2>Installation</h2>
<p>Install using pip:</p>
<pre>pip install pytest-logbook
</pre>
</div>
<div id="log-capturing">
<h2>Log Capturing</h2>
<p>Log capturing happens automatically once installed, including stdlib
logging redirection:</p>
<pre>def test_foo():
    logbook.info('hello')
    logging.info('world')
    assert 0
</pre>
<pre>$ py.test test_foo.py
=========================== test session starts ============================
platform linux -- Python 3.4.3, pytest-2.8.2, py-1.4.30, pluggy-0.3.1
rootdir: /home/flub/Abilisoft/repos/pytest-logbook, inifile:
plugins: logbook-0.1.0
collected 1 items

test_foo.py F

================================= FAILURES =================================
_________________________________ test_foo _________________________________

    def test_foo():
        logbook.info('hello')
        logging.info('world')
&gt;       assert 0
E       assert 0

test_foo.py:7: AssertionError
--------------------------- Logbook call records ---------------------------
[INFO] Generic: hello
[INFO] root: world
========================= 1 failed in 0.01 seconds =========================
</pre>
<p>Logs messages emitted during test setup and teardown are also captured
individually.  If setup fails you will see them in a “Logbook setup
records” section and if teardown fails you will see the teardown log
messages in a “Logbook teardown records” section.</p>
</div>
<div id="fixtures">
<h2>Fixtures</h2>
<p>Several fixtures are provided to access the captured log records.</p>
<dl>
<dt>loghandler</dt>
<dd>Access the <tt>logbook.TestHandler</tt> instance active during the test
run.  You can use it to inspect the emitted log records, see the
<a href="http://pythonhosted.org//Logbook/api/handlers.html#logbook.TestHandler" rel="nofollow">full documentation</a> for details on how to use this object.  Only
log records emitted during the actual test are recorded here,
records emitted during test setup or teardown are recorded in the
other fixtures.</dd>
</dl>
<dl>
<dt>loghandler_setup</dt>
<dd>Access the <tt>logbook.TestHandler</tt> instance active during the test
setup.</dd>
<dt>loghandler_teardown</dt>
<dd>Access the <tt>logbook.TestHandler</tt> instance active during the test
teardown.</dd>
</dl>
</div>
<div id="configuration">
<h2>Configuration</h2>
<p>The plugin can be configured using options in the <a href="http://pytest.org/latest/customize.html#initialization-determining-rootdir-and-inifile" rel="nofollow">py.test
configuration file</a> in the standard <tt>[pytest]</tt> section.</p>
<dl>
<dt>logbook_stdlib</dt>
<dd>This configures whether the stdlib logging is redirected to
logbook.  Set it to either <tt>true</tt> (default) or <tt>false</tt>.</dd>
</dl>
</div>
<div id="changelog">
<h2>Changelog</h2>
<div id="id1">
<h3>1.2.0</h3>
<ul>
<li>Refactor internal workings to improve behaviour during keyboard
interrupt and internal py.test errors.  As a minor regression and to
keep things simple log records are now only captured during test
setup, call or teardown phases and are not captured during conftest
loading or test collection.  This is not an inherent limitation,
only avoiding unneeded features.</li>
<li>Fix using fixture in a test method rather then just a test function.</li>
</ul>
</div>
<div id="id2">
<h3>1.1.0</h3>
<ul>
<li>Do not fail if the application corrupts the Logbook stack.</li>
</ul>
</div>
<div id="id3">
<h3>1.0.3</h3>
<ul>
<li>Require Logbook 0.11.3 to get the <tt>logging.compat</tt> module
accessible.</li>
</ul>
</div>
<div id="id4">
<h3>1.0.2</h3>
<ul>
<li>Include <tt>LICENSE</tt>.</li>
<li>Add <tt>MANIFEST.in</tt> in ship LICENSE, tox.ini and test module.</li>
<li>Start keeping a changelog.</li>
<li>Fix dependency to require py.test &gt;= 2.8 due to how hooks are
implemented.</li>
</ul>
</div>
<div id="id5">
<h3>1.0.1</h3>
<ul>
<li>Do not build universal wheel.  Only tested/supported on python3.</li>
</ul>
</div>

</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>52</span> downloads in the last week
  </li>
  <li>
    <span>641</span> downloads in the last month
  </li>
</ul>









            </div>


          </div>
          </div></body></html>