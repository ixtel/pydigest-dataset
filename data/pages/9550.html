<html><body><div><div id="pyramid-dogpile-cache2">
<h2>pyramid_dogpile_cache2</h2>
<a href="https://travis-ci.org/ZeitOnline/pyramid_dogpile_cache2" rel="nofollow"><img src="https://travis-ci.org/ZeitOnline/pyramid_dogpile_cache2.png"/></a>
<p>Small <a href="https://pypi.python.org/pypi/dogpile.cache" rel="nofollow">dogpile.cache</a> configuration and access package. It is inspired by
<a href="https://pypi.python.org/pypi/pyramid_dogpile_cache" rel="nofollow">pyramid_dogpile_cache</a>, which we found unusable since it insists on
configuring the cache regions in its <tt>get_region()</tt> API – but if you want to
use the <tt>@cache_on_arguments</tt> decorator, that is at <strong>import time</strong>, where no
configuration exists yet. Our package wants to perform the configuration during
the WSGI application setup instead.</p>
<p>This package is compatible with Python version 2.7 and 3.4.</p>
<div id="usage">
<h3>Usage</h3>
<p>The package offers only one API function; it returns a dogpile.cache
<tt>CacheRegion</tt>:</p>
<pre>from pyramid_dogpile_cache import get_region
region = get_region('foo')
</pre>
<p>As said above, this is safe to call at import time, so you can go on like this:</p>
<pre>@region.cache_on_arguments()
def expensive_function(one, two, three):
    # compute stuff
</pre>
</div>
<div id="setup-pyramid">
<h3>Setup / Pyramid</h3>
<p>Include the package, either in code:</p>
<pre>config = Configurator(...)
config.include('pyramid_dogpile_cache2')
</pre>
<p>or in the ini file:</p>
<pre>pyramid.includes = pyramid_dogpile_cache2
</pre>
</div>
<div id="setup-paste">
<h3>Setup / Paste</h3>
<p>For non-Pyramid WSGI applications that use a paste.ini file, you need to call:</p>
<pre>def my_paste_app_factory(global_conf, **local_conf):
    pyramid_dogpile_cache2.configure_dogpile_cache(local_conf)
    return my_wsgi_callable
</pre>
</div>
<div id="settings">
<h3>Settings</h3>
<p>The settings support of pyramid_dogpile_cache unfortunately is quite incomplete
(e.g. it does not even convert <tt>expiration_time</tt> to <tt>int</tt>). The support of
this packages is a little better, but still very much incomplete: we support
the in-memory and memcached backends (pylibmc to be precise), and only the same
backend and configuration for all cache regions.</p>
<p>The following settings are supported:</p>
<p><tt>dogpile_cache.regions</tt></p>
<blockquote>
A list of region names that should be configured (separated by either
spaces or commas).</blockquote>
<p><tt>dogpile_cache.backend</tt></p>
<blockquote>
The default backend for cache regions (e.g. <tt>'dogpile.cache.memory'</tt>,
<tt>dogpile.cache.pylibmc</tt>, etc.).</blockquote>
<p><tt>dogpile_cache.REGION.backend</tt></p>
<blockquote>
Backend for the given region.</blockquote>
<p><tt>dogpile_cache.expiration_time</tt></p>
<blockquote>
The default expiration time. Can be overridden for individual regions (in
seconds).</blockquote>
<p><tt>dogpile_cache.REGION.expiration_time</tt></p>
<blockquote>
The expiration time for the given cache region (in seconds).</blockquote>
<p><tt>dogpile_cache.arguments.*</tt></p>
<blockquote>
Defaults for backend arguments. Can be overridden for individual regions.</blockquote>
<p><tt>dogpile_cache.REGION.arguments.*</tt></p>
<blockquote>
Backend arguments for the given cache region.</blockquote>
<p>Backend arguments work only for strings, thus we support some custom treatment:</p>
<p><tt>dogpile_cache.pylibmc_url</tt></p>
<blockquote>
A list of memcached servers, separated by <tt>;</tt>.</blockquote>
<p><tt>dogpile_cache.pylibmc_behavior.*</tt></p>
<blockquote>
Set <a href="http://sendapatch.se/projects/pylibmc/behaviors.html" rel="nofollow">pylibmc behaviours</a>, see <a href="https://github.com/bbangert/beaker/blob/master/beaker/util.py#L343" rel="nofollow">coerce_memached_behaviors</a> for which
subkeys are supported.</blockquote>
<p>Note: As opposed to pyramid_dogpile_cache we don’t support overriding the
key_generator or key_mangler functions yet; we preconfigure them with enhanced
versions of dogpile.cache that support non-ascii function arguments and
generating cache keys for methods that include the class name.</p>
</div>
</div>
</div></body></html>