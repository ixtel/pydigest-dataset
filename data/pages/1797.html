<html><body><div><div class="entry-content">
					<p>Thanks to recent addition of Python to the Topcoder python is the first language besides C++, Java and C# available on all major programming competitions (I did’t count ACM, because I can’t compete in it after finishing university).<br/>
I’m going to write about my perspective on using Python in programming contests.<br/>
Some of the points are targeted at people who didn’t use python at all yet, so for people knowing python they may sound basic.<br/>
<a href="http://vexorian.blogspot.com/2013/08/regarding-c-vs-python-in-algorithm.html">Vexorian already had written a good piece about python in programming contests</a>.<br/>
I am going to extend some arguments, disagree with some and provide some new ones. I’ll start with the things I like and end on the things I don’t like.</p>
<h2>Better standard library and shorter code</h2>
<p>Python have Bigints and Regexps support, so I no longer have to drop to java if I need these.<br/>
There are a lot of little handy utilities in python that are not available in C++ that make code much more easy to read and write. There have been written much on this subject elsewhere, so I am not going to dive into details.</p>
<h2>Speed and memory</h2>
<p>This is the biggest problem with python in Topcoder.<br/>
<a href="http://apps.topcoder.com/forums/?module=Thread&amp;threadID=804768&amp;start=0&amp;mc=5#180850">Some problems are really hard to fit into time limit using python</a> .<br/>
<a href="http://apps.topcoder.com/forums/?module=Thread&amp;threadID=806728&amp;start=0&amp;mc=3#1822653">Some problems are almost impossible</a> .<br/>
My rule of thumb is that I shouldn’t try to do Topcoder problem that require &gt;10^6 operations in python.<br/>
After doing some practice problems in python I would say that around 3/4 problems can be solved in python.</p>
<p>The root of the problem is not python itself, but topcoder rules, which does not allow to use Numpy or Cython. <a href="http://apps.topcoder.com/forums/?module=Thread&amp;threadID=806728&amp;start=0&amp;mc=3#1822653">I personally think that topcoder should allow Cython</a>. Cython is alternative way of running python programs, which instead of interpreting them translates python code to C. What’s more it allows you to add optional type information to Python code, what allows Cython to use this information to speed things up. With numpy and cython it’s possible to bring majority of programs to “orders of magnitude” of C++ speed.<br/>
You can use Cython in many popular contests such as Code Jam or IPSC.</p>
<p>What’s more, some programs take surprisingly a lot of memory in python. I ended up converting some practice problems from list of tuples to list of lists and get program accepted. As a rule of thumb, if I would see that I need to allocate at least 4mb in Top Coder problem I would go with C++ or Java.</p>
<p>Anyway, in any case you should read <a href="https://wiki.python.org/moin/PythonSpeed/PerformanceTips">python docs entry about performance</a> .</p>
<h2>Better support for functional programming</h2>
<p>Out of the Topcoder languages python currently have the best support for functional programming.<br/>
Although C++ got lambdas in C++11 the standard library didn’t catch up yet.<br/>
For example filter or map function in C++ are awkward.<br/>
Instead of taking a sequence and returning a sequence, as python is doing it, they are operating on iterators, what causes that one can’t easily chain function calls.<br/>
As example of what I mean:<br/>
Python:</p>
<pre>map(lambda x: x*2, filter(lambda x: x%2==0, x))
</pre>
<p>C++11 (normally I would just write this functionality with just for loops):</p>
<pre>vector  filtered;
copy_if(begin(v), end(v), back_inserter(filtered), [](int x) { return x % 2 == 0;});
vector  transformed;
transform(begin(filtered), end(filtered), back_inserter(transformed), [](int x) { return x * 2;});
</pre>
<p><a href="http://www.boost.org/doc/libs/1_55_0/libs/range/doc/html/index.html">There is handy Boost library that packs two iterators into an object, but sadly boost is not supported on Topcoder</a></p>
<h2>Topcoder is good place to learn python</h2>
<p>I prefer learning new languages by real work instead of reading tutorials.<br/>
By doing Topcoder problems in python you will be able to look at how other people approached the problem, what can be a good learning experience.<br/>
What’s more, because of tight memory and time limits on the Topcoder you will learn how to write well optimised python code.</p>
<h2>Better debugging experience</h2>
<p>There is one thing I love about debugging python – ability to breakpoint at some place of my program and play with current state of my program using real python code.<br/>
Although I have seen some tools that claim to offer similar functionality for C++ I never seen one work good enough to be usable.<br/>
When I go back to C++ from python I see that finding bugs take me longer than python, even if I had much more experience in debugging contest problems in C++.</p>
<h2>Applicable to more problems</h2>
<p>Since python is more general purpose language it can be used in wider range of contests.<br/>
It can be used to solve some sound/image analysis problems from contests like challenge24.<br/>
It can be used to solve hacking (networking etc.) problems from CTF contests.<br/>
It’s also useful for machine learning at contests like Kaggle.</p>
<h2/>
<h2>Lack of static typing</h2>
<p>Besides the speed issues I don’t think the lack of static typing is big problem for small programs, such as ones you find in programming competitions.<br/>
When writing Topcoder problems in C++ I usually have one big writing session and then one big debugging/testing session.<br/>
<a href="https://www.youtube.com/watch?v=TjZ96swl6gM">After watching some screencats this is what Petr tends to do. </a> ( he usually just writes correct code anyway without debugging session ).<br/>
If you don’t use IDE you will find about type problems in python at about the same point as you would when writing C++.<br/>
What’s more, I started using PyCharm and it finds all syntax errors and it infers some obvious types. It sometimes finds basic typing errors or it finds out when I am using unused variable. What’s more you can tell PyCharm to collect type information when you run python program and you can use this information for code completion later.<br/>
It’s funny, because I have more “Staticish” experience in Python with PyCharm than I used to have in C++ with Vim and Emacs.</p>
<h2>Recursion limit</h2>
<p>There is default recursion limit in python of 2500 . You can change it with sys.setrecursionlimit(n) .<br/>
Problem here is that python uses much more memory per function call than C++ , so even with setrecursionlimit it’s quite limited.<br/>
Testng on topcoder following snippet gives segmentation fault at MAX_REC = 27000, but works for 26000.</p>
<pre>MAX_REC = 26000
sys.setrecursionlimit(MAX_REC+10)
def recursion(n):
    if n &lt; 0:
        return n
    return recursion(n-1)
return recursion(MAX_REC)
</pre>
<p>If you use Cython, you can make C functions using cdef, so it’s again problem with topcoder only.</p>
<h2>Multi-dimensional arrays</h2>
<p>This is again problem only in topcoder. As Vexorian said in his blog post:<br/>
What in c++ looks like :</p>
<pre>  int dp[w][h][t][n][2][3];    // Just a typical day in topcoder land
  memset(dp, 0, sizeof(dp));
  dp[x][y][f][p][1][0] = 6;
</pre>
<p>In python it looks like:</p>
<pre>  dp = [[[[[ [0]*3 for i in xrange(2) ] for j in xrange(n)] for k in xrange(t)] for a in xrange(h)] for b in xrange(w)]
  dp[x][y][f][p][1][0] = 6
</pre>
<p>However, in numpy it looks like:</p>
<pre>dp = numpy.zeros([w,h,t,n,2,3])
dp[x][y][f][p][1][0] = 6;
</pre>
<p>What’s more, numpy have many utility features that could make your programs easier to read and write in Python than in C++. Sadly, numpy is not allowed on topcoder <span class="wp-smiley wp-emoji wp-emoji-sad" title=":(">:(</span>.</p>
<h2>Lack of BST trees</h2>
<p>There are only hash tables in python.<br/>
There is no standard library implementation of BST tree.<br/>
There are some problems, when you need a BST tree, for example when you need to add/remove elements and ask for lower bounds at any point.<br/>
Theoretically you could implement one in python and paste the code as you need it.<br/>
Sadly it would be pretty inefficient.<br/>
A lot of python built in structures like hash tables are implemented in C underneath, what causes any data structure implemented on python side to look very inefficient comparing to standard library implementations.</p>
<h2>Python code during programming competitions resembles “real world” better</h2>
<p>Common complaint about programming contests is that people write throwaway C++ code, while outside of programming competitions C++ is used to write highly polished things in highly constrained environments.<br/>
During programming competition you are writing C++ in “write and forget” mode, while majority of “real world” C++ is written in “built to last” mode.<br/>
On the other hand python is used much more for prototyping and scripting, so it is more frequent to write python in “write and forget” mode, so experience from programming competitions to spew code fast is going to be more applicable.</p>
<h2>Conclusion</h2>
<p>I like python a lot.<br/>
It is one of the languages every programmer should know and out of the mainstream languages it is my favorite.<br/>
I would like to write all algorithmic problems in python instead of C++.<br/>
Sadly, due to tight limits on Topcoder and Codeforces when I suspect python might be too slow I am still using C++.<br/>
On google code jam, Facebook hacker cup, IPSC or challenge24 you can use Numpy and Cython, so all problems are solvable in python.<br/>
If you look for place to practice your NumPy and Cython skills Kaggle (machine learning) or Project Euler seems like a good option.</p>
		<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" id="like-post-wrapper-60014941-174-56d5a0b278454" data-src="//widgets.wp.com/likes/#blog_id=60014941&amp;post_id=174&amp;origin=kozikow.wordpress.com&amp;obj_id=60014941-174-56d5a0b278454" data-name="like-post-frame-60014941-174-56d5a0b278454"><h3 class="sd-title">Like this:</h3><p class="likes-widget-placeholder post-likes-widget-placeholder"><span class="button"><span>Like</span></span> <span class="loading">Loading...</span></p><span class="sd-text-color"/><a class="sd-link-color"/></div></div>									</div>
			
			</div></body></html>