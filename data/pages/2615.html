<html><body><div><section id="content" class="article content"><header><h2 class="entry-title"> Python Twitter tutorial - 5 steps to tweet a message from python script </h2><p class="text-muted">31 December 2014</p></header><div class="entry-content"><p>In this tutorial, you will learn how to send tweets using Python. I will try to keep it as simple as possible. UPDATE: I wrote a similar <a href="http://nodotcom.org/python-facebook-tutorial.html">Python tutorial for Facebook</a>.</p><h2>Step 1</h2><ul><li>You must add your mobile phone to your Twitter profile before creating an application. </li><li>Go to: <code>Settings</code> -&gt; <a href="https://twitter.com/settings/add_phone"><code>Add Phone</code></a> -&gt; <code>Add number</code> -&gt; <code>Confirm</code> -&gt; <code>Save</code>. </li><li>Do not forget to turn off all text notifications.</li></ul><h2>Step 2</h2><ul><li>Set up a new app </li><li>Go to: <a href="https://apps.twitter.com/"><code>Twitter Apps</code></a> -&gt; <code>Create New App</code> -&gt; <code>Leave Callback URL empty</code> -&gt; <code>Create your Twitter application</code>. </li><li>You should see "Your application has been created. Please take a moment to review and adjust your application's settings".</li></ul><h2>Step 3</h2><ul><li>By default, app's access level is <code>read-only</code>. To send out tweets, it requires <code>write</code> permission.</li><li>Go to: <code>Permissions tab</code> -&gt; <code>What type of access does your application need?</code> -&gt; Choose <code>Read and Write</code> -&gt; <code>Update settings</code>.</li><li>You should see "The permission settings have been successfully updated. It may take a moment for the changes to reflect."</li></ul><h2>Step 4</h2><ul><li>Time to get the keys and access tokens for <a href="http://oauth.net/">OAuth</a>. </li><li>Go to: <code>Keys and Access Tokens tab</code> . You'll see this under "Your Access Token" : You haven't authorized this application for your own account yet. By creating your access token here, you will have everything you need to make API calls right away. The access token generated will be assigned your application's current permission level. </li><li>Click <code>Create my access token</code></li><li>You should see "Your application access token has been successfully generated. It may take a moment for changes you've made to reflect. Refresh if your changes are not yet indicated. This access token can be used to make API requests on your own account's behalf. Do not share your access token secret with anyone."</li><li>Verify that you see access token/secret - and the permission is set to "read and write".</li><li>From this page, note down the <code>Access Token</code>, <code>Access Token Secret</code>, <code>Consumer Key (API Key)</code>, <code>Consumer Secret (API Secret)</code>. Consumer Key/Secret help twitter identify the app and Access Token/Secret help twitter identify the user (that is you).</li></ul><h2>Step 5</h2><ul><li>We will use <a href="http://docs.tweepy.org/en/latest/api.html">tweepy</a> to access Twitter's API. You can install it using pip: <code>pip install tweepy</code> (try to setup a virtualenv for this - they are very useful). </li></ul><p>Finally, this simple python script sends out a tweet:</p><div class="highlight"><pre><span class="kn">import</span> <span class="nn">tweepy</span>

<span class="k">def</span> <span class="nf">get_api</span><span class="p">(</span><span class="n">cfg</span><span class="p">):</span>
  <span class="n">auth</span> <span class="o">=</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">OAuthHandler</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="s">'consumer_key'</span><span class="p">],</span> <span class="n">cfg</span><span class="p">[</span><span class="s">'consumer_secret'</span><span class="p">])</span>
  <span class="n">auth</span><span class="o">.</span><span class="n">set_access_token</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="s">'access_token'</span><span class="p">],</span> <span class="n">cfg</span><span class="p">[</span><span class="s">'access_token_secret'</span><span class="p">])</span>
  <span class="k">return</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">API</span><span class="p">(</span><span class="n">auth</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
  <span class="c"># Fill in the values noted in previous step here</span>
  <span class="n">cfg</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">"consumer_key"</span>        <span class="p">:</span> <span class="s">"VALUE"</span><span class="p">,</span>
    <span class="s">"consumer_secret"</span>     <span class="p">:</span> <span class="s">"VALUE"</span><span class="p">,</span>
    <span class="s">"access_token"</span>        <span class="p">:</span> <span class="s">"VALUE"</span><span class="p">,</span>
    <span class="s">"access_token_secret"</span> <span class="p">:</span> <span class="s">"VALUE"</span> 
    <span class="p">}</span>

  <span class="n">api</span> <span class="o">=</span> <span class="n">get_api</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
  <span class="n">tweet</span> <span class="o">=</span> <span class="s">"Hello, world!"</span>
  <span class="n">status</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">update_status</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="n">tweet</span><span class="p">)</span> 
  <span class="c"># Yes, tweet is called 'status' rather confusing</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
  <span class="n">main</span><span class="p">()</span>
</pre></div><p>Good next step: <a href="https://blog.twitter.com/2014/getting-started-with-automation-on-twitter">Getting started with automation on Twitter</a></p></div><footer class="post-info text-muted"><button type="button" class="btn btn-default"><a href="http://nodotcom.org/category/tutorial.html"><p class="fa fa-lg fa-folder-open"/> tutorial</a></button><button type="button" class="btn btn-default"><a href="http://nodotcom.org/tag/python.html"><p class="fa fa-lg fa-tag"/> python</a></button><button type="button" class="btn btn-default"><a href="http://nodotcom.org/tag/twitter.html"><p class="fa fa-lg fa-tag"/> twitter</a></button></footer><p id="disqus_thread"/><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></section></div></body></html>