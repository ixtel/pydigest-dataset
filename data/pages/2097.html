<html><body><div><div class="post-body entry-content">
<p/><p>By </p><a href="http://www.dancingbison.com">Vasudev Ram</a><p/><p>I saw this interesting thread on Hacker News some 10-odd days ago:

</p><a href="https://news.ycombinator.com/item?id=8574184">HN: Rust and Go</a>
<p>
Apart from being generally of interest, it had </p><a href="https://news.ycombinator.com/item?id=8575589">a sub-thread</a><p> that was about finding if </p><b>a given string is an anagram of a palindrome</b><p>. A few people replied in the thread, giving solutions in different languages, such as </p><b>Scala</b><p>, </p><b>JavaScript</b><p>, </p><b>Go</b><p> and </p><b>Python</b><p>.
</p><a href=""/><p>
Some of the Python solutions were already optimized to some extent (e.g. using </p><b>collections.Counter</b><p> and </p><b>functools.partial</b><p> - it was a thread about the merits of programming languages, after all), so I decided to write one or two simple or naive solutions instead, and then see if those could be optimized some, maybe differently from the solutions in the HN thread.
</p><p>
Here is one such simple solution to the problem, of finding out if a string is an anagram of a palindrome.  I've named it </p><b>iaop_01.py</b><p> (for Is Anagram Of Palindrome, version 01). The solution includes a </p><b>scramble</b><p>() function, to make an anagram of a palindrome, so that we have input for the test, and a main function to run the rest of the code to exercise things, for both the case when the string is an anagram of a palindrome, and when it is not.
</p><p>
The logic I've used is this (in </p><b>pseudocode</b><p>, even though </p><a href="https://www.google.com/search?q=python%20is%20executable%20pseudocode">Python is executable pseudocode</a><p>, ha ha):
</p><hr/><pre>For each character c in the string s:
        If c already occurs as a key in dict char_counts,
        increment its count (the value corresponding to the key),
        else set its count to 1.
    After the loop, the char_counts dict will contain the counts 
    of all the characters in the string, keyed by character.
    Then we check how many of those counts are odd.
    If at most one count is odd, the string is an anagram of 
    a palindrome, else not.
</pre><hr/><a href=""/><p>
And here is </p><b>the Python code</b><p> for iaop_01.py:
</p><hr/><pre>"""
Program to find out whether a string is an anagram of a palindrome.
Based on the question posed in this Hacker News thread:
    https://news.ycombinator.com/item?id=8575589
"""

from random import shuffle

def anagram_of_palindrome(s):
    char_counts = {}
    for c in s:
        char_counts[c] = char_counts.get(c, 0) + 1
    odd_counts = 0
    for v in char_counts.values():
        if v % 2 == 1:
            odd_counts += 1
    return odd_counts 
And here is the output of running it:
<hr/><pre>$ python iaop_01.py
a is an anagram of palindrome (a): True
bb is an anagram of palindrome (bb): True
ccd is an anagram of palindrome (cdc): True
ffoo is an anagram of palindrome (foof): True
daadmamimma is an anagram of palindrome (madamimadam): True
srewaeaawbeilebials is an anagram of palindrome (ablewasiereisawelba): True

ba is an anagram of a palindrome: False
bc is an anagram of a palindrome: False
dec is an anagram of a palindrome: False
loof is an anagram of a palindrome: False
ampdaaiammd is an anagram of a palindrome: False
</pre><hr/>One simple optimization that can be made is to add these two lines:
<hr/><pre>if odd_counts &gt; 1:
    return False
</pre><hr/>just after the line "<b>odd_count += 1</b>".
What that does is stop early if it finds that the number of characters with odd counts is greater than 1, even if there are many more counts to be checked, since our rule has been satisfied.
<p/>If I think up more optimizations to the above solution, or any alternative solutions, I'll show them in a future post.

<b>Update</b>: Since it is on a related topic, you may also like to check out this other post I wrote a while ago:

<a href="http://jugad2.blogspot.in/2014/02/a-simple-text-file-indexing-program-in.html">A simple text file indexing program in Python</a>.

<p/>BTW, the two longer palindromes are lower-cased, scrunched-together versions of these well-known palindromes:<p/><b>Madam, I'm Adam.</b><p/><b>Able was I ere I saw Elba</b><p/>(attributed to <a href="http://en.wikipedia.org/wiki/Napoleon">Napoleon</a>).<p/><p/>- <a href="http://jugad2.blogspot.in/2013/03/dancing-bison-enterprises-profile.html">Vasudev Ram - Dancing Bison Enterprises</a><p/><p/><p/><b><a href="mailto:vasudevram@gmail.com?subject=Email%20me%20about%20your%20new%20products%20and%20services">Signup for news about products from me.</a></b> <p/><p/><a href="http://www.dancingbison.com/contact.html">Contact Page</a>

   
<p/>
</pre></div>
</div></body></html>