<html><body><div><article class="markdown-body entry-content" itemprop="text"><p><a href="https://travis-ci.org/davide-ceretti/strategypy"><img src="https://camo.githubusercontent.com/86748a41ea76c3dfac569e99ba2a41a64743bd1a/68747470733a2f2f6170692e7472617669732d63692e6f72672f6461766964652d636572657474692f737472617465677970792e7376673f6272616e63683d6d6173746572" alt="Alt text" data-canonical-src="https://api.travis-ci.org/davide-ceretti/strategypy.svg?branch=master"/></a></p>

<h2><a id="user-content-strategypy" class="anchor" href="#strategypy" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>strategypy</h2>

<p>A simple strategy game played by Python bots.</p>

<p>The project is still in development, but if you checkout everything and follow this README it is supposed to work just fine.</p>

<p>Pull requests are welcomed, expecially if you want to submit your own bot. Bear in mind the the BaseBot API is not final yet and it might change quite often.</p>

<h2><a id="user-content-game-rules" class="anchor" href="#game-rules" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Game rules</h2>

<p>Each player controls a set amount of cells in a grid. The behaviour of these cells is defined by a Bot that implements a specific interface; each cell of the player is represented by an instance of the Bot class.</p>

<p>The game ends when only one player has still cells alive in the grid.
A cell is killed if in the 9-cells subgrid centered on itself the number of the cells belonging to enemy players is more then the cells belonging to the owner of the cell.</p>

<p>Have a look at settings.py if you want to change some of the game basic settings.</p>

<h2><a id="user-content-demo" class="anchor" href="#demo" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Demo</h2>

<p>Javascript Frontend: <a href="http://benqus.github.io/strategypy-ui/">http://benqus.github.io/strategypy-ui/</a></p>

<h2><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h2>

<p>System dependencies: python2.7 or python3.4</p>

<ul>
<li><code>git clone https://github.com/davide-ceretti/strategypy.git</code></li>
<li><code>pip install -e .</code></li>
</ul>

<p><strong>NOTE</strong>: You should be able to install strategypy directly from pypi via <code>pip install strategypy</code>, but it's not fully supported.</p>

<h2><a id="user-content-quickstart" class="anchor" href="#quickstart" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Quickstart</h2>

<p>To run an example game (output is json):</p>



<p>To run a game with simple console-based front-end:</p>



<p>To run a game with a PyGame front-end (Requires <a href="https://github.com/davide-ceretti/strategypy-pygame-client">https://github.com/davide-ceretti/strategypy-pygame-client</a> and its dependencies):</p>



<p>To run a game with a Javascript front-end on Firefox (Requires <a href="https://github.com/benqus/strategypy-ui">https://github.com/benqus/strategypy-ui</a>, its dependencies and Firefox to be installed):</p>



<p>To run a game with a console front-end (Requires <a href="https://github.com/mrfuxi/strategypy-consoleui">https://github.com/mrfuxi/strategypy-consoleui</a>):</p>



<h2><a id="user-content-general-usage" class="anchor" href="#general-usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>General usage</h2>

<ul>
<li><code>strategypy &lt;name_of_bot_one&gt; &lt;&lt;name_of_bot_two&gt; ...</code></li>
</ul>

<p>The result of the script is a JSON file that contains all the information necessary for any front-end to play it.</p>

<p>The name of the bot must be a name of a python module in /bots/. It currently supports a URL of a web service that returns moves, but that is very experimental.</p>

<p>This JSON result can be saved on a file so that it can be loaded later by a FE:</p>

<ul>
<li><code>strategypy killer prey prey &gt; example.json</code></li>
</ul>

<p>or it can be piped it directly into a FE, for example:</p>

<ul>
<li><code>strategypy killer prey prey | python strategypy/simplefe.py</code></li>
</ul>

<p>See <a href="https://github.com/davide-ceretti/strategypy-pygame-client">https://github.com/davide-ceretti/strategypy-pygame-client</a> for a PyGame FE.
See <a href="https://github.com/benqus/strategypy-ui">https://github.com/benqus/strategypy-ui</a> for a Javascript FE.
See <a href="https://github.com/mrfuxi/strategypy-consoleui">https://github.com/mrfuxi/strategypy-consoleui</a> for a Console FE.</p>

<h2><a id="user-content-tests" class="anchor" href="#tests" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Tests</h2>

<p>To run all the tests:</p>



<h2><a id="user-content-bot-api" class="anchor" href="#bot-api" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>BOT API</h2>

<p>The current way to build a bot is to create a python file (e.g. mybot.py) in the bots directory. The python file must have a function called action.</p>

<p>The function "action" takes one argument, the context of the game and returns one of the five possible moves: 'move up', 'move left', 'move right', 'move down', None.</p>

<p>Example:</p>

<pre><code>def action(ctx):
    return 'move down'
</code></pre>

<p>Then you can play a game by running:
<code>strategypy mybot &lt;&lt;name_of_bot_two&gt; ...</code></p>

<p>The context given to the action function represents the state of the game when action is required for one of your units. It is a dictionary with the following keys:</p>

<pre><code>(int) player_pk
(int) pk
(bool) respawn
(int, int) grid_size
(int, int) position
(list) has_killed
(list) was_killed_by
(dict) current_data
</code></pre>

<h2><a id="user-content-todo--improvements" class="anchor" href="#todo--improvements" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>TODO / Improvements</h2>

<ul>
<li>Better API for Bots</li>
<li>Security in local mode</li>
<li>Anti-cheating in local mode</li>
<li>Numpy / Performance improvements</li>
<li>Performance tracking/acceptance on build</li>
<li>Rework game rules and engine to make it more interesting</li>
<li>More and better unit tests</li>
</ul>
</article>
  </div></body></html>