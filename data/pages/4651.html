<html><body><div><div class="post-text" itemprop="text">

<p>I made a little generator function for character ranges:</p>

<pre><code>&gt;&gt;&gt; def crange(start, end):
...     for i in range(ord(start), ord(end)+1):
...             yield chr(i)
...
</code></pre>

<p>And then I can do this:</p>

<pre><code>&gt;&gt;&gt; print(*crange('a','e'))
a b c d e
</code></pre>

<p>Yay! But this doesn't work:</p>

<pre><code>&gt;&gt;&gt; crange('a','e')[::2]
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
TypeError: 'generator' object is not subscriptable
</code></pre>

<p>And this works, but is O(n), unlike <code>range</code>'s O(1):</p>

<pre><code>&gt;&gt;&gt; 'y' in crange('a','z')
True
</code></pre>

<p>That means it takes about 0.35 seconds to search for character number 109,999 out of the maximum of 110,000. <code>109999 in range(110000)</code> is, of course, fast.</p>

<p>At that point, my first thought was to simply subclass range. Unfortunately:</p>

<pre><code>&gt;&gt;&gt; class A(range):
...     pass
...
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
TypeError: type 'range' is not an acceptable base type
</code></pre>

<p>So I guess I would have to mimic it in some way that allows me to pass characters as arguments, works like <code>range</code> internally, and produces characters. Unfortunately, I'm not sure how to proceed. I tried a <code>dir()</code>:</p>

<pre><code>&gt;&gt;&gt; print(*dir(range), sep='\n')
__class__
__contains__
__delattr__
__dir__
__doc__
__eq__
__format__
__ge__
__getattribute__
__getitem__
__gt__
__hash__
__init__
__iter__
__le__
__len__
__lt__
__ne__
__new__
__reduce__
__reduce_ex__
__repr__
__reversed__
__setattr__
__sizeof__
__str__
__subclasshook__
count
index
start
step
stop
</code></pre>

<p>which lets me see what functions are in there, but I'm not sure what they're doing, or how <code>range</code> uses them. I looked for the source for <code>range</code>, but it's in C, and I don't know where to find its Python wrapper (it does have one, right?).</p>

<p>Where do I go from here, and should I even go there?</p>
    </div>
    </div></body></html>