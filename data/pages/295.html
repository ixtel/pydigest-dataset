<html><body><div><div class="post-body entry-content" id="post-body-6595448237666451528" itemprop="description articleBody">
<div dir="ltr" trbidi="on"><p>
There are actually many ways of automatically reloading code when it is modified.  Some are platform/language specific and some are not, although they do depend on certain common behaviors.  This is one I'm using to develop my Python/Gunicorn application and it isn't specific to Python or Gunicorn; however it does require that you have </p><code>inotify-tools</code><p> installed, your server can run in the foreground and that it reloads the project when it receives a SIGHUP signal.

</p><code>wrapper</code><p>:


</p><pre class="brush: shell">#!/bin/sh

SERVER=$1
WATCHED_DIR=.
$SERVER &amp;
RUNNING_PID=$!

trap 'kill -TERM $RUNNING_PID 2&gt; /dev/null; exit' SIGINT

while /bin/true; do
 echo "Starting '$SERVER'..."
 inotifywait -q --exclude '.*\.py[co]$' \
           -e modify -e close_write -e move \
           -e create -e delete \
           -r $WATCHED_DIR
 kill -HUP $RUNNING_PID
 echo "Hupping '$SERVER'..."
done

</pre>

<p>
You can then call it like this:


</p><pre class="brush: shell">wrapper 'gunicorn project:main'
</pre>
<p>
This will watch the current directory your in '.' and anytime a modification, creation, deletion or move occurs on any file in the current directory, </p><code>inotify</code><p> will issue the notification and stop waiting.  This will cause </p><code>kill</code><p> to send a </p><code>SIGHUP</code><p> to the the server forcing it to reload the project.  </p><code>inotify</code><p> will then wait on the next filesystem event.
</p><h4>
 </h4>
<h4>
Variants/Alternatives</h4>
<h4>
 </h4><p>
There are a few variations on this theme which are fairly simple.

</p><ul>
<li><b>If you must kill and then restart the process in order to reload </b>you can move the execution of <code>$SERVER &amp;</code> into the <code>while</code> loop.  You should also change the <code>HUP</code> to a <code>TERM</code> in this case to make sure the process is terminated.</li>
<li><b>If you need to reload when anything changes in multiple directories</b> you can just append the full list to inotifywait or generalize the wrapper and take the directories to watch as an argument.</li>
<li><b>If you want to or have to use something different from inotify-tools</b> you can.  This same process should be usable by any of the file system event notification frameworks as long as the have a script that waits on events or allows you to write a script that waits on event. </li>
</ul>

<p>
<b>§</b></p>
<p>
<b> </b> </p>
</div>
<p/>
</div>
</div></body></html>