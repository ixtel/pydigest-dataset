<html><body><div><div class="wall_post_text"><a href="/feed?section=search&amp;q=%23python">#python</a> <a href="/feed?section=search&amp;q=%23pynsk">#pynsk</a><p>Синтаксис Python: with ... as</p><p>Конструкция with ... as используется для оборачивания выполнения блока инструкций менеджером контекста. Иногда это более удобная конструкция, чем try...except...finally.</p><p>Синтаксис конструкции with ... as:</p><p>"with" expression ["as" target] ("," expression ["as" target])* ":"</p><p>....suite</p><p>Теперь по порядку о том, что происходит при выполнении данного блока:</p><p>Выполняется выражение в конструкции with ... as.</p><p>Загружается специальный метод __exit__ для дальнейшего использования.</p><p>Выполняется метод __enter__. Если конструкция with включает в себя слово as, то возвращаемое методом __enter__ значение записывается в переменную.</p><p>Выполняется suite.</p><p>Вызывается метод __exit__, причём неважно, выполнилось ли suite или произошло исключение. В этот метод передаются параметры исключения, если оно произошло, или во всех аргументах значение None, если исключения не было.</p><p>Примером использования данной конструкции является чтение и запись из/в файл (гарантированное закрытие файла)</p><a href="/away.php?to=http%3A%2F%2Feffbot.org%2Fzone%2Fpython-with-statement.htm&amp;post=-96469126_280" target="_blank">http://effbot.org/zone/python-with-statement.htm</a><a href="/away.php?to=http%3A%2F%2Fpythonworld.ru%2Fosnovy%2Fwith-as-menedzhery-konteksta.html&amp;post=-96469126_280" target="_blank" title="http://pythonworld.ru/osnovy/with-as-menedzhery-konteksta.html">http://pythonworld.ru/osnovy/with-as-menedzhery-konte..</a><a href="/away.php?to=https%3A%2F%2Fdocs.python.org%2F2%2Freference%2Fcompound_stmts.html&amp;post=-96469126_280" target="_blank">https://docs.python.org/2/reference/compound_stmts.html</a></div></div></body></html>