<html><body><div><div itemprop="articleBody"><p>I think everyone hates slow test suites but sometimes there's too much effort to make it fast. In some situations running your test database <a class="reference external" href="https://blog.ionelmc.ro/2013/05/30/mysql-too-slow-in-tests-ramdisk-it/">in-memory</a> will not yield great improvement because you're probably doing the tests wrong :)</p><p>But you have too many of them, you have mixed fast and slow tests and <a class="reference external" href="http://www.metaklass.org/nose-accelerating-the-runner/">tagging the tests</a> with <a class="reference external" href="https://nose.readthedocs.org/en/latest/plugins/attrib.html">attributes</a> isn't going to cut it - you ain't gonna manually go over each of those 2000 tests.</p><p>With <a class="reference external" href="https://pypi.python.org/pypi/nose-timelimit">nose-timelimit</a> you can get from this:</p><pre class="term">
test_activate_on_usr2 (test_manhole.ManholeTestCase) ... (11.9111 seconds) <span>ok</span>
test_activate_on_with_oneshot_on (test_manhole.ManholeTestCase) ... (0.2713 seconds) <span>ok</span>
test_auth_fail (test_manhole.ManholeTestCase) ... (0.3722 seconds) <span>ok</span>
test_exit_with_grace (test_manhole.ManholeTestCase) ... (0.6874 seconds) <span>ok</span>
test_fail_to_cry (test_manhole.ManholeTestCase) ... (0.0178 seconds) <span>ok</span>
test_interrupt_on_accept (test_manhole.ManholeTestCase) ... (2.2326 seconds) <span>ok</span>
test_oneshot_on_usr2 (test_manhole.ManholeTestCase) ... (11.8544 seconds) <span>ok</span>
test_oneshot_on_usr2_error (test_manhole.ManholeTestCase) ... (12.1931 seconds) <span>ok</span>
test_signalfd_weirdness (test_manhole.ManholeTestCase) ... (0.7931 seconds) <span>ok</span>
test_signalfd_weirdness_negative (test_manhole.ManholeTestCase) ... (1.6042 seconds) <span>ok</span>
test_simple_r01 (test_manhole.ManholeTestCase) ... (0.6593 seconds) <span>ok</span>
test_simple_r02 (test_manhole.ManholeTestCase) ... (0.9883 seconds) <span>ok</span>
test_simple_r03 (test_manhole.ManholeTestCase) ... (1.3314 seconds) <span>ok</span>
test_simple_r04 (test_manhole.ManholeTestCase) ... (1.6603 seconds) <span>ok</span>
test_simple_r05 (test_manhole.ManholeTestCase) ... (2.0033 seconds) <span>ok</span>
test_simple_r06 (test_manhole.ManholeTestCase) ... (2.3323 seconds) <span>ok</span>
test_simple_r07 (test_manhole.ManholeTestCase) ... (2.6754 seconds) <span>ok</span>
test_simple_r08 (test_manhole.ManholeTestCase) ... (2.9923 seconds) <span>ok</span>
test_simple_r09 (test_manhole.ManholeTestCase) ... (3.3474 seconds) <span>ok</span>
test_simple_r10 (test_manhole.ManholeTestCase) ... (3.4603 seconds) <span>ok</span>
test_with_fork (test_manhole.ManholeTestCase) ... (2.2701 seconds) <span>ok</span>
test_with_forkpty (test_manhole.ManholeTestCase) ... (2.1426 seconds) <span>ok</span>

<span>----------------------------------------------------------------------</span>
Ran 22 tests in 67.805s

<span>OK</span>
</pre><p>to this:</p><pre class="term">
test_activate_on_usr2 (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 11.6118 seconds. Too slow!
test_activate_on_with_oneshot_on (test_manhole.ManholeTestCase) ... (0.2684 seconds) <span>ok</span>
test_auth_fail (test_manhole.ManholeTestCase) ... (0.3813 seconds) <span>ok</span>
test_exit_with_grace (test_manhole.ManholeTestCase) ... (0.6571 seconds) <span>ok</span>
test_fail_to_cry (test_manhole.ManholeTestCase) ... (0.0162 seconds) <span>ok</span>
test_interrupt_on_accept (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 2.2251 seconds. Too slow!
test_oneshot_on_usr2 (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 11.7995 seconds. Too slow!
test_oneshot_on_usr2_error (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 11.3974 seconds. Too slow!
test_signalfd_weirdness (test_manhole.ManholeTestCase) ... (0.7740 seconds) <span>ok</span>
test_signalfd_weirdness_negative (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 1.5585 seconds. Too slow!
test_simple_r01 (test_manhole.ManholeTestCase) ... (0.6602 seconds) <span>ok</span>
test_simple_r02 (test_manhole.ManholeTestCase) ... (0.9946 seconds) <span>ok</span>
test_simple_r03 (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 1.3252 seconds. Too slow!
test_simple_r04 (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 1.5586 seconds. Too slow!
test_simple_r05 (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 1.9972 seconds. Too slow!
test_simple_r06 (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 2.1826 seconds. Too slow!
test_simple_r07 (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 2.6691 seconds. Too slow!
test_simple_r08 (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 2.8067 seconds. Too slow!
test_simple_r09 (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 3.3411 seconds. Too slow!
test_simple_r10 (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 3.6106 seconds. Too slow!
test_with_fork (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 2.3372 seconds. Too slow!
test_with_forkpty (test_manhole.ManholeTestCase) ... <span>SKIP:</span> Last run took 2.1546 seconds. Too slow!

<span>----------------------------------------------------------------------</span>
Ran 22 tests in 3.756s

<span>OK</span> (<span>SKIP=15</span>)
</pre><p>You can use <cite>nose-timelimit</cite> to get some quick test feedback - this is especially useful when you refactor code or otherwise make changes that might break more than 1 test. This implies that not all the tests are slow :)</p><p>Note: the results are colored with another very nice plugin: <a class="reference external" href="https://pypi.python.org/pypi/yanc">yanc</a>.</p></div></div></body></html>