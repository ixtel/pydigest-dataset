<html><body><div><div class="pf-content"><p>Python comes with its own debugger module that is named <strong>pdb</strong>. This module provides an interactive source code debugger for your Python programs. You can set breakpoints, step through your code, inspect stack frames and more. We will look at the following aspects of the module:</p>
<ul>
<li>How to start the debugger</li>
<li>Stepping through your code</li>
<li>Setting breakpoints</li>
</ul>
<p>Let’s start by creating a quick piece of code to attempt debugging with.<span id="more-3977"/> Here’s a silly example:</p>
<pre class="python"><span># debug_test.py</span>
 
<span>#----------------------------------------------------------------------</span>
<span>def</span> doubler<span>(</span>a<span>)</span>:
    <span>""</span><span>""</span><span>""</span>
    result = a<span>*</span><span>2</span>
    <span>print</span><span>(</span>result<span>)</span>
    <span>return</span> result
 
<span>#----------------------------------------------------------------------</span>
<span>def</span> main<span>(</span><span>)</span>:
    <span>""</span><span>""</span><span>""</span>
    <span>for</span> i <span>in</span> <span>range</span><span>(</span><span>1</span>,<span>10</span><span>)</span>:
        doubler<span>(</span>i<span>)</span>
 
<span>if</span> __name__ == <span>"__main__"</span>:
    main<span>(</span><span>)</span></pre>
<p>Now let’s learn how to run the debugger against this piece of code.</p>
<hr/>
<h3>How to Start the Debugger</h3>
<p>
</p><p>You can start the debugger three different ways. The first is to just import it and insert **pdb.set_trace()** into your code to start the debugger. You can import the debugger in IDLE and have it run your module. Or you can call the debugger on the command line. We’ll focus on the last two methods in this section. We will start with using it in the interpreter (IDLE). Open up a terminal (command line window) and navigate to where you save the above code example. Then start Python. Now do the following:</p>
<pre class="python"><span>&gt;&gt;&gt;</span> <span>import</span> debug_test
<span>&gt;&gt;&gt;</span> <span>import</span> <span>pdb</span>
<span>&gt;&gt;&gt;</span> <span>pdb</span>.<span>run</span><span>(</span><span>'debug_test.main()'</span><span>)</span>
<span>&gt;</span> <span>&lt;</span>string<span>&gt;</span><span>(</span><span>1</span><span>)</span><span>&lt;</span>module<span>&gt;</span><span>(</span><span>)</span>
<span>(</span>Pdb<span>)</span> <span>continue</span>
<span>2</span>
<span>4</span>
<span>6</span>
<span>8</span>
<span>10</span>
<span>12</span>
<span>14</span>
<span>16</span>
<span>18</span>
<span>&gt;&gt;&gt;</span></pre>
<p>Here we import our module and pdb. Then we execute pdb’s <strong>run</strong> method and tell it to call our module’s <strong>main</strong> method. This brings up the debugger’s prompt. Here we typed <strong>continue</strong> to tell it to go ahead and run the script. You can also type the letter <strong>c</strong> as a shortcut for <strong>continue</strong>. When you continue the debugger will continue execution until it reaches a breakpoint or the script ends. </p>
<p>The other way to start the debugger is to execute the following command via your terminal session:</p>
<pre class="python">python -m <span>pdb</span> debug_test.<span>py</span></pre>
<p>If you run it this way, you will see a slightly different result:</p>
<pre class="python">-<span>&gt;</span> <span>def</span> doubler<span>(</span>a<span>)</span>:
<span>(</span>Pdb<span>)</span> c
<span>2</span>
<span>4</span>
<span>6</span>
<span>8</span>
<span>10</span>
<span>12</span>
<span>14</span>
<span>16</span>
<span>18</span>
The program finished <span>and</span> will be restarted</pre>
<p>You will note that in this example we used <strong>c</strong> instead of <strong>continue</strong>. You will also note that the debugger restarts at the end. This preserves the debugger’s state (such as breakpoints) and can be more useful than having the debugger stop. Sometimes you’ll need to go through the code several times to understand what’s wrong with it.</p>
<p>Let’s dig a little deeper and learn how to step through the code.</p>
<hr/>
<h3>Stepping Through the Code</h3>
<p>
</p><p>If you want to step through your code one line at a time, then you can use the <strong>step</strong> (or simply “s”) command. Here’s a session for your viewing pleasure:</p>
<pre class="python">C:\Users\mike<span>&gt;</span>cd c:\py101
 
c:\py101<span>&gt;</span>python -m <span>pdb</span> debug_test.<span>py</span>
<span>&gt;</span> c:\py101\debug_test.<span>py</span><span>(</span><span>4</span><span>)</span><span>&lt;</span>module<span>&gt;</span><span>(</span><span>)</span>
-<span>&gt;</span> <span>def</span> doubler<span>(</span>a<span>)</span>:
<span>(</span>Pdb<span>)</span> step
<span>&gt;</span> c:\py101\debug_test.<span>py</span><span>(</span><span>11</span><span>)</span><span>&lt;</span>module<span>&gt;</span><span>(</span><span>)</span>
-<span>&gt;</span> <span>def</span> main<span>(</span><span>)</span>:
<span>(</span>Pdb<span>)</span> s
<span>&gt;</span> c:\py101\debug_test.<span>py</span><span>(</span><span>16</span><span>)</span><span>&lt;</span>module<span>&gt;</span><span>(</span><span>)</span>
-<span>&gt;</span> <span>if</span> __name__ == <span>"__main__"</span>:
<span>(</span>Pdb<span>)</span> s
<span>&gt;</span> c:\py101\debug_test.<span>py</span><span>(</span><span>17</span><span>)</span><span>&lt;</span>module<span>&gt;</span><span>(</span><span>)</span>
-<span>&gt;</span> main<span>(</span><span>)</span>
<span>(</span>Pdb<span>)</span> s
--Call--
<span>&gt;</span> c:\py101\debug_test.<span>py</span><span>(</span><span>11</span><span>)</span>main<span>(</span><span>)</span>
-<span>&gt;</span> <span>def</span> main<span>(</span><span>)</span>:
<span>(</span>Pdb<span>)</span> next
<span>&gt;</span> c:\py101\debug_test.<span>py</span><span>(</span><span>13</span><span>)</span>main<span>(</span><span>)</span>
-<span>&gt;</span> <span>for</span> i <span>in</span> <span>range</span><span>(</span><span>1</span>,<span>10</span><span>)</span>:
<span>(</span>Pdb<span>)</span> s
<span>&gt;</span> c:\py101\debug_test.<span>py</span><span>(</span><span>14</span><span>)</span>main<span>(</span><span>)</span>
-<span>&gt;</span> doubler<span>(</span>i<span>)</span>
<span>(</span>Pdb<span>)</span></pre>
<p>Here we start up the debugger and tell it to step into the code. It starts at the top and goes through the first two function definitions. Then it reaches the conditional and finds that it’s supposed to execute the <strong>main</strong> function. We step into the main function and then use the <strong>next</strong> command. The <strong>next</strong> command will execute a called function if it encounters it without stepping into it. If you want to step into the called function, then you’ll only want to just use the <strong>step</strong> command. </p>
<p>When you see a line like <strong>&gt; c:\py101\debug_test.py(13)main()</strong>, you will want to pay attention to the number that’s in the parentheses. This number is the current line number in the code. </p>
<p>You can use the <strong>args</strong> (or <strong>a</strong>) to print the current argument list to the screen. Another handy command is <strong>jump</strong> (or <strong>j</strong>) followed by a space and the line number that you want to “jump” to. This gives you the ability to skip a bunch of monotonous stepping to get to the line that you want to get to. This leads us to learning about breakpoints!</p>
<hr/>
<h3>Setting breakpoints</h3>
<p>
</p><p>A breakpoint is a line in the code where you want to pause execution. You can set a breakpoint by calling the **break** (or **b**) command followed by a space and the line number that you want to break on. You can also prefix the line number with a filename and colon to specify a breakpoint in a different file. The break command also allows you to set a breakpoint with the **function** argument. There is also a **tbreak** command which will set a temporary breakpoint which is automatically removed when it gets hit.</p>
<p>Here’s an example:</p>
<pre class="python">c:\py101<span>&gt;</span>python -m <span>pdb</span> debug_test.<span>py</span>
<span>&gt;</span> c:\py101\debug_test.<span>py</span><span>(</span><span>4</span><span>)</span><span>&lt;</span>module<span>&gt;</span><span>(</span><span>)</span>
-<span>&gt;</span> <span>def</span> doubler<span>(</span>a<span>)</span>:
<span>(</span>Pdb<span>)</span> <span>break</span> <span>6</span>
Breakpoint <span>1</span> at c:\py101\debug_test.<span>py</span>:<span>6</span>
<span>(</span>Pdb<span>)</span> c
<span>&gt;</span> c:\py101\debug_test.<span>py</span><span>(</span><span>6</span><span>)</span>doubler<span>(</span><span>)</span>
-<span>&gt;</span> result = a<span>*</span><span>2</span></pre>
<p>We start the debugger and then tell it to set a breakpoint on line 6. Then we continue and it stops on line 6 just like it’s supposed to. Now would be a good time to check the argument list to see if it’s what you expect. Give it a try by typing <strong>args</strong> now. Then do another <strong>continue</strong> and another <strong>args</strong> to see how it changed.</p>
<hr/>
<h3>Wrapping Up</h3>
<p>
</p><p>There are a lot of other commands that you can use in the debugger. I recommend reading the documentation to learn about the others. However, at this point you should be able to use the debugger effectively to debug your own code. </p>
<hr/>
<h3>Additional Reading</h3>
<p>
</p></div>	</div></body></html>