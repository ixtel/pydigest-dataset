<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-mobject" class="anchor" href="#mobject" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>MObject</h1>

<p>M(ock)Object is a tiny library to construct objects and object trees for mocking and stubbing.</p>

<p>It is not meant as a replacement for mock frameworks but rather as a complement.</p>

<h2><a id="user-content-the-basics-dynamic-object-specification" class="anchor" href="#the-basics-dynamic-object-specification" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>The basics, dynamic object specification</h2>

<p>Creating a new object is easy.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> mobject <span class="pl-k">import</span> MObject
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o <span class="pl-k">=</span> MObject(<span class="pl-v">a</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-v">b</span><span class="pl-k">=</span><span class="pl-c1">2</span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o.a
<span class="pl-c1">1</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o.b
<span class="pl-c1">2</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o
MObject(<span class="pl-v">a</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-v">b</span><span class="pl-k">=</span><span class="pl-c1">2</span>)
</pre></div>

<p>There's also support for easy specification of nested objects through the __ syntax.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> mobject <span class="pl-k">import</span> MObject
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o <span class="pl-k">=</span> MObject(<span class="pl-v">a__b</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-v">a__c</span><span class="pl-k">=</span><span class="pl-c1">2</span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o.a.b
<span class="pl-c1">1</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o.a.c
<span class="pl-c1">2</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o
MObject(<span class="pl-v">a__b</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-v">a__c</span><span class="pl-k">=</span><span class="pl-c1">2</span>)
</pre></div>

<p>The above can also be written using a dict or any other Mapping as argument.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> mobject <span class="pl-k">import</span> MObject
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o <span class="pl-k">=</span> MObject({<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>: {<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>: <span class="pl-c1">1</span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>: <span class="pl-c1">2</span>}})
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o.a.b
<span class="pl-c1">1</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o.a.c
<span class="pl-c1">2</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o
MObject(<span class="pl-v">a__b</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-v">a__c</span><span class="pl-k">=</span><span class="pl-c1">2</span>)
</pre></div>

<p>To save some letters there is also a short hand:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> mobject <span class="pl-k">import</span> <span class="pl-k">*</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> mob(<span class="pl-v">a</span><span class="pl-k">=</span><span class="pl-c1">1</span>) <span class="pl-k">==</span> MObject(<span class="pl-v">a</span><span class="pl-k">=</span><span class="pl-c1">1</span>)
<span class="pl-c1">True</span>
</pre></div>

<h2><a id="user-content-classes-for-object-specification" class="anchor" href="#classes-for-object-specification" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Classes for object specification</h2>

<p>The examples from above can also be specified as classes which, when instantiated,
produce equivalent objects. Attributes can also be overridden by providing
values at instantiation.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> mobject <span class="pl-k">import</span> MObject
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">class</span> <span class="pl-en">MyMObject</span>(<span class="pl-e">MObject</span>):
<span class="pl-c1">...</span>     a <span class="pl-k">=</span> <span class="pl-c1">1</span>
<span class="pl-c1">...</span>     b <span class="pl-k">=</span> <span class="pl-c1">2</span>
<span class="pl-c1">...</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o <span class="pl-k">=</span> MyMObject()
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o.a, o.b
(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> MyMObject(<span class="pl-v">a</span><span class="pl-k">=</span><span class="pl-c1">3</span>)
MyMObject(<span class="pl-v">a</span><span class="pl-k">=</span><span class="pl-c1">3</span>, <span class="pl-v">b</span><span class="pl-k">=</span><span class="pl-c1">2</span>)
</pre></div>

<p>Class specification of nested objects is also supported in two different forms.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">class</span> <span class="pl-en">MyNestedMObject1</span>(<span class="pl-e">MObject</span>):
<span class="pl-c1">...</span>     a <span class="pl-k">=</span> <span class="pl-c1">1</span>
<span class="pl-c1">...</span>     b__c <span class="pl-k">=</span> <span class="pl-c1">2</span>
<span class="pl-c1">...</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">class</span> <span class="pl-en">MyNestedMObject2</span>(<span class="pl-e">MObject</span>):
<span class="pl-c1">...</span>     a <span class="pl-k">=</span> <span class="pl-c1">1</span>
<span class="pl-c1">...</span>     <span class="pl-k">class</span> <span class="pl-en">b</span>(<span class="pl-e">MObject</span>):
<span class="pl-c1">...</span>         c <span class="pl-k">=</span> <span class="pl-c1">2</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> MyNestedMObject1() <span class="pl-k">==</span> MyNestedMObject2()
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> MyNestedMObject1() <span class="pl-k">==</span> MyNestedMObject2(<span class="pl-v">b__c</span><span class="pl-k">=</span><span class="pl-c1">3</span>)
<span class="pl-c1">False</span>
</pre></div>

<h2><a id="user-content-adding-behaviour" class="anchor" href="#adding-behaviour" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Adding behaviour</h2>

<p>You can add behaviour to your objects by assigning callable objects.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o <span class="pl-k">=</span> MObject(<span class="pl-v">fn</span><span class="pl-k">=</span><span class="pl-k">lambda</span> <span class="pl-smi">x</span>: x <span class="pl-k">+</span> <span class="pl-c1">1</span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o.fn(<span class="pl-c1">1</span>)
<span class="pl-c1">2</span>
</pre></div>

<p>Nothing particular so far. Here's a special twist though. If your callable takes a first 
argument named 'self' it will get access to the object it is defined for.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o <span class="pl-k">=</span> MObject(<span class="pl-v">a</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-v">fn</span><span class="pl-k">=</span><span class="pl-k">lambda</span> <span class="pl-smi">self</span>, <span class="pl-smi">x</span>: <span class="pl-v">self</span>.a <span class="pl-k">+</span> x, <span class="pl-v">b__a</span><span class="pl-k">=</span><span class="pl-c1">3</span>, <span class="pl-v">b__fn</span><span class="pl-k">=</span><span class="pl-k">lambda</span> <span class="pl-smi">self</span>, <span class="pl-smi">x</span>: <span class="pl-v">self</span>.a <span class="pl-k">+</span> x)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o.fn(<span class="pl-c1">1</span>)
<span class="pl-c1">2</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> o.b.fn(<span class="pl-c1">1</span>)
<span class="pl-c1">4</span>
</pre></div>

<h2><a id="user-content-object-comparison" class="anchor" href="#object-comparison" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Object comparison</h2>

<p>Objects created with MObject can be compared to any other object. Two objects are equal if all
non callable properties of the objects are equal. Callables are excluded from comparison.
MObjects also define set like comparison operations. This is very convenient when you only want
to compare a subset of an objects properties to that specified by the MObject.</p>

<p>The following examples will hopefully bring clarity to how comparisons work.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">class</span> <span class="pl-en">Foo</span>(<span class="pl-c1">object</span>):  <span class="pl-c"># Regular class</span>
<span class="pl-c1">...</span>     <span class="pl-k">def</span> <span class="pl-c1">__init__</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>):
<span class="pl-c1">...</span>         <span class="pl-v">self</span>.a <span class="pl-k">=</span> <span class="pl-c1">1</span>
<span class="pl-c1">...</span>         <span class="pl-v">self</span>.b <span class="pl-k">=</span> <span class="pl-c1">2</span>
<span class="pl-c1">...</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> MObject(<span class="pl-v">a</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-v">b</span><span class="pl-k">=</span><span class="pl-c1">2</span>) <span class="pl-k">==</span> Foo()
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> MObject(<span class="pl-v">a</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-v">b</span><span class="pl-k">=</span><span class="pl-c1">3</span>) <span class="pl-k">==</span> Foo()
<span class="pl-c1">False</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> MObject(<span class="pl-v">a</span><span class="pl-k">=</span><span class="pl-c1">1</span>) <span class="pl-k">&lt;</span> Foo()
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> MObject(<span class="pl-v">a</span><span class="pl-k">=</span><span class="pl-c1">2</span>) <span class="pl-k">&lt;</span> Foo()
<span class="pl-c1">False</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> MObject(<span class="pl-v">a</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-v">b</span><span class="pl-k">=</span><span class="pl-c1">2</span>, <span class="pl-v">c</span><span class="pl-k">=</span><span class="pl-c1">3</span>) <span class="pl-k">&gt;</span> Foo()
<span class="pl-c1">True</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> MObject(<span class="pl-v">a</span><span class="pl-k">=</span><span class="pl-c1">2</span>, <span class="pl-v">b</span><span class="pl-k">=</span><span class="pl-c1">2</span>, <span class="pl-v">c</span><span class="pl-k">=</span><span class="pl-c1">3</span>) <span class="pl-k">&gt;</span> Foo()
<span class="pl-c1">False</span>
</pre></div>

<h1><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h1>

<p>pip install mobject</p>

<h1><a id="user-content-compatibility" class="anchor" href="#compatibility" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Compatibility</h1>

<p>MObject has been verified to work on Python 2.7, Python 3.4 and PyPy. </p>

<h1><a id="user-content-contributing" class="anchor" href="#contributing" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Contributing</h1>

<p>If you experience problems please log them on GitHub. If you want to contribute code, please fork
the code and submit a pull request.</p>
</article>
  </div></body></html>