<html><body><div><div id="blog">

<p id="blog-date-stamp">
May 06, 2015
</p>
  



<p><a class="reference" href="http://wingware.com/wingide/">Wing IDE</a> is an integrated development environment that can be used to develop and
debug Python code running on the <a class="reference" href="http://raspberrypi.org/">Raspberry Pi</a>. Wing provides auto-completion, call
tips, a powerful debugger, and many other features that help you write, navigate, and
understand Python code.</p>
<div class="section">
<h2 class="title-2">Introduction</h2>
<p>The Raspberry Pi is not really capable of running Wing IDE itself, but you
can set up Wing IDE on a computer connected to the Raspberry Pi to work on
and debug Python code remotely.</p>
<p>To do this, you will first need (1) a network connection
between the Raspberry Pi and the computer where Wing IDE will be running, and
(2) a way to share files between the two computers.</p>
<p>The easiest way to connect the Raspberry Pi to your network is with ethernet,
or see the instructions at the end of <a class="reference" href="http://wingware.com/doc/howtos/raspberry">Using Wing IDE with Raspberry Pi</a>
for configuring a wifi connection.</p>
<p>For file sharing, use <tt class="literal"><span class="pre">Samba</span></tt>, or simply transfer a copy of your files to the
Raspberry Pi using <tt class="literal"><span class="pre">scp</span></tt> or <tt class="literal"><span class="pre">rsync</span></tt>.</p>
</div>
<div class="section">
<h2 class="title-2">Installing and Configuring the Debugger</h2>
<p>Once you have a network connection and some sort of file sharing set up, the
next step is to install and configure Wing IDE's debugger.  This is done
as follows:</p>
<div class="bullet-list"><ul><li><span class="bullet"> If you do not already have Wing IDE 5.1.5 or later installed, <a class="reference" href="http://wingware.com/wingide/trial">download a free trial</a> on Windows, Linux, or OS X.</span></li>
<li><span class="bullet"> Download the <a class="reference" href="http://wingware.com/pub/wingide/5.1.10/wing-debugger-raspbian-5.1.10-1.tgz">Raspberry Pi debugger package</a>
to your Raspberry Pi and unpack it with
<tt class="literal"><span class="pre">tar</span> <span class="pre">xzf</span> <span class="pre">wing-debugger-raspbian-5.1.10-1.tgz</span></tt>.  This creates a
directory named <tt class="literal"><span class="pre">wing-debugger-raspbian-5.1.10-1</span></tt>.</span></li>
<li><span class="bullet"> Launch Wing IDE and make sure that <tt class="literal"><span class="pre">Accept</span> <span class="pre">Debug</span> <span class="pre">Connections</span></tt> is checked
when you click on the bug icon in the lower left of Wing's main window.
Hovering the mouse over the bug icon will show additional status information,
including the port Wing is listening on, which should be <tt class="literal"><span class="pre">50005</span></tt> by default.</span></li>
<li><span class="bullet"> Copy <tt class="literal"><span class="pre">wingdebugpw</span></tt> from the machine where you have Wing IDE installed to the
Raspberry Pi and place it into the directory <tt class="literal"><span class="pre">wing-debugger-raspbian-5.1.10-1</span></tt>.
This file is located in the <tt class="literal"><span class="pre">Settings</span> <span class="pre">Directory</span></tt>, which is listed 5th in Wing's <tt class="literal"><span class="pre">About</span></tt> box.</span></li>
<li><span class="bullet"> On the Raspberry Pi, use <tt class="literal"><span class="pre">/sbin/ifconfig</span></tt> to determine the IP address
of the Raspberry Pi (not 127.0.0.1, but instead the number listed under
<tt class="literal"><span class="pre">eth0</span></tt> or <tt class="literal"><span class="pre">wlan0</span></tt> if you're using wifi).</span></li>
<li><span class="bullet"> <p>On the host where Wing IDE is running (not the Raspberry Pi), establish an
ssh reverse tunnel to the Raspberry Pi so the debugger can connect back to the IDE.
On Linux and OS X this is done as follows:</p>
<pre class="literal-block">
ssh -N -R 50005:localhost:50005 &lt;user&gt;@&lt;rasp_ip&gt;
</pre>
<p>You'll need to replace <tt class="literal"><span class="pre">&lt;user&gt;@&lt;rasp_ip&gt;</span></tt> with the login name on the Raspberry
Pi and the ip address from the previous step.</p>
<p>The <tt class="literal"><span class="pre">-f</span></tt> option can be added just after <tt class="literal"><span class="pre">ssh</span></tt> to cause <tt class="literal"><span class="pre">ssh</span></tt> to run in the
background.  Without this option, you can use <tt class="literal"><span class="pre">Ctrl-C</span></tt> to terminate the tunnel.
With it, you'll need to use <tt class="literal"><span class="pre">ps</span></tt> and <tt class="literal"><span class="pre">kill</span></tt> to manage the process.</p>
<p>On Windows, use <a class="reference" href="http://www.putty.org/">PuTTY</a> to configure an ssh tunnel using
the same settings on the <tt class="literal"><span class="pre">Connections</span> <span class="pre">&gt;</span> <span class="pre">SSH</span> <span class="pre">&gt;</span> <span class="pre">Tunnels</span> <span class="pre">page</span></tt>:  Set <tt class="literal"><span class="pre">Source</span> <span class="pre">port</span></tt>
to <tt class="literal"><span class="pre">50005</span></tt>, <tt class="literal"><span class="pre">Destination</span></tt> to <tt class="literal"><span class="pre">localhost:50005</span></tt>, and select the <tt class="literal"><span class="pre">Remote</span></tt>
radio button, then press the <tt class="literal"><span class="pre">Add</span></tt> button.  Once this is done the tunnel will
be established whenever PuTTY is connected to the Raspberry Pi.</p>
</span></li>
<li><span class="bullet"> <p>In Wing IDE's Preferences, use the <tt class="literal"><span class="pre">Debugger</span> <span class="pre">&gt;</span> <span class="pre">External/Remote</span> <span class="pre">&gt;</span> <span class="pre">Location</span> <span class="pre">Map</span></tt> preference
to set up a mapping from the location of your files on the remote host
(the Raspberry Pi) and the machine where the IDE is running.</p>
<p>For example, if you have files in <tt class="literal"><span class="pre">/home/pi/</span></tt> on your Raspberry Pi that match those
in <tt class="literal"><span class="pre">/Users/pitest/src/</span></tt> on the machine where Wing is running, then you
would add those two to the location mapping for <tt class="literal"><span class="pre">127.0.0.1</span></tt>, with <tt class="literal"><span class="pre">home/pi/</span></tt> as
the remote directory and <tt class="literal"><span class="pre">/Users/pitest/src/</span></tt> as the local directory.</p>
<p>Don't add a location map for the Raspberry Pi's ip address because your ssh tunnel makes
it look like the connection is coming from <tt class="literal"><span class="pre">127.0.0.1</span></tt> and not the Raspberry Pi.</p>
</span></li>
</ul></div></div>
<div class="section">
<h2 class="title-2">Invoking the Debugger</h2>
<p>There are two ways to invoke the debugger:  (1) from the command line, or (2) from
within your Python code.  The latter is useful if debugging code running under a
web server or other environment not launched from the command line.</p>
<p><strong>Debugging from the Command Line</strong></p>
<p>To invoke the debugger without modifying any code, use the following command:</p>
<pre class="literal-block">
wing-debugger-raspbian-5.1.10-1/wingdb yourfile.py arg1 arg2
</pre>
<p>This is the same thing as <tt class="literal"><span class="pre">python</span> <span class="pre">yourfile.py</span> <span class="pre">arg1</span> <span class="pre">arg2</span></tt> but runs your code in Wing's
debugger so you can stop at breakpoints and exceptions in the IDE, step through your code,
and interact using the <tt class="literal"><span class="pre">Debug</span> <span class="pre">Probe</span></tt> in the <tt class="literal"><span class="pre">Tools</span></tt> menu.</p>
<p>By default this runs with <tt class="literal"><span class="pre">python</span></tt> and connects the debugger to <tt class="literal"><span class="pre">localhost:50005</span></tt>,
which matches the above ssh tunnel configuration.  To change which Python is run, set the
environment variable <tt class="literal"><span class="pre">WINGDB_PYTHON</span></tt>:</p>
<pre class="literal-block">
export WINGDB_PYTHON=/some/other/python
</pre>
<p><strong>Starting Debug from Python Code</strong></p>
<p>To start debug from within Python code that is already running, edit
<tt class="literal"><span class="pre">wing-debugger-raspbian-5.1.10-1/wingdbstub.py</span></tt> and change the line
<tt class="literal"><span class="pre">WINGHOME</span> <span class="pre">=</span> <span class="pre">None</span></tt> to <tt class="literal"><span class="pre">WINGHOME</span> <span class="pre">=</span> <span class="pre">/home/pi/wing-debugger-raspbian-5.1.10-1</span></tt>
where <tt class="literal"><span class="pre">/home/pi</span></tt> should be replaced with the full path where you unpacked the
debugger package earlier.  Use <tt class="literal"><span class="pre">pwd</span></tt> to obtain the full path if you don't know what it is.</p>
<p>Copy your edited <tt class="literal"><span class="pre">wingdbstub.py</span></tt> into the same directory as your code and add <tt class="literal"><span class="pre">import</span>
<span class="pre">wingdbstub</span></tt> to your code. This new line is what initiates debugging and connects back to
the IDE through the ssh tunnel.</p>
<p>An alternative to editing <tt class="literal"><span class="pre">wingdbstub.py</span></tt> is to set <tt class="literal"><span class="pre">WINGHOME</span></tt> in the environment
instead with a command like <tt class="literal"><span class="pre">export</span> <span class="pre">WINGHOME=/home/pi/wing-debugger-raspbian-5.1.10-1</span></tt>.</p>
</div>


<p>


Share this article: 

</p>


</div>
  

</div></body></html>