<html><body><div><p>File field that behaves as close to other fields as possible.</p>
<div id="whaaaaat-i-don-get-it">
<h2>Whaaaaat?! I don get it!</h2>
<p>Basic idea: I want to handle file inputs <em>no differently</em> from other
inputs!</p>
<ul>
<li>If a text input can have its value “sent back” when form validation
fails, so must the file input!</li>
<li>Even when a file field is required, user should still be able to
clear it (just as they can delete text in a required text field) no
matter that the field validation will fail!</li>
</ul>
<p>File inputs in HTML are a bit different that other inputs (“text”,
“checkbox”, etc). Amount of data involved in a typical “file” field is
much larger then what is in fields on any other type. It is one thing to
send and return (in the case of form validation error) a few characters
in a text input, another thing completely to send and return megabytes
of data in files - it’s not practical.</p>
<p>On the server side this means that files have to be handled differently
as well. Usually they are saved in a temporary place and it is up to the
developer to copy them where needed.</p>
<p>Django hides some of this boilerplate away, making working with file
fields a bit simpler. But still it is different from other fields. As
this package demonstrates, there is no real need for this, as file
fields can be made to behave like other fields.</p>
<p>This package normalizes the behaviour of file fields by extending
<tt>django.forms.fields.FileField</tt> and altering its behaviour to be as
close to other input types as possible.</p>
<p>It is meant to be a drop-in replacement for
<tt>django.forms.fields.FileField</tt> though some considerations are needed.</p>
</div>
<div id="differences-from-filefield">
<h2>Differences from FileField</h2>
<ul>
<li>TODO expand this section with details</li>
</ul>
<p>Not much… The “Clear” checkbox is present in some situations where the
<tt>ClearableFileInput</tt> does not render it.</p>
<p>Also, there is a new state for the field. In addition to “empty” and
“initial” that traditional <tt>ClearableFileInput</tt> renders as a single
HTML input element or as a double input with the link and label
“Currently”, this widget also has a “Selected” state. This is similar to
state with the “Currently” link, but it renders just the name of the
file without the link. It is used in situations when form validation has
failed, but the file field is ok and the file has been saved to
temporary storage (cache).</p>
</div>
<div id="usage">
<h2>Usage</h2>
<div id="in-models">
<h3>In Models</h3>
<p>A model field is provided to make use with models simpler. The only
difference from the normal <tt>models.field.FileField</tt> is that it
specifies a different form field class, namely <tt>NormalizedFileField</tt>.</p>
<pre>from normalized_filefield.model_field import NormalizedFileField

class MyModel(models.Model):
    a_file = NormalizedFileField(upload_to='media/place')
    ...
</pre>
<p>Note: In keeping with (dubious) tradition of how field classes are named
in Django (<tt>forms.field.FileField</tt> vs <tt>models.fields.FileField</tt>),
this package also names form and model field the same,
<tt>NormalizedFileField</tt>.</p>
</div>
<div id="in-forms">
<h3>In Forms</h3>
<pre>from normalized_filefield.form_field import NormalizedFileField

class MyModelForm(forms.ModelForm):
    a_file = NormalizedFileField()
</pre>
<p>Widget <tt>normalized_filefield.widget.NormalizedFileInput</tt> is only meant
to be used together with this form field class.</p>
</div>
<div id="changing-the-markup">
<h3>Changing the markup</h3>
<p>The widget markup can be changed. Nothing different here then what
regular <tt>ClearableFileInput</tt> provides. One difference is that template
strings are made with the “format” syntax instead of the old “percent”
syntax.</p>
<p>See <tt>normalized_filefield.widget.VerboseHTMLMixin</tt> for a very verbose
markup option.</p>

</div>
</div>
</div></body></html>