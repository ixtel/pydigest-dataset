<html><body><div><article id="obj5gCmqugz12NsDQK0" class="post  historical">
	<time datetime="2014-09-10" class="article_time">September 10, 2014</time>
  
	<p>A higher order function is a fuction that operates on other functions, either by taking a function as its argument, or by returning a function. Since functions are first-class objects this is easy to do in Python, and the standard library comes with several higher order functions that make list operations more convenient. Let’s take a look at some of those.</p>
<h1 id="filter_1">
<a class="head_anchor" href="#filter_1" rel="nofollow"> </a>Filter</h1>
<p>Let’s say you have a list of integers and you only want the numbers that are even.</p>

<p>We could solve this with a for-loop:</p>

<pre><code class="prettyprint lang-python">
integers = range(0, 10)

even = []
for i in integers:
    if i % 2 == 0:
        even.append(i)

&gt;&gt;&gt; even
&gt;&gt;&gt; [0, 2, 4, 6, 8]
</code></pre>

<p>Here we can use the filter function to make this more succinct. It takes as its arguments a function and an iterable and constructs a new iterable by applying the function to every element in the list.</p>

<pre><code class="prettyprint lang-python">even = filter(lambda x: x % 2 == 0, integers)
</code></pre>

<p>This solution is one line, whereas the for-loop was four lines. Note that we use a lambda function, an anynomous function, that can be convenient for short ad-hoc functions. We could also have written:</p>

<pre><code class="prettyprint lang-python">def is_even(x):
    return x % 2 == 0

even = filter(is_even, integers)
</code></pre>

<p>Finally, let’s see how we could have written this as a list comprehension:</p>

<pre><code class="prettyprint"> even = [x for x in integers if x % 2 == 0]
</code></pre>

<p>What’s going on here? We simply say that we want each integer in integers if it is divisible by 2. It is in essence a flattened, more succint for loop. We don’t have to call any functions.</p>

<p>So now we have three solutions to the same problem. How do you know which one to use? It comes down to a matter of taste, speed and readability.</p>

<p>The for-loop is the longest, but it’s also easier to read and understand for someone new to Python or higher order functions. For someone who knows Python well the other versions might be both easier to read and write since they are shorter.</p>

<p>The higher order function and the list comprehension are both one-liners. Seasoned Python programmers tend to prefer list comprehensions. They state their intent clearly and can be read from left to right.</p>

<p>In this case the list comprehnsion solution is also faster, since it doesn’t make any function calls. For people coming from languages without list comprehensions (which would be most languages), the functional version would be more familiar.</p>
<h1 id="map_1">
<a class="head_anchor" href="#map_1" rel="nofollow"> </a>Map</h1>
<p>Map applies a function to every element in a list. Unlike filter, it leaves the number of elements in the list unchanged. Let’s say we want to square every element in a list:</p>

<pre><code class="prettyprint"> map(lambda x: x * x, integers)
 &gt;&gt;&gt; [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
</code></pre>

<p>This could equally be written as a list comprehension:</p>

<pre><code class="prettyprint"> square_list = [x * x for x in integers]
</code></pre>

<p>Again, the list comprehension is faster, and I would argue it is also more convenient and easier to read once the notation is familiar.</p>
<h1 id="reduce_1">
<a class="head_anchor" href="#reduce_1" rel="nofollow"> </a>Reduce</h1>
<p>So far we’ve looked at functions that both consume and return lists. There are also numerous functions that consume a list but returns a single value.</p>

<p>Reduce works by applying a function that takes two arguments to the elements in the list, from left to right. Here we use it to get the product of all the integers in the list:</p>

<pre><code class="prettyprint"> integers = range(1, 10)
 reduce(lambda x, y: x * y, integers)
 &gt;&gt;&gt; 362880
</code></pre>

<p>Since list comprehnsions return lists, they are not applicable to these kind of problems.</p>

<p>The next three functions could all have been implemented by reduce(), but are convenient to have as stand-alone functions. Since they neither consume or return functions, they are not higher order functions.</p>
<h1 id="sum_1">
<a class="head_anchor" href="#sum_1" rel="nofollow"> </a>Sum</h1>
<p>Sum simply adds all the elements in a list:</p>

<pre><code class="prettyprint"> sum(integers)
 &gt;&gt;&gt; 45
</code></pre>

<p>You could do the same with reduce():</p>

<pre><code class="prettyprint"> reduce(lambda x, y: x + y, integers)
</code></pre>
<h1 id="any-and-all_1">
<a class="head_anchor" href="#any-and-all_1" rel="nofollow"> </a>Any and All</h1>
<p>Any and all works just like the names suggest:</p>

<pre><code class="prettyprint">  any([False, True, False])
  &gt;&gt;&gt; True

  all([False, True, False])
  &gt;&gt;&gt; False
</code></pre>

<p>The and() and any() functions are good examples of how functions that take an iterator can be combined with list comprehensions. To check for even numbers in a list:</p>

<pre><code class="prettyprint">  any(x % 2 == 0 for x in integers)
  &gt;&gt;&gt; True

  all(x % 2 == 0 for x in integers)
  &gt;&gt;&gt; False
</code></pre>
<h1 id="where-to-go-from-here_1">
<a class="head_anchor" href="#where-to-go-from-here_1" rel="nofollow"> </a>Where to go from here</h1>
<p>Check out <a href="https://docs.python.org/3.4/library/functions.html" rel="nofollow">Python’s built in functions</a> for other higher order functions. Also, take a look at <a href="https://docs.python.org/3.4/library/itertools.html" rel="nofollow">Python’s itertools library</a>.</p>

  <figure class="postend kudo able clearfix" id="kudo_obj5gCmqugz12NsDQK0">
    <a href="#kudo">
      <p class="filling"> </p>
    </a>
    <p class="num">134</p>
    <p class="txt">Kudos</p>
  </figure>
  <figure class="side kudo able clearfix" id="kudo_side_obj5gCmqugz12NsDQK0">
    <a href="#kudo">
      <p class="filling"> </p>
    </a>
    <p class="num">134</p>
    <p class="txt">Kudos</p>
  </figure>
</article>

</div></body></html>