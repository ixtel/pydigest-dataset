<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-xpresso" class="anchor" href="#xpresso" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>xpresso</h1>

<p>The pythonic way to code in Java.</p>

<p>xpresso is a Java library inspired by Python. It allows a (near) line-into-line rewrite of a Python code into Java. It's also a great way to prototype your algorithms directly in Java.</p>

<p>xpresso implements in Java familiar pythonic methods (e.g., len, enumerate, split/join, slicing) and coding paradigms (e.g., everything is iterable, list comprehensions, generators, lambda expressions, filtering iterables using predicates and modifying them using functions).</p>

<p>xpresso also offers multiple useful tools, usually one-liners, that save developer's time and make the code more readable: x.String, x.Object, x.Function, x.memo, x.WebService, x.MapReduce, x.go, x.timer, x.Json, x.mysql, x.csv and others.</p>

<p>xpresso: less boilerplate, more fun, more work done.</p>

<p>License: <a href="https://en.wikipedia.org/wikei/MIT_License">MIT</a>.</p>

<h2><a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Usage</h2>

<div class="highlight highlight-source-java"><pre><span class="pl-k">import</span> <span class="pl-smi">com.wantedtech.common.xpresso.x</span>;

x<span class="pl-k">.</span>print(<span class="pl-s"><span class="pl-pds">"</span>Hello World!<span class="pl-pds">"</span></span>);</pre></div>

<h2><a id="user-content-main-features" class="anchor" href="#main-features" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Main features</h2>

<h4><a id="user-content-types-similar-to-pythonic-ones" class="anchor" href="#types-similar-to-pythonic-ones" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Types similar to pythonic ones</h4>

<div class="highlight highlight-source-java"><pre><span class="pl-k">import</span> <span class="pl-smi">com.wantedtech.common.xpresso.types.*</span>;</pre></div>

<p>Imports: set, dict, list, tuple, DefaultDict, OrderedDict, Bag, HappyFile, HappySQL</p>

<h4><a id="user-content-slicable-and-iterable-str-type" class="anchor" href="#slicable-and-iterable-str-type" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Slicable and iterable str type</h4>

<div class="highlight highlight-source-java"><pre>str city <span class="pl-k">=</span> x<span class="pl-k">.</span>str(<span class="pl-s"><span class="pl-pds">"</span>New York City<span class="pl-pds">"</span></span>);

x<span class="pl-k">.</span>print(city<span class="pl-k">.</span>slice(<span class="pl-c1">4</span>,<span class="pl-c1">8</span>));

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-smi">York</span></pre></div>

<div class="highlight highlight-source-java"><pre><span class="pl-k">for</span> (<span class="pl-smi">String</span> character <span class="pl-k">:</span> city)
    x<span class="pl-k">.</span>print(character);

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-smi">N</span>
e
w

<span class="pl-smi">Y</span>
o
r
k</pre></div>

<h4><a id="user-content-one-line-file-open" class="anchor" href="#one-line-file-open" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>One-line file open</h4>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">with</span> <span class="pl-c1">open</span>(<span class="pl-s"><span class="pl-pds">"</span>name.txt<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>r<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>utf-8<span class="pl-pds">"</span></span>) <span class="pl-k">as</span> f:
    <span class="pl-c">#do stuff</span></pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">try</span> (<span class="pl-smi">HappyFile</span> f <span class="pl-k">=</span> x<span class="pl-k">.</span>open(<span class="pl-s"><span class="pl-pds">"</span>name.txt<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>r<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>utf-8<span class="pl-pds">"</span></span>)) {
    <span class="pl-c">//do stuff</span>
}</pre></div>

<p>Works for write/read/append in both text and binary mode.</p>

<p>As in Python, a file opened for reading in text mode is an Iterable of strings:</p>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">for</span> line <span class="pl-k">in</span> f:
    <span class="pl-c1">print</span> line</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">for</span> (<span class="pl-smi">String</span> line <span class="pl-k">:</span> f)
    x<span class="pl-k">.</span>print(line);</pre></div>

<h4><a id="user-content-tuples" class="anchor" href="#tuples" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Tuples</h4>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre>my_car <span class="pl-k">=</span> (<span class="pl-s"><span class="pl-pds">"</span>Honda<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span>, <span class="pl-c1">2010</span>, <span class="pl-c1">True</span>)</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre>tuple myCar <span class="pl-k">=</span> x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>Honda<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span>, <span class="pl-c1">2010</span>, <span class="pl-c1">true</span>);</pre></div>

<p>Dynamic name assignment to tuple elements:</p>

<div class="highlight highlight-source-java"><pre>myCar<span class="pl-k">.</span>name(<span class="pl-s"><span class="pl-pds">"</span>make<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>color<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>good<span class="pl-pds">"</span></span>);
x<span class="pl-k">.</span>print(myCar<span class="pl-k">.</span>get(<span class="pl-s"><span class="pl-pds">"</span>good<span class="pl-pds">"</span></span>),myCar<span class="pl-k">.</span>get(<span class="pl-s"><span class="pl-pds">"</span>make<span class="pl-pds">"</span></span>),myCar<span class="pl-k">.</span>get(<span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span>));

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-c1">true</span> <span class="pl-smi">Honda</span> <span class="pl-c1">2010</span></pre></div>

<p>If <em>name</em> method has not yet been called, but <em>get(someName)</em> is called for the first time, then the returned value will be <em>get(i)</em>, where <em>i</em> is the smallest index of a remaining unnamed element in the tuple. All the subsequent calls for the same value <em>someName</em>, the same element <em>i</em> will be returned by <em>get(someName)</em>.</p>

<p>You can also define and use a typed version of tuple. For example:</p>

<div class="highlight highlight-source-java"><pre>tuple3<span class="pl-k">&lt;</span><span class="pl-smi">String</span>,<span class="pl-smi">String</span>,<span class="pl-smi">Integer</span><span class="pl-k">&gt;</span> myCar <span class="pl-k">=</span> x<span class="pl-k">.</span>tuple3(<span class="pl-s"><span class="pl-pds">"</span>Honda<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span>, <span class="pl-c1">2010</span>);

<span class="pl-smi">String</span> myCarMake <span class="pl-k">=</span> myCar<span class="pl-k">.</span>left;
<span class="pl-smi">String</span> myCarColor <span class="pl-k">=</span> myCar<span class="pl-k">.</span>middle;
<span class="pl-smi">Integer</span> myCarYear <span class="pl-k">=</span> myCar<span class="pl-k">.</span>right;

tuple2<span class="pl-k">&lt;</span><span class="pl-smi">String</span>,tuple3<span class="pl-k">&lt;</span><span class="pl-smi">String</span>,<span class="pl-smi">String</span>,<span class="pl-smi">Integer</span><span class="pl-k">&gt;&gt;</span> item <span class="pl-k">=</span> x<span class="pl-k">.</span>tuple2(<span class="pl-s"><span class="pl-pds">"</span>car<span class="pl-pds">"</span></span>,myCar);

<span class="pl-smi">String</span> type <span class="pl-k">=</span> item<span class="pl-k">.</span>key; <span class="pl-c">//or, alternatively String type = item.left;</span>
tuple3<span class="pl-k">&lt;</span><span class="pl-smi">String</span>,<span class="pl-smi">String</span>,<span class="pl-smi">Integer</span><span class="pl-k">&gt;</span> car <span class="pl-k">=</span> item<span class="pl-k">.</span>value; <span class="pl-c">//or, alternatively tuple3&lt;String,String,Integer&gt; car = item.right;</span></pre></div>

<h4><a id="user-content-neat-standard-object-creation" class="anchor" href="#neat-standard-object-creation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Neat standard object creation</h4>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre>trips <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">"</span>Dubai<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>New York<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>London<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Paris<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Moscow<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>London<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Saint-Petersburg<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>New York<span class="pl-pds">"</span></span>]

russian_cities <span class="pl-k">=</span> <span class="pl-c1">set</span>([<span class="pl-s"><span class="pl-pds">"</span>Moscow<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Saint-Petersburg<span class="pl-pds">"</span></span>])

rank <span class="pl-k">=</span> <span class="pl-c1">dict</span>((<span class="pl-s"><span class="pl-pds">"</span>Moscow<span class="pl-pds">"</span></span>:<span class="pl-c1">30</span>),(<span class="pl-s"><span class="pl-pds">"</span>Saint-Petersburg<span class="pl-pds">"</span></span>:<span class="pl-c1">15</span>),(<span class="pl-s"><span class="pl-pds">"</span>New York<span class="pl-pds">"</span></span>:<span class="pl-c1">20</span>),(<span class="pl-s"><span class="pl-pds">"</span>London<span class="pl-pds">"</span></span>:<span class="pl-c1">10</span>),(<span class="pl-s"><span class="pl-pds">"</span>Paris<span class="pl-pds">"</span></span>:<span class="pl-c1">5</span>),(<span class="pl-s"><span class="pl-pds">"</span>Dubai<span class="pl-pds">"</span></span>:<span class="pl-c1">32</span>))
</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre>list<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> trips <span class="pl-k">=</span> x<span class="pl-k">.</span>list(<span class="pl-s"><span class="pl-pds">"</span>Dubai<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>New York<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>London<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Paris<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Moscow<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>London<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Saint-Petersburg<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>New York<span class="pl-pds">"</span></span>);

set<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> russianCities <span class="pl-k">=</span> x<span class="pl-k">.</span>set(<span class="pl-s"><span class="pl-pds">"</span>Moscow<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Saint-Petersburg<span class="pl-pds">"</span></span>);

dict<span class="pl-k">&lt;</span><span class="pl-smi">Integer</span><span class="pl-k">&gt;</span> rank <span class="pl-k">=</span> x<span class="pl-k">.</span>dict(x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>Moscow<span class="pl-pds">"</span></span>,<span class="pl-c1">30</span>),x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>Saint-Petersburg<span class="pl-pds">"</span></span>,<span class="pl-c1">15</span>),x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>New York<span class="pl-pds">"</span></span>,<span class="pl-c1">20</span>),x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>London<span class="pl-pds">"</span></span>,<span class="pl-c1">10</span>),x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>Paris<span class="pl-pds">"</span></span>,<span class="pl-c1">5</span>),x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>Dubai<span class="pl-pds">"</span></span>,<span class="pl-c1">32</span>));</pre></div>

<h4><a id="user-content-functions-and-predicates" class="anchor" href="#functions-and-predicates" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Functions and predicates</h4>

<div class="highlight highlight-source-java"><pre><span class="pl-k">import</span> <span class="pl-smi">com.wantedtech.common.functional.*</span>

<span class="pl-k">Function&lt;<span class="pl-smi">Object</span>, <span class="pl-smi">String</span>&gt;</span> toUpperCaseFun <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">Function&lt;<span class="pl-smi">Object</span>, <span class="pl-smi">String</span>&gt;</span>() {
    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">apply</span>(<span class="pl-smi">Object</span> <span class="pl-v">value</span>) {
        <span class="pl-k">return</span> value<span class="pl-k">.</span>toString()<span class="pl-k">.</span>toUpperCase();
    }
};

list<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> tripsUp <span class="pl-k">=</span> x<span class="pl-k">.</span>map(toUpperCaseFun, trips);
x<span class="pl-k">.</span>print(tripsUp);

<span class="pl-smi">Console</span><span class="pl-k">:</span> [<span class="pl-c1">DUBAI</span>, <span class="pl-c1">NEW</span> <span class="pl-c1">YORK</span>, <span class="pl-c1">LONDON</span>, <span class="pl-c1">PARIS</span>, <span class="pl-c1">MOSCOW</span>, <span class="pl-c1">LONDON</span>, <span class="pl-c1">SAINT</span><span class="pl-k">-</span><span class="pl-c1">PETERSBURG</span>, <span class="pl-c1">NEW</span> <span class="pl-c1">YORK</span>]</pre></div>

<div class="highlight highlight-source-java"><pre><span class="pl-k">Predicate&lt;<span class="pl-smi">Object</span>&gt;</span> containsO <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">Predicate&lt;<span class="pl-smi">Object</span>&gt;</span>() {
    <span class="pl-k">public</span> <span class="pl-smi">Boolean</span> <span class="pl-en">apply</span>(<span class="pl-smi">Object</span> <span class="pl-v">value</span>) {
        <span class="pl-k">return</span> <span class="pl-smi">x<span class="pl-k">.</span>String</span>(<span class="pl-s"><span class="pl-pds">"</span>o<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>in(value<span class="pl-k">.</span>toString()) <span class="pl-k">?</span> <span class="pl-c1">true</span> <span class="pl-k">:</span> <span class="pl-c1">false</span>;
    }
};

list<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> tripsO <span class="pl-k">=</span> x<span class="pl-k">.</span>filter(containsO, trips);
x<span class="pl-k">.</span>print(tripsO);

<span class="pl-smi">Console</span><span class="pl-k">:</span> [<span class="pl-smi">New</span> <span class="pl-smi">York</span>, <span class="pl-smi">London</span>, <span class="pl-smi">Moscow</span>, <span class="pl-smi">London</span>, <span class="pl-smi">New</span> <span class="pl-smi">York</span>]</pre></div>

<p>You don't need to define a new Function class every time you want to transform an iterable in a certain way. You can use the x.Function that automagically wraps any static method of any Java class into a Function:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">Function&lt;<span class="pl-smi">String</span>,<span class="pl-smi">String</span>&gt;</span> myUpper <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>Function</span>(<span class="pl-smi">String</span><span class="pl-k">.</span>class, <span class="pl-s"><span class="pl-pds">"</span>toUpperCase<span class="pl-pds">"</span></span>);

iterable <span class="pl-k">=</span> x<span class="pl-k">.</span>map(myUpper, iterable);</pre></div>

<p>The x.Function method can also wrap static methods that take several arguments:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">Function&lt;tuple3<span class="pl-k">&lt;String,Integer,Boolean&gt;</span>,<span class="pl-smi">Double</span>&gt;</span> mySomeFunc <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>Function</span>(<span class="pl-smi">Some</span><span class="pl-k">.</span>class, <span class="pl-s"><span class="pl-pds">"</span>someStaticMethod<span class="pl-pds">"</span></span>);

<span class="pl-k">Function&lt;tuple3<span class="pl-k">&lt;String,Integer,Boolean&gt;</span>,<span class="pl-smi">Double</span>&gt;</span> myOtherFunc <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>Function</span>(<span class="pl-smi">Other</span><span class="pl-k">.</span>class, <span class="pl-s"><span class="pl-pds">"</span>someOtherMethod<span class="pl-pds">"</span></span>);

<span class="pl-k">Function&lt;tuple3<span class="pl-k">&lt;String,Integer,Boolean&gt;</span>,<span class="pl-smi">Double</span>&gt;</span> funcToUse;
<span class="pl-k">if</span> (someCondition) {
    funcToUse <span class="pl-k">=</span> mySomeFunc;
} <span class="pl-k">else</span> {
    funcToUse <span class="pl-k">=</span> myOtherFunc;
}

<span class="pl-k">double</span> sum;
<span class="pl-k">for</span> (element <span class="pl-k">:</span> iterable) {
    sum <span class="pl-k">+=</span> funcToUse<span class="pl-k">.</span>apply(x<span class="pl-k">.</span>tuple3(element,intParam,boolParam));
}</pre></div>

<p>If in a certain class there're more than one static method with the same name, you need to specify which one of them you want to wrap by providing parameter types:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">Function&lt;tuple3<span class="pl-k">&lt;String,Integer,Boolean&gt;</span>,<span class="pl-smi">Double</span>&gt;</span> mySomeFunc <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>Function</span>(<span class="pl-smi">Some</span><span class="pl-k">.</span>class, <span class="pl-s"><span class="pl-pds">"</span>someStaticMethod<span class="pl-pds">"</span></span>, <span class="pl-smi">String</span><span class="pl-k">.</span>class, <span class="pl-smi">Integer</span><span class="pl-k">.</span>class, <span class="pl-smi">Boolean</span><span class="pl-k">.</span>class);</pre></div>

<h4><a id="user-content-lambda-expressions" class="anchor" href="#lambda-expressions" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Lambda expressions</h4>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre>best_cities <span class="pl-k">=</span> <span class="pl-c1">reversed</span>(<span class="pl-c1">sorted</span>(item <span class="pl-k">for</span> item <span class="pl-k">in</span> rank.items(),<span class="pl-k">lambda</span> <span class="pl-smi">x</span>: x[<span class="pl-c1">0</span>]))</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre>list<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> bestCities <span class="pl-k">=</span> x<span class="pl-k">.</span>reverse(x<span class="pl-k">.</span>sort(yield()<span class="pl-k">.</span>forEach(rank<span class="pl-k">.</span>items()),x<span class="pl-k">.</span>lambdaF(<span class="pl-s"><span class="pl-pds">"</span>x: x[0]<span class="pl-pds">"</span></span>)));</pre></div>

<p>More complex lambda expressions:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">Predicate&lt;<span class="pl-smi">Object</span>&gt;</span> pr <span class="pl-k">=</span> x<span class="pl-k">.</span>lambdaP(<span class="pl-s"><span class="pl-pds">"</span>x : f0(f1(x[1])) == '''new york'''<span class="pl-pds">"</span></span>,x<span class="pl-k">.</span>lower,x<span class="pl-k">.</span>strip);</pre></div>

<div class="highlight highlight-source-java"><pre><span class="pl-k">Function&lt;<span class="pl-smi">Object</span>,<span class="pl-smi">Integer</span>&gt;</span> squareFun <span class="pl-k">=</span> x<span class="pl-k">.</span>lambdaF(<span class="pl-s"><span class="pl-pds">"</span>x : x * x<span class="pl-pds">"</span></span>);

<span class="pl-k">Function&lt;<span class="pl-smi">Object</span>,<span class="pl-smi">Integer</span>&gt;</span> fun <span class="pl-k">=</span> x<span class="pl-k">.</span>lambdaF(<span class="pl-s"><span class="pl-pds">"</span>x : x[0] * 10 * (x[1] - f0(x[2])))<span class="pl-pds">"</span></span>,squareFun);</pre></div>

<p>Function chains:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">Function&lt;<span class="pl-smi">Object</span>,<span class="pl-smi">Integer</span>&gt;</span> incrementFun <span class="pl-k">=</span> x<span class="pl-k">.</span>lambdaF(<span class="pl-s"><span class="pl-pds">"</span>x : x + 1<span class="pl-pds">"</span></span>);
<span class="pl-k">Function&lt;<span class="pl-smi">Object</span>,<span class="pl-smi">Integer</span>&gt;</span> squareFun <span class="pl-k">=</span> x<span class="pl-k">.</span>lambdaF(<span class="pl-s"><span class="pl-pds">"</span>x : x * x<span class="pl-pds">"</span></span>);

<span class="pl-k">Function&lt;<span class="pl-smi">Object</span>,<span class="pl-smi">Integer</span>&gt;</span> chainFun <span class="pl-k">=</span> x<span class="pl-k">.</span>chain(incrementFun,squareFun);</pre></div>

<p><em>chainFun</em> will first increment, then square its input. <em>x.chain(...)</em> can take more than two functions as argument. The last function in the chain has to return the value of the desired output type.</p>

<h4><a id="user-content-list-comprehensions" class="anchor" href="#list-comprehensions" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>List comprehensions</h4>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre>foreign_trips_lower <span class="pl-k">=</span> [city.lower() <span class="pl-k">for</span> city <span class="pl-k">in</span> trips <span class="pl-k">if</span> city <span class="pl-k">not</span> <span class="pl-k">in</span> russian_cities]</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre>list<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> foreignTripsLower <span class="pl-k">=</span> x<span class="pl-k">.</span>list(x<span class="pl-k">.</span><span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span>yield()<span class="pl-k">.</span>apply(x<span class="pl-k">.</span>lower)<span class="pl-k">.</span>forEach(trips)<span class="pl-k">.</span>unless(x<span class="pl-k">.</span>in(russianCities)));</pre></div>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre>cool_cities <span class="pl-k">=</span> <span class="pl-c1">dict</span>([(city.upper(),true) <span class="pl-k">for</span> (city, score) <span class="pl-k">in</span> rank.items() <span class="pl-k">if</span> score <span class="pl-k">&gt;</span> <span class="pl-c1">5</span>])</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre>dict<span class="pl-k">&lt;</span><span class="pl-smi">Integer</span><span class="pl-k">&gt;</span> coolCities <span class="pl-k">=</span> x<span class="pl-k">.</span>dict(x<span class="pl-k">.</span>yield(<span class="pl-s"><span class="pl-pds">"</span>city<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>_<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>apply(x<span class="pl-k">.</span>upper)<span class="pl-k">.</span>replace(<span class="pl-c1">true</span>)<span class="pl-k">.</span>where(<span class="pl-s"><span class="pl-pds">"</span>city<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>score<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>in(rank<span class="pl-k">.</span>items())<span class="pl-k">.</span>when(x<span class="pl-k">.</span>lambdaP(<span class="pl-s"><span class="pl-pds">"</span>city, score : score &gt; 20<span class="pl-pds">"</span></span>)));</pre></div>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre>evals <span class="pl-k">=</span> [<span class="pl-c1">True</span> <span class="pl-k">if</span> value <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>good<span class="pl-pds">"</span></span> <span class="pl-k">else</span> <span class="pl-c1">False</span> <span class="pl-k">for</span> value <span class="pl-k">in</span> some_list]</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre>list<span class="pl-k">&lt;</span><span class="pl-smi">Boolean</span><span class="pl-k">&gt;</span> evals <span class="pl-k">=</span> x<span class="pl-k">.</span>list(x<span class="pl-k">.</span><span class="pl-k">&lt;</span><span class="pl-smi">Boolean</span><span class="pl-k">&gt;</span>yield()<span class="pl-k">.</span>replace(<span class="pl-c1">true</span>)<span class="pl-k">.</span>when(x<span class="pl-k">.</span>lambdaP(<span class="pl-s"><span class="pl-pds">"</span>x : x == '''good'''<span class="pl-pds">"</span></span>))<span class="pl-k">.</span>replaceOtherwise(<span class="pl-c1">false</span>)<span class="pl-k">.</span>forEach(someList));</pre></div>

<p>You can use list comprehensions to extract properties from element objects:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">class</span> <span class="pl-en">PlannedTrip</span> {
    <span class="pl-k">int</span> year;
    <span class="pl-smi">String</span> city;

    <span class="pl-k">public</span> <span class="pl-en">PlannedTrip</span>(<span class="pl-k">int</span> <span class="pl-v">year</span>, <span class="pl-smi">String</span> <span class="pl-v">city</span>) {
        <span class="pl-v">this</span><span class="pl-k">.</span>year <span class="pl-k">=</span> year;
        <span class="pl-v">this</span><span class="pl-k">.</span>city <span class="pl-k">=</span> city;
    }

    <span class="pl-k">public</span> <span class="pl-k">int</span> <span class="pl-en">getYear</span>() { <span class="pl-k">return</span> year; }
    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">getCity</span>() { <span class="pl-k">return</span> city; }
}

list<span class="pl-k">&lt;</span><span class="pl-smi">PlannedTrip</span><span class="pl-k">&gt;</span> plans <span class="pl-k">=</span> x<span class="pl-k">.</span>list(<span class="pl-k">new</span> <span class="pl-smi">PlannedTrip</span>(<span class="pl-c1">2015</span>, <span class="pl-s"><span class="pl-pds">"</span>Moscow<span class="pl-pds">"</span></span>), <span class="pl-k">new</span> <span class="pl-smi">PlannedTrip</span>(<span class="pl-c1">2016</span>, <span class="pl-s"><span class="pl-pds">"</span>Paris<span class="pl-pds">"</span></span>));

list<span class="pl-k">&lt;</span>tuple<span class="pl-k">&gt;</span> plansData <span class="pl-k">=</span> x<span class="pl-k">.</span>list(x<span class="pl-k">.</span>yield(<span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>city<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>where(<span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>city<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>in(plans));

x<span class="pl-k">.</span>print(plansData);

<span class="pl-smi">Console</span><span class="pl-k">:</span> [(<span class="pl-c1">2015</span>, <span class="pl-smi">Moscow</span>), (<span class="pl-c1">2016</span>, <span class="pl-smi">Paris</span>)]</pre></div>

<p>You can also filter the extracted values in the same expression:</p>

<div class="highlight highlight-source-java"><pre>list<span class="pl-k">&lt;</span>tuple<span class="pl-k">&gt;</span> plansData <span class="pl-k">=</span> x<span class="pl-k">.</span>list(x<span class="pl-k">.</span>yield(<span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>city<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>where(<span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>city<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>in(plans)<span class="pl-k">.</span>when(x<span class="pl-k">.</span>lambdaP(<span class="pl-s"><span class="pl-pds">"</span>year, city : year &gt; 2015)));</span>
<span class="pl-s"/>
<span class="pl-s">x.print(plansData);</span>
<span class="pl-s"/>
<span class="pl-s">Console: [(2016, Paris)]</span></pre></div>

<h4><a id="user-content-restful-web-services" class="anchor" href="#restful-web-services" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>RESTful web services</h4>

<p>Let's suppose we have an object of a class SomeMath which has two methods we would like to publish on the network as RESTful web services, getSum and getProduct:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">SomeMath</span>() {
    <span class="pl-k">public</span> <span class="pl-smi">Double</span> <span class="pl-en">getSum</span>(<span class="pl-k">Double</span>[] <span class="pl-v">values</span>) { <span class="pl-c">//we want to publish this one</span>
        <span class="pl-k">return</span> x<span class="pl-k">.</span>sum(values);
    }
    <span class="pl-k">public</span> <span class="pl-smi">Double</span> <span class="pl-en">getProduct</span>(<span class="pl-smi">Double</span> <span class="pl-v">x</span>, <span class="pl-smi">Double</span> <span class="pl-v">y</span>) {<span class="pl-c">//and this one</span>
        <span class="pl-k">return</span> x <span class="pl-k">*</span> y;
    }
    <span class="pl-k">public</span> <span class="pl-smi">Double</span> <span class="pl-en">anotherMethod</span>(<span class="pl-smi">Double</span> <span class="pl-v">somethingElse</span>) {<span class="pl-c">//but not this one</span>
        <span class="pl-k">return</span> somethingElse;
    }
}</pre></div>

<p>In order to convert our SomeMath class into a web service, we simply need to first annotate our two methods we want to call from the network with the @ExposeAs annotation, and then start our web service:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">SomeMath</span>() {
    <span class="pl-k">public</span> <span class="pl-smi">Double</span> <span class="pl-en">getSum</span>(<span class="pl-k">@ExposeAs</span>(<span class="pl-s"><span class="pl-pds">"</span>values<span class="pl-pds">"</span></span>) <span class="pl-k">Double</span>[] <span class="pl-v">values</span>) {
        <span class="pl-k">return</span> x<span class="pl-k">.</span>sum(values);
    }
    <span class="pl-k">public</span> <span class="pl-smi">Double</span> <span class="pl-en">getProduct</span>(<span class="pl-k">@ExposeAs</span>(<span class="pl-s"><span class="pl-pds">"</span>x<span class="pl-pds">"</span></span>) <span class="pl-smi">Double</span> <span class="pl-v">x</span>, <span class="pl-k">@ExposeAs</span>(<span class="pl-s"><span class="pl-pds">"</span>y<span class="pl-pds">"</span></span>) <span class="pl-smi">Double</span> <span class="pl-v">y</span>) {
        <span class="pl-k">return</span> x <span class="pl-k">*</span> y;
    }
    <span class="pl-k">public</span> <span class="pl-smi">Double</span> <span class="pl-en">anotherMethod</span>(<span class="pl-smi">Double</span> <span class="pl-v">somethingElse</span>) {
        <span class="pl-k">return</span> somethingElse;
    }
}

<span class="pl-smi">WebService</span> ws <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>WebService</span>(<span class="pl-k">new</span> <span class="pl-smi">SomeMath</span>(), <span class="pl-c1">8080</span>)<span class="pl-k">.</span>start();</pre></div>

<p>That's all! Our web service is up and running. Let's test it. Open the following url in your browser:</p>

<pre><code>http://localhost:8080/SomeMath/getSum?values=5&amp;values=6&amp;values=7
</code></pre>

<p>The output:</p>

<pre><code>18.0
</code></pre>

<p>Now open the following url:</p>

<pre><code>http://localhost:8080/SomeMath/getProduct?x=5&amp;y=10
</code></pre>

<p>The output:</p>

<pre><code>50.0
</code></pre>

<p>If a method returns an output type of more complex classes such as Java's standard Map and List, or xpresso's own list and dict, the output will be a corresponding JSON string.</p>

<h4><a id="user-content-generators" class="anchor" href="#generators" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Generators</h4>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">firstn</span>(<span class="pl-smi">n</span>):
    num <span class="pl-k">=</span> <span class="pl-c1">0</span>
    <span class="pl-k">while</span> num <span class="pl-k">&lt;</span> n:
        <span class="pl-k">yield</span> num
        num <span class="pl-k">+=</span> <span class="pl-c1">1</span>

<span class="pl-k">for</span> i <span class="pl-k">in</span> firstn(<span class="pl-c1">500000</span>):
    <span class="pl-c1">print</span> i</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">public</span> <span class="pl-k">Generator&lt;<span class="pl-smi">Integer</span>&gt;</span> firstn (<span class="pl-k">final</span> <span class="pl-k">int</span> n) {
    <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-k">Generator&lt;<span class="pl-smi">Integer</span>&gt;</span>() {
        <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">generate</span>() {
            <span class="pl-k">int</span> num <span class="pl-k">=</span> <span class="pl-c1">0</span>;
            <span class="pl-k">while</span> (num <span class="pl-k">&lt;</span> n) {
                yield(num);
                num<span class="pl-k">++</span>;
            }
        }
    };
}

<span class="pl-k">for</span> (<span class="pl-k">int</span> i <span class="pl-k">:</span> firstn(<span class="pl-c1">500000</span>)) 
    x<span class="pl-k">.</span>print(i);</pre></div>

<h4><a id="user-content-memoization" class="anchor" href="#memoization" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Memoization</h4>

<p>As a quick example, let <em>xerox</em> be a <em>Function</em> object whose method <em>apply</em> copies the string <em>"hello"</em> the given number <em>count</em> of times:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">Function&lt;<span class="pl-smi">Integer</span>, <span class="pl-smi">String</span>&gt;</span> xerox <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">Function&lt;<span class="pl-smi">Integer</span>, <span class="pl-smi">String</span>&gt;</span>() {
    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">apply</span>(<span class="pl-smi">Integer</span> <span class="pl-v">count</span>) {
        <span class="pl-k">return</span> <span class="pl-smi">x<span class="pl-k">.</span>String</span>(<span class="pl-s"><span class="pl-pds">"</span>hello<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>times(count);
    }
};</pre></div>

<p>It's a long to execute function for large values of <em>count</em>.</p>

<p>In order to avoid the long computation for the same value of <em>count</em>, we first create a cached version of xerox using <strong>x.memo</strong>:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">Function&lt;<span class="pl-smi">Integer</span>,<span class="pl-smi">String</span>&gt;</span> cachedXerox <span class="pl-k">=</span> x<span class="pl-k">.</span>memo(xerox);</pre></div>

<p>The first call of the function. The computation takes a very long time:</p>

<div class="highlight highlight-source-java"><pre>x<span class="pl-k">.</span>timer<span class="pl-k">.</span>start();
<span class="pl-smi">String</span> copies <span class="pl-k">=</span> cachedXerox<span class="pl-k">.</span>apply(<span class="pl-c1">5000000</span>);
x<span class="pl-k">.</span>print(x<span class="pl-k">.</span>timer<span class="pl-k">.</span>stop());

<span class="pl-smi">Console</span><span class="pl-k">:</span> 18<span class="pl-k">.</span>898s</pre></div>

<p>The second call with the same value of <em>count</em>, the result is instantaneous:</p>

<div class="highlight highlight-source-java"><pre>x<span class="pl-k">.</span>timer<span class="pl-k">.</span>start();
<span class="pl-smi">String</span> moreCopies <span class="pl-k">=</span> cachedXerox<span class="pl-k">.</span>apply(<span class="pl-c1">5000000</span>);
x<span class="pl-k">.</span>print(x<span class="pl-k">.</span>timer<span class="pl-k">.</span>stop());

<span class="pl-smi">Console</span><span class="pl-k">:</span> 0<span class="pl-k">.</span>0s</pre></div>

<p><em>x.memo</em> can be used to cache methods of object of any Java type, not only Function. Notice the usage of the standard <em>x.timer</em>: no additional timer object needs to be created.</p>

<h4><a id="user-content-concurrency-beta" class="anchor" href="#concurrency-beta" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Concurrency (beta)</h4>

<p>Concurrency in xpresso is inspired by <a href="https://en.wikipedia.org/wiki/Go_(programming_language)">Go</a> and, as a consequence, is extremely simple. First, define a worker as an instance of Predicate:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">Predicate&lt;<span class="pl-k">Channel&lt;<span class="pl-smi">Integer</span>&gt;</span>&gt;</span> worker <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">Predicate&lt;<span class="pl-k">Channel&lt;<span class="pl-smi">Integer</span>&gt;</span>&gt;</span>() {
    <span class="pl-k">public</span> <span class="pl-smi">Boolean</span> <span class="pl-en">apply</span>(<span class="pl-k">Channel&lt;<span class="pl-smi">Integer</span>&gt;</span> <span class="pl-v">channel</span>) {
        <span class="pl-k">while</span> (some_condition_true) {
            <span class="pl-smi">Integer</span> value <span class="pl-k">=</span> computeValue(); <span class="pl-c">//compute something in parallel</span>
            channel<span class="pl-k">.</span>send(value);            <span class="pl-c">//send the computed value to the channel</span>
        }
        <span class="pl-k">return</span> <span class="pl-c1">true</span>;                        <span class="pl-c">//everything went as expected</span>
    }
};</pre></div>

<p>Then, define the channel to where the workers should send the computed values as soon as those values are ready:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">Channel&lt;<span class="pl-smi">Integer</span>&gt;</span> channel <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>Channel</span>(<span class="pl-smi">Integer</span><span class="pl-k">.</span>class);<span class="pl-c">//this channel only accepts Integer values</span></pre></div>

<p>Then, start as many concurrent workers as needed:</p>

<div class="highlight highlight-source-java"><pre>x<span class="pl-k">.</span>go(worker, channel);
x<span class="pl-k">.</span>go(worker, channel);
x<span class="pl-k">.</span>go(worker, channel);
<span class="pl-c1">...</span></pre></div>

<p>Finally, retrieve from the channel the values concurrently computed by the workers when those values are needed:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">for</span> (<span class="pl-smi">Integer</span> value <span class="pl-k">:</span> channel) {
    x<span class="pl-k">.</span>print(value);
}</pre></div>

<h4><a id="user-content-mapreduce-beta" class="anchor" href="#mapreduce-beta" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>MapReduce (beta)</h4>

<p>Let's assume that we have a list of elements we want to process:</p>

<div class="highlight highlight-source-java"><pre>list<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> elements <span class="pl-k">=</span> x<span class="pl-k">.</span>list(<span class="pl-s"><span class="pl-pds">"</span>Map<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>aNd<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>ReDuce<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>arE<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>aWEsome<span class="pl-pds">"</span></span>);</pre></div>

<p>The processing of each element takes a long time (10 seconds), so we want to parallelize the processing on our multicore machine. Let the processing be as follows: if the element starts with an "a", then put it in uppercase and join it with other uppercase elements using "~" as separator; if the element doesn't start with an "a", then put it to lowercase and join it with other lowercase words.</p>

<p>Let's define the Mapper and Reducer:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">import</span> <span class="pl-smi">com.wantedtech.common.xpresso.experimental.concurrency.Mapper</span>;
<span class="pl-k">import</span> <span class="pl-smi">com.wantedtech.common.xpresso.experimental.concurrency.Reducer</span>;

<span class="pl-k">static</span> <span class="pl-k">Mapper&lt;<span class="pl-smi">String</span>,<span class="pl-smi">String</span>&gt;</span> mapper <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">Mapper&lt;<span class="pl-smi">String</span>,<span class="pl-smi">String</span>&gt;</span>() {
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">map</span>(<span class="pl-smi">String</span> <span class="pl-v">input</span>) {
        <span class="pl-smi">x<span class="pl-k">.</span>Time</span><span class="pl-k">.</span>sleep(<span class="pl-c1">10</span>); <span class="pl-c">//the processing of each element takes a long time :-)</span>
        <span class="pl-k">if</span> (<span class="pl-smi">x<span class="pl-k">.</span>String</span>(input)<span class="pl-k">.</span>startsWith(<span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span>)) {
            yield(<span class="pl-s"><span class="pl-pds">"</span>upper<span class="pl-pds">"</span></span>, input<span class="pl-k">.</span>toUpperCase());                
        } <span class="pl-k">else</span> {
            yield(<span class="pl-s"><span class="pl-pds">"</span>lower<span class="pl-pds">"</span></span>, input<span class="pl-k">.</span>toLowerCase());
        }
    }
};

<span class="pl-k">static</span> <span class="pl-k">Reducer&lt;<span class="pl-smi">String</span>,<span class="pl-smi">String</span>&gt;</span> reducer <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">Reducer&lt;<span class="pl-smi">String</span>,<span class="pl-smi">String</span>&gt;</span>() {
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">reduce</span>(<span class="pl-v">tuple2</span>&lt;<span class="pl-smi">String</span>,<span class="pl-v">list</span>&lt;<span class="pl-smi">String</span>&gt;&gt; <span class="pl-v">input</span>) {
        yield(input<span class="pl-k">.</span>key,<span class="pl-smi">x<span class="pl-k">.</span>String</span>(<span class="pl-s"><span class="pl-pds">"</span>~<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>join(input<span class="pl-k">.</span>value));
    }
};</pre></div>

<p>Our mapper does the transformation of the string case as described above, and our reducer joins the resulting values with the "~".</p>

<p>Our MapReduce setup is now ready, so let's start crunching:</p>

<div class="highlight highlight-source-java"><pre>x<span class="pl-k">.</span>timer<span class="pl-k">.</span>start();
x<span class="pl-k">.</span>print(x<span class="pl-k">.</span><span class="pl-k">&lt;</span><span class="pl-smi">String</span>,<span class="pl-smi">String</span>,<span class="pl-smi">String</span><span class="pl-k">&gt;</span>MapReduce(elements)<span class="pl-k">.</span>map(mapper)<span class="pl-k">.</span>reduce(reducer), x<span class="pl-k">.</span>timer<span class="pl-k">.</span>stop());

<span class="pl-smi">Console</span><span class="pl-k">:</span>
{upper<span class="pl-k">:</span><span class="pl-c1">AND</span><span class="pl-k">~</span><span class="pl-c1">AWESOME</span><span class="pl-k">~</span><span class="pl-c1">ARE</span>, lower<span class="pl-k">:</span>reduce<span class="pl-k">~</span>map}
10<span class="pl-k">.</span>013s</pre></div>

<p>As you can see, the processing of all 5 elements took only about 10 seconds, while we have defined above that the processing of each single element takes 10 seconds.</p>

<h4><a id="user-content-json" class="anchor" href="#json" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>JSON</h4>

<p>Remember the <em>rank</em> dict:</p>

<div class="highlight highlight-source-java"><pre>dict<span class="pl-k">&lt;</span><span class="pl-smi">Integer</span><span class="pl-k">&gt;</span> rank <span class="pl-k">=</span> x<span class="pl-k">.</span>dict(x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>Moscow<span class="pl-pds">"</span></span>,<span class="pl-c1">30</span>),x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>Saint-Petersburg<span class="pl-pds">"</span></span>,<span class="pl-c1">15</span>),x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>New York<span class="pl-pds">"</span></span>,<span class="pl-c1">20</span>),x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>London<span class="pl-pds">"</span></span>,<span class="pl-c1">10</span>),x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>Paris<span class="pl-pds">"</span></span>,<span class="pl-c1">5</span>),x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>Dubai<span class="pl-pds">"</span></span>,<span class="pl-c1">32</span>));</pre></div>

<p>Let's first dump it as a String:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">String</span> rankAsString <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>Json</span>(rank)<span class="pl-k">.</span>toString();
x<span class="pl-k">.</span>print(rankAsString);

<span class="pl-smi">Console</span><span class="pl-k">:</span> {<span class="pl-s"><span class="pl-pds">"</span>New York<span class="pl-pds">"</span></span><span class="pl-k">:</span><span class="pl-c1">20</span>,<span class="pl-s"><span class="pl-pds">"</span>London<span class="pl-pds">"</span></span><span class="pl-k">:</span><span class="pl-c1">10</span>,<span class="pl-s"><span class="pl-pds">"</span>Saint-Petersburg<span class="pl-pds">"</span></span><span class="pl-k">:</span><span class="pl-c1">15</span>,<span class="pl-s"><span class="pl-pds">"</span>Moscow<span class="pl-pds">"</span></span><span class="pl-k">:</span><span class="pl-c1">30</span>,<span class="pl-s"><span class="pl-pds">"</span>Dubai<span class="pl-pds">"</span></span><span class="pl-k">:</span><span class="pl-c1">32</span>,<span class="pl-s"><span class="pl-pds">"</span>Paris<span class="pl-pds">"</span></span><span class="pl-k">:</span><span class="pl-c1">5</span>}</pre></div>

<p>Now let's create a copy of the <em>rank</em> dict from its JSON string representation:</p>

<div class="highlight highlight-source-java"><pre>dict<span class="pl-k">&lt;</span><span class="pl-smi">Integer</span><span class="pl-k">&gt;</span> rankCopy <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>String</span>(rankAsString)<span class="pl-k">.</span>parseJson();</pre></div>

<p>Compare the original <em>rank</em> dict to the copy:</p>

<div class="highlight highlight-source-java"><pre>x<span class="pl-k">.</span>print(<span class="pl-smi">x<span class="pl-k">.</span>Object</span>(rank)<span class="pl-k">.</span>equals(rankCopy));

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-c1">true</span></pre></div>

<h4><a id="user-content-csv" class="anchor" href="#csv" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>CSV</h4>

<p>Read from file:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">try</span> (<span class="pl-smi">HappyFile</span> f <span class="pl-k">=</span> x<span class="pl-k">.</span>open(<span class="pl-s"><span class="pl-pds">"</span>filename.txt<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>r<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>utf-8<span class="pl-pds">"</span></span>)) {
    <span class="pl-k">for</span> (list<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> row <span class="pl-k">:</span> x<span class="pl-k">.</span>csv(f)) {
        <span class="pl-c">//do stuff</span>
    }
}</pre></div>

<p>Or, simply:</p>

<div class="highlight highlight-source-java"><pre>list<span class="pl-k">&lt;</span>list<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;&gt;</span> data <span class="pl-k">=</span> x<span class="pl-k">.</span>list(x<span class="pl-k">.</span>csv(<span class="pl-s"><span class="pl-pds">"</span>filename.txt<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>r<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>utf-8<span class="pl-pds">"</span></span>));</pre></div>

<p>Write to file:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">try</span> (<span class="pl-smi">HappyFile</span> f <span class="pl-k">=</span> x<span class="pl-k">.</span>open(<span class="pl-s"><span class="pl-pds">"</span>filename.txt<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>w<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>utf-8<span class="pl-pds">"</span></span>)) {
    <span class="pl-k">for</span> (list<span class="pl-k">&lt;</span><span class="pl-k">?</span><span class="pl-k">&gt;</span> row <span class="pl-k">:</span> data){
        x<span class="pl-k">.</span>csv(f)<span class="pl-k">.</span>writerow(row);
    }
}</pre></div>

<p>Or, simply:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">try</span> (<span class="pl-smi">HappyFile</span> f <span class="pl-k">=</span> x<span class="pl-k">.</span>open(<span class="pl-s"><span class="pl-pds">"</span>filename.txt<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>w<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>utf-8<span class="pl-pds">"</span></span>)) {
    f<span class="pl-k">.</span>write(x<span class="pl-k">.</span>csv(data)<span class="pl-k">.</span>toString());
}</pre></div>

<p>Write to a StringBuilder:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">StringBuilder</span> builder <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">StringBuilder</span>();

<span class="pl-k">for</span> (list<span class="pl-k">&lt;</span><span class="pl-k">?</span><span class="pl-k">&gt;</span> row <span class="pl-k">:</span> data) {
    x<span class="pl-k">.</span>csv(builder)<span class="pl-k">.</span>writerow(row);
}

<span class="pl-smi">String</span> cs <span class="pl-k">=</span> c<span class="pl-k">.</span>toString();</pre></div>

<p>Or, simply:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">String</span> cs <span class="pl-k">=</span> x<span class="pl-k">.</span>csv(data)<span class="pl-k">.</span>toString();</pre></div>

<h4><a id="user-content-mysql" class="anchor" href="#mysql" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>MySQL</h4>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">String</span> host <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>host:port<span class="pl-pds">"</span></span>;
<span class="pl-smi">String</span> user <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>user<span class="pl-pds">"</span></span>;
<span class="pl-smi">String</span> password <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>;
<span class="pl-smi">String</span> db <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>db<span class="pl-pds">"</span></span>;

<span class="pl-k">try</span> (<span class="pl-smi">HappySQL</span> sql <span class="pl-k">=</span> x<span class="pl-k">.</span>mysql(host, user, password, db)) {
    <span class="pl-k">try</span> (<span class="pl-smi">HappySQL</span> sql2 <span class="pl-k">=</span> x<span class="pl-k">.</span>mysql(sql)){
        <span class="pl-smi">String</span> query <span class="pl-k">=</span>  <span class="pl-s"><span class="pl-pds">"</span>SELECT ID FROM <span class="pl-pds">"</span></span> <span class="pl-k">+</span>
                        <span class="pl-s"><span class="pl-pds">"</span>tbl_Employees e <span class="pl-pds">"</span></span> <span class="pl-k">+</span>
                        <span class="pl-s"><span class="pl-pds">"</span>WHERE e.Name LIKE ?<span class="pl-pds">"</span></span>;
        <span class="pl-k">for</span> (tuple row <span class="pl-k">:</span> sql<span class="pl-k">.</span>execute(query, <span class="pl-s"><span class="pl-pds">"</span>John %<span class="pl-pds">"</span></span>)) {
            query <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>UPDATE tbl_Employees <span class="pl-pds">"</span></span> <span class="pl-k">+</span>
                    <span class="pl-s"><span class="pl-pds">"</span>SET Promoted = 1 <span class="pl-pds">"</span></span> <span class="pl-k">+</span>
                    <span class="pl-s"><span class="pl-pds">"</span>WHERE ID = ?<span class="pl-pds">"</span></span>;
            sql2<span class="pl-k">.</span>execute(query, row<span class="pl-k">.</span>get(<span class="pl-s"><span class="pl-pds">"</span>ID<span class="pl-pds">"</span></span>));
        }
    }
}</pre></div>

<h4><a id="user-content-extended-string-functions" class="anchor" href="#extended-string-functions" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Extended String functions</h4>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">if</span> <span class="pl-s"><span class="pl-pds">"</span>e<span class="pl-pds">"</span></span> <span class="pl-k">in</span> <span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>:
    <span class="pl-c">#do stuff</span></pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">if</span>(<span class="pl-smi">x<span class="pl-k">.</span>String</span>(<span class="pl-s"><span class="pl-pds">"</span>e<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>in(<span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>)) {
    <span class="pl-c">//do stuff</span>
}</pre></div>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre>colorsPattern <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>|<span class="pl-pds">"</span></span>.join([<span class="pl-s"><span class="pl-pds">"</span>black<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>white<span class="pl-pds">"</span></span>])<span class="pl-id">;</span>

<span class="pl-c1">print</span> colorsPattern

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> black<span class="pl-k">|</span>green<span class="pl-k">|</span>red<span class="pl-k">|</span>white</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">String</span> colorsPattern <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>String</span>(<span class="pl-s"><span class="pl-pds">"</span>|<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>join(x<span class="pl-k">.</span>list(<span class="pl-s"><span class="pl-pds">"</span>black<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>white<span class="pl-pds">"</span></span>));

x<span class="pl-k">.</span>print(colorsPattern);

<span class="pl-smi">Console</span><span class="pl-k">:</span> black<span class="pl-k">|</span>green<span class="pl-k">|</span>red<span class="pl-k">|</span>white</pre></div>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre>tokens <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Moscow;London;Paris<span class="pl-pds">"</span></span>.split(<span class="pl-s"><span class="pl-pds">"</span>;<span class="pl-pds">"</span></span>)

<span class="pl-c1">print</span> tokens

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> [<span class="pl-s"><span class="pl-pds">'</span>Moscow<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>London<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Paris<span class="pl-pds">'</span></span>]</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre>list<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> tokens <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>String</span>(<span class="pl-s"><span class="pl-pds">"</span>Moscow;London;Paris<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>split(<span class="pl-s"><span class="pl-pds">"</span>;<span class="pl-pds">"</span></span>);

x<span class="pl-k">.</span>print(tokens);

<span class="pl-smi">Console</span><span class="pl-k">:</span> [<span class="pl-smi">Moscow</span>, <span class="pl-smi">London</span>, <span class="pl-smi">Paris</span>]</pre></div>

<p>Transliterate:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">String</span> trans <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>String</span>(<span class="pl-s"><span class="pl-pds">"</span>Чичётка 北亰<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>translit();

x<span class="pl-k">.</span>print(trans);

<span class="pl-smi">Console</span><span class="pl-k">:</span> Čičëtka bei jing

x<span class="pl-k">.</span>print(trans<span class="pl-k">.</span>stripAccents());

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-smi">Cicetka</span> bei jing</pre></div>

<p>Convert unicode to ascii:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">String</span> unidec <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>String</span>(<span class="pl-s"><span class="pl-pds">"</span>Чичётка 北亰<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>unidecode();

x<span class="pl-k">.</span>print(unidec);

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-smi">Chichiotka</span> bei jing</pre></div>

<p>Approximate string comparison:</p>

<div class="highlight highlight-source-java"><pre>x<span class="pl-k">.</span>print(<span class="pl-smi">x<span class="pl-k">.</span>String</span>(<span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>similarity(<span class="pl-s"><span class="pl-pds">"</span>Hello Wold!<span class="pl-pds">"</span></span>))

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-c1">91</span></pre></div>

<p>The output is 100% compatible with <a href="https://github.com/seatgeek/fuzzywuzzy">FuzzyWuzzy</a>.</p>

<p>Approximate pattern matching:</p>

<div class="highlight highlight-source-java"><pre>x<span class="pl-k">.</span>print(<span class="pl-smi">x<span class="pl-k">.</span>String</span>(<span class="pl-s"><span class="pl-pds">"</span>You are cooding in Java.<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>search(<span class="pl-s"><span class="pl-pds">"</span>coding<span class="pl-pds">"</span></span>));

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-c1">8</span></pre></div>

<p>Get similar strings:</p>

<div class="highlight highlight-source-java"><pre>list<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> lookAlikes <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>String</span>(<span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>lookAlikes(x<span class="pl-k">.</span>list(<span class="pl-s"><span class="pl-pds">"</span>ape<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>apples<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>peach<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>puppy<span class="pl-pds">"</span></span>),<span class="pl-c1">50</span>);

x<span class="pl-k">.</span>print(lookAlikes);

<span class="pl-smi">Console</span><span class="pl-k">:</span> [ape, apples]</pre></div>

<p>Tokenization:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">String</span> text <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>English is hard. It can be understood through tough thorough thought, though.<span class="pl-pds">"</span></span>;

<span class="pl-k">for</span> (<span class="pl-smi">Sentence</span> s <span class="pl-k">:</span> <span class="pl-smi">x<span class="pl-k">.</span>String</span><span class="pl-c1"><span class="pl-k">.</span>EN</span><span class="pl-k">.</span>tokenize(text)) {
    <span class="pl-k">for</span> (<span class="pl-smi">Token</span> t <span class="pl-k">:</span> s) {
        x<span class="pl-k">.</span>print(t);
    }
}

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-smi">English</span>
is
hard
<span class="pl-c1">.</span>
<span class="pl-smi">It</span>
can
<span class="pl-c1">...</span></pre></div>

<h4><a id="user-content-part-of-speech-tagging" class="anchor" href="#part-of-speech-tagging" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Part-of-speech tagging</h4>

<p>With xpresso  you can easily POS tag any English text with the very fast and accurate (~97%) Stanford CoreNLP english-left3words model:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">import</span> <span class="pl-smi">com.wantedtech.common.xpresso.sentence.Sentence</span>;
<span class="pl-k">import</span> <span class="pl-smi">com.wantedtech.common.xpresso.sentence.PosTagger</span>;
<span class="pl-k">import</span> <span class="pl-smi">com.wantedtech.common.xpresso.sentence.pos.en.stanford.MaxentPosTagger</span>;

<span class="pl-smi">PosTagger</span> posTagger <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">MaxentPosTagger</span>();
<span class="pl-smi">String</span> text <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Some English text. Multiple sentences.<span class="pl-pds">"</span></span>;
<span class="pl-k">for</span> (<span class="pl-smi">Sentence</span> sent <span class="pl-k">:</span> <span class="pl-smi">x<span class="pl-k">.</span>String</span><span class="pl-c1"><span class="pl-k">.</span>EN</span><span class="pl-k">.</span>tokenize(text)) {
    posTagger<span class="pl-k">.</span>tag(sent);
    x<span class="pl-k">.</span>print(sent<span class="pl-k">.</span>getAnnotations(<span class="pl-s"><span class="pl-pds">"</span>pos<span class="pl-pds">"</span></span>));
}

<span class="pl-smi">Console</span><span class="pl-k">:</span> [(<span class="pl-smi">Some</span>, <span class="pl-c1">DT</span>), (<span class="pl-smi">English</span>, <span class="pl-c1">NNP</span>), (text, <span class="pl-c1">NN</span>), (<span class="pl-c1">.</span>, <span class="pl-c1">.</span>)]
[(<span class="pl-smi">Multiple</span>, <span class="pl-c1">JJ</span>), (sentences, <span class="pl-c1">NNS</span>), (<span class="pl-c1">.</span>, <span class="pl-c1">.</span>)]</pre></div>

<h4><a id="user-content-slicing-for-list-string-and-str" class="anchor" href="#slicing-for-list-string-and-str" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Slicing for list, String, and str</h4>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre>trips <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">"</span>Dubai<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>New York<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>London<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Paris<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Moscow<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>London<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Saint-Petersburg<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>New York<span class="pl-pds">"</span></span>]

<span class="pl-c1">print</span> trips[<span class="pl-c1">2</span>:<span class="pl-c1">4</span>]

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> [<span class="pl-s"><span class="pl-pds">'</span>London<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Paris<span class="pl-pds">'</span></span>]</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre>x<span class="pl-k">.</span>print(trips<span class="pl-k">.</span>slice(<span class="pl-c1">2</span>,<span class="pl-c1">4</span>));

<span class="pl-smi">Console</span><span class="pl-k">:</span> [<span class="pl-smi">London</span>, <span class="pl-smi">Paris</span>]</pre></div>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c1">print</span> trips[:<span class="pl-c1">5</span>]

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> [<span class="pl-s"><span class="pl-pds">'</span>Dubai<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>New York<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>London<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Paris<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Moscow<span class="pl-pds">'</span></span>]</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre>x<span class="pl-k">.</span>print(trips<span class="pl-k">.</span>sliceTo(<span class="pl-c1">5</span>));

<span class="pl-smi">Console</span><span class="pl-k">:</span> [<span class="pl-smi">Dubai</span>, <span class="pl-smi">New</span> <span class="pl-smi">York</span>, <span class="pl-smi">London</span>, <span class="pl-smi">Paris</span>, <span class="pl-smi">Moscow</span>]</pre></div>

<p>Negative and non-unit steps are supported:</p>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c1">print</span> trips[::<span class="pl-k">-</span><span class="pl-c1">1</span>]

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> [<span class="pl-s"><span class="pl-pds">'</span>New York<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Saint-Petersburg<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>London<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Moscow<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Paris<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>London<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>New York<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Dubai<span class="pl-pds">'</span></span>]</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre>x<span class="pl-k">.</span>print(trips<span class="pl-k">.</span>slice(<span class="pl-k">-</span><span class="pl-c1">1</span>));

<span class="pl-smi">Console</span><span class="pl-k">:</span> [<span class="pl-smi">New</span> <span class="pl-smi">York</span>, <span class="pl-smi">Saint</span><span class="pl-k">-</span><span class="pl-smi">Petersburg</span>, <span class="pl-smi">London</span>, <span class="pl-smi">Moscow</span>, <span class="pl-smi">Paris</span>, <span class="pl-smi">London</span>, <span class="pl-smi">New</span> <span class="pl-smi">York</span>, <span class="pl-smi">Dubai</span>]</pre></div>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c1">print</span> trips[::<span class="pl-c1">2</span>]

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> [<span class="pl-s"><span class="pl-pds">'</span>Dubai<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>London<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Moscow<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Saint-Petersburg<span class="pl-pds">'</span></span>]</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre>x<span class="pl-k">.</span>print(trips<span class="pl-k">.</span>slice(<span class="pl-c1">2</span>));

<span class="pl-smi">Console</span><span class="pl-k">:</span> [<span class="pl-smi">Dubai</span>, <span class="pl-smi">London</span>, <span class="pl-smi">Moscow</span>, <span class="pl-smi">Saint</span><span class="pl-k">-</span><span class="pl-smi">Petersburg</span>]</pre></div>

<h4><a id="user-content-slicer-object" class="anchor" href="#slicer-object" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Slicer object</h4>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">Slicer</span> <span class="pl-c1">LAST_THREE</span> <span class="pl-k">=</span> x<span class="pl-k">.</span>sliceFrom(<span class="pl-k">-</span><span class="pl-c1">3</span>);

x<span class="pl-k">.</span>print(<span class="pl-smi">x<span class="pl-k">.</span>String</span>(<span class="pl-s"><span class="pl-pds">"</span>tic tac toe<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>slice(<span class="pl-c1">LAST_THREE</span>));

<span class="pl-smi">Console</span><span class="pl-k">:</span> toe</pre></div>

<h4><a id="user-content-iterable-regex-search-results" class="anchor" href="#iterable-regex-search-results" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Iterable regex search results</h4>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">for</span> long_word_match <span class="pl-k">in</span> re.finditer(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\b</span>\w{10,}<span class="pl-cce">\b</span><span class="pl-pds">"</span></span>,text):
    <span class="pl-c1">print</span> long_word_match.group(<span class="pl-c1">0</span>)</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">for</span> (<span class="pl-smi">Match</span> longWordMatch <span class="pl-k">:</span> <span class="pl-smi">x<span class="pl-k">.</span>Regex</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\\</span>b<span class="pl-cce">\\</span>w{10,}<span class="pl-cce">\\</span>b<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>findIter(text))
    x<span class="pl-k">.</span>print(longWordMatch<span class="pl-k">.</span>group(<span class="pl-c1">0</span>));</pre></div>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">for</span> long_word <span class="pl-k">in</span> re.findall(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\b</span>\w{10,}<span class="pl-cce">\b</span><span class="pl-pds">"</span></span>,text):
    <span class="pl-c1">print</span> long_word</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">for</span> (<span class="pl-smi">String</span> longWord <span class="pl-k">:</span> <span class="pl-smi">x<span class="pl-k">.</span>Regex</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\\</span>b<span class="pl-cce">\\</span>w{10,}<span class="pl-cce">\\</span>b<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>findAll(text))
    x<span class="pl-k">.</span>print(longWord);</pre></div>

<h4><a id="user-content-replace-with-a-function" class="anchor" href="#replace-with-a-function" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Replace with a Function</h4>

<p>Python:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">toUpperCaseFun</span>(<span class="pl-smi">value</span>):
    <span class="pl-k">return</span> value.group(<span class="pl-c1">0</span>).upper()

text <span class="pl-k">=</span> re.sub(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\b</span>\w{10,}<span class="pl-cce">\b</span><span class="pl-pds">"</span></span>,toUpperCaseFun,text)</pre></div>

<p>xpresso:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">Function&lt;<span class="pl-smi">Match</span>,<span class="pl-smi">String</span>&gt;</span> toUpperCaseFun <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">Function&lt;<span class="pl-smi">Match</span>,<span class="pl-smi">String</span>&gt;</span>(){
    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">apply</span>(<span class="pl-smi">Match</span> <span class="pl-v">value</span>) {
        <span class="pl-k">return</span> value<span class="pl-k">.</span>group(<span class="pl-c1">0</span>)<span class="pl-k">.</span>toUpperCase();
    }
}

text <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>Regex</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\\</span>b<span class="pl-cce">\\</span>w{10,}<span class="pl-cce">\\</span>b<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>sub(toUpperCaseFun,text);</pre></div>

<h4><a id="user-content-replace-with-a-dict" class="anchor" href="#replace-with-a-dict" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Replace with a dict</h4>

<div class="highlight highlight-source-java"><pre>dict<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> replacer <span class="pl-k">=</span> x<span class="pl-k">.</span>dict(x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>bad<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>good<span class="pl-pds">"</span></span>),x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>small<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>big<span class="pl-pds">"</span></span>),x<span class="pl-k">.</span>tuple(<span class="pl-s"><span class="pl-pds">"</span>hard<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>easy<span class="pl-pds">"</span></span>));

text <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>Regex</span>(replacer)<span class="pl-k">.</span>sub(text);</pre></div>

<h4><a id="user-content-predefined-regex-patterns" class="anchor" href="#predefined-regex-patterns" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Predefined regex patterns</h4>

<div class="highlight highlight-source-java"><pre>list<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> emails <span class="pl-k">=</span> x<span class="pl-k">.</span>list(<span class="pl-smi">x<span class="pl-k">.</span>Regex</span><span class="pl-c1"><span class="pl-k">.</span>EMAIL</span><span class="pl-k">.</span>findAll(<span class="pl-s"><span class="pl-pds">"</span>Contact me at john.smith@company.com or john@smith.com.<span class="pl-pds">"</span></span>));
x<span class="pl-k">.</span>print(emails);

<span class="pl-smi">Console</span><span class="pl-k">:</span> [smith@company<span class="pl-k">.</span>com, john@smith<span class="pl-k">.</span>com]</pre></div>

<p>Other patterns include x.Regex.LINK, x.Regex.EMAIL, x.Regex.IPV4, x.Regex IPV6, x.Regex.HEX_COLOR, x.Regex.ACRONYM, x.Regex.CREDIT_CARD, x.Regex.FLOAT, and so on, as well as a number of country-specific ones: x.Regex.US.DATE, x.Regex.US.TIME, x.Regex.US.PHONE, x.Regex.US.PRICE, x.Regex.US.STREET_ADDRESS, etc.</p>

<h4><a id="user-content-the-token-type" class="anchor" href="#the-token-type" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>The Token type</h4>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">Token</span> tok <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>Token</span>(<span class="pl-s"><span class="pl-pds">"</span>MySQL5<span class="pl-pds">"</span></span>);
x<span class="pl-k">.</span>print(tok<span class="pl-k">.</span>shape(), tok<span class="pl-k">.</span>isCamel(), tok<span class="pl-k">.</span>hasDigits(), tok<span class="pl-k">.</span>hasRussian());

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-c1">ULUUUD</span>, <span class="pl-c1">true</span>, <span class="pl-c1">true</span>, <span class="pl-c1">false</span></pre></div>

<pre><code>tok = x.Token("Thinking");
x.print(tok.stem());

Console: Think
</code></pre>

<h4><a id="user-content-hashcode-equals-and-compareto-builders" class="anchor" href="#hashcode-equals-and-compareto-builders" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>hashCode(), equals(...), and compareTo(...) builders</h4>

<p>When defining a class:</p>

<div class="highlight highlight-source-java"><pre>@<span class="pl-smi">Override</span>
<span class="pl-k">int</span> hashCode() {
    <span class="pl-k">return</span> <span class="pl-smi">x<span class="pl-k">.</span>Object</span>(<span class="pl-v">this</span>)<span class="pl-k">.</span>hashCode();
}</pre></div>

<p>In the above code, xpresso first finds the members of <em>this</em> (via reflections) and then dynamically computes the hash code for <em>this</em> based on the values of its members.</p>

<div class="highlight highlight-source-java"><pre>@<span class="pl-smi">Override</span>
<span class="pl-k">boolean</span> equals(<span class="pl-smi">Object</span> obj) {
    <span class="pl-k">return</span> <span class="pl-smi">x<span class="pl-k">.</span>Object</span>(<span class="pl-v">this</span>)<span class="pl-k">.</span>equals(obj);
}</pre></div>

<p>In the above code, xpresso first finds the members of the two objects (<em>this</em> and <em>obj</em>), and then compares the values of those members.</p>

<div class="highlight highlight-source-java"><pre>@<span class="pl-smi">Override</span>
<span class="pl-k">public</span> <span class="pl-k">int</span> compareTo(<span class="pl-smi">Object</span> obj) {
    <span class="pl-k">return</span> <span class="pl-smi">x<span class="pl-k">.</span>Object</span>(<span class="pl-v">this</span>)<span class="pl-k">.</span>compareTo(obj, fieldName0, fieldName1, <span class="pl-c1">...</span>);
}</pre></div>

<p>In the above code, xpresso first finds the members of the two objects (<em>this</em> and <em>obj</em>). It then compares the values of those members between the two objects if those members' names are listed among the input field names fieldName0, fieldName1, etc. The order of comparisons between the member's values is the same as the order of input field names.</p>

<h4><a id="user-content-assertions" class="anchor" href="#assertions" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Assertions</h4>

<div class="highlight highlight-source-java"><pre>x<span class="pl-k">.</span>assertTrue(condition);    <span class="pl-c">// throws IllegalArgumentException</span>

x<span class="pl-k">.</span>assertNotNull(parameter); <span class="pl-c">// throws NullPointerException</span>

x<span class="pl-k">.</span>assertNotEmpty(iterable); <span class="pl-c">/* throws NullPointerException if iterable is null,</span>
<span class="pl-c">                               throws IllegalArgumentException if iterable is empty */</span>
x<span class="pl-k">.</span>assertNotEmpty(string);

x<span class="pl-k">.</span>assertNotEmpty(array);</pre></div>

<h4><a id="user-content-built-in-iterators" class="anchor" href="#built-in-iterators" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Built-in iterators</h4>



<div class="highlight highlight-source-java"><pre><span class="pl-k">for</span> (<span class="pl-smi">String</span> letter <span class="pl-k">:</span> x<span class="pl-k">.</span>cycle(x<span class="pl-k">.</span>str(<span class="pl-s"><span class="pl-pds">"</span>ABC<span class="pl-pds">"</span></span>)))
    x<span class="pl-k">.</span>print(letter);

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-smi">A</span>
<span class="pl-smi">B</span>
<span class="pl-smi">C</span>
<span class="pl-smi">A</span>
<span class="pl-smi">B</span>
<span class="pl-smi">C</span>
<span class="pl-smi">A</span>
<span class="pl-smi">B</span>
<span class="pl-smi">C</span>
<span class="pl-c1">...</span></pre></div>

<div class="highlight highlight-source-java"><pre><span class="pl-k">for</span> (<span class="pl-smi">String</span> letter <span class="pl-k">:</span> x<span class="pl-k">.</span>cycle(x<span class="pl-k">.</span>list(<span class="pl-s"><span class="pl-pds">"</span>hello<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>world<span class="pl-pds">"</span></span>),<span class="pl-c1">3</span>))
    x<span class="pl-k">.</span>print(letter);

<span class="pl-smi">Console</span><span class="pl-k">:</span> hello
world
hello
world
hello
world</pre></div>



<div class="highlight highlight-source-java"><pre><span class="pl-k">for</span> (<span class="pl-smi">String</span> word <span class="pl-k">:</span> x<span class="pl-k">.</span>repeat(<span class="pl-s"><span class="pl-pds">"</span>cool<span class="pl-pds">"</span></span>))
    x<span class="pl-k">.</span>print(word);

<span class="pl-smi">Console</span><span class="pl-k">:</span> cool
cool
cool
cool
<span class="pl-c1">...</span></pre></div>

<div class="highlight highlight-source-java"><pre><span class="pl-k">for</span> (<span class="pl-smi">String</span> word <span class="pl-k">:</span> x<span class="pl-k">.</span>repeat(<span class="pl-s"><span class="pl-pds">"</span>cool<span class="pl-pds">"</span></span>,<span class="pl-c1">3</span>))
    x<span class="pl-k">.</span>print(word);

<span class="pl-smi">Console</span><span class="pl-k">:</span> cool
cool
cool</pre></div>



<div class="highlight highlight-source-java"><pre><span class="pl-k">for</span> (<span class="pl-smi">Integer</span> index <span class="pl-k">:</span> x<span class="pl-k">.</span>countTo(<span class="pl-c1">3</span>))
    x<span class="pl-k">.</span>print(index);

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-c1">0</span>
<span class="pl-c1">1</span>
<span class="pl-c1">2</span></pre></div>

<div class="highlight highlight-source-java"><pre><span class="pl-k">for</span> (<span class="pl-smi">Integer</span> index <span class="pl-k">:</span> x<span class="pl-k">.</span>countFrom(<span class="pl-c1">10</span>))
    x<span class="pl-k">.</span>print(index);

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-c1">10</span>
<span class="pl-c1">11</span>
<span class="pl-c1">12</span>
<span class="pl-c1">13</span>
<span class="pl-c1">...</span></pre></div>

<div class="highlight highlight-source-java"><pre><span class="pl-k">for</span> (<span class="pl-smi">Integer</span> index <span class="pl-k">:</span> x<span class="pl-k">.</span>count(<span class="pl-c1">3</span>,<span class="pl-c1">10</span>))
    x<span class="pl-k">.</span>print(index);

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-c1">3</span>
<span class="pl-c1">4</span>
<span class="pl-c1">5</span>
<span class="pl-c1">6</span>
<span class="pl-c1">7</span>
<span class="pl-c1">8</span>
<span class="pl-c1">9</span></pre></div>

<div class="highlight highlight-source-java"><pre><span class="pl-k">for</span> (<span class="pl-smi">Integer</span> index <span class="pl-k">:</span> x<span class="pl-k">.</span>count(<span class="pl-c1">3</span>,<span class="pl-c1">10</span>,<span class="pl-c1">3</span>))
    x<span class="pl-k">.</span>print(index);

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-c1">3</span>
<span class="pl-c1">6</span>
<span class="pl-c1">9</span></pre></div>

<p>x.count(min, max) and x.count(min, max, step) replace Python's range(min, max) and range(min, max, step).</p>

<h4><a id="user-content-print-anything" class="anchor" href="#print-anything" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Print anything</h4>

<div class="highlight highlight-source-java"><pre>x<span class="pl-k">.</span>print(<span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>, <span class="pl-c1">1</span>, <span class="pl-c1">true</span>, x<span class="pl-k">.</span>list(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>), <span class="pl-c1">null</span>);

<span class="pl-smi">Console</span><span class="pl-k">:</span> <span class="pl-smi">Hello</span> <span class="pl-smi">World</span> <span class="pl-c1">1</span> <span class="pl-c1">true</span> [<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>] <span class="pl-smi">NullType</span></pre></div>

<h4><a id="user-content-n-grams" class="anchor" href="#n-grams" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>N-grams</h4>

<div class="highlight highlight-source-java"><pre>str phrase <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>If you want something done right, you have to do it yourself.<span class="pl-pds">"</span></span>;

list<span class="pl-k">&lt;</span>str<span class="pl-k">&gt;</span> tokens <span class="pl-k">=</span> phrase<span class="pl-k">.</span>split();

list<span class="pl-k">&lt;</span>list<span class="pl-k">&lt;</span>str<span class="pl-k">&gt;&gt;</span> ngrams <span class="pl-k">=</span> tokens<span class="pl-k">.</span>ngrams(<span class="pl-c1">3</span>);

x<span class="pl-k">.</span>print(ngrams);

<span class="pl-smi">Console</span><span class="pl-k">:</span> [[<span class="pl-smi">If</span>, you, want], [you, want, something], [something, done, right]<span class="pl-c1">...</span>, [<span class="pl-k">do</span>, it, yourself<span class="pl-k">.</span>]]</pre></div>

<h4><a id="user-content-largestn-and-smallestn" class="anchor" href="#largestn-and-smallestn" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>largestN and smallestN</h4>

<div class="highlight highlight-source-java"><pre>list<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> cities <span class="pl-k">=</span> x<span class="pl-k">.</span>list(<span class="pl-s"><span class="pl-pds">"</span>Moscow<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>San Francisco<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Saint-Petersbourg<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Rome<span class="pl-pds">"</span></span>);

x<span class="pl-k">.</span>print(x<span class="pl-k">.</span>smallestN(cities,<span class="pl-c1">2</span>));

<span class="pl-smi">Console</span><span class="pl-k">:</span> [<span class="pl-smi">Rome</span>, <span class="pl-smi">Moscow</span>]</pre></div>

<div class="highlight highlight-source-java"><pre>list<span class="pl-k">&lt;</span><span class="pl-smi">String</span><span class="pl-k">&gt;</span> cities <span class="pl-k">=</span> x<span class="pl-k">.</span>list(<span class="pl-s"><span class="pl-pds">"</span>Moscow<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>San Francisco<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Saint-Petersbourg<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Rome<span class="pl-pds">"</span></span>);

x<span class="pl-k">.</span>print(x<span class="pl-k">.</span>largestN(cities,<span class="pl-c1">2</span>));

<span class="pl-smi">Console</span><span class="pl-k">:</span> [<span class="pl-smi">Saint</span><span class="pl-k">-</span><span class="pl-smi">Petersbourg</span>, <span class="pl-smi">San</span> <span class="pl-smi">Francisco</span>]</pre></div>

<h4><a id="user-content-more" class="anchor" href="#more" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>More</h4>

<ul>
<li>Invert dict: <code>dict.invert();</code></li>
<li>Flatten list: <code>list.flatten();</code></li>
<li>Modify list using slicing: <code>trips.setAt(3, 5).values(x.list(1, 2, 3, 4, 5));</code></li>
<li>Case insensitive regex shortcut: <code>x.RegexNoCase("\\bmama\\b")</code></li>
<li>Replace each match by an empty string: <code>x.Regex("[,.;]").clear(inputString)</code></li>
<li>For more see the <a href="http://wantedtechnologies.github.io/xpresso/">javadoc</a> for the main class <a href="http://wantedtechnologies.github.io/xpresso/com/wantedtech/common/xpresso/x.html">x</a>.</li>
</ul>

<h4><a id="user-content-future" class="anchor" href="#future" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Future</h4>

<ul>
<li>HTTP client</li>
<li>Find longest match (in the spirit of Python's <a href="https://docs.python.org/3.4/library/difflib.html#difflib.SequenceMatcher">SequenceMatcher</a>):</li>
</ul>

<div class="highlight highlight-source-java"><pre>tuple match <span class="pl-k">=</span> <span class="pl-smi">x<span class="pl-k">.</span>String</span>(<span class="pl-s"><span class="pl-pds">"</span>I like apples.<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>longestMatch(<span class="pl-s"><span class="pl-pds">"</span>My girlfriend likes apples too.<span class="pl-pds">"</span></span>);

x<span class="pl-k">.</span>print(match);

<span class="pl-smi">Console</span><span class="pl-k">:</span> (<span class="pl-s"><span class="pl-pds">"</span>apples<span class="pl-pds">"</span></span>, <span class="pl-c1">7</span>, <span class="pl-c1">20</span>)</pre></div>

<ul>
<li>Mistyping detection: <code>x.String("Random").isMistypingOf("Randon","qwerty") --&gt; true</code></li>
</ul>
</article>
  </div></body></html>