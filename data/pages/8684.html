<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-schema-validation-just-got-pythonic" class="anchor" href="#schema-validation-just-got-pythonic" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Schema validation just got Pythonic</h1>
<blockquote>
<p>New in version 0.2.0:</p>
<ul>
<li>Allow intermix literals and other schemas in dictionary keys.
I.e. <code>Schema({'&lt;id&gt;': int, str: object})</code> will check <code>&lt;id&gt;</code>
for being <code>int</code>, and will disregard other keys of type <code>&lt;str&gt;</code>.
See this <a href="http://stackoverflow.com/questions/14588098">StackOverflow question</a> for more.</li>
</ul>
</blockquote>
<p><strong>schema</strong> is a library for validating Python data structures, such as those
obtained from config-files, forms, external services or command-line
parsing, converted from JSON/YAML (or something else) to Python data-types.</p>
<a href="https://travis-ci.org/keleshev/schema"><img alt="https://secure.travis-ci.org/keleshev/schema.png?branch=master" src="https://camo.githubusercontent.com/4cd735c07e5a7e9f4aa03b0f587c9dfd2386a557/68747470733a2f2f7365637572652e7472617669732d63692e6f72672f6b656c65736865762f736368656d612e706e673f6272616e63683d6d6173746572" data-canonical-src="https://secure.travis-ci.org/keleshev/schema.png?branch=master"/></a>
<a href="http://codecov.io/github/keleshev/schema"><img src="https://camo.githubusercontent.com/dc65375b17adb35d8cf8dc7968fbe560f7969bbd/68747470733a2f2f696d672e736869656c64732e696f2f636f6465636f762f632f6769746875622f6b656c65736865762f736368656d612e737667" data-canonical-src="https://img.shields.io/codecov/c/github/keleshev/schema.svg"/>
</a>
<a name="user-content-example"/>
<h2><a id="user-content-example" class="anchor" href="#example" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Example</h2>
<p>Here is a quick example to get a feeling of <strong>schema</strong>, validating a list of
entries with personal information:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> schema <span class="pl-k">import</span> Schema, And, Use, Optional

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> schema <span class="pl-k">=</span> Schema([{<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: And(<span class="pl-c1">str</span>, <span class="pl-c1">len</span>),
<span class="pl-c1">...</span>                   <span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>:  And(Use(<span class="pl-c1">int</span>), <span class="pl-k">lambda</span> <span class="pl-smi">n</span>: <span class="pl-c1">18</span> <span class="pl-k">&lt;=</span> n <span class="pl-k">&lt;=</span> <span class="pl-c1">99</span>),
<span class="pl-c1">...</span>                   Optional(<span class="pl-s"><span class="pl-pds">'</span>sex<span class="pl-pds">'</span></span>): And(<span class="pl-c1">str</span>, Use(<span class="pl-c1">str</span>.lower),
<span class="pl-c1">...</span>                                        <span class="pl-k">lambda</span> <span class="pl-smi">s</span>: s <span class="pl-k">in</span> (<span class="pl-s"><span class="pl-pds">'</span>male<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>female<span class="pl-pds">'</span></span>))}])

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> data <span class="pl-k">=</span> [{<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Sue<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>28<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>sex<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>FEMALE<span class="pl-pds">'</span></span>},
<span class="pl-c1">...</span>         {<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Sam<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>42<span class="pl-pds">'</span></span>},
<span class="pl-c1">...</span>         {<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Sacha<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>20<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>sex<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Male<span class="pl-pds">'</span></span>}]

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> validated <span class="pl-k">=</span> schema.validate(data)

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">assert</span> validated <span class="pl-k">==</span> [{<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Sue<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>: <span class="pl-c1">28</span>, <span class="pl-s"><span class="pl-pds">'</span>sex<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>female<span class="pl-pds">'</span></span>},
<span class="pl-c1">...</span>                      {<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Sam<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>: <span class="pl-c1">42</span>},
<span class="pl-c1">...</span>                      {<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Sacha<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span> : <span class="pl-c1">20</span>, <span class="pl-s"><span class="pl-pds">'</span>sex<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>male<span class="pl-pds">'</span></span>}]</pre></div>
<p>If data is valid, <code>Schema.validate</code> will return the validated data
(optionally converted with Use calls, see below).</p>
<p>If data is invalid, <code>Schema</code> will raise <code>SchemaError</code> exception.</p>
<a name="user-content-installation"/>
<h2><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h2>
<p>Use <a href="http://pip-installer.org">pip</a> or easy_install:</p>
<pre>pip install schema
</pre>
<p>Alternatively, you can just drop <code>schema.py</code> file into your project—it is
self-contained.</p>

<a name="user-content-how-schema-validates-data"/>
<h2><a id="user-content-how-schema-validates-data" class="anchor" href="#how-schema-validates-data" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>How <code>Schema</code> validates data</h2>
<a name="user-content-types"/>
<h3><a id="user-content-types" class="anchor" href="#types" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Types</h3>
<p>If <code>Schema(...)</code> encounters a type (such as <code>int</code>, <code>str</code>, <code>object</code>,
etc.), it will check if the corresponding piece of data is an instance of that type,
otherwise it will raise <code>SchemaError</code>.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> schema <span class="pl-k">import</span> Schema

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema(<span class="pl-c1">int</span>).validate(<span class="pl-c1">123</span>)
<span class="pl-c1">123</span>

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema(<span class="pl-c1">int</span>).validate(<span class="pl-s"><span class="pl-pds">'</span>123<span class="pl-pds">'</span></span>)
Traceback (most recent call last):
<span class="pl-c1">...</span>
SchemaError: <span class="pl-s"><span class="pl-pds">'</span>123<span class="pl-pds">'</span></span> should be instance of <span class="pl-s"><span class="pl-pds">'</span>int<span class="pl-pds">'</span></span>

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema(<span class="pl-c1">object</span>).validate(<span class="pl-s"><span class="pl-pds">'</span>hai<span class="pl-pds">'</span></span>)
<span class="pl-s"><span class="pl-pds">'</span>hai<span class="pl-pds">'</span></span></pre></div>
<a name="user-content-callables"/>
<h3><a id="user-content-callables" class="anchor" href="#callables" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Callables</h3>
<p>If <code>Schema(...)</code> encounters a callable (function, class, or object with
<code>__call__</code> method) it will call it, and if its return value evaluates to
<code>True</code> it will continue validating, else—it will raise <code>SchemaError</code>.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">import</span> os

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema(os.path.exists).validate(<span class="pl-s"><span class="pl-pds">'</span>./<span class="pl-pds">'</span></span>)
<span class="pl-s"><span class="pl-pds">'</span>./<span class="pl-pds">'</span></span>

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema(os.path.exists).validate(<span class="pl-s"><span class="pl-pds">'</span>./non-existent/<span class="pl-pds">'</span></span>)
Traceback (most recent call last):
<span class="pl-c1">...</span>
SchemaError: exists(<span class="pl-s"><span class="pl-pds">'</span>./non-existent/<span class="pl-pds">'</span></span>) should evaluate to <span class="pl-c1">True</span>

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema(<span class="pl-k">lambda</span> <span class="pl-smi">n</span>: n <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>).validate(<span class="pl-c1">123</span>)
<span class="pl-c1">123</span>

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema(<span class="pl-k">lambda</span> <span class="pl-smi">n</span>: n <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>).validate(<span class="pl-k">-</span><span class="pl-c1">12</span>)
Traceback (most recent call last):
<span class="pl-c1">...</span>
SchemaError: <span class="pl-k">&lt;</span><span class="pl-k">lambda</span>&gt;(-12) should evaluate to <span class="pl-smi">True</span></pre></div>
<a name="user-content-validatables"/>
<h3><a id="user-content-validatables" class="anchor" href="#validatables" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>"Validatables"</h3>
<p>If <code>Schema(...)</code> encounters an object with method <code>validate</code> it will run
this method on corresponding data as <code>data = obj.validate(data)</code>. This method
may raise <code>SchemaError</code> exception, which will tell <code>Schema</code> that that piece
of data is invalid, otherwise—it will continue validating.</p>
<p>As example, you can use <code>Use</code> for creating such objects. <code>Use</code> helps to use
a function or type to convert a value while validating it:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> schema <span class="pl-k">import</span> Use

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema(Use(<span class="pl-c1">int</span>)).validate(<span class="pl-s"><span class="pl-pds">'</span>123<span class="pl-pds">'</span></span>)
<span class="pl-c1">123</span>

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema(Use(<span class="pl-k">lambda</span> <span class="pl-smi">f</span>: <span class="pl-c1">open</span>(f, <span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>))).validate(<span class="pl-s"><span class="pl-pds">'</span>LICENSE-MIT<span class="pl-pds">'</span></span>)
<span class="pl-k">&lt;</span><span class="pl-c1">open</span> <span class="pl-v">file</span> <span class="pl-s"><span class="pl-pds">'</span>LICENSE-MIT<span class="pl-pds">'</span></span>, mode <span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span> at <span class="pl-ii">0x</span><span class="pl-c1">...</span><span class="pl-k">&gt;</span></pre></div>
<p>Dropping the details, <code>Use</code> is basically:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">class</span> <span class="pl-en">Use</span>(<span class="pl-c1">object</span>):

    <span class="pl-k">def</span> <span class="pl-c1">__init__</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">callable_</span>):
        <span class="pl-v">self</span>._callable <span class="pl-k">=</span> callable_

    <span class="pl-k">def</span> <span class="pl-en">validate</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">data</span>):
        <span class="pl-k">try</span>:
            <span class="pl-k">return</span> <span class="pl-v">self</span>._callable(data)
        <span class="pl-k">except</span> <span class="pl-c1">Exception</span> <span class="pl-k">as</span> e:
            <span class="pl-k">raise</span> SchemaError(<span class="pl-s"><span class="pl-pds">'</span><span class="pl-c1">%r</span> raised <span class="pl-c1">%r</span><span class="pl-pds">'</span></span> <span class="pl-k">%</span> (<span class="pl-v">self</span>._callable.<span class="pl-c1">__name__</span>, e))</pre></div>
<p>Now you can write your own validation-aware classes and data types.</p>
<a name="user-content-lists-similar-containers"/>
<h3><a id="user-content-lists-similar-containers" class="anchor" href="#lists-similar-containers" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Lists, similar containers</h3>
<p>If <code>Schema(...)</code> encounters an instance of <code>list</code>, <code>tuple</code>, <code>set</code> or
<code>frozenset</code>, it will validate contents of corresponding data container
against schemas listed inside that container:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema([<span class="pl-c1">1</span>, <span class="pl-c1">0</span>]).validate([<span class="pl-c1">1</span>, <span class="pl-c1">1</span>, <span class="pl-c1">0</span>, <span class="pl-c1">1</span>])
[<span class="pl-c1">1</span>, <span class="pl-c1">1</span>, <span class="pl-c1">0</span>, <span class="pl-c1">1</span>]

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema((<span class="pl-c1">int</span>, <span class="pl-c1">float</span>)).validate((<span class="pl-c1">5</span>, <span class="pl-c1">7</span>, <span class="pl-c1">8</span>, <span class="pl-s"><span class="pl-pds">'</span>not int or float here<span class="pl-pds">'</span></span>))
Traceback (most recent call last):
<span class="pl-c1">...</span>
SchemaError: Or(<span class="pl-k">&lt;</span><span class="pl-c1">type</span> <span class="pl-s"><span class="pl-pds">'</span>int<span class="pl-pds">'</span></span><span class="pl-k">&gt;</span>, <span class="pl-k">&lt;</span><span class="pl-c1">type</span> <span class="pl-s"><span class="pl-pds">'</span>float<span class="pl-pds">'</span></span><span class="pl-k">&gt;</span>) did <span class="pl-k">not</span> validate <span class="pl-s"><span class="pl-pds">'</span>not int or float here<span class="pl-pds">'</span></span>
<span class="pl-s"><span class="pl-pds">'</span>not int or float here<span class="pl-pds">'</span></span> should be instance of <span class="pl-s"><span class="pl-pds">'</span>float<span class="pl-pds">'</span></span></pre></div>
<a name="user-content-dictionaries"/>
<h3><a id="user-content-dictionaries" class="anchor" href="#dictionaries" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Dictionaries</h3>
<p>If <code>Schema(...)</code> encounters an instance of <code>dict</code>, it will validate data
key-value pairs:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> d <span class="pl-k">=</span> Schema({<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-c1">str</span>,
<span class="pl-c1">...</span>             <span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>: <span class="pl-k">lambda</span> <span class="pl-smi">n</span>: <span class="pl-c1">18</span> <span class="pl-k">&lt;=</span> n <span class="pl-k">&lt;=</span> <span class="pl-c1">99</span>}).validate({<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Sue<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>: <span class="pl-c1">28</span>})

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">assert</span> d <span class="pl-k">==</span> {<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Sue<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>: <span class="pl-c1">28</span>}</pre></div>
<p>You can specify keys as schemas too:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> schema <span class="pl-k">=</span> Schema({<span class="pl-c1">str</span>: <span class="pl-c1">int</span>,  <span class="pl-c"># string keys should have integer values</span>
<span class="pl-c1">...</span>                  <span class="pl-c1">int</span>: <span class="pl-c1">None</span>})  <span class="pl-c"># int keys should be always None</span>

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> data <span class="pl-k">=</span> schema.validate({<span class="pl-s"><span class="pl-pds">'</span>key1<span class="pl-pds">'</span></span>: <span class="pl-c1">1</span>, <span class="pl-s"><span class="pl-pds">'</span>key2<span class="pl-pds">'</span></span>: <span class="pl-c1">2</span>,
<span class="pl-c1">...</span>                         <span class="pl-c1">10</span>: <span class="pl-c1">None</span>, <span class="pl-c1">20</span>: <span class="pl-c1">None</span>})

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> schema.validate({<span class="pl-s"><span class="pl-pds">'</span>key1<span class="pl-pds">'</span></span>: <span class="pl-c1">1</span>,
<span class="pl-c1">...</span>                   <span class="pl-c1">10</span>: <span class="pl-s"><span class="pl-pds">'</span>not None here<span class="pl-pds">'</span></span>})
Traceback (most recent call last):
<span class="pl-c1">...</span>
SchemaError: <span class="pl-c1">None</span> does <span class="pl-k">not</span> match <span class="pl-s"><span class="pl-pds">'</span>not None here<span class="pl-pds">'</span></span></pre></div>
<p>This is useful if you want to check certain key-values, but don't care
about other:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> schema <span class="pl-k">=</span> Schema({<span class="pl-s"><span class="pl-pds">'</span>&lt;id&gt;<span class="pl-pds">'</span></span>: <span class="pl-c1">int</span>,
<span class="pl-c1">...</span>                  <span class="pl-s"><span class="pl-pds">'</span>&lt;file&gt;<span class="pl-pds">'</span></span>: Use(<span class="pl-c1">open</span>),
<span class="pl-c1">...</span>                  <span class="pl-c1">str</span>: <span class="pl-c1">object</span>})  <span class="pl-c"># don't care about other str keys</span>

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> data <span class="pl-k">=</span> schema.validate({<span class="pl-s"><span class="pl-pds">'</span>&lt;id&gt;<span class="pl-pds">'</span></span>: <span class="pl-c1">10</span>,
<span class="pl-c1">...</span>                         <span class="pl-s"><span class="pl-pds">'</span>&lt;file&gt;<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>README.rst<span class="pl-pds">'</span></span>,
<span class="pl-c1">...</span>                         <span class="pl-s"><span class="pl-pds">'</span>--verbose<span class="pl-pds">'</span></span>: <span class="pl-c1">True</span>})</pre></div>
<p>You can mark a key as optional as follows:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> schema <span class="pl-k">import</span> Optional
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema({<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-c1">str</span>,
<span class="pl-c1">...</span>         Optional(<span class="pl-s"><span class="pl-pds">'</span>occupation<span class="pl-pds">'</span></span>): <span class="pl-c1">str</span>}).validate({<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Sam<span class="pl-pds">'</span></span>})
{<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Sam<span class="pl-pds">'</span></span>}</pre></div>
<p><code>Optional</code> keys can also carry a <code>default</code>, to be used when no key in the
data matches:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> schema <span class="pl-k">import</span> Optional
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema({Optional(<span class="pl-s"><span class="pl-pds">'</span>color<span class="pl-pds">'</span></span>, <span class="pl-v">default</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>blue<span class="pl-pds">'</span></span>): <span class="pl-c1">str</span>,
<span class="pl-c1">...</span>         <span class="pl-c1">str</span>: <span class="pl-c1">str</span>}).validate({<span class="pl-s"><span class="pl-pds">'</span>texture<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>furry<span class="pl-pds">'</span></span>}
<span class="pl-c1">...</span>       ) <span class="pl-k">==</span> {<span class="pl-s"><span class="pl-pds">'</span>color<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>blue<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>texture<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>furry<span class="pl-pds">'</span></span>}
<span class="pl-c1">True</span></pre></div>
<p>Defaults are used verbatim, not passed through any validators specified in the
value.</p>
<p><strong>schema</strong> has classes <code>And</code> and <code>Or</code> that help validating several schemas
for the same data:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> schema <span class="pl-k">import</span> And, Or

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema({<span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>: And(<span class="pl-c1">int</span>, <span class="pl-k">lambda</span> <span class="pl-smi">n</span>: <span class="pl-c1">0</span> <span class="pl-k">&lt;</span> n <span class="pl-k">&lt;</span> <span class="pl-c1">99</span>)}).validate({<span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>: <span class="pl-c1">7</span>})
{<span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>: <span class="pl-c1">7</span>}

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema({<span class="pl-s"><span class="pl-pds">'</span>password<span class="pl-pds">'</span></span>: And(<span class="pl-c1">str</span>, <span class="pl-k">lambda</span> <span class="pl-smi">s</span>: <span class="pl-c1">len</span>(s) <span class="pl-k">&gt;</span> <span class="pl-c1">6</span>)}).validate({<span class="pl-s"><span class="pl-pds">'</span>password<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>hai<span class="pl-pds">'</span></span>})
Traceback (most recent call last):
<span class="pl-c1">...</span>
SchemaError: <span class="pl-k">&lt;</span><span class="pl-k">lambda</span>&gt;('hai') should evaluate to <span class="pl-smi">True</span>

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema(And(Or(<span class="pl-c1">int</span>, <span class="pl-c1">float</span>), <span class="pl-k">lambda</span> <span class="pl-smi">x</span>: x <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>)).validate(<span class="pl-c1">3.1415</span>)
<span class="pl-c1">3.1415</span></pre></div>
<a name="user-content-extra-keys"/>
<h3><a id="user-content-extra-keys" class="anchor" href="#extra-keys" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Extra Keys</h3>
<p>The <code>Schema(...)</code> parameter <code>ignore_extra_keys</code> causes validation to ignore extra keys in a dictionary, and also to not return them after validating.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> schema <span class="pl-k">=</span> Schema({<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-c1">str</span>}, <span class="pl-v">ignore_extra_keys</span><span class="pl-k">=</span><span class="pl-c1">True</span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> schema.validate({<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Sam<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>42<span class="pl-pds">'</span></span>})
{<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Sam<span class="pl-pds">'</span></span>}</pre></div>
<p>If you would like any extra keys returned, use <code>object: object</code> as one of the key/value pairs, which will match any key and any value.
Otherwise, extra keys will raise a <code>SchemaError</code>.</p>
<a name="user-content-user-friendly-error-reporting"/>
<h2><a id="user-content-user-friendly-error-reporting" class="anchor" href="#user-friendly-error-reporting" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>User-friendly error reporting</h2>
<p>You can pass a keyword argument <code>error</code> to any of validatable classes
(such as <code>Schema</code>, <code>And</code>, <code>Or</code>, <code>Use</code>) to report this error instead of
a built-in one.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Schema(Use(<span class="pl-c1">int</span>, <span class="pl-v">error</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>Invalid year<span class="pl-pds">'</span></span>)).validate(<span class="pl-s"><span class="pl-pds">'</span>XVII<span class="pl-pds">'</span></span>)
Traceback (most recent call last):
<span class="pl-c1">...</span>
SchemaError: Invalid year</pre></div>
<p>You can see all errors that occured by accessing exception's <code>exc.autos</code>
for auto-generated error messages, and <code>exc.errors</code> for errors
which had <code>error</code> text passed to them.</p>
<p>You can exit with <code>sys.exit(exc.code)</code> if you want to show the messages
to the user without traceback. <code>error</code> messages are given precedence in that
case.</p>
<a name="user-content-a-json-api-example"/>
<h2><a id="user-content-a-json-api-example" class="anchor" href="#a-json-api-example" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>A JSON API example</h2>
<p>Here is a quick example: validation of
<a href="http://developer.github.com/v3/gists/">create a gist</a>
request from github API.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> gist <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'''</span>{"description": "the description for this gist",</span>
<span class="pl-s">...            "public": true,</span>
<span class="pl-s">...            "files": {</span>
<span class="pl-s">...                "file1.txt": {"content": "String file contents"},</span>
<span class="pl-s">...                "other.txt": {"content": "Another file contents"}}}<span class="pl-pds">'''</span></span>

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> schema <span class="pl-k">import</span> Schema, And, Use, Optional

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">import</span> json

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> gist_schema <span class="pl-k">=</span> Schema(And(Use(json.loads),  <span class="pl-c"># first convert from JSON</span>
<span class="pl-c1">...</span>                          <span class="pl-c"># use basestring since json returns unicode</span>
<span class="pl-c1">...</span>                          {Optional(<span class="pl-s"><span class="pl-pds">'</span>description<span class="pl-pds">'</span></span>): <span class="pl-v">basestring</span>,
<span class="pl-c1">...</span>                           <span class="pl-s"><span class="pl-pds">'</span>public<span class="pl-pds">'</span></span>: <span class="pl-c1">bool</span>,
<span class="pl-c1">...</span>                           <span class="pl-s"><span class="pl-pds">'</span>files<span class="pl-pds">'</span></span>: {<span class="pl-v">basestring</span>: {<span class="pl-s"><span class="pl-pds">'</span>content<span class="pl-pds">'</span></span>: <span class="pl-v">basestring</span>}}}))

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> gist <span class="pl-k">=</span> gist_schema.validate(gist)

<span class="pl-c"># gist:</span>
{<span class="pl-s"><span class="pl-k">u</span><span class="pl-pds">'</span>description<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-k">u</span><span class="pl-pds">'</span>the description for this gist<span class="pl-pds">'</span></span>,
 <span class="pl-s"><span class="pl-k">u</span><span class="pl-pds">'</span>files<span class="pl-pds">'</span></span>: {<span class="pl-s"><span class="pl-k">u</span><span class="pl-pds">'</span>file1.txt<span class="pl-pds">'</span></span>: {<span class="pl-s"><span class="pl-k">u</span><span class="pl-pds">'</span>content<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-k">u</span><span class="pl-pds">'</span>String file contents<span class="pl-pds">'</span></span>},
            <span class="pl-s"><span class="pl-k">u</span><span class="pl-pds">'</span>other.txt<span class="pl-pds">'</span></span>: {<span class="pl-s"><span class="pl-k">u</span><span class="pl-pds">'</span>content<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-k">u</span><span class="pl-pds">'</span>Another file contents<span class="pl-pds">'</span></span>}},
 <span class="pl-s"><span class="pl-k">u</span><span class="pl-pds">'</span>public<span class="pl-pds">'</span></span>: <span class="pl-c1">True</span>}</pre></div>
<a name="user-content-using-schema-with-docopt"/>
<h2><a id="user-content-using-schema-with-docopt" class="anchor" href="#using-schema-with-docopt" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Using <strong>schema</strong> with <a href="http://github.com/docopt/docopt">docopt</a></h2>
<p>Assume you are using <strong>docopt</strong> with the following usage-pattern:</p>
<blockquote>
Usage: my_program.py [--count=N] &lt;path&gt; &lt;files&gt;...</blockquote>
<p>and you would like to validate that <code>&lt;files&gt;</code> are readable, and that
<code>&lt;path&gt;</code> exists, and that <code>--count</code> is either integer from 0 to 5, or
<code>None</code>.</p>
<p>Assuming <strong>docopt</strong> returns the following dict:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> args <span class="pl-k">=</span> {<span class="pl-s"><span class="pl-pds">'</span>&lt;files&gt;<span class="pl-pds">'</span></span>: [<span class="pl-s"><span class="pl-pds">'</span>LICENSE-MIT<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>setup.py<span class="pl-pds">'</span></span>],
<span class="pl-c1">...</span>         <span class="pl-s"><span class="pl-pds">'</span>&lt;path&gt;<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>../<span class="pl-pds">'</span></span>,
<span class="pl-c1">...</span>         <span class="pl-s"><span class="pl-pds">'</span>--count<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>3<span class="pl-pds">'</span></span>}</pre></div>
<p>this is how you validate it using <code>schema</code>:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> schema <span class="pl-k">import</span> Schema, And, Or, Use
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">import</span> os

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> s <span class="pl-k">=</span> Schema({<span class="pl-s"><span class="pl-pds">'</span>&lt;files&gt;<span class="pl-pds">'</span></span>: [Use(<span class="pl-c1">open</span>)],
<span class="pl-c1">...</span>             <span class="pl-s"><span class="pl-pds">'</span>&lt;path&gt;<span class="pl-pds">'</span></span>: os.path.exists,
<span class="pl-c1">...</span>             <span class="pl-s"><span class="pl-pds">'</span>--count<span class="pl-pds">'</span></span>: Or(<span class="pl-c1">None</span>, And(Use(<span class="pl-c1">int</span>), <span class="pl-k">lambda</span> <span class="pl-smi">n</span>: <span class="pl-c1">0</span> <span class="pl-k">&lt;</span> n <span class="pl-k">&lt;</span> <span class="pl-c1">5</span>))})

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> args <span class="pl-k">=</span> s.validate(args)

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> args[<span class="pl-s"><span class="pl-pds">'</span>&lt;files&gt;<span class="pl-pds">'</span></span>]
[<span class="pl-k">&lt;</span><span class="pl-c1">open</span> <span class="pl-v">file</span> <span class="pl-s"><span class="pl-pds">'</span>LICENSE-MIT<span class="pl-pds">'</span></span>, mode <span class="pl-s"><span class="pl-pds">'</span>r<span class="pl-pds">'</span></span> at <span class="pl-ii">0x</span><span class="pl-c1">...</span><span class="pl-k">&gt;</span>, <span class="pl-k">&lt;</span><span class="pl-c1">open</span> <span class="pl-v">file</span> <span class="pl-s"><span class="pl-pds">'</span>setup.py<span class="pl-pds">'</span></span>, mode <span class="pl-s"><span class="pl-pds">'</span>r<span class="pl-pds">'</span></span> at <span class="pl-ii">0x</span><span class="pl-c1">...</span><span class="pl-k">&gt;</span>]

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> args[<span class="pl-s"><span class="pl-pds">'</span>&lt;path&gt;<span class="pl-pds">'</span></span>]
<span class="pl-s"><span class="pl-pds">'</span>../<span class="pl-pds">'</span></span>

<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> args[<span class="pl-s"><span class="pl-pds">'</span>--count<span class="pl-pds">'</span></span>]
<span class="pl-c1">3</span></pre></div>
<p>As you can see, <strong>schema</strong> validated data successfully, opened files and
converted <code>'3'</code> to <code>int</code>.</p>

</article>
  </div></body></html>