<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-suitcase" class="anchor" href="#suitcase" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Suitcase</h1>

<p><a href="https://travis-ci.org/digidotcom/python-suitcase"><img src="https://camo.githubusercontent.com/4042285a6e7517aa493147272075a15734758cdb/68747470733a2f2f7472617669732d63692e6f72672f64696769646f74636f6d2f707974686f6e2d73756974636173652e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/digidotcom/python-suitcase.svg?branch=master"/></a>
<a href="https://coveralls.io/r/digidotcom/python-suitcase"><img src="https://camo.githubusercontent.com/f3ef72cf33d2e30f0a314ac17a48ffa7a8befa40/68747470733a2f2f696d672e736869656c64732e696f2f636f766572616c6c732f64696769646f74636f6d2f707974686f6e2d73756974636173652e737667" alt="Coverage Status" data-canonical-src="https://img.shields.io/coveralls/digidotcom/python-suitcase.svg"/></a>
<a href="https://codeclimate.com/github/digidotcom/python-suitcase"><img src="https://camo.githubusercontent.com/d8a679eb4871ea289b2aba8a1e34d644480897b1/68747470733a2f2f696d672e736869656c64732e696f2f636f6465636c696d6174652f6769746875622f64696769646f74636f6d2f707974686f6e2d73756974636173652e737667" alt="Code Climate" data-canonical-src="https://img.shields.io/codeclimate/github/digidotcom/python-suitcase.svg"/></a>
<a href="https://pypi.python.org/pypi/suitcase/"><img src="https://camo.githubusercontent.com/817f96fc0dd47052e6e6c9cef408ad7f3a27f3cb/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f73756974636173652e737667" alt="Latest Version" data-canonical-src="https://img.shields.io/pypi/v/suitcase.svg"/></a>
<a href="https://github.com/digidotcom/python-suitcase/blob/master/LICENSE.txt"><img src="https://camo.githubusercontent.com/5659a7e1b618ffd55a16f8641014adc2088329a5/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d504c253230322e302d626c75652e737667" alt="License" data-canonical-src="https://img.shields.io/badge/license-MPL%202.0-blue.svg"/></a></p>

<p>Suitcase is a library providing a set of primitives and helpers for
specifying and parsing protocols.  Suitcase provides an internal DSL
(Domain Specific Language) for describing protocol frames.  It seeks
to do for binary protocols what things like
<a href="https://docs.djangoproject.com/en/1.8/topics/db/models/">Django's ORM</a>
and
<a href="http://docs.sqlalchemy.org/en/latest/orm/tutorial.html#declare-a-mapping">Sqlalchemy's Declarative Syntax</a>
do for Database ORMs and adopts a similar, class-based syntax.</p>

<p><a href="https://digidotcom.github.io/python-suitcase">View the Full Documentation</a></p>

<p>The original version of suitcase was generously contributed by the
<a href="http://www.digi.com/">Digi</a>
<a href="http://www.digi.com/wireless-design-services/">Wireless Design Services</a>.
The software is provided as Alpha software and has not undergone
formal testing but does ship with extensive unit testing.</p>

<p><a href="https://github.com/digidotcom/python-suitcase/blob/master/CHANGELOG.md">View the Changelog</a></p>

<h1><a id="user-content-example" class="anchor" href="#example" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Example</h1>

<p>The following example shows how you would use Suitcase to describe some
of the core network protocols that form the backbone of the internet:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> suitcase.fields <span class="pl-k">import</span> UBInt16, Payload, LengthField, Magic, \
    UBInt8Sequence, DispatchField, DispatchTarget, UBInt8, UBInt32, BitField, BitNum, \
    BitBool
<span class="pl-k">from</span> suitcase.structure <span class="pl-k">import</span> Structure


<span class="pl-k">class</span> <span class="pl-en">TCPFrameHeader</span>(<span class="pl-e">Structure</span>):
    source_address <span class="pl-k">=</span> UBInt16()
    destination_address <span class="pl-k">=</span> UBInt16()
    sequence_number <span class="pl-k">=</span> UBInt32()
    acknowledgement_number <span class="pl-k">=</span> UBInt32()
    options <span class="pl-k">=</span> BitField(<span class="pl-c1">16</span>,
        <span class="pl-v">data_offset</span><span class="pl-k">=</span>BitNum(<span class="pl-c1">4</span>),
        <span class="pl-v">reserved</span><span class="pl-k">=</span>BitNum(<span class="pl-c1">3</span>),
        <span class="pl-v">NS</span><span class="pl-k">=</span>BitBool(),
        <span class="pl-v">CWR</span><span class="pl-k">=</span>BitBool(),
        <span class="pl-v">ECE</span><span class="pl-k">=</span>BitBool(),
        <span class="pl-v">URG</span><span class="pl-k">=</span>BitBool(),
        <span class="pl-v">ACK</span><span class="pl-k">=</span>BitBool(),
        <span class="pl-v">PSH</span><span class="pl-k">=</span>BitBool(),
        <span class="pl-v">RST</span><span class="pl-k">=</span>BitBool(),
        <span class="pl-v">SYN</span><span class="pl-k">=</span>BitBool(),
        <span class="pl-v">FIN</span><span class="pl-k">=</span>BitBool()
    )
    window_size <span class="pl-k">=</span> UBInt16()
    checksum <span class="pl-k">=</span> UBInt16()
    urgent_pointer <span class="pl-k">=</span> UBInt16()
    <span class="pl-c"># <span class="pl-k">TODO</span>: additional options if data_offset &gt; 5</span>


<span class="pl-k">class</span> <span class="pl-en">UDPFrame</span>(<span class="pl-e">Structure</span>):
    source_port <span class="pl-k">=</span> UBInt16()
    destination_port <span class="pl-k">=</span> UBInt16()
    length <span class="pl-k">=</span> LengthField(UBInt16())
    checksum <span class="pl-k">=</span> UBInt16()
    data <span class="pl-k">=</span> Payload(length)


<span class="pl-k">class</span> <span class="pl-en">IPV4Frame</span>(<span class="pl-e">Structure</span>):
    options <span class="pl-k">=</span> BitField(<span class="pl-c1">64</span>,
        <span class="pl-v">version</span><span class="pl-k">=</span>BitNum(<span class="pl-c1">4</span>),
        <span class="pl-v">internet_header_length</span><span class="pl-k">=</span>BitNum(<span class="pl-c1">4</span>),
        <span class="pl-v">differentiated_services_code_point</span><span class="pl-k">=</span>BitNum(<span class="pl-c1">6</span>),
        <span class="pl-v">explicit_congestion_notification</span><span class="pl-k">=</span>BitNum(<span class="pl-c1">2</span>),
        <span class="pl-v">total_length</span><span class="pl-k">=</span>BitNum(<span class="pl-c1">16</span>),
        <span class="pl-v">identification</span><span class="pl-k">=</span>BitNum(<span class="pl-c1">16</span>),
        <span class="pl-v">flags</span><span class="pl-k">=</span>BitNum(<span class="pl-c1">3</span>),
        <span class="pl-v">fragment_offset</span><span class="pl-k">=</span>BitNum(<span class="pl-c1">13</span>),
    )
    time_to_live <span class="pl-k">=</span> UBInt8()
    protocol <span class="pl-k">=</span> DispatchField(UBInt8())
    header_checksum <span class="pl-k">=</span> UBInt16()
    source_ip_address <span class="pl-k">=</span> UBInt32()
    destination_ip_address <span class="pl-k">=</span> UBInt32()</pre></div>

<p>From these declarative definitions, you can both create message
instances and pack them or parse bytes (including stream parsing) to
get objects that you can do with as you please.</p>

<p>For more information, including how to use the structures that you
have described, please refer to the
<a href="https://digidotcom.github.io/python-suitcase">Full Documentation</a>.</p>

<h1><a id="user-content-design-goals" class="anchor" href="#design-goals" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Design Goals</h1>

<p>The library seeks to adhere to these core principles:</p>

<ul>
<li><p>Simple Interfaces</p>

<p>Interfaces to the library should be simple and there should be a
logical consistency in the library API.  Internally, advanced
language techniques are used, but the API consumer shouldn't need to
be aware of these details.</p></li>
<li><p>Declarative Syntax</p>

<p>Wherever appropriate, the library should seek to provide a syntax
for specifying protocols that is as declarative as possible.  These
declarations should be explicit and it should be clear what is being
declared.</p></li>
<li><p>Informative Error Messages</p>

<p>When implementing a protocol, you usually don't get it right the
first time.  The library should use all available information to
provide information to the API consumer that can help them figure
out what is going wrong easily.</p></li>
<li><p>Common Use Cases Should Be Easy</p>

<p>There are certain data types/patterns that are common amongst
protocols.  The library should include code to help with these cases
to make the programmer's life easier.</p></li>
<li><p>Less Common Use Cases Should Be Possible</p>

<p>When there is a protocol that is significantly different than the
norm, the library should still provide some useful code that can be
reused.  Some parts of the library might need to be abandoned, but
the hope would be that one would not need to start from scratch.</p></li>
</ul>

<h1><a id="user-content-license" class="anchor" href="#license" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>License</h1>

<p>This software is open-source software. Copyright Digi International, 2015.</p>

<p>This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this file,
you can obtain one at <a href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</p>
</article>
  </div></body></html>