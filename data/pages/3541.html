<html><body><div><div class="entry-content clearfix">
		<p>To be honest, doing a sort of objects with <strong>Visual Basic 6</strong> or almost other language can be a difficult task, and maybe it takes some times and several lines of code, but … in <a title="I should have learnt Python before" href="http://www.manejandodatos.es/2013/11/learnt-python/" target="_blank">Python</a> …. everything seem so easy … of course, if you know how to do it!</p>
<h2>Sorting lists … of objects</h2>
<p>The example I will describe on this entrance is how to sort a list of objects, so … let’s start by ordering a simple list. To do that, let’s use the built-in function <strong><em>sorted</em></strong>.</p>
<pre class="brush: python; title: ; notranslate" title="">
milista = [4,1,8,2,9]
print sorted(milista)
</pre>
<p>Easy, isn’t it?</p>
<div id="attachment_2923" class="wp-caption aligncenter"><a href="http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_01.jpg" rel="lightbox[2927]"><img class="size-medium wp-image-2923" src="http://www.manejandodatos.es/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_01-300x150.jpg" alt="Ordenar listas"/><noscript><img class="size-medium wp-image-2923" src="http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_01-300x150.jpg" alt="Ordenar listas"/></noscript></a><p class="wp-caption-text">Sort a list</p></div>
<p>Now, let’s increase <span id="result_box" class="short_text" lang="en"><span class="hps">difficulty</span></span>, because what I would likee to sort is a list of objects. First, let’s define a function to print the results. Next, let’s define a object with two properties called <em>campo1</em> y <em>campo2</em>. (campo means field in spanish)</p>
<p>One method to do that is by using the lambda function, like this:</p>
<pre class="brush: python; title: ; notranslate" title="">
vv2 = sorted(vv, key=lambda objeto: objeto.campo1)
</pre>
<p> </p>
<p>The outcome, only using <em>campo1</em> as a sort criteria is:</p>
<div id="attachment_2924" class="wp-caption aligncenter"><a href="http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_02.jpg" rel="lightbox[2927]"><img class="size-medium wp-image-2924" src="http://www.manejandodatos.es/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_02-300x223.jpg" alt="Ordenación de listas de objetos" srcset="http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_02-300x223.jpg 300w, http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_02.jpg 600w" sizes="(max-width: 300px) 100vw, 300px"/><noscript><img class="size-medium wp-image-2924" src="http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_02-300x223.jpg" alt="Ordenación de listas de objetos" srcset="http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_02-300x223.jpg 300w, http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_02.jpg 600w" sizes="(max-width: 300px) 100vw, 300px"/></noscript></a><p class="wp-caption-text">Sort a list of objects</p></div>
<p>If you want to reverse the order, you need to include the parameter <em>reverse=True</em>.</p>
<h2>Sorting a list of objects by more that one field</h2>
<p>In the previous image you can check that the list is sort by <em>campo1</em>, but the perfect situatios is to sort by <em>campo1</em>, and in case the value is the same, use <em>campo2</em>. The best way to sort the list under this conditios is to use <strong>Python’s magic methods</strong>.</p>
<p><strong>Magic methods?</strong> What are you talking about? If you don’t know what I’m talking about, it could be very useful for you to read this document: <a href="http://www.rafekettler.com/magicmethods.pdf" title="http://www.rafekettler.com/magicmethods.pdf" target="_blank">http://www.rafekettler.com/magicmethods.pdf</a>, because on this guide evetything related to magic methos is very well explained.</p>
<p>The case is … I need to modify the <em>Ejemplo</em> class, and define the comparation magic method, and here is where the logic will be applied. The modified class has this code:</p>
<pre class="brush: python; title: ; notranslate" title="">

class Ejemplo():
def __init__(self, campo1, campo2):
self.campo1 = campo1
self.campo2 = campo2
def __str__(self):
return "%s - %s" % (self.campo1, self.campo2)

def __cmp__(self, other):
if self.campo1 == other.campo1:
return 1 if self.campo2 &gt; other.campo2 else -1
elif self.campo1 &lt; other.campo1:
return -1
else:
return 1

</pre>
<p>The value 1 indicates that <em>self</em> is higher order than <em>other</em>. When returning 0 means that both objects hasve the same values, while the function returns -1 means that <em>other</em> is previous to <em>self</em>.</p>
<p>Now, you don’t need to specify the <em>key</em> parameter inside the <strong>sorted</strong> function, because what it will be applied is the magic method defined.</p>
<p>The outcome after the modification of the class is:</p>
<div id="attachment_2925" class="wp-caption aligncenter"><a href="http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_03.jpg" rel="lightbox[2927]"><img class="size-medium wp-image-2925" src="http://www.manejandodatos.es/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_03-300x249.jpg" alt="Ordenación de listas de objetos" srcset="http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_03-300x249.jpg 300w, http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_03.jpg 650w" sizes="(max-width: 300px) 100vw, 300px"/><noscript><img class="size-medium wp-image-2925" src="http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_03-300x249.jpg" alt="Ordenación de listas de objetos" srcset="http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_03-300x249.jpg 300w, http://www.manejandodatos.es/wp-content/uploads/2014/10/listas_03.jpg 650w" sizes="(max-width: 300px) 100vw, 300px"/></noscript></a><p class="wp-caption-text">Sort a list of objects</p></div>
<p>The full code is:</p>
<pre class="brush: python; title: ; notranslate" title="">

#-------------------------------------------------------------------------------
# Copyright:   (c)Manejando datos 2014
#-------------------------------------------------------------------------------
miVersion = "Ordenación de objetos con Python - version 0.2.0"

class Ejemplo():
def __init__(self, campo1, campo2):
self.campo1 = campo1
self.campo2 = campo2
def __str__(self):
return "%s - %s" % (self.campo1, self.campo2)

def __cmp__(self, other):
if self.campo1 == other.campo1:
return 1 if self.campo2 &gt; other.campo2 else -1
elif self.campo1 &lt; other.campo1:
return -1
else:
return 1

def lista(vv):
""" Imprimimos la lista"""
for v in vv:
print (v)

# Definimos varios objetos
v1 = Ejemplo("rojo", 10)
v2 = Ejemplo("rojo", 8)
v3 = Ejemplo("rojo", 16)
v4 = Ejemplo("rojo", 11)
v5 = Ejemplo("amarillo", 10)
v6 = Ejemplo("amarillo", 8)
v7 = Ejemplo("verde", 14)
v8 = Ejemplo("verde", 12)
v9 = Ejemplo("verde", 8)

# Creamos la Lista
vv = [v1, v2, v3, v4, v5, v6, v7, v8, v9]
vv2 = sorted(vv, key=lambda objeto: objeto.campo1, reverse=True)
#lista(vv2)
print " -------"
vv3 = sorted(vv)
lista(vv3)

</pre>
<p>In summary, sorting a list of objects is not a complex task any more, but as you can read, it requires more knowledge.</p>
<p>You can find the <a href="https://github.com/dtrillo/manejandodatos_python" title="https://github.com/dtrillo/manejandodatos_python/tree/master" target="_blank">Python code on GitHub</a>. Also, the Python editor I’m using on this example is <a title="PyScripter, an IDE for Python" href="http://www.manejandodatos.es/2013/11/pyscripter-ide-python/" target="_blank">PyScripter</a>, an IDE I like a lot, and here you can read about it. In my opinion, for small scripts, is “almost” perfect!</p>
<p> </p>
<h3>Google+ Comments - Comentarios Google+</h3><comments href="http://www.manejandodatos.es/2014/11/sorting-list-objects-python/" first_party_property="BLOGGER" view_type="FILTERED_POSTMOD"/>
		</div>
	</div></body></html>