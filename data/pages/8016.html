<html><body><div><div class="entry-content">

                

                <p>Python поддерживает интересный синтаксис, позволяющий определять небольшие однострочные функции на лету. Позаимствованные из Lisp, так называемые lambda-функции могут быть использованы везде, где требуется функция.</p>
<p>Небольшой пример</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span>

<span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span>
</pre></div>


<p>С одной стороны "прикольно", вместо 2 строк - одна, но сложные конструкции на <code>lambda</code> функциях не напишешь - плохо читаемы. Например</p>
<div class="highlight"><pre><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>


<p>Так чем же отличаются так принципиально <code>def</code> и <code>lambda</code>:</p>
<p>lambda – это выражение, а не инструкция. По этой причине ключевое слово <code>lambda</code> может  появляться там, где синтаксис  языка  Python не позволяет использовать инструкциюdef, – внутри литералов или в вызовах функций, например.</p>
<p>Из этого следует, что лямбды хорошо применять со встроенными функциями - <code>map</code>, <code>filter</code>, <code>reduce</code> (python2):</p>
<div class="highlight"><pre><span class="n">foo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">27</span><span class="p">]</span>

<span class="k">print</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">foo</span><span class="p">)</span>
<span class="c1"># [18, 9, 24, 12, 27]</span>

<span class="k">print</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="n">foo</span><span class="p">)</span>
<span class="c1"># [14, 46, 28, 54, 44, 58, 26, 34, 64] </span>

<span class="k">print</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">foo</span><span class="p">)</span>
<span class="c1"># 139</span>
</pre></div>


<p>Есть и еще одно интересное применение - хранение списка обработчиков данных в списке/словаре:</p>
<div class="highlight"><pre><span class="n">plural_rules</span> <span class="o">=</span> <span class="p">[</span>
    <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="s1">'all'</span><span class="p">,</span>
    <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="s1">'singular'</span> <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="s1">'plural'</span><span class="p">,</span>
    <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="s1">'singular'</span> <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="k">else</span> <span class="s1">'plural'</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>


<p>Интересные примеры можно найти по ссылкам:</p>

            </div>
            
</div></body></html>