<html><body><div><div class="entry-content">
		<p><em><a href="http://geoffboeing.com/2014/09/visualizing-summer-travels-part-6-projecting-spatial-data-python/"><img class="alignright wp-image-406" src="http://i2.wp.com/geoffboeing.com/wp-content/uploads/2014/09/projected-shapefile-gps-coordinates.png?resize=192%2C130" alt="projected-shapefile-gps-coordinates" srcset="http://i2.wp.com/geoffboeing.com/wp-content/uploads/2014/09/projected-shapefile-gps-coordinates.png?resize=300%2C203 300w, http://i2.wp.com/geoffboeing.com/wp-content/uploads/2014/09/projected-shapefile-gps-coordinates.png?w=554 554w" sizes="(max-width: 192px) 100vw, 192px" data-recalc-dims="1"/></a>This guide was updated in August 2015 to reflect changes to the dependencies and the ability to install with Python wheels.</em></p>
<p>I recently went through the challenging exercise of installing <a href="http://geopandas.org/">geopandas</a> on Windows and getting it to run. Having learned several valuable lessons, I thought I’d share them with the world in case anyone else is trying to get this toolkit working in a Windows environment.</p>
<p>It seems that pip installing geopandas works fine on Linux and Mac. However, several of its dependencies have C extensions that cause compilation failures with pip on Windows. This guide gets around that issue. For preliminaries, I have this working on Windows 7, 8, and 10. My Python environment is <a href="https://store.continuum.io/cshop/anaconda/">Anaconda</a>, 64-bit, Python 2.7.</p>
<p><span id="more-392"/></p>
<p>The best bet on Windows is to install Python wheels when possible, because they contain pre-compiled extensions. The <a href="http://conda.pydata.org/">conda</a> package manager that comes with Anaconda does this for packages available in its repository. Alternatively, Christoph Gohlke at the Laboratory for Fluorescence Dynamics at UC Irvine maintains a <a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/">large library</a> of Python wheels for Windows.</p>
<h2>Installing geopandas and its dependencies</h2>
<ol>
<li>Download the wheels for <a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#gdal">GDAL</a>, <a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#fiona">Fiona</a>, <a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#pyproj">pyproj</a>, and <a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#shapely">shapely</a> from Gohlke. Make sure you choose the files that match your architecture (64-bit) and Python version (2.7). Do not try to pip install or conda install any of these 4 packages – if you do, they will fail in some way later, often silently or obscurely, making troubleshooting difficult.</li>
<li>If Gohlke mentions any prerequisites in his descriptions of those 4 packages, install the prerequisites now.</li>
<li>If OSGeo4W, GDAL, Fiona, pyproj, or shapely is already installed, uninstall it now. The GDAL wheel contains a complete GDAL installation – don’t use it alongside OSGeo4W or other distributions.</li>
<li>Open a command prompt and change directories to the folder where you downloaded these 4 wheels.</li>
<li>pip install the GDAL wheel file you downloaded. Your actual command will be something like: pip install GDAL-1.11.2-cp27-none-win_amd64.whl</li>
<li>Add the new GDAL path to the windows PATH environment variable, something like C:\Anaconda\Lib\site-packages\osgeo</li>
<li>pip install your Fiona wheel file, then your pyproj wheel file, then your shapely wheel file.</li>
<li>Now that GDAL and geopandas’s dependencies are all installed, you can just pip install geopandas from the command prompt, <a href="http://geoffboeing.com/wp-content/uploads/2014/09/geopandas-cmd-prompt.png">like this</a>.</li>
</ol>
<h2>Verifying the installation</h2>
<p>Close the command prompt. To test GDAL, re-open the command prompt and run:</p>
<pre>gdalinfo --help</pre>
<p>This command will display GDAL usage instructions if it’s installed properly and the Windows PATH variable is pointing correctly to its install directory. Lastly, test the Python bindings and geopandas itself. From a Python interpreter, run the following lines of code:</p>
<pre class="brush: python; title: ; notranslate" title="">
from osgeo import gdal, ogr, osr
from fiona.ogrext import Iterator, ItemsIterator, KeysIterator
from geopandas import GeoDataFrame
gdal.VersionInfo()
</pre>
<p>If each of these lines of code runs successfully without errors, then geopandas is successfully installed and ready to be used. Here’s a simple <a title="Visualizing Summer Travels Part 5: Python + Matplotlib" href="http://geoffboeing.com/2014/08/visualizing-summer-travels-part-5-python-matplotlib/">example</a> of using geopandas with matplotlib to plot point data over a shapefile basemap:</p>
<p><a href="http://geoffboeing.com/2014/09/visualizing-summer-travels-part-6-projecting-spatial-data-python/"><img class="alignnone wp-image-408 size-full" src="http://i2.wp.com/geoffboeing.com/wp-content/uploads/2014/08/most-isolated-projected.png?resize=637%2C376" alt="most-isolated-projected" srcset="http://i2.wp.com/geoffboeing.com/wp-content/uploads/2014/08/most-isolated-projected.png?resize=300%2C177 300w, http://i2.wp.com/geoffboeing.com/wp-content/uploads/2014/08/most-isolated-projected.png?resize=624%2C368 624w, http://i2.wp.com/geoffboeing.com/wp-content/uploads/2014/08/most-isolated-projected.png?w=637 637w" sizes="(max-width: 637px) 100vw, 637px" data-recalc-dims="1"/></a></p>
<p>
</p>	</div>

	
	</div></body></html>