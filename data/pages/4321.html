<html><body><div><div class="entry-content">
                

<p>In this post it is documented how this blog was constructed as a static site, 
meaning, the webpages are served from storage and not generated dynamically upon
each visit using scripts (written for example in <a href="http://php.net">php</a>) and
databases (e. g., <a href="https://mysql.com">MySQL</a>).</p>
<hr/>
<h3 id="why-a-static-site">Why a static site?</h3>
<hr/>
<p>The obvious and ubiquitous software choice for blogging is <a href="http://wordpress.org">wordpress</a>,
a dynamic engine, which <span class="caps">IMHO</span>, is in several ways superior to other dynamic blogging services
such as <a href="https://www.blogger.com/">Google Blogger</a>, <a href="www.livejournal.com/">Livejournal</a>, 
<a href="https://www.tumblr.com/docs/blog_management">Tumblr</a>, etc., if nothing else for control 
of content. </p>
<p>It would have been natural to stop there and take that route. However in a more insidious
manifestation of technophilia, a static blog was decided upon. There are many reasons,
which all basically comes down to simplicity, control, cost savings, and, 
<em>because I can do it</em>.</p>
<p><strong>The environment issue</strong></p>
<p>In wordpress, everything is web-based, and the content storage, database and scripts are 
all intermixed. Editing must take place in the wordpress editor or in custom 
<a href="www.w3schools.com/html/">html</a>/<a href="www.w3schools.com/js/">javascript</a>/<a href="http://www.w3.org/Style/CSS/Overview.en.html">css</a>/<a href="http://php.net">php</a>.
This is all too much detail for the writer to be bothered about, if s/he wants
any degree of customization. Once the design is fixed, s/he should be able to focus
on the content without any distractions, and if design is to be changed, it should
be doable without disturbing the content files.
</p>
<p>The architectural issue with wordpress etc. here is that they confound the production and 
development environments. These should ideally be separate for a neat workflow. Instead,
the content writer is forced into undesired technical paraphernalia.</p>
<p>In contrast, static blogs compose their content using schema such as 
<a href="http://daringfireball.net/projects/markdown/">Markdown</a>
or <a href="http://docutils.sourceforge.net/rst.html">reStructuredText</a>, which consist of:
(1), a plain text structured syntax for document markup, and, (2), a tool for
conversion to <a href="www.w3schools.com/html/"><span class="caps">HTML</span></a> or other web <a href="http://www.linfo.org/markup_language.html">markup languages</a>.
These are much simpler and much easier to control, and less susceptible 
to version changes.</p>
<p>There is no <span class="caps">PHP</span> or database setup required.  Deploying is simply copying the files
to a server, and so pre-publication testing is easy and can be done offline. 
Usually a small server script is provided alongside the static blog engine
for testing. Otherwise a low-footprint server such as <a href="http://wiki.nginx.org/">nginx</a> 
can be run locally for this purpose.</p>
<p>Thus the problem of confounding development and production platforms is solved,
with nice <a href="http://www.agiledata.org/essays/sandboxes.html">developer and testing sandboxes</a>.</p>
<p>Also all this is very well-integrated with Linux, my favorite operating system,
a very important reason. Command line and text editing is my pasture and I
get to live in that habitat.</p>
<p>The hosting resources required for public deployment are very small, allowing
one to use very cheap hosts such as <a href="http://nearlyfreespeech.net">NearlyFreeSpeech</a>.
Outside the domain registration costs, the running costs come to less than $1
per month, which is a great saving!</p>
<p>This migration to static blogs is gaining more traction and it is increasingly
more popular, especially among developers and hackers (the latter not meaning computer
security criminals, but, followers of <a href="https://news.ycombinator.com/">hacker news</a>). 
There are many static-site engines available by now, for example as described at
<a href="https://www.staticgen.com/">staticgen</a>. </p>
<p>From among these, I was highly impressed
by <a href="http://hexo.io/">hexo</a> based on <a href="https://nodejs.org">Node.js</a>. 
Nevertheless <a href="https://github.com/getpelican/pelican">pelican</a> was chosen
instead, for, although being older, it is based on <a href="https://www.python.org">Python</a>,
a language which is of interest to me for a long time, given its ease of reading,
comparatively easy coding via libraries and above all its popularity for 
scientific and large-scale computing, in adapting to platforms such as 
<a href="http://sagemath.org"><span class="caps">SAGE</span></a>. The other static blog  platforms such as 
<a href="http://jekyllrb.com/">Jekyll</a> and <a href="http://octopress">Octopress</a> were
discarded because I do not have time to learn another involved language such 
as <a href="https://www.ruby-lang.org/">Ruby</a>, when I had already been fixated on
Python. For good or bad, one can’t vacillate for too long and pelican it 
is for the near future.</p>
<p>Markdown was chosen vs reStructuredText because various math and programming related sites such as 
<a href="http://stackoverflow.com">Stackoverflow</a>, <a href="http://math.stackexchange.com">Math Stack Exchange</a>
and <a href="https://help.github.com/articles/github-flavored-markdown/">Github</a> use it, and I am used to 
posting in it for this reason.</p>
<hr/>
<h3 id="setting-up-pip-and-virtualenv">Setting up pip and virtualenv</h3>
<hr/>
<p>It is expected that:</p>
<ul>
<li>The user is proficient in Linux and the terminal. </li>
<li>User is proficient in <a href="http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO.html">bash</a> and can work with python if necessary.</li>
<li>User knows utilities such as <code>git</code>, <code>make</code>, <code>ssh</code>, <code>rsync</code> etc., and is familiar with web servers and markup.</li>
</ul>
<p><code>pip</code> is the python package installer. It takes care of all the Pythonic dependency hell. Use:</p>
<div class="highlight"><pre><span class="code-line"><span class="go">~$ sudo apt-get install -y python-pip python-virtualenv virtualenvwrapper</span></span>
</pre></div>
<p>We do not want to do any global python package installations from now onwards. The method is to use 
<a href="http://docs.python-guide.org/en/latest/dev/virtualenvs/">virtual environments</a> in which the user installs
packages inside a local directory and runs them through wrapper scripts. There can be multiple such environments and the user can switch back and forth between them, with parameters being different each time. This gives much flexibility for development.</p>
<p>Now we create the <code>virtualenv</code> named <code>pelican</code> for our blogging purposes.</p>
<div class="highlight"><pre><span class="code-line"><span class="gp">$</span> mkvirtualenv pelican</span>
<span class="code-line"><span class="go">Running virtualenv with interpreter /usr/bin/python2</span></span>
<span class="code-line"><span class="go">New python executable in pelican/bin/python2</span></span>
<span class="code-line"><span class="go">Also creating executable in pelican/bin/python</span></span>
<span class="code-line"><span class="go">Installing setuptools, pip...done.</span></span>
<span class="code-line"><span class="go">(pelican)~$</span></span>
</pre></div>
<p>Note the change in the <code>bash</code> prompt. Use <code>workon</code> and <code>deactivate</code> to activate/deactivate the python environment:</p>
<div class="highlight"><pre><span class="code-line"><span class="go">~$ workon pelican</span></span>
<span class="code-line"><span class="go">(pelican)~$ deactivate</span></span>
<span class="code-line"><span class="go">~$</span></span>
</pre></div>
<p>This sequence will be part of the blogging workflow whenever required.</p>
<hr/>
<h3 id="installing-pelican-themes-and-plugins">Installing pelican, themes and plugins</h3>
<hr/>
<p>Install <code>pelican</code>:</p>
<div class="highlight"><pre><span class="code-line"><span class="go">~$ mkdir ~/work/blog</span></span>
<span class="code-line"><span class="go">~$ cd ~/work/blog</span></span>
<span class="code-line"><span class="go">~/work/blog$ workon pelican</span></span>
<span class="code-line"><span class="go">(pelican)~/work/blog$ pip install pelican</span></span>
</pre></div>
<p>It downloads and install many packages and finishes with:</p>
<div class="highlight"><pre><span class="code-line"><span class="go">Successfully installed pelican jinja2 blinker pygments docutils python-dateutil pytz six feedgenerator unidecode markupsafe</span></span>
<span class="code-line"><span class="go">Cleaning up...</span></span>
<span class="code-line"><span class="go">(pelican)~/work/blog$</span></span>
</pre></div>
<p>Now we have pelican installed!</p>
<p><a href="https://github.com/getpelican/pelican"><img alt="Pelican" src="http://www.notionsandnotes.org/images/pelican.png"/></a></p>
<p>Install additional packages:</p>
<div class="highlight"><pre><span class="code-line"><span class="go">(pelican)~/work/blog$ pip install Markdown beautifulsoup4 typogrify Pillow webassets</span></span>
</pre></div>
<p>Create directory <code>pelican</code> and run <code>pelican-quickstart</code> to set up the pelican blogging platform inside it:</p>
<div class="highlight"><pre><span class="code-line"><span class="go">(pelican)~/work/blog$ mkdir pelican</span></span>
<span class="code-line"><span class="go">(pelican)~/work/blog$ pelican-quickstart </span></span>
<span class="code-line"><span class="go">Welcome to pelican-quickstart v3.5.0.</span></span>
<span class="code-line"/>
<span class="code-line"><span class="go">This script will help you create a new Pelican-based website.</span></span>
<span class="code-line"/>
<span class="code-line"><span class="go">Please answer the following questions so this script can generate the files needed by Pelican.</span></span>
<span class="code-line"/>
<span class="code-line"/>
<span class="code-line"><span class="go">&gt; Where do you want to create your new web site? [.] pelican</span></span>
<span class="code-line"><span class="go">&gt; What will be the title of this web site? Notions and Notes</span></span>
<span class="code-line"><span class="go">&gt; Who will be the author of this web site? George S.</span></span>
<span class="code-line"><span class="go">&gt; What will be the default language of this web site? [en] </span></span>
<span class="code-line"><span class="go">&gt; Do you want to specify a URL prefix? e.g., http://example.com   (Y/n) </span></span>
<span class="code-line"><span class="go">&gt; What is your URL prefix? (see above example; no trailing slash) http://www.notionsandnotes.org</span></span>
<span class="code-line"><span class="go">&gt; Do you want to enable article pagination? (Y/n) </span></span>
<span class="code-line"><span class="go">&gt; How many articles per page do you want? [10] </span></span>
<span class="code-line"><span class="go">&gt; Do you want to generate a Fabfile/Makefile to automate generation and publishing? (Y/n) </span></span>
<span class="code-line"><span class="go">&gt; Do you want an auto-reload &amp; simpleHTTP script to assist with theme and site development? (Y/n) </span></span>
<span class="code-line"><span class="go">&gt; Do you want to upload your website using FTP? (y/N) </span></span>
<span class="code-line"><span class="go">&gt; Do you want to upload your website using SSH? (y/N) y</span></span>
<span class="code-line"><span class="go">&gt; What is the hostname of your SSH server? [localhost] notionsandnotes</span></span>
<span class="code-line"><span class="go">&gt; What is the port of your SSH server? [22] </span></span>
<span class="code-line"><span class="go">&gt; What is your username on that server? [root] </span></span>
<span class="code-line"><span class="go">&gt; Where do you want to put your web site on that server? [/var/www] </span></span>
<span class="code-line"><span class="go">&gt; Do you want to upload your website using Dropbox? (y/N) </span></span>
<span class="code-line"><span class="go">&gt; Do you want to upload your website using S3? (y/N) </span></span>
<span class="code-line"><span class="go">&gt; Do you want to upload your website using Rackspace Cloud Files? (y/N) </span></span>
<span class="code-line"><span class="go">&gt; Do you want to upload your website using GitHub Pages? (y/N) </span></span>
<span class="code-line"><span class="go">Done. Your new project is available at /home/george/work/blog/pelican</span></span>
</pre></div>
<p>Note that, here, the full details of the ssh server are not provided. In my case, it is stored instead
in the <code>~/.ssh/config</code> file, as per <a href="http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/">ssh config</a>
directives. Replace it as necessary.</p>
<p>We do typesetting using Markdown. Under the <code>~/work/blog</code> directory, we store the site files 
in various subdirectories of the directory <code>raw</code>. The published site is stored under another 
directory <code>www.notionsandnotes.org</code>. As mentioned earlier, <code>pelican</code> directory stores the files
for pelican. So we have three subdirectories in total for the <code>blog</code> directory.</p>
<p>Now set up these two additional directories and also initialize <a href="http://git-scm.com/documentation">git</a> to enable version control and rollbacks (if required):</p>
<div class="highlight"><pre><span class="code-line"><span class="go">(pelican)~/work/blog$ mkdir www.notionsandnotes.org</span></span>
<span class="code-line"><span class="go">(pelican)~/work/blog$ mv pelican/content ./raw</span></span>
<span class="code-line"><span class="go">(pelican)~/work/blog$ git init .</span></span>
<span class="code-line"><span class="go">(pelican)~/work/blog$ git add .</span></span>
<span class="code-line"><span class="go">(pelican)~/work/blog$ git commit -m "Initial commit"</span></span>
</pre></div>
<p>Now to use pelican <a href="https://github.com/getpelican/pelican-themes">themes</a> and <a href="https://github.com/getpelican/pelican-plugins">plugins</a>, clone these from github as <a href="http://git-scm.com/book/en/v2/Git-Tools-Submodules">submodules</a>:</p>
<div class="highlight"><pre><span class="code-line"><span class="go">(pelican)~/work/blog$ cd pelican</span></span>
<span class="code-line"><span class="go">(pelican)~/work/blog$ git submodule add https://github.com/getpelican/pelican-themes.git themes </span></span>
<span class="code-line"><span class="go">(pelican)~/work/blog$ git submodule add https://github.com/getpelican/pelican-plugins.git plugins</span></span>
<span class="code-line"><span class="go">(pelican)~/work/blog$ cd ..</span></span>
<span class="code-line"><span class="go">(pelican)~/work/blog$ git -commit -m "Themes+Plugins"</span></span>
</pre></div>
<hr/>
<h3 id="configuration-file">Configuration file</h3>
<hr/>
<p>There are two config files, <code>pelicanconf.py</code> and <code>publishconf.py</code>. We mostly work with the latter. 
Both are python files. Set the following configuration directives:</p>
<div class="highlight"><pre><span class="code-line"><span class="n">PLUGIN_PATHS</span> <span class="o">=</span> <span class="p">[</span><span class="s">'./plugins'</span><span class="p">]</span></span>
<span class="code-line"><span class="n">PLUGINS</span> <span class="o">=</span> <span class="p">[</span><span class="s">'extract_toc'</span><span class="p">,</span><span class="s">'render_math'</span><span class="p">,</span><span class="s">'disqus_static'</span><span class="p">,</span><span class="s">'better_figures_and_images'</span><span class="p">]</span></span>
<span class="code-line"><span class="n">MD_EXTENSIONS</span> <span class="o">=</span> <span class="p">[</span><span class="s">'codehilite'</span><span class="p">,</span><span class="s">'extra'</span><span class="p">,</span><span class="s">'smarty'</span><span class="p">,</span> <span class="s">'toc'</span><span class="p">]</span></span>
</pre></div>
<p>We have included plugins for: <a href="https://github.com/getpelican/pelican-plugins/tree/master/extract_toc">table of contents</a>, <a href="https://github.com/barrysteyn/pelican_plugin-render_math">LaTeX rendering of math</a>, etc., and similar Markdown extensions are added too. The <code>toc</code> Markdown extension
is for example required for the <code>extract_toc</code> plugin. The “Better Figures and Images” plugin is taken <a href="http://duncanlock.net/blog/2013/05/29/better-figures-images-plugin-for-pelican/">from Duncan Lock</a>, 
whose site was most helpful for this pelican setup. Plugin <a href="https://github.com/getpelican/pelican-plugins/tree/master/assets">assets</a> is for 
minification of javascript etc..</p>
<p>Now set the directives:</p>
<div class="highlight"><pre><span class="code-line"><span class="n">PATH</span> <span class="o">=</span> <span class="s">'../raw'</span></span>
<span class="code-line"><span class="n">OUTPUT_PATH</span> <span class="o">=</span> <span class="s">'../www.notionsandnotes.org/'</span></span>
<span class="code-line"><span class="n">STATIC_PATHS</span> <span class="o">=</span> <span class="p">[</span><span class="s">'extra'</span><span class="p">,</span> <span class="s">'images'</span><span class="p">,</span> <span class="s">'pdfs'</span><span class="p">]</span></span>
<span class="code-line"><span class="n">EXTRA_PATH_METADATA</span> <span class="o">=</span> <span class="p">{</span></span>
<span class="code-line">    <span class="s">'extra/robots.txt'</span><span class="p">:</span> <span class="p">{</span><span class="s">'path'</span><span class="p">:</span> <span class="s">'robots.txt'</span><span class="p">},</span></span>
<span class="code-line">    <span class="s">'extra/favicon.ico'</span><span class="p">:</span> <span class="p">{</span><span class="s">'path'</span><span class="p">:</span> <span class="s">'favicon.ico'</span><span class="p">},</span></span>
<span class="code-line">    <span class="s">'extra/htaccess'</span><span class="p">:</span> <span class="p">{</span><span class="s">'path'</span><span class="p">:</span> <span class="s">'.htaccess'</span><span class="p">}</span></span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>
<p>Create a <a href="http://querbalken.net/add-favicon-to-my-adoption-of-pelican-theme-tuxlite_tbs-en.html">favicon</a> and <a href="https://github.com/getpelican/pelican/wiki/Tips-n-Tricks">robots.txt</a> as required. A <a href="http://docs.getpelican.com/en/latest/tips.html">custom 404 page</a> can be embedded via a
.htaccess configuration directive. <a href="/404.html">This</a> is ours!</p>
<p>We use the <code>built-texts</code> theme and the following directives are added as data for it:</p>
<div class="highlight"><pre><span class="code-line"><span class="n">THEME</span> <span class="o">=</span> <span class="s">'themes/built-texts'</span></span>
<span class="code-line"/>
<span class="code-line"><span class="n">COLOPHON</span> <span class="o">=</span> <span class="bp">True</span></span>
<span class="code-line"><span class="n">COLOPHON_TITLE</span> <span class="o">=</span> <span class="s">'About'</span></span>
<span class="code-line"><span class="n">COLOPHON_CONTENT</span> <span class="o">=</span> <span class="s">"Mainly...."</span></span>
</pre></div>
<p>Edit the <a href="http://www.gnu.org/software/make/manual/make.html">Makefile</a> as follows:</p>
<div class="highlight"><pre><span class="code-line"><span class="nv">INPUTDIR</span><span class="o">=</span><span class="k">$(</span>BASEDIR<span class="k">)</span>/../raw</span>
<span class="code-line"><span class="nv">OUTPUTDIR</span><span class="o">=</span><span class="k">$(</span>BASEDIR<span class="k">)</span>/../www.notionsandnotes.org</span>
</pre></div>
<p>Add in other parameters, such as the ssh hostname, as required.</p>
<hr/>
<h3 id="workflow">Workflow</h3>
<hr/>
<p>First, enable the virtual environment ‘pelican’ using ‘workon’ (and remember to ‘deactivate’ it later.
Posts are created and edited using plain text editors in files with *.md extensions, in Markdown format.
For example, these are the first few lines of the Markdown for this page:</p>
<div class="highlight"><pre><span class="code-line">Title: How this blog was set up using Pelican</span>
<span class="code-line">Date: 2015-04-10 </span>
<span class="code-line">Category: Tech</span>
<span class="code-line">Subcategory: Blogging</span>
<span class="code-line">Tags: pelican, python</span>
<span class="code-line">Slug: pelican-setup</span>
<span class="code-line"/>
<span class="code-line">[TOC]</span>
<span class="code-line"/>
<span class="code-line">**Table of contents**</span>
<span class="code-line"/>
<span class="code-line">[TOC]</span>
<span class="code-line"/>
<span class="code-line">In this post it is documented how this blog was constructed using a static </span>
<span class="code-line">site maker, meaning, there is no server-side processing of data.</span>
</pre></div>
<p>More details are available at the <a href="http://pelican.readthedocs.org/en/latest/quickstart.html">Pelican Documentation</a>
website. The whole source of this website is uploaded to <a href="https://github.com/notionsandnotes/notionsandnotes.org">a github repository</a>
where more examples and details may be found.</p>
<p>After the articles or pages are edited, the compilation and static site generation are done by <code>make html</code>.
Running <code>make devserver</code> will fire up a local server at <code>http://localhost:8000</code>, which can be used for
pre-publication viewing. Note that this will require fixing up of the <code>pelicanconf.py</code> file in addition 
to <code>publishconf.py</code> which was edited earlier. In particular, relative URLs to be enabled in pre-publication
mode in order for us to be able to follow links in the browser. </p>
<p>After viewing, <code>Ctrl + C</code> will stop the server and return to shell.</p>
<p>For publication, run <code>make publish</code>, and later upload via <code>make rsync_upload</code>, which uploads only the
necessary files using 
<a href="https://www.digitalocean.com/community/tutorials/how-to-use-rsync-to-sync-local-and-remote-directories-on-a-vps">rsync</a> + ssh.</p>
<hr/>
<h3 id="screenshots">Screenshots</h3>
<hr/>
<p>Here are the screen captures of a first built of this site with a (slightly modified) built-texts theme, with some 
<a href="http://www.w3.org/Style/CSS/Overview.en.html">css</a> additions.
The captures were done using a <a href="http://mrcoles.com/full-page-screen-capture-chrome-extension/">Google Chrome extension by Peter Cole</a>.</p>
<p>Index page screenshot:</p>
<p><a href="/images/screenshot-index-bt.png"><img alt="index.html" src="/images/screenshot-index-bt-thumb.png"/></a> 
Click for expanding the thumbnail to actual size.</p>
<p>Below is the next screenshot of how the article on Lebesgue measure and construction via Caratheodory extension theorem,
was rendered. </p>
<p><a href="/images/screenshot-lebesgue-bt.png"><img alt="index.html" src="/images/screenshot-lebesgue-bt-thumb.png"/></a>
Click for actual size image.</p>
<p>Once or twice for small customizations I got stuck and two guys in the <a href="https://botbot.me/freenode/pelican/">pelican <span class="caps">IRC</span> chat</a>
helped me out. Thanks, guys (if you are reading this)!</p>
<hr/>
<h3 id="moving-to-pelican-bootstrap3-theme-and-other-improvements">Moving to pelican-bootstrap3 theme and other improvements</h3>
<hr/>
<p>The site by now looks good and is workable. I was however not satisfied yet.</p>
<p>The reason is that the web technologies are progressing fast and the current trend is responsive and mobile and tablet-ready
pages. The <code>built-texts</code> theme, although very good, was not up to date. Therefore it was decided to replace it with a more
modern and responsive theme. Some of the style customized for the <span class="caps">PC</span> screen may be lost, but the viewability in mobile and
touch devices and the more modern font and design are positives.</p>
<p>This time the <a href="https://github.com/DandyDev/pelican-bootstrap3">pelican-bootstrap3</a> theme was chosen. There
were a few more responsive themes available; but this one was the most used and supported. </p>
<p>Quite a good amount of tinkering was done to finally make this satisfactory. While the comparatively new 
<a href="http://getbootstrap.com">bootstrap3</a> theme was more up-to-date, I was still influenced by some of the elegance
of the older <code>built-texts</code> theme. A few additions were my own ideas, too, on top of existing changes done
by others, among the foremost of which are <a href="https://github.com/tylerhartley/beneathdata">Tyler</a> <a href="http://beneathdata.com/">Hartley’s</a> and 
<a href="https://github.com/chdoig/pelican-bootstrap3-lovers">Christine</a> <a href="http://chdoig.github.io">Doig’s</a> sites.</p>
<p>The most important decision was to use the <a href="https://bootswatch.com/">Bootswatch</a> theme <a href="https://bootswatch.com/readable/">readable</a>.
This site is meant to be for expository and rigorous articles on pure mathematics and it is of foremost
importance to ease the user’s eye when staring the screen for a long time.</p>
<p>There were a lot of settings for the <code>pelican-bootstrap3</code> scheme and these were pushed into a separate
file <code>themeconf.py</code> and called via an <code>import</code> directive. So, in that file, the setting was:</p>
<div class="highlight"><pre><span class="code-line"><span class="n">BOOTSTRAP_THEME</span> <span class="o">=</span> <span class="s">'readable'</span></span>
</pre></div>
<h4 id="menus">Menus</h4>
<p>The menus on the top navbar were added by a small bit of pythonic tinkering in the <a href="http://jinja.pocoo.org">Jinja2</a> template:</p>
<div class="highlight"><pre><span class="code-line"><span class="go">(pelican)~/work/blog/pelican$ vim plugins/pelican-bootstrap3/templates/article_list.html</span></span>
</pre></div>
<p>Write something like:</p>
<div class="highlight"><pre><span class="code-line">{% if DISPLAY_CATEGORIES_ON_MENU %}</span>
<span class="code-line">  {% for cat, cat_articles in categories %}</span>
<span class="code-line">    &lt;li class="dropdown {% if cat == category %}active{% endif %}"&gt;</span>
<span class="code-line">    &lt;a href="#" class="dropdown-toggle" id="menu-{{ cat }}" data-toggle="dropdown" &gt;</span>
<span class="code-line">    {{ cat }}</span>
<span class="code-line">    &lt;span class="caret"&gt;&lt;/span&gt;</span>
<span class="code-line">    &lt;/a&gt;</span>
<span class="code-line">     &lt;ul class="dropdown-menu" role="menu"&gt;</span>
<span class="code-line">     {% for cat_article in cat_articles %}</span>
<span class="code-line">        &lt;li&gt;&lt;a href="{{ SITEURL }}/{{ cat_article.url }}"&gt;{{ cat_article.title }}&lt;/a&gt;&lt;/li&gt;</span>
<span class="code-line">     {% endfor %}</span>
<span class="code-line">     &lt;/ul&gt;</span>
<span class="code-line">    &lt;/li&gt;</span>
<span class="code-line">  {% endfor %}</span>
<span class="code-line">{% endif %}</span>
</pre></div>
<p>Similarly, make a menu on the right side of navbar for the pages was added. </p>
<h4 id="other-additions">Other additions</h4>
<p>Another thing to be enabled soon was a commenting system via disqus. This is explained on 
the documentation page.</p>
<p>The save pages were modified, and subcategories were added. 
A little change in the code was required for this to enable
a new `subpath’ metadata, as in <a href="https://github.com/vpiotr/pelican-plugins/commit/1de663785fba8a80bb0f21045c7e7034caddf324">this github patch</a>.</p>
<p>Some Jinja2 alternations made are: a custom article sidebar and individual sidebar 
for each article in the indexes, different sidebar for pages, some font-awesome and 
glyphicon additions, etc.. This was altogether done in a haphazard manner as this 
is my first encounter with any templating language. </p>
<p>The <code>readable</code> bootswatch theme had a problem, of having black links and so it was impossible to locate the links.
So link colors were modified to a shade of blue using the <code>custom.css</code> file, which was included in <code>pelicanconf.py</code> 
as <code>EXTRA_PATH_METADATA</code>. <a href="/custom.css">Here</a> is the whole source.</p>
<p>Some color and other style changes in were incorporated into <code>extra.css</code>.
For example, the “more …” button text for article summary ending in 
indexes was highlighted and enlarged. In <code>templates/article_list.html</code>:</p>
<div class="highlight"><pre><span class="code-line">&lt;br&gt;&lt;a class="btn btn-default btn-small" id="readmore" href="{{ SITEURL }}/{{ article.url }}"&gt; Read more ...&lt;/a&gt;</span>
</pre></div>
<p>and in <code>extra.css</code>:</p>
<div class="highlight"><pre><span class="code-line"><span class="nf">#readmore</span> <span class="p">{</span></span>
<span class="code-line">  <span class="k">font-size</span><span class="o">:</span> <span class="m">17px</span><span class="p">;</span></span>
<span class="code-line">  <span class="k">font-weight</span><span class="o">:</span> <span class="k">bold</span><span class="p">;</span></span>
<span class="code-line">  <span class="k">color</span><span class="o">:</span> <span class="m">#003380</span><span class="p">;</span></span>
<span class="code-line">  <span class="k">background-color</span><span class="o">:</span> <span class="m">#CCFFCC</span><span class="p">;</span></span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>
<p>A few more things were added to <code>extra.css</code>, to change the heading font style to small caps, to 
change some foreground and background colors, to change font sizes for some cases, and to
highlight code differently.</p>
<p>To the Jinja2 templates, a few other additions were made too, like a custom footer
with colophon, background image, a tag cloud, and a tweets widget. Funnily, 
more than an hour was spent trying to fix this widget, only to realize in 
the end that the browser adblock plus extension was blocking it!</p>
<p>The whole source code is available on a <a href="https://github.com/notionsandnotes/notionsandnotes.org">github repository</a> for 
examination if required. All the customizations so far were all implemented by self,
with one notable exception that required intervention of a professional developer:</p>
<hr/>
<h3 id="barry-steyn-updates-pelican-render_math-plugin-for-index-pages">Barry Steyn updates pelican render_math plugin for index pages</h3>
<hr/>
<p>This is supposed to be a pure mathematics blog, and so display of math is extremely important.</p>
<p>It was implemented using the very helpful <a href="https://github.com/getpelican/pelican-plugins/tree/master/render_math">render_math</a>
plugin to display math. It made use of <a href="https://www.mathjax.org/">MathJaX</a> to display mathematics encoded in the
<a href="http://www.latex-project.org/">LaTeX</a> typesetting markup language.</p>
<p>This had one small glitch however. The article summaries in <code>index.html</code> of the base directory, or other indexes for
authors, tags, categories and so on, failed to render math correctly using MathJaX.</p>
<p>That was how I made <a href="https://github.com/barrysteyn/pelican_plugin-render_math/issues/19">my first post in Github</a>. I had originally imagined
that I must have missed something trivial and it was a bold step for me. The author, <a href="https://doctrina.org">Barry Steyn</a>, responded
promptly and offered a solution, which he also said was not completely trivial like I feared before daring to submit an issue. Moral: 
<a href="http://en.wikipedia.org/wiki/Social_anxiety_disorder">Don’t be so shy!!</a></p>
<p>He kept to his word and <a href="https://github.com/barrysteyn/pelican_plugin-render_math">updated the plugin</a> which I cloned
and verified to be working.</p>
<p>Thanks a lot, man!! This addition beautifies me (and this site) a lot, considering the future plans to upload many more Math articles.</p>
<p>See also: <a href="http://doctrina.org/Plugin-For-Pelican-To-Enable-Latex.html">Barry Steyn’s pelican LaTeX plugin page</a>.</p>
<hr/>

<hr/>
<p>It took altogether longer than expected, but was an intensive and beneficial (hopefully) journey. This page was titled, <em>Long Road</em>,
to be reminiscent of <a href="http://webusers.imj-prg.fr/~leila.schneps/grothendieckcircle/LM/tableLM.pdf">Grothendieck’s Long March</a>,
but of course no claims to such greatness or even mere competence are made here!! And, as for the reference, this is 
certainly meant to be a pure mathematics focus blog and one might go the whole mile and allude to mathematical references
even in tech posts!</p>
<p>This website domain was registered on an impulse on July 11, 2014, but due to intervening turbulent personal life,
it took me up to April 2015 to turn back to finally act upon site building. So, maybe, it was indeed a long march!</p>
<p>Any suggestions for improvement are welcome, from web designers and pelican aficionados in particular. Thank you!</p>
<h1 id="_1">===========</h1>
<h3 id="the-end-or-is-it">The end (Or is it?)</h3>
<h1 id="_2">===========</h1>
            </div>
            
    </div></body></html>