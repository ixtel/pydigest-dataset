<html><body><div><p>A general purpose indexer written in Python.</p>








<p>A general purpose indexer written in Python. Licensed under the MIT license.</p>
<div id="features">
<h2>Features</h2>
<p>The <code>indexr.buildr</code> package is capable of constructing an inverted index.</p>
<p>The <code>indexr.utils</code> package contains utilities, such as a tokenization method for converting a text to tokens.</p>
</div>
<div id="examples">
<h2>Examples</h2>
<p>In this example, an indexer is constructed for 3 files. The example uses the following 3 files:</p>
<p><code>0.txt</code>:</p>
<pre><span class="err">The</span> <span class="mi">0</span><span class="err">th</span> <span class="err">document.</span>
</pre>
<p><code>1.txt</code>:</p>
<pre><span class="err">The</span> <span class="mi">1</span><span class="err">st</span> <span class="err">document.</span>
</pre>
<p><code>2.txt</code>:</p>
<pre><span class="err">The</span> <span class="mi">2</span><span class="err">nd</span> <span class="err">document.</span> <span class="err">Some</span> <span class="err">words:</span> <span class="err">repeat</span><span class="o">,</span> <span class="err">repeat</span><span class="o">,</span> <span class="err">repeat.</span>
</pre>
<p>The following code sample can be found in the demo directory (<code>demo/buildr.py</code>).</p>
<pre><span class="c1"># Build the index</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">build_index</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="s1">'index'</span><span class="p">,</span> <span class="n">force_rebuild</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">indexer</span><span class="o">=</span><span class="n">SPIMI</span><span class="p">(</span><span class="n">show_progress</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>

<span class="c1"># Try to find the word "1st"</span>
<span class="k">print</span><span class="p">(</span><span class="s1">'All found occurrences of "1st":'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">index</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">'1st'</span><span class="p">,</span> <span class="n">frequencies</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>

<span class="c1"># Try to find the word "The"</span>
<span class="k">print</span><span class="p">(</span><span class="s1">'All found occurrences of "The":'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">index</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">'The'</span><span class="p">,</span> <span class="n">frequencies</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>

<span class="c1"># Try to find the word "repeat"</span>
<span class="k">print</span><span class="p">(</span><span class="s1">'All found occurrences of "repeat":'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">index</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">'repeat'</span><span class="p">,</span> <span class="n">frequencies</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
</pre>
<p>It gives the following output:</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="n">All</span> <span class="n">found</span> <span class="n">occurrences</span> <span class="n">of</span> <span class="s2">"1st"</span><span class="p">:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="s1">'1.txt'</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">All</span> <span class="n">found</span> <span class="n">occurrences</span> <span class="n">of</span> <span class="s2">"The"</span><span class="p">:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="s1">'0.txt'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'1.txt'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'2.txt'</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">All</span> <span class="n">found</span> <span class="n">occurrences</span> <span class="n">of</span> <span class="s2">"repeat"</span><span class="p">:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="s1">'2.txt'</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</pre>
<p>So indeed, it finds 1 occurrence of “1st”, 3 occurrences of “The” (1 occurrence in each file) and 3 occurrences of “repeat” (3 occurrences in one file).</p>
</div>
</div></body></html>