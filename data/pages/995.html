<html><body><div><div class="section" id="about-the-data">
<h2>About the Data</h2>
<p>All the data that we use in the examples are taken from the <a class="reference external" href="http://www.census.gov">United States Census Bureau</a> site. We’re going to use 2012 population estimates and we’re going to plot the sex and age groups by the state, region and division.</p>
<div class="section" id="population-by-state">
<h3>Population by State</h3>
<p>We’re going to build a Pandas DataFrame from the dataset of <a class="reference external" href="http://www.census.gov/popest/data/cities/totals/2012/SUB-EST2012.html">Incorporated Places and Minor Civil Divisions</a>. We could have just grabbed the <a class="reference external" href="http://www.census.gov/popest/data/state/totals/2012/index.html">estimates for the states</a>, but also wanted to show you how easy it is to work with data using Pandas. First, we fetch the data using <a class="reference external" href="https://docs.python.org/2/library/urllib2.html#urllib2.urlopen">urlopen</a> and we parse the response as CSV using Pandas’ <a class="reference external" href="http://pandas.pydata.org/pandasdocs/version/0.13.1/generated/pandas.io.parsers.read_csv.html">read_csv</a> function:</p>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="n">sub_est_2012_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="n">urlopen</span><span class="p">(</span><span class="s">'http://www.census.gov/popest/data/cities/totals/2012/files/SUB-EST2012.csv'</span><span class="p">),</span>
    <span class="n">encoding</span><span class="o">=</span><span class="s">'latin-1'</span><span class="p">,</span>
    <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s">'STATE'</span><span class="p">:</span> <span class="s">'str'</span><span class="p">,</span> <span class="s">'COUNTY'</span><span class="p">:</span> <span class="s">'str'</span><span class="p">,</span> <span class="s">'PLACE'</span><span class="p">:</span> <span class="s">'str'</span><span class="p">}</span>
<span class="p">)</span>
</pre>
</div>
</div>
<p>The resulting data frame has a lot of information that we don’t need and can be discarded. According to the <a class="reference external" href="http://www.census.gov/popest/data/cities/totals/2012/files/SUB-EST2012.pdf">file layout description</a>, the data is summarized at the nation, state, county and place levels according to the SUMLEV column. Since we’re only interested in the population for each state we can just filter the rows with SUMLEV ‘40’, but wanted to show you how to use the aggregate feature of Pandas’ DataFrames, so we’ll take the data summarized at the count level (SUMLEV ‘50’), then we’ll group by state, and sum the population estimates.</p>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="n">sub_est_2012_df_by_county</span> <span class="o">=</span> <span class="n">sub_est_2012_df</span><span class="p">[</span><span class="n">sub_est_2012_df</span><span class="o">.</span><span class="n">SUMLEV</span> <span class="o">==</span> <span class="mi">50</span><span class="p">]</span>
<span class="n">sub_est_2012_df_by_state</span> <span class="o">=</span> <span class="n">sub_est_2012_df_by_county</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s">'STATE'</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c"># Alternatively we could have just taken the summary rows for the states</span>

<span class="c"># sub_est_2012_df_by_state = sub_est_2012_df[sub_est_2012_df.SUMLEV == 40]</span>
</pre>
</div>
</div>
<p>If you see the table, the states are referenced using their ANSI codes. We can augment the table to include the state names and abbreviations by merging with <a class="reference external" href="http://www.census.gov/geo/reference/ansi_statetables.html">another resource</a> from the Geography section of the US Census Bureau site. We use <tt class="docutils literal"><span class="pre">read_csv</span></tt> Pandas function making sure that we use the pipe character (|) as separator.</p>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="c"># Taken from http://www.census.gov/geo/reference/ansi_statetables.html</span>

<span class="n">state</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">urlopen</span><span class="p">(</span><span class="s">'http://www.census.gov/geo/reference/docs/state.txt'</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="s">'|'</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s">'STATE'</span><span class="p">:</span> <span class="s">'str'</span><span class="p">})</span>
</pre>
</div>
</div>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="n">state</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span>
    <span class="p">[</span><span class="s">'STATENS'</span><span class="p">],</span>
    <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
</pre>
</div>
</div>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="n">sub_est_2012_df_by_state</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">sub_est_2012_df_by_state</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">left_index</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s">'STATE'</span><span class="p">)</span>
<span class="n">sub_est_2012_df_by_state</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span>
    <span class="p">[</span><span class="s">'SUMLEV'</span><span class="p">,</span> <span class="s">'COUSUB'</span><span class="p">,</span> <span class="s">'CONCIT'</span><span class="p">,</span> <span class="s">'ESTIMATESBASE2010'</span><span class="p">,</span> <span class="s">'POPESTIMATE2010'</span><span class="p">,</span> <span class="s">'POPESTIMATE2011'</span><span class="p">],</span>
    <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
</pre>
</div>
</div>
<p>We’re also interested in plotting the information about the age and sex of the people, and for that we can use the <a class="reference external" href="http://www.census.gov/popest/data/state/asrh/2012/SC-EST2012-AGESEX-CIV.html">Annual Estimates of the Civilian Population by Single Year of Age and Sex</a>.</p>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="c"># Taken from http://www.census.gov/popest/data/state/asrh/2012/SC-EST2012-AGESEX-CIV.html</span>

<span class="n">sc_est2012_agesex_civ_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="n">urlopen</span><span class="p">(</span><span class="s">'http://www.census.gov/popest/data/state/asrh/2012/files/SC-EST2012-AGESEX-CIV.csv'</span><span class="p">),</span>
    <span class="n">encoding</span><span class="o">=</span><span class="s">'latin-1'</span><span class="p">,</span>
    <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s">'SUMLEV'</span><span class="p">:</span> <span class="s">'str'</span><span class="p">}</span>
<span class="p">)</span>
</pre>
</div>
</div>
<p>Once again, the table is summarized at many levels, but we’re only interested in the information at the state level, so we filter out the unnecessary rows. We also do a little bit of processing to the STATE column so it can be used to merge with the state DataFrame.</p>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="n">sc_est2012_agesex_civ_df_sumlev040</span> <span class="o">=</span> <span class="n">sc_est2012_agesex_civ_df</span><span class="p">[</span>
    <span class="p">(</span><span class="n">sc_est2012_agesex_civ_df</span><span class="o">.</span><span class="n">SUMLEV</span> <span class="o">==</span> <span class="s">'040'</span><span class="p">)</span> <span class="o">&amp;</span>
    <span class="p">(</span><span class="n">sc_est2012_agesex_civ_df</span><span class="o">.</span><span class="n">SEX</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span>
    <span class="p">(</span><span class="n">sc_est2012_agesex_civ_df</span><span class="o">.</span><span class="n">AGE</span> <span class="o">!=</span> <span class="mi">999</span><span class="p">)</span>
<span class="p">]</span>
<span class="n">sc_est2012_agesex_civ_df_sumlev040</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span>
    <span class="p">[</span><span class="s">'SUMLEV'</span><span class="p">,</span> <span class="s">'NAME'</span><span class="p">,</span> <span class="s">'ESTBASE2010_CIV'</span><span class="p">,</span> <span class="s">'POPEST2010_CIV'</span><span class="p">,</span> <span class="s">'POPEST2011_CIV'</span><span class="p">],</span>
    <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
<span class="n">sc_est2012_agesex_civ_df_sumlev040</span><span class="p">[</span><span class="s">'STATE'</span><span class="p">]</span> <span class="o">=</span> <span class="n">sc_est2012_agesex_civ_df_sumlev040</span><span class="p">[</span><span class="s">'STATE'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s">'</span><span class="si">%02d</span><span class="s">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,))</span>
</pre>
</div>
</div>
<p>What we need to do is group the rows by state, region, division and sex, and sum across all ages. Afterwards, we augment the result with the names and abbreviations of the states.</p>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="n">sc_est2012_sex</span> <span class="o">=</span> <span class="n">sc_est2012_agesex_civ_df_sumlev040</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s">'STATE'</span><span class="p">,</span> <span class="s">'REGION'</span><span class="p">,</span> <span class="s">'DIVISION'</span><span class="p">,</span> <span class="s">'SEX'</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">)[[</span><span class="s">'POPEST2012_CIV'</span><span class="p">]]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">sc_est2012_sex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">sc_est2012_sex</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s">'STATE'</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s">'STATE'</span><span class="p">)</span>
</pre>
</div>
</div>
<p>For the age information, we group by state, region, division and age and we sum across all sexes. If you see the result, you’ll notice that there’s a row for each year. This is pretty useful for analysis, but it can be problematic to plot, so we’re going to group the rows according to age buckets of 20 years. Once again, we add the state information at the end.</p>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="n">sc_est2012_age</span> <span class="o">=</span> <span class="n">sc_est2012_agesex_civ_df_sumlev040</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s">'STATE'</span><span class="p">,</span> <span class="s">'REGION'</span><span class="p">,</span> <span class="s">'DIVISION'</span><span class="p">,</span> <span class="s">'AGE'</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">)[[</span><span class="s">'POPEST2012_CIV'</span><span class="p">]]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre>
</div>
</div>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="n">age_buckets</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">sc_est2012_age</span><span class="o">.</span><span class="n">AGE</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
</pre>
</div>
</div>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="n">sc_est2012_age</span> <span class="o">=</span> <span class="n">sc_est2012_age</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s">'STATE'</span><span class="p">,</span> <span class="s">'REGION'</span><span class="p">,</span> <span class="s">'DIVISION'</span><span class="p">,</span> <span class="n">age_buckets</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="s">'POPEST2012_CIV'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">sc_est2012_age</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">sc_est2012_age</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s">'STATE'</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s">'STATE'</span><span class="p">)</span>
</pre>
</div>
</div>
<p>We also need information about regions and divisions, but since the dataset is small, we’ll build the dictionaries by hand.</p>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="n">region_codes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">0</span><span class="p">:</span> <span class="s">'United States Total'</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">:</span> <span class="s">'Northeast'</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">:</span> <span class="s">'Midwest'</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">:</span> <span class="s">'South'</span><span class="p">,</span>
    <span class="mi">4</span><span class="p">:</span> <span class="s">'West'</span>
<span class="p">}</span>
<span class="n">division_codes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">0</span><span class="p">:</span> <span class="s">'United States Total'</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">:</span> <span class="s">'New England'</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">:</span> <span class="s">'Middle Atlantic'</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">:</span> <span class="s">'East North Central'</span><span class="p">,</span>
    <span class="mi">4</span><span class="p">:</span> <span class="s">'West North Central'</span><span class="p">,</span>
    <span class="mi">5</span><span class="p">:</span> <span class="s">'South Atlantic'</span><span class="p">,</span>
    <span class="mi">6</span><span class="p">:</span> <span class="s">'East South Central'</span><span class="p">,</span>
    <span class="mi">7</span><span class="p">:</span> <span class="s">'West South Central'</span><span class="p">,</span>
    <span class="mi">8</span><span class="p">:</span> <span class="s">'Mountain'</span><span class="p">,</span>
    <span class="mi">9</span><span class="p">:</span> <span class="s">'Pacific'</span>
<span class="p">}</span>
</pre>
</div>
</div>
</div>
</div>
<div class="section" id="part-1-embedding-d3-js">
<h2>Part 1 - Embedding D3.js</h2>
<p><a class="reference external" href="http://d3js.org/">D3.js</a> is an incredibly flexible JavaScript chart library. Although it is primarily used to plot data, it can be used to draw arbitrary graphics and animations.</p>
<p>Let’s build a column chart of the five most populated states in the USA. IPython Notebooks are regular web pages so in order to use any JavaScript library in it, we need to load the necessary requirements. IPython Notebook uses <a class="reference external" href="http://requirejs.org/">RequireJS</a> to load its own requirements, so we can make use of it with the <tt class="docutils literal"><span class="pre">%%javascript</span></tt> cell magic to load external dependencies.</p>
<p>In all the examples of this notebook we’ll load the libraries from <a class="reference external" href="http://cdnjs.com/">cdnjs.com</a>, so to declare the requirement of D3.js we do</p>
<div class="code python highlight-python">
<pre>%%javascript
require.config({
    paths: {
        d3: '//cdnjs.cloudflare.com/ajax/libs/d3/3.4.8/d3.min'
    }
});</pre>
</div>
<p>Now we’ll make use of the <tt class="docutils literal"><span class="pre">display</span></tt> function and <tt class="docutils literal"><span class="pre">HTML</span></tt> from the IPython Notebook <a class="reference external" href="http://ipython.org/ipython-doc/2/api/generated/IPython.core.display.html#module-IPython.core.display">API</a> to render HTML content within the notebook itself. We’re declaring styles to change the look and feel of the plots, and we define a new <tt class="docutils literal"><span class="pre">div</span></tt> with id <tt class="docutils literal"><span class="pre">"chart_d3"</span></tt> that the library is going to use as the target of the plot.</p>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="s">"""</span>
<span class="s">&lt;style&gt;</span>
<span class="s">.bar {</span>
<span class="s"> fill: steelblue;</span>
<span class="s">}</span>
<span class="s">.bar:hover {</span>
<span class="s"> fill: brown;</span>
<span class="s">}</span>
<span class="s">.axis {</span>
<span class="s"> font: 10px sans-serif;</span>
<span class="s">}</span>
<span class="s">.axis path,</span>
<span class="s">.axis line {</span>
<span class="s"> fill: none;</span>
<span class="s"> stroke: #000;</span>
<span class="s">}</span>
<span class="s">.x.axis path {</span>
<span class="s"> display: none;</span>
<span class="s">}</span>
<span class="s">&lt;/style&gt;</span>
<span class="s">&lt;div id="chart_d3"/&gt;</span>
<span class="s">"""</span><span class="p">))</span>
</pre>
</div>
</div>
<p>Next, we define the <a class="reference external" href="http://nbviewer.ipython.org/github/abarto/embedding_interactive_charts_on_an_ipython_notebook/blob/master/embedding_interactive_charts_on_an_ipython_notebook.ipynb#sub_est_2012_df_by_state_template">sub_est_2012_df_by_state_template</a> template with the JavaScript code that is going to render the chart. Notice that we iterate over the “data” parameter to populate the “data” variable in JavaScript. Afterwards, we use the <tt class="docutils literal"><span class="pre">display</span></tt> method once again to force the execution of the JavaScript code, which renders the chart on the target div.</p>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="n">display</span><span class="p">(</span><span class="n">Javascript</span><span class="p">(</span><span class="n">sub_est_2012_df_by_state_template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">sub_est_2012_df_by_state</span><span class="o">.</span><span class="n">sort</span><span class="p">([</span><span class="s">'POPESTIMATE2012'</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[:</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">itertuples</span><span class="p">()))</span>
<span class="p">)</span>
</pre>
</div>
</div>
<img src="/static/media/uploads/uploads/javascript_charts_0.png" alt="/static/media/uploads/uploads/javascript_charts_0.png"/>
<p>The chart shows that California, Texas, New York, Florida and Illinois are the most populated states. What about the other states? Let’s build an interactive chart that allows us to show whichever state we chose. IPython Notebook provides widgets that allow us to get information from the user in an intuitive manner. Sadly, at the time of this writing, there’s no widget to select multiple items from a list but IPython is easily extensible, so we built our own and named it <a class="reference external" href="http://nbviewer.ipython.org/github/abarto/embedding_interactive_charts_on_an_ipython_notebook/blob/master/embedding_interactive_charts_on_an_ipython_notebook.ipynb#MultipleSelectWidget">MultipleSelectWidget</a></p>
<p>We’re going to use IPython’s <a class="reference external" href="http://ipython.org/ipython-doc/dev/api/generated/IPython.html.widgets.interaction.html#module-IPython.html.widgets.interaction">interact</a> function to display the widgets and execute the callback function <a class="reference external" href="http://nbviewer.ipython.org/github/abarto/embedding_interactive_charts_on_an_ipython_notebook/blob/master/embedding_interactive_charts_on_an_ipython_notebook.ipynb#display_chart_d3">display_chart_d3</a> responsible to draw the chart. As we mentioned before, d3 requires a target element to draw the chart, so we use an <a class="reference external" href="http://ipython.org/ipython-doc/dev/api/generated/IPython.html.widgets.widget_string.html#module-IPython.html.widgets.widget_string">HTMLWidget</a> to make sure the div is properly rendered before the callback is executed.</p>
<div class="code python highlight-python">
<div class="highlight">
<pre><span class="n">values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">record</span><span class="p">[</span><span class="s">'STUSAB'</span><span class="p">]:</span> <span class="s">"{0} - {1}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s">'STUSAB'</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s">'STATE_NAME'</span><span class="p">])</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">state</span><span class="p">[[</span><span class="s">'STUSAB'</span><span class="p">,</span> <span class="s">'STATE_NAME'</span><span class="p">]]</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s">'STUSAB'</span><span class="p">)</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">outtype</span><span class="o">=</span><span class="s">'records'</span><span class="p">)</span>
<span class="p">}</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">interact</span><span class="p">(</span>
    <span class="n">display_chart_d3</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">fixed</span><span class="p">(</span><span class="n">sub_est_2012_df_by_state</span><span class="p">),</span>
    <span class="n">show_javascript</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">CheckboxWidget</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>
    <span class="n">states</span><span class="o">=</span><span class="n">MultipleSelectWidget</span><span class="p">(</span>
        <span class="n">value</span><span class="o">=</span><span class="p">[</span><span class="s">'CA'</span><span class="p">,</span> <span class="s">'NY'</span><span class="p">],</span>
        <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
        <span class="n">values_order</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="p">),</span>
    <span class="n">div</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">HTMLWidget</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s">'&lt;div id="chart_d3_interactive"&gt;&lt;/div&gt;'</span><span class="p">)</span>
<span class="p">)</span>
</pre>
</div>
</div>
<p>We’ve also added a show_javascript checkbox to display the generated code on a pop-up.</p>
<img src="/static/media/uploads/uploads/javascript_charts_1.png" alt="/static/media/uploads/uploads/javascript_charts_1.png"/> <img src="/static/media/uploads/uploads/javascript_charts_2.png" alt="/static/media/uploads/uploads/javascript_charts_2.png"/>
<p>Although D3 is capable of creating <a class="reference external" href="https://github.com/mbostock/d3/wiki/Gallery">incredible charts</a>, it has a steep learning curve and it can be overkill if what you want are just simple charts. Let us explore simpler alternatives.</p>
<p>On <a href="http://www.machinalis.com/blog/embedding-interactive-charts-on-an-ipython-nb-pt2/">parts 2</a> and <a href="http://www.machinalis.com/blog/embedding-interactive-charts-on-an-ipython-nb-pt3/">part 3</a> we’ll explore alternative solutions which are simpler, but still good looking.</p>
<p><strong>Want to read more? Follow us on Twitter @machinalis</strong></p>
</div>
</div></body></html>