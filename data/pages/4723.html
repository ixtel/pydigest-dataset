<html><body><div><div class="post-body entry-content" id="post-body-2013025928490817131" itemprop="description articleBody">
<div><p>
Djangui is a Django app which converts scripts written in argparse to a web based interface.</p>
<p>
In short, it converts this:

</p>
<p class="separator">
<br/></p>
<p class="separator">
<br/></p>


<p class="separator">
</p><p>
Into this:
</p>
<p class="separator">
<br/></p>
<p class="separator">
<br/></p>

<p>
If you just want to go out and play with it now, you can do so here:

</p><a href="https://djangui.herokuapp.com/">https://djangui.herokuapp.com</a>
<p>
Note: this is on a free heroku plan, so it may take ~20 seconds to spin up or you may have to refresh if the site is initially unresponsive.
</p><p>
And if you like what you see, you can see how to install it here:</p></div>
<p>
<br/></p>

<p>
<br/></p>
<h3>
So, what is it?</h3><p>
I quite often have to do things which are minimally related to my day to day work, usually involving handling other's data. In biology, there is an exponential increase in the datasets, and most biologists are limited by what can be opened in excel. Even then, they are limited to small datasets because even if you can open 1 million rows in your latest excel, doing useful analysis of it is another story (such as waiting 5 hours to group things).
</p><p>
So basic tasks, like:

</p><ul>
<li>I want to make a heatmap</li>
<li>I want to do a GO analysis</li>
<li>I want to do a PCA analysis</li>
<li>I want to group by X, and make a histogram</li>
</ul><p>
and other similar tasks, are out of reach. Traditionally, you sought out your resident bioinformatician or someone who 'I've seen use the command line before', or tried to find something online.
</p><p>
Because I didn't want to make heatmaps for people (which also, makes them realize making a heatmap of 80,000 rows x 50 columns is pointless unless you are displaying your graph on an imax), I wanted to make a system which enables others to use my scripts without my involvement. There are existing tools to do this with the interests of biologists in mind, such as </p><a href="http://galaxyproject.org/">galaxy</a><p> or </p><a href="http://www.taverna.org.uk/introduction/taverna-in-use/biology/">taverna</a><p>. However, my fundamental issue with these programs is they make me write a wrapper around my scripts in their own markup language. I don't want to learn a platform specific language which has no relevant role in my day-to-day life. Knowing this language is purely altruistic on my end, and doesn't expedite my workday any.

</p><h3>
Enter, Djangui</h3>
<div><p>
So, there is a wonderful library for building command line scripts in python, </p><a href="https://docs.python.org/2/library/argparse.html">argparse</a><p>. Given its fairly structured nature, I thought it would be fairly straight forward to map these structures to a web form equivalent (it wasn't too hard). This project was initially inspired by what power </p><a href="https://github.com/jeffknupp/sandman">sandman</a><p> could leverage over a sql database in a single command. Guided by this 'it should be simple' ideology, djangui will fully bootstrap a Django project with djangui pre-installed for you in a single command:

</p></div>
<code>djanguify.py -p ProjectName</code>


<div>
<p>
From here, Djangui leverages the awesome Django admin to control adding scripts as well as managing their organization. Scripts are classified into groups, such as plotting tools/etc., and user access to scripts can be controlled at the script group as well as the script level.

</p>


<p class="separator">
<br/></p>
<p class="separator">
<br/></p>
<h3>
A Sample Script</h3>
</div>
<p>
After adding a script, your basic interface appears as so:</p>
<p class="separator">
<br/></p>


<p class="separator">
</p>
<p class="separator">
<br/></p>
<p class="separator">
There are three aspects of the front-end:</p>
<p class="separator">
</p>
<ul>
<li>Your script groups</li>
<li>Your currently selected script: We are currently using the 'find cats' script, which will find you cats.</li>
<li>A summary of past, on-going, and queued jobs. Tasks can be further viewed in here by clicking on their task name (its also a datatables table, so it's nicely sortable and queryable). </li>
</ul>

<p class="separator">
<br/></p>
<h3>
Task Viewing</h3>
<p>
The task viewer has several useful feature. From the aforementioned 'find cats' script (also: how to cheaply get undeserved attention from the internet):</p>
<p>
<br/></p>

<h4>
File Previews:</h4>
<p>
Currently there are three types of files we attempt to identify and embed. I'm considering ways to make this more of a plug-and-play style from the admin.</p>
<div>
<ul>
<li><b>Images</b>: </li>
<ul>
<li>From our find cats scripts</li>
</ul>

</ul>
</div>
<p class="separator">
</p>
<p class="separator">
</p>
<ul><ul>
<li>An incomprehensible heatmap: (images naturally have a lightbox)</li>
</ul>
</ul>

<ul>
<p class="separator">
<br/></p>
<li><b>Fasta Files</b>: (a format for DNA/RNA/protein sequences)</li>
</ul>
<p>
<br/></p>


<p class="separator">
</p>


<p class="separator">
</p>


<p class="separator">
<br/></p>
<h4>
Job Cloning:</h4>
<p>
<br/></p>
<p>
Complex scripts may have several options to enable, a job can be cloned and its existing values will be pre-filled into a script for the user to submit.</p>
<p>
<br/></p>
<p>
And other obvious options like job deletion, resubmission, and downloading the contents of the job as a zip or tar.gz file.<br/>
<br/>
<b>Job Resubmission:</b><br/>
<b><br/></b>
Made a stupid mistake in a script you uploaded? Fix the script, then you can simply resubmit the job.</p>
<p>
<br/></p>
<h3>
Anything else?</h3>
<p>
Djangui is a work in progress. It supports ephemeral file systems, so you can use platforms such as Heroku with an Amazon S3 data store. This also allows you to host your worker on a separate node from your main web server. It also supports customization of the interface. If you know a bit of Django, you can override the template system with your own to customize its interface (or extend certain elements of it). Also, it is a pluggable app, meaning you can attach it to an existing Django project simply.<br/>
<br/>
<h4>
A Flask Alternative</h4>
</p>
<div><p>
In the time I was making this, another project emerged called </p><a href="https://github.com/mfitzp/Wooey">Wooey</a><p> which is based on Flask (ironically enough Martin also works in the scientific realm, so it seems we deal with similar issues). It has a slick interface, but has a few differences I went against such as storing the scripts as local json files instead of in the database. Thankfully, he chose a different avenue for loading scripts (using AST), which was a great boon for handling cases my approach to parsing argparse scripts would not cover. We have plans to release a library that is solely based on converting libraries such as argparse/clint to a standard markup for libraries such as Djangui and Wooey to utilize.</p></div>
<p>
<br/></p>
<p>
<h4>
Pull requests and comments are welcome!</h4>
</p>
<p/>
</div>
</div></body></html>