<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-pyelectronics" class="anchor" href="#pyelectronics" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>pyElectronics</h1>
<a href="https://travis-ci.org/MartijnBraam/pyElectronics"><img alt="https://travis-ci.org/MartijnBraam/pyElectronics.svg?branch=master" src="https://camo.githubusercontent.com/22f4552c79863dd1b6ceb4ab5108b49754ac6b1d/68747470733a2f2f7472617669732d63692e6f72672f4d617274696a6e427261616d2f7079456c656374726f6e6963732e7376673f6272616e63683d6d6173746572" data-canonical-src="https://travis-ci.org/MartijnBraam/pyElectronics.svg?branch=master"/></a>
<a href="https://badge.fury.io/py/pyelectronics"><img src="https://camo.githubusercontent.com/8283ba460c68610d067781bfc61f9e04b33be7f0/68747470733a2f2f62616467652e667572792e696f2f70792f7079656c656374726f6e6963732e737667" data-canonical-src="https://badge.fury.io/py/pyelectronics.svg"/>
</a>
<p>This is a python library for using electronics (like i2c or spi devices) with a unified interface. It currently supports
connecting to stuff through the Raspberry Pi gpio with the i2c kernel driver and using the Bus Pirate.</p>
<a name="user-content-supported-gateways"/>
<h2><a id="user-content-supported-gateways" class="anchor" href="#supported-gateways" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Supported gateways</h2>
<p>The gateways are the bridge between Linux and the hardware. Currently supported:</p>
<ul>
<li>Bus Pirate v3</li>
<li>Raspberry Pi / other linux i2c_dev supported interfaces</li>
</ul>
<a name="user-content-supported-chips-devices"/>
<h2><a id="user-content-supported-chipsdevices" class="anchor" href="#supported-chipsdevices" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Supported chips/devices</h2>
<p><a href="http://pythonhosted.org/pyelectronics/contributing.html">Read the contributing guide</a> to add devices</p>
<ul>
<li>Bosch BMP180 Digital pressure sensor</li>
<li>Honeywell 3-Axis Digital Compass IC HMC5883L</li>
<li>MPU-6050 Six-Axis (Gyro + Accelerometer) MEMS MotionTrackingâ„¢ Device</li>
<li>NXP LM75A Digital temperature sensor</li>
<li>Microchip MCP23017 16-Bit I/O Expander</li>
<li>7-segment displays without multiplexing</li>
</ul>
<a name="user-content-installation"/>
<h2><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h2>
<p>Install it from pypi:</p>
<pre>$ pip3 install pyelectronics
</pre>
<p>The various gateways have their own dependencies. Install the dependencies for the gateway you require:</p>
<pre># Requirements for the Raspberry Pi
$ pip3 install pysmbus

# Requirements for the Bus Pirate
$ pip3 install pyserial
</pre>
<p>To run the doctests you need all dependencies. You can install them with the doctest requirements file:</p>
<pre>$ pip3 install -r docs/doctest-requirements.txt
</pre>
<a name="user-content-usage"/>
<h2><a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Usage</h2>
<p>Read the full docs at <a href="https://pythonhosted.org/pyelectronics/index.html">pythonhosted</a>.</p>
<p>First create a instance of a gateway:</p>
<pre>from electronics.gateways import BusPirate
from electronics.gateways import LinuxDevice

# Use a BusPirate to connect to a bus
gw = BusPirate('/dev/ttyUSB0')

# Use a i2c bus with a linux driver (like the raspberry pi)
gw = LinuxDevice(1) # /dev/i2c-1
</pre>
<p>Create instances for components connected to the gateway:</p>
<pre>from electronics.devices import BMP180
from electronics.devices import MPU6050I2C

barometer = BMP180(gw, address=0x77) # Address is optional
inertia = MPU6050(gw)

# Do chip specific initialisation
barometer.load_calibration()
inertia.wakeup()
</pre>
<p>Read values from sensors:</p>
<pre>temperature = barometer.temperature()
pressure = barometer.pressure()
acceleration = inertia.acceleration()
rotation = inertia.angular_rate()
</pre>
<p>Example with GPIO:</p>
<pre># Red led conected to the aux pin of the bus pirate
red_led = gw.get_aux_pin()
# Turn the led on
red_led.write(True)

# An Microchip port expander connected through I2C
expander = MCP23017I2C(gw, address=0x21)

# Get the pins for the two other leds that are connected
# to the port expander
green_led = expander.get_pin('A0')
blue_led = expander.get_pin('A1')

# Bundle the leds to a bus so you can address 8 colours as an int
# the pins on the port expander are open drain, they are inverted with the invert operator (~)
bus = GPIOBus([red_led, ~green_led, ~blue_led])
bus.write(0) # Black
bus.write(7) # White

# Disco!
while True:
    for i in range(0,8):
        bus.write(i)
        sleep(0.2)
</pre>

</article>
  </div></body></html>