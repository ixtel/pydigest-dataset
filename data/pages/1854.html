<html><body><div><div class="entry-content">
		<h1>Introduction</h1>
<p>This is the second part of a three part series covering our experiences running a coding dojo to improve Python and TDD skills in our team. You can read part 1 <a href="https://blog.deltaforce.io/wordpress/running-a-coding-dojo-to-improve-python-tdd-skills/">here</a>.</p>
<p><b>Looking back</b></p>
<p>After the first dojo session, covered in <a href="https://blog.deltaforce.io/wordpress/running-a-coding-dojo-to-improve-python-tdd-skills/">part 1</a>, we discovered the following:</p>
<ol>
<li>The TDD process was not followed as closely as we had hoped</li>
<li>New acceptance tests were not always added for new features</li>
<li>The code quality was in general not up to standard:
<ol>
<li>Incomplete error handling</li>
<li>‘Smart’ yet hard-to-read solutions</li>
<li>Too much coupling</li>
<li>Diverse coding styles across the team members</li>
</ol>
</li>
</ol>
<p>Of the above, we found the most serious issue to be number 1. The main aim of the exercise was to get people ‘thinking TDD’ and that was not happening. Next to that concern we also wanted to find a way, if possible, to address the other issues.</p>
<p>We decided that we needed to expose the team to the pain of working with untested, low quality code. Our hope was that this would make the benefits of clean, tested code more tangible.</p>
<h1>The Exercise</h1>
<p><strong><strong>Dogfooding</strong></strong></p>
<p>In order to help the team ‘feel the pain’ we decided that we would continue with the <a href="http://amirrajan.net/Blog/code-katas-mars-rover/">Mars Rover kata</a>, but that we would ask the team to add new features, to somebody else’s code from part 1.</p>
<p><strong><strong>New Features</strong></strong></p>
<p>In addition to working on somebody else’s code, we introduced some new features which we thought would make the tight-coupling that we’d seen in the first week’s code especially painful. They were:</p>
<ol>
<li>Load the grid, plus obstacles from a file</li>
<li>Print the grid plus obstacles to the screen</li>
</ol>
<p>These new features were to be completed after the features listed in the original <a href="http://amirrajan.net/Blog/code-katas-mars-rover/">Mars Rover kata</a>. We stipulated this because some of the team members had not been able to  implemented the full scope from the first week in the available time.</p>
<p><strong><strong>Extra Instructions</strong></strong></p>
<p>As well as asking the team to work on somebody else’s code, and to add new features that we thought would exacerbate the coupling problem, we also wanted to address some specific issues that we’d seen in the code from the first session.</p>
<p>To do this we made a list on the whiteboard before the session and then went through each of the points with the team before they could start coding. Here’s that list:</p>
<ol>
<li>Introduce a new acceptance test for every new feature</li>
<li>Follow the <a href="http://legacy.python.org/dev/peps/pep-0008/">PEP8</a> style guide (Most of the team use <a href="https://www.jetbrains.com/pycharm/">pyCharm</a> which gives you this for free if you let it)</li>
<li>Make sure you handle all error conditions. Extra points for using exceptions.</li>
</ol>
<h1>So how did it go this time?</h1>
<p><strong><strong>Expectations</strong></strong></p>
<p>We expected that having to deal with each other’s largely untested, and in places confusing code, would generate some frustration with the hope that constructive conversation would follow.</p>
<p>The first challenge would be to understand somebody elses implementation. Having a decent test suite can make this much easier and we encouraged the team to start by looking there although some of them didn’t have this luxury as the code they inherited had no tests. Again, we hoped that this would lead to a conversation amongst the team, with the ultimate hope being a working agreement within the team to test all code.</p>
<p>We purposefully chose the new features for this session to push the team to break off a separate class to reduce coupling. Nobody had done that in the first session, which was ok up until the grid wrapping feature, but as soon as the obstacle feature is added it becomes very obvious that the Rover class is doing too much.</p>
<p>Lastly, we expected that everybody would follow the direct instructions that we’d put on the board (error handling, pep8, one acceptance test per feature) and that they would make an effort to stick to the TDD process this time.</p>
<p>To drive this home we made a point of saying many times that the number of implemented features was unimportant; only following the process counts.</p>
<p><strong><strong>Observations</strong></strong></p>
<p>After the session we looked at the code that had been delivered and noticed that in many places the TDD process was still not followed in the way that we had expected. This was disappointing although it did start us thinking about whether we had explained it sufficiently. On the positive side, we saw that the instructions that we’d put on the board had been followed for the most part. Errors were handled correctly, the style guide was largely followed and some people had started introducing their own exception implementations.</p>
<p>Some of the team members complained that the code they had inherited was very difficult to read. We saw this as a positive development as we could use this input to later drive a conversation about working agreements.</p>
<h1>Conclusion</h1>
<p>Although the TDD process was still not being followed to the letter, we had, in only 2 sessions (4 hours of work!) seen a big improvement in the quality of code being produced by the team. We’d also allowed some members of the team to feel the frustration of working with other people’s untested and hard-to-understand code. This is exactly the sort of pain we were hoping to induce in order to help the team understand why clean code and tests are so vital to productivity.</p>
<p>Read about how we tried to address the TDD process issue in part 3. Coming soon!</p>
	</div>
	
	</div></body></html>