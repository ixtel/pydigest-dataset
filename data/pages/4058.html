<html><body><div><div class="entry-content">
		
<p><a href="https://dataaspirant.files.wordpress.com/2015/04/cover_post_final.png"><img class=" size-full wp-image-320 aligncenter" src="https://dataaspirant.files.wordpress.com/2015/04/cover_post_final.png?w=1000&amp;h=425" alt="Cover_post_final"/></a></p>
<p>The buzz term similarity distance measures has got wide variety of definitions among the math and <a href="http://dataaspirant.com/category/datamining/" target="_blank">data mining</a> practitioners. As a result those terms, concepts and their usage went way beyond the head for beginner , who  started to understand them for the very first time. So today I write this post to give more simplified and very intuitive definitions for similarity and i will drive to Five most popular similarity measures and implementation of them.</p>
<p>Before going to explain different similarity distance measures let me explain the the effective key term similarity in <a href="http://dataaspirant.com/category/datamining/" target="_blank">datamining</a>. This similarity is the very basic building block for activities such as <a href="https://dataaspirant.wordpress.com/category/recommendation_engine/" target="_blank">Recommendation engines</a>, clustering, <a title="Classification and Prediction" href="http://dataaspirant.com/2014/09/27/classification-and-prediction/" target="_blank">classification</a> and anomaly detection.</p>
<h2><strong>Similarity:</strong></h2>
<p>Similarity is the measure of how much alike two data objects are. Similarity in a <a title="DATA MINING" href="http://dataaspirant.com/2014/09/16/data-mining/" target="_blank">data mining</a> context is usually described as a distance with dimensions representing features of the objects. If this distance is small it will be high degree of similarity where as large distance will be low degree of similarity.Similarity is subjective and is highly dependant on the domain and application. For example two fruits are similar because of color or size or taste. Care should be taken when calculating distance across dimensions/features that are unrelated. The relative values of each feature must be normalized or one feature could end up dominating the distance calculation. <strong>Similarity are measure in the range 0 to 1 [0,1].</strong></p>
<p><strong>Two main consideration about similarity:</strong></p>
<ul>
<li>Similarity = 1 if X = Y         (Where X, Y are two objects)</li>
<li>Similarity = 0 if X ≠ Y</li>
</ul>
<p>That’s all about similarity let’s drive to five most popular similarity distance measures.</p>
<h2><strong>Euclidean distance:</strong></h2>
<p><a href="https://dataaspirant.files.wordpress.com/2015/04/euclidean.png"><img class="alignnone size-full wp-image-322" src="https://dataaspirant.files.wordpress.com/2015/04/euclidean.png?w=1000" alt="Euclidean"/></a></p>
<p>    <a href="http://en.wikipedia.org/wiki/Euclidean_distance" target="_blank">Euclidean distance</a> is the most common use of distance. In most cases when people said about distance, they will refer to Euclidean distance. Euclidean distance  is also know as simply distance. When data is dense or continuous , this is the best proximity measure. The Euclidean distance between two points is the length of the path connecting them.This distance between two points is given by the <a title="Pythagorean_theorem" href="http://en.wikipedia.org/wiki/Pythagorean_theorem" target="_blank">Pythagorean theorem</a>.</p>
<p><strong>Euclidean distance implementation in python:</strong></p>
<pre class="brush: python; title: ; wrap-lines: false; notranslate" title="">

#!/usr/bin/env python

from math import*

def euclidean_distance(x,y):

  return sqrt(sum(pow(a-b,2) for a, b in zip(x, y)))

print euclidean_distance([0,3,4,5],[7,6,3,-1])

</pre>
<p><strong>Script Output:</strong></p>
<pre>9.74679434481
[Finished in 0.0s]</pre>
<p> </p>
<h2><strong>Manhattan distance:</strong></h2>
<p><a href="https://dataaspirant.files.wordpress.com/2015/04/manhattan.png"><img class=" size-full wp-image-323 aligncenter" src="https://dataaspirant.files.wordpress.com/2015/04/manhattan.png?w=1000" alt="manhattan"/></a></p>
<p>Manhattan distance is an metric in which the distance between two points is the sum of the absolute differences of their Cartesian coordinates. In simple way of saying it is the absolute sum of difference between the x-coordinates  and y-coordinates. Suppose we have two point A and B if we want to find the manhattan distane between them, just we have to sum up the absultue x-axis and y – axis variation means we have to find how these to points A and B are varining in X-axis and Y- axis.In more mathematical way of saying Manhattan distance between two points measured along axes at right angles.</p>
<p>In a plane with p1 at (x1, y1) and p2 at (x2, y2).</p>
<p>Manhattan distance = |x1 – x2| + |y1 – y2|</p>
<p>This Manhattan distance metric is also known as Manhattan length,rectilinear distance, L1 distance or L1 norm ,city block distance,Minkowski’s L1 distance,taxi cab metric, or city block distance.</p>
<p><strong>Manhattan distance implementation in python:</strong></p>
<pre class="brush: python; title: ; wrap-lines: false; notranslate" title="">

#!/usr/bin/env python

from math import*

def manhattan_distance(x,y):

  return sum(abs(a-b) for a,b in zip(x,y))

print manhattan_distance([10,20,10],[10,20,20])

</pre>
<p><strong>Script Output:</strong></p>
<pre>10
[Finished in 0.0s]</pre>
<p> </p>
<p><strong>Minkowski distance:</strong></p>
<p><a href="https://dataaspirant.files.wordpress.com/2015/04/minkowski.png"><img class=" size-full wp-image-324 aligncenter" src="https://dataaspirant.files.wordpress.com/2015/04/minkowski.png?w=1000" alt="minkowski"/></a></p>
<p>The Minkowski distance is a generalized metric form of Euclidean distance and Manhattan distance.</p>
<p><a href="https://dataaspirant.files.wordpress.com/2015/04/equation_minkowski-distance-1.gif"><img class="  wp-image-342 aligncenter" src="https://dataaspirant.files.wordpress.com/2015/04/equation_minkowski-distance-1.gif?w=306&amp;h=83" alt="equation_minkowski-distance (1)"/></a></p>
<p>In the equation d^MKD is the Minkowski distance between the data record i and j, k the index of a variable, n the total number of variables y and λ the order of the Minkowski metric. Although it is defined for any λ &gt; 0, it is rarely used for values other than 1, 2 and ∞.</p>
<p>The way distances are measured by the Minkowski metric of different orders between two objects with three variables ( In the image it displayed in a coordinate system with x, y ,z-axes).</p>
<p><strong>Synonyms of Minkowski:</strong><br/>
Different names for the Minkowski distance or Minkowski metric arise form the order:</p>
<ul>
<li>λ = 1 is the Manhattan distance. Synonyms are L1-Norm, Taxicab or City-Block distance. For two vectors of ranked ordinal variables the Manhattan distance is sometimes called Foot-ruler distance.</li>
<li>λ = 2 is the Euclidean distance. Synonyms are L2-Norm or Ruler distance. For two vectors of ranked ordinal variables the Euclidean distance is sometimes called Spear-man distance.</li>
<li>λ = ∞ is the Chebyshev distance. Synonym are Lmax-Norm or Chessboard distance.<br/>
reference.</li>
</ul>
<p><strong> Minkowski distance implementation in python:</strong></p>
<pre class="brush: python; title: ; wrap-lines: false; notranslate" title="">

#!/usr/bin/env python

from math import*
from decimal import Decimal

def nth_root(value, n_root):

 root_value = 1/float(n_root)
 return round (Decimal(value) ** Decimal(root_value),3)

def minkowski_distance(x,y,p_value):

 return nth_root(sum(pow(abs(a-b),p_value) for a,b in zip(x, y)),p_value)

print minkowski_distance([0,3,4,5],[7,6,3,-1],3)

</pre>
<p><strong>Script Output:</strong></p>
<pre>8.373
[Finished in 0.0s]</pre>
<h2><strong>Cosine similarity:</strong></h2>
<p><a href="https://dataaspirant.files.wordpress.com/2015/04/cosine.png"><img class=" size-full wp-image-325 aligncenter" src="https://dataaspirant.files.wordpress.com/2015/04/cosine.png?w=1000" alt="cosine"/></a></p>
<p>Cosine similarity metric finds the normalized dot product of the two attributes. By determining the cosine similarity, we will effectively trying to find cosine of the angle between the two objects. The cosine of 0° is 1, and it is less than 1 for any other angle. It is thus a judgement of orientation and not magnitude: two vectors with the same orientation have a cosine similarity of 1, two vectors at 90° have a similarity of 0, and two vectors diametrically opposed have a similarity of -1, independent of their magnitude. Cosine similarity is particularly used in positive space, where the outcome is neatly bounded in [0,1]. One of the reasons for the popularity of cosine similarity is that it is very efficient to evaluate, especially for sparse vectors.</p>
<p><strong>Cosine similarity implementation in python:</strong></p>
<pre class="brush: python; title: ; wrap-lines: false; notranslate" title="">

#!/usr/bin/env python

from math import*

def square_rooted(x):

   return round(sqrt(sum([a*a for a in x])),3)

def cosine_similarity(x,y):

 numerator = sum(a*b for a,b in zip(x,y))
 denominator = square_rooted(x)*square_rooted(y)
 return round(numerator/float(denominator),3)

print cosine_similarity([3, 45, 7, 2], [2, 54, 13, 15])

</pre>
<p><strong>Script Output:</strong></p>
<pre>0.972
[Finished in 0.1s]</pre>
<h2><strong>Jaccard similarity:</strong></h2>
<p><a href="https://dataaspirant.files.wordpress.com/2015/04/jaccard_similariyt.png"><img class="alignnone size-full wp-image-335" src="https://dataaspirant.files.wordpress.com/2015/04/jaccard_similariyt.png?w=1000" alt="jaccard_similariyt"/></a></p>
<p>We so far discussed some metrics to find the similarity between objects. where the objects are points or vectors .When we consider about jaccard similarity this objects will be sets. So first let’s learn some very basic about sets.</p>
<p><strong>Sets:</strong></p>
<p>A set is (unordered) collection of objects {a,b,c}. we use the notation as elements separated by commas inside curly brackets { }. They are unordered so {a,b} = { b,a }.</p>
<p><strong>Cardinality:</strong></p>
<p>Cardinality of A denoted by <strong>|A|</strong> which counts how many elements are in A.</p>
<p><strong> Intersection: </strong></p>
<p>Intersection between two sets A and B is denoted<strong> A ∩ B</strong> and reveals all items which are in both sets A,B.</p>
<p><strong>Union: </strong></p>
<p>Union between two sets A and B is denoted <strong>A ∪ B</strong> and reveals all items which are in either set.</p>
<p> </p>
<p><a href="https://dataaspirant.files.wordpress.com/2015/04/jaccaard2.png"><img class=" size-full wp-image-336 aligncenter" src="https://dataaspirant.files.wordpress.com/2015/04/jaccaard2.png?w=1000" alt="jaccaard2"/></a></p>
<p>Now going back to Jaccard similarity.The Jaccard similarity measures similarity between finite sample sets, and is defined as the cardinality of the intersection of sets divided by the cardinality of the union of the sample sets. Suppose you want to find jaccard similarity between two sets A and B it is the ration of cardinality of A ∩ B and A ∪ B</p>
<p><a href="https://dataaspirant.files.wordpress.com/2015/04/jaccaard3.png"><img class="alignnone size-full wp-image-337" src="https://dataaspirant.files.wordpress.com/2015/04/jaccaard3.png?w=1000" alt="jaccaard3"/></a></p>
<p><strong>Jaccard similarity implementation:</strong></p>
<pre class="brush: python; title: ; wrap-lines: false; notranslate" title="">

#!/usr/bin/env python

from math import*

def jaccard_similarity(x,y):

 intersection_cardinality = len(set.intersection(*[set(x), set(y)]))
 union_cardinality = len(set.union(*[set(x), set(y)]))
 return intersection_cardinality/float(union_cardinality)

print jaccard_similarity([0,1,2,5,6],[0,2,3,5,7,9])

</pre>
<p><strong>Script Output:</strong></p>
<pre>0.375
[Finished in 0.0s]</pre>
<h3><strong>Implementaion of all 5 similarity measure into one Similarity class:</strong></h3>
<p>file_name : <strong>similaritymeasures.py</strong></p>
<pre class="brush: python; title: ; wrap-lines: false; notranslate" title="">

#!/usr/bin/env python

from math import*
from decimal import Decimal

class Similarity():

  """ Five similarity measures function """

  def euclidean_distance(self,x,y):

   """ return euclidean distance between two lists """

   return sqrt(sum(pow(a-b,2) for a, b in zip(x, y)))

  def manhattan_distance(self,x,y):

   """ return manhattan distance between two lists """

   return sum(abs(a-b) for a,b in zip(x,y))

  def minkowski_distance(self,x,y,p_value):

   """ return minkowski distance between two lists """

   return self.nth_root(sum(pow(abs(a-b),p_value) for a,b in zip(x, y)),p_value)

  def nth_root(self,value, n_root):

   """ returns the n_root of an value """

   root_value = 1/float(n_root)
   return round (Decimal(value) ** Decimal(root_value),3)

  def cosine_similarity(self,x,y):

   """ return cosine similarity between two lists """

   numerator = sum(a*b for a,b in zip(x,y))
   denominator = self.square_rooted(x)*self.square_rooted(y)
   return round(numerator/float(denominator),3)

  def square_rooted(self,x):

   """ return 3 rounded square rooted value """

   return round(sqrt(sum([a*a for a in x])),3)

  def jaccard_similarity(self,x,y):

   """ returns the jaccard similarity between two lists """

   intersection_cardinality = len(set.intersection(*[set(x), set(y)]))
   union_cardinality = len(set.union(*[set(x), set(y)]))
   return intersection_cardinality/float(union_cardinality)

</pre>
<p><strong>Using Similarity class:</strong></p>
<pre class="brush: python; title: ; wrap-lines: false; notranslate" title="">

#!/usr/bin/env python

from similaritymeasures import Similarity

def main():

  """ main function to create Similarity class instance and get use of it """

  measures = Similarity()

  print measures.euclidean_distance([0,3,4,5],[7,6,3,-1])
  print measures.jaccard_similarity([0,1,2,5,6],[0,2,3,5,7,9])

if __name__ == "__main__":
  main()

</pre>
<p> </p>
<p><strong>This post codes can be found in this  Github link :</strong></p>
<p><a title="Similarity_measures" href="https://github.com/saimadhu-polamuri/DataAspirant_codes/tree/master/Similarity_measures" target="_blank"> https://github.com/saimadhu-polamuri/DataAspirant_codes/tree/master/Similarity_measures</a></p>
<p> </p>
<h2>Follow us:</h2>

<p>I hope you liked todays post. If you have any questions then feel free to comment below.  If you want me to write on one specific topic then do tell it to me in the comments below.</p>
<h3><strong>THANKS FOR READING…..</strong></h3>

<p> </p>
		<div id="jp-post-flair" class="sharedaddy sd-rating-enabled sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" id="like-post-wrapper-74851061-300-56d5b42f8877a" data-src="//widgets.wp.com/likes/#blog_id=74851061&amp;post_id=300&amp;origin=dataaspirant.wordpress.com&amp;obj_id=74851061-300-56d5b42f8877a" data-name="like-post-frame-74851061-300-56d5b42f8877a"><h3 class="sd-title">Like this:</h3><p class="likes-widget-placeholder post-likes-widget-placeholder"><span class="button"><span>Like</span></span> <span class="loading">Loading...</span></p><span class="sd-text-color"/><a class="sd-link-color"/></div>
<p id="jp-relatedposts" class="jp-relatedposts">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</p></div>					</div>

	</div></body></html>