<html><body><div><div class="post-text" itemprop="text">
<p>May be have any tools for migrations in Odoo <em>enterprise version</em>, but I haven't found any information about this. So the solution which I use is do all manually. Step by step, attentively. If you know a better way let me know.</p>

<p>For example. If we need to remove some fields:</p>

<ol>
<li>Remove fields from models and views in your module/app.</li>
<li><strong>Stop openerp-server</strong>. Run sql which drop our columns.</li>
<li>Deploy new version models and views to server. <strong>Start openerp-server</strong>.</li>
<li><strong>Activate developer mode</strong> -&gt; Go to settings -&gt; find your module/app -&gt; click Update(Upgrade)</li>
</ol>

<p>If you need to change type/relation of fields:</p>

<ol>
<li>Add a field(with new type/relation) to your model. </li>
<li>Prepare sql script which will transfer data from old column to new column/tables. </li>
<li>Remove old field from your model and views.</li>
<li><strong>Stop openerp-server</strong>. Run sql script, drop old columns.</li>
<li>Deploy new version models and views to server. <strong>Start openerp-server</strong>.</li>
<li><strong>Activate developer mode</strong> -&gt; Go to settings -&gt; find your module/app -&gt; click Update(Upgrade)</li>
</ol>

<p><strong>Be careful when you change relations(one2many, many2many).</strong> Make dumps and versions of apps. Check a couple times your modifications on local machine with db from production.</p>

<p>One more thing about new fields with relations. For example I have <em>module_1</em> which depends from <em>crm</em>. <em>module_2</em> which depends from <em>module_1</em> etc. I need add some fields to <em>crm</em> models and show them in <em>module_1</em>. In <em>module_2</em> I need to show new fields from my custom models in <em>module_1</em>. </p>

<p>We can add all new fields to models and views in our modules. Stop server and run server with parameter <strong>--update</strong> like this:</p>

<pre><code>./openerp-server --update=all
</code></pre>

<p>In this case all modules will be updated. If we need update only modules which depends from <strong>crm</strong> we need just update <strong>crm</strong>:</p>

<pre><code>./openerp-server --update=crm
</code></pre>
    </div>
    </div></body></html>