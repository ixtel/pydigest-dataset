<html><body><div><div id="content">

            

            
        


            <div class="section">
              <h1>django-modeldict-yplan 1.5.0</h1>

              


<p>Stores a model as a dictionary</p>








<div id="django-modeldict">
<h2>django-modeldict</h2>
<a href="https://pypi.python.org/pypi/django-modeldict-yplan" rel="nofollow"><img src="https://img.shields.io/pypi/v/django-modeldict-yplan.svg"/>
</a>
<a href="https://travis-ci.org/YPlan/django-modeldict" rel="nofollow"><img src="https://travis-ci.org/YPlan/django-modeldict.svg?branch=master"/></a>
<p><tt>ModelDict</tt> is a very efficient way to store things like settings in your database. The entire model is transformed into a dictionary (lazily) as well as stored in your cache. It’s invalidated only when it needs to be (both in process and based on <tt>CACHE_BACKEND</tt>).</p>
<p>It was originally created by <a href="https://github.com/disqus/django-modeldict" rel="nofollow">Disqus</a>, but due to the inactivity we at YPlan have taken over maintenance on this fork.</p>
<div id="requirements">
<h3>Requirements</h3>
<p>Tested with all combinations of:</p>
<ul>
<li>Python: 2.7, 3.5</li>
<li>Django: 1.8, 1.9</li>
</ul>
</div>
<div id="install">
<h3>Install</h3>
<p>Install it with <tt>pip</tt> (or <tt>easy_install</tt>):</p>
<pre>pip install django-modeldict-yplan
</pre>
<p>Make sure you <tt>pip uninstall <span class="pre">django-modeldict</span></tt> first if you’re upgrading from the original to this fork - the packages clash.</p>
</div>
<div id="example-usage">
<h3>Example Usage</h3>
<pre><span class="c1"># You'll need a model with fields to use as key and value in the dict</span>
<span class="k">class</span> <span class="nc">Setting</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">key</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

<span class="c1"># Create the ModelDict...</span>
<span class="n">settings</span> <span class="o">=</span> <span class="n">ModelDict</span><span class="p">(</span><span class="n">Setting</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">'key'</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">'value'</span><span class="p">,</span> <span class="n">instances</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># And you can treat it like a normal dict:</span>

<span class="c1"># Missing values = KeyError</span>
<span class="n">settings</span><span class="p">[</span><span class="s1">'foo'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="ne">KeyError</span>

<span class="c1"># Sets supported</span>
<span class="n">settings</span><span class="p">[</span><span class="s1">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'hello'</span>

<span class="c1"># Fetch the current value using normal dictionary access</span>
<span class="n">settings</span><span class="p">[</span><span class="s1">'foo'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s1">'hello'</span>

<span class="c1"># ...or by normal model queries</span>
<span class="n">Setting</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s1">'foo'</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s1">'hello'</span>
</pre>
</div>
</div>
<div id="history">
<h2>History</h2>
<div id="pending-release">
<h3>Pending release</h3>
<ul>
<li>Any new changes will go here</li>
</ul>
</div>
<div id="id1">
<h3>1.5.0 (2016-01-11)</h3>
<ul>
<li>Forked by YPlan</li>
<li>Fixed concurrency TOCTTOU bug for threaded Django servers.</li>
<li>Stopped including the ‘tests’ directory in package</li>
<li>Django 1.8 and 1.9 supported.</li>
<li>Python 3 support added.</li>
<li>Fixed <tt>setdefault()</tt> to return the value that was set/found, as per normal dict semantics. Thanks @olevinsky.</li>
</ul>
</div>

</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>65</span> downloads in the last week
  </li>
  <li>
    <span>528</span> downloads in the last month
  </li>
</ul>









            </div>


          </div>
          </div></body></html>