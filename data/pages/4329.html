<html><body><div><div class="postbox">
    <h1>New Tryton release 3.6</h1>
    <hr/>
    <small>
        Posted: 2015-04-22 18:00:00+00:00

                      |  
                    <a href="../ru/posts/new-tryton-release-36.html">Прочесть по-русски</a>
                      |  
                    <a href="../fr/posts/new-tryton-release-36.html">Lire en français</a>
                      |  
                    <a href="../ca/posts/nova-versio-36-de-tryton.html">Llegeix-ho en català</a>
                      |  
                    <a href="../de/posts/new-tryton-release-36.html">Auf Deutsch lesen</a>
                      |  
                    <a href="../sl/posts/new-tryton-release-36.html">Beri v slovenščini</a>
                      |  
                    <a href="../es/posts/nueva-version-36-de-tryton.html">Leer en español</a>
              |  More posts about 
                <a href="../categories/release.html"><span class="badge badge-info">release</span></a>
    </small>
    <hr/>
    <p>We are proud to announce the 3.6 release of <a class="reference external" href="http://www.tryton.org/">Tryton</a>.</p>
<p>The release shows the official support of <a class="reference external" href="http://pypy.org/">PyPy</a> which is
an alternative implementation of Python which focuses on speed and efficiency.</p>
<p><cite>As usual, migration from previous series is fully supported with the obvious
exception of the ldap_connection module which was removed.</cite></p>
<div class="section" id="major-changes-for-the-user">
<h2>Major changes for the user</h2>
<ul>
<li>
<p class="first">A new color scheme for the graphs has replaced the single brightness
variance. Now the color scheme also changes the hue for each color by the
golden angle (which ensure a color will not be picked twice).</p>
<img alt="Graph color scheme" class="img-rounded" src="../images/tryton_graph_color_scheme.png"/>
</li>
<li>
<p class="first">The dictionary widget receive completion on key searching like the other
widgets.</p>
</li>
<li>
<p class="first">The date/time widgets have been completely rewritten to be more flexible on
the format to enter. But they are also more practicable when used with mouse
only thanks to the real pop-up for the calendar and the drop down for the
time.</p>
<img alt="Date widget" class="img-rounded" src="../images/tryton_date_widget.png"/>
<img alt="DateTime widget" class="img-rounded" src="../images/tryton_datetime_widget.png"/>
</li>
<li>
<p class="first">Columns of list view that have always the same value are hidden automatically
because they don't provide information. For example, the list of posted
invoices will not show the state column because by definition they are all
posted.</p>
</li>
</ul>
<div class="section" id="accounting">
<h3>Accounting</h3>
<ul>
<li>
<p class="first">It is now possible to add a description to the cancel move from the wizard.</p>
</li>
<li>
<p class="first">A new option to only show the balance appears in the General Ledger.</p>
</li>
<li>
<p class="first">Tax can now be configured to modify the base price for the next taxes in the
list.</p>
</li>
<li>
<p class="first">It is now possible to define templates for common moves. When running a
template, the user will be asked to encode some data like an amount or a
party, then an account move will be generated with those inputs.</p>
<img alt="Move Template" class="img-rounded" src="../images/tryton_account_move_template.png"/>
</li>
<li>
<p class="first">A printable report exists now for the depreciation of assets.</p>
</li>
<li>
<p class="first">The account charts for France and Belgium has been updated. And the Belgium
one is now translated in dutch.</p>
</li>
<li>
<p class="first">A test wizard is available now to see the result generated by the payment
term. As the payment terms are quite flexible because they support to apply
many deltas (instead of only one), it is not always easy to forecast the
behaviour.</p>
<img alt="Payment Term Test" class="img-rounded" src="../images/tryton_payment_term_test.png"/>
</li>
<li>
<p class="first">The <a class="reference external" href="https://en.wikipedia.org/wiki/Single_Euro_Payments_Area">SEPA</a>
coverage is now extended to the <cite>pain.001.003.03</cite> and <cite>008.003.02</cite> flavors
which are used in Germany. And it is also possible to re-generate a SEPA
message in case of wrong configuration on the first generation.</p>
</li>
<li>
<p class="first">The statements create moves grouped by default by number, date and party. So
when one statement line is split for invoice reconciliation, only one move
will be created now and the origin of this move will be the group of the
statement lines.</p>
</li>
<li>
<p class="first">Tax rules can now depend on the origin and the destination country thanks to
the new module <cite>account_tax_rule_country</cite>.</p>
</li>
<li>
<p class="first">The <a class="reference external" href="https://fr.wikipedia.org/wiki/Comit%C3%A9_fran%C3%A7ais_d%27organisation_et_de_normalisation_bancaires">CFONB</a>
custom (non-standard) format of SEPA is added by the new module
<cite>account_payment_sepa_cfonb</cite>.</p>
</li>
<li>
<p class="first">A new type <cite>deposit</cite> of account is added by the new module <cite>account_deposit</cite>.
It allows to invoice deposit and recall later this amount on the next
invoice.</p>
</li>
</ul>
</div>
<div class="section" id="product">
<h3>Product</h3>
<ul class="simple">
<li>The price list can now be defined as tax included. Tryton will then compute
the price without taxes based on the taxes applied.</li>
</ul>
</div>
<div class="section" id="sale">
<h3>Sale</h3>
<ul class="simple">
<li>A new state <cite>won</cite> was added to the sale opportunity. It goes to this state
automatically when at least one of its sale is confirmed and all others are
also confirmed or canceled.</li>
<li>The amount of the opportunity is updated accordantly to the amount of the
linked sales. This will give more accurate reports.</li>
<li>The computation of the shipment cost is now computed only at the quotation.
This lower the load on the client when the order is pretty large as the cost
will be computed only once instead of each times a line is added.</li>
<li>The new module <cite>sale_extra</cite> allow to add extra line on sale based on
criteria. The extra can be either a free product or an extra service cost
etc.</li>
</ul>
</div>
<div class="section" id="stock">
<h3>Stock</h3>
<ul class="simple">
<li>There is now a relate from the product to its order points.</li>
<li>The creation of purchase request warns also on late production like it does
for late incoming shipment.</li>
<li>The Shelf Live/Expiration Dates are now supported with the new module
<cite>stock_lot_sled</cite>. When a lot is expired, it is no more used to compute the
forecast quantity of the stock.</li>
</ul>
</div>
<div class="section" id="commission">
<h3>Commission</h3>
<p>This new area is managed by a set of new <cite>commission</cite> modules.
The commissions are created for the agent defined on a sale or invoice using a
commission plan.
It is also possible to define principals on the products to which commissions
must be repaid.</p>
</div>
</div>
<div class="section" id="major-changes-for-the-developer">
<h2>Major changes for the developer</h2>
<ul class="simple">
<li>It is now allowed to have many times the same field in list/tree view.</li>
<li>There is no more a <cite>datetime</cite> widget for list/tree, two columns with one
widget date and one widget time should be used instead.</li>
<li>A new field <cite>TimeDelta</cite> appears in this release to represent a duration. It
replace the <cite>float_time</cite> widget which had some rounding issue. This new field
is already used in the <cite>timesheet</cite> and <cite>project</cite> modules.</li>
<li>The <cite>One2Many</cite> widget can be configured to use a Cartesian product with the
selections of many values for <cite>Many2One</cite> or <cite>Reference</cite> fields.</li>
<li>A method <cite>restore_history_before</cite> is added to <cite>ModelSQL</cite> which behaves like
the existing <cite>restore_history</cite> but restore the records just before the
datetime.</li>
<li>The <cite>on_change</cite> methods have been migrated to a behaviour more consistent
with the <a class="reference external" href="https://en.wikipedia.org/wiki/Active_record_pattern">Active Record Pattern</a> used in Tryton.
Instead of returning a dictionary with the values to change, now the instance
is directly changed. This allow to chain easily the <cite>on_change</cite> methods or
reuse them in other methods reducing the duplication.</li>
<li>The method <cite>save</cite> on <cite>ModelStorage</cite> is now a <cite>dualmethod</cite> which means that it
can be called as usual as an instance method but also as a class method with
a list of records. Saving many records at once this way improves the
performance as the method will minimize the number of queries to the database
and will validate the result by bunch.</li>
<li>The <cite>Dict</cite> field received a <cite>translated</cite> method to create descriptors which
translate the values or the keys like the same method on <cite>Selection</cite> field.</li>
<li>It is now allowed to use the dotted notation in the order clause of a search.
The <a class="reference external" href="https://en.wikipedia.org/wiki/Object-relational_mapping">ORM</a> will
automatically generate the needed joins.</li>
<li>The <a class="reference external" href="https://en.wikipedia.org/wiki/Application_programming_interface">API</a>
of the <cite>Report</cite> class has been reworked to improve the customization of the
engine. The formatting methods are now more strict to prevent silent failure.</li>
<li>The <cite>safe_eval</cite> (which was not sure to be safe) has been completely removed.
In the places where the evaluated code was any way safe, the standard <cite>eval</cite>
is used. For evaluated code from outside, a <a class="reference external" href="https://en.wikipedia.org/wiki/JSON">JSON</a> notation is now used.
Some utilities have been developed to ease the creation of JSON from <a class="reference external" href="https://en.wikipedia.org/wiki/XML">XMl</a> or in the views.</li>
<li>A new kind of button has been added which works on non-saved record. They are
quite similar to <cite>on_change</cite> but they are triggered by a click on a button
instead of a change of field.</li>
</ul>
<div class="section" id="id1">
<h3>Accounting</h3>
<ul class="simple">
<li>A new method <cite>reverse_compute</cite> has been added to Tax which allow to compute
the base amount from the taxed amount.</li>
<li>The sign of the second currency amount is enforced to be the same as debit -
credit.</li>
<li>The analytic account management has been reworked to use a really <cite>One2Many</cite>
instead of the pseudo-field. This simplification was possible thanks to the
recent new features like the usage of <cite>Reference</cite> field on <cite>One2Many</cite>.</li>
</ul>
</div>
<div class="section" id="party">
<h3>Party</h3>
<ul class="simple">
<li>The vat number is now stored in its compact format.</li>
</ul>
</div>
<div class="section" id="id2">
<h3>Product</h3>
<ul class="simple">
<li>The number of decimal for internal price calculations is now a configuration
parameter <cite>price_decimal</cite>. This parameter is used everywhere to ensure
consistency between all modules.</li>
</ul>
</div>
<div class="section" id="purchase-sale">
<h3>Purchase/Sale</h3>
<ul class="simple">
<li>Their lines support both mixed invoice type (Invoice vs Credit Note) per line
when computing the invoiced quantity.</li>
</ul>
</div>
<div class="section" id="id3">
<h3>Stock</h3>
<ul class="simple">
<li>A new state <cite>staging</cite> is added to the move. Such state doesn't impact at all
the computation of the stock level. It is used for supply on sale, to create
moves in advance.</li>
<li>Inactive products are still computed for the stock level.</li>
<li>The computation of assigned move has been improved to take only in
consideration outgoing move assigned not the incoming. This result in a less
optimistic for the stock level and thus prevent to assign a move with an
incoming one that is just assigned but not yet done.</li>
<li>Forecasts are now automatically deactivated when their period is in the past.</li>
</ul>
</div>
</div>
    
    </div>

    
</div></body></html>