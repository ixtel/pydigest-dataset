<html><body><div><div class="entry-content">
						<p>The first <a href="http://blog.jetbrains.com/pycharm/2016/02/pycharm-5-1-eap-is-open/">EAP for PyCharm 5.1</a> was released last week, with lots of enticing features. Here’s one that jumps out for long-time users: “Debugger performance improvements”. Let’s take a look at this in a little more depth, then provide some of the back story.</p>
<p>Imagine we’re debugging a semi-large code base with PyCharm 5.0.4. If we set a breakpoint and time how long it takes to get there, it measures out as 12 seconds:</p>
<p><a href="http://blog.jetbrains.com/pycharm/files/2016/02/debugger_speedup-5.1-pre.gif" rel="attachment wp-att-3659"><img class="alignnone size-full wp-image-3659" src="http://blog.jetbrains.com/pycharm/files/2016/02/debugger_speedup-5.1-pre.gif" alt="debugger_speedup 5.1 pre"/></a></p>
<p>In PyCharm 5.1, the debugger performance has improved, especially for large code bases. Let’s give the same scenario a try:</p>
<p><a href="http://blog.jetbrains.com/pycharm/files/2016/02/debugger_speedup.gif" rel="attachment wp-att-3660"><img class="alignnone size-full wp-image-3660" src="http://blog.jetbrains.com/pycharm/files/2016/02/debugger_speedup.gif" alt="debugger_speedup"/></a></p>
<p>Almost 3.5 seconds of improvement on OS X.</p>
<p>Wouldn’t it be great to get a couple more seconds? And now comes the real story: the new debugger has some performance improvements implemented in <a href="http://cython.org">Cython</a>. On OS X and Linux we need to install them manually, as the debugger console message helpfully tells us:</p>
<p><a href="http://blog.jetbrains.com/pycharm/files/2016/02/debugger_speedup-5.1-screenshot.png" rel="attachment wp-att-3661"><img class="alignnone size-full wp-image-3661" src="http://blog.jetbrains.com/pycharm/files/2016/02/debugger_speedup-5.1-screenshot.png" alt="debugger_speedup 5.1 screenshot"/></a></p>
<p>Windows users get these Python speedups pre-bundled. Let’s install them on OS X by copying the text above after “Debugger speedups using Cython not found. Run…”:</p>
<p><a href="http://blog.jetbrains.com/pycharm/files/2016/02/debugger_speedup-5.1-install.gif" rel="attachment wp-att-3657"><img class="alignnone size-full wp-image-3657" src="http://blog.jetbrains.com/pycharm/files/2016/02/debugger_speedup-5.1-install.gif" alt="debugger_speedup 5.1 install"/></a></p>
<p>That is, we’re running:</p>

		<div id="crayon-56d5b31458a01168757750" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b31458a01168757750-1"><span class="crayon-v">env27</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">python</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">Applications</span><span class="crayon-o">/</span><span class="crayon-v">PyCharm</span><span class="crayon-sy">\</span><span class="crayon-h"> </span><span class="crayon-cn">5.1</span><span class="crayon-sy">\</span><span class="crayon-h"> </span><span class="crayon-v">EAP</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-o">/</span><span class="crayon-v">Contents</span><span class="crayon-o">/</span><span class="crayon-v">helpers</span><span class="crayon-o">/</span><span class="crayon-v">pydev</span><span class="crayon-o">/</span><span class="crayon-v">setup_cython</span><span class="crayon-sy">.</span><span class="crayon-e">py </span><span class="crayon-v">build_ext</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">inplace</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>…using the Python in this project’s virtual environment, just to make sure we have the correct Python version. Once more, let’s measure the time to get to the breakpoint:</p>
<p><a href="http://blog.jetbrains.com/pycharm/files/2016/02/debugger_speedup-5.1-post.gif" rel="attachment wp-att-3658"><img class="alignnone size-full wp-image-3658" src="http://blog.jetbrains.com/pycharm/files/2016/02/debugger_speedup-5.1-post.gif" alt="debugger_speedup 5.1 post"/></a></p>
<p>5.7 seconds! That’s a meaningful difference. As stated by the developers, the debugger is 40% faster in the general case and over 130% faster when you have the Cython modules compiled and installed. Again, if you are on Windows, you don’t need to do anything — you will get these improvements automatically for Python 2.7, Python 3.4, and Python 3.5 interpreters.</p>
<p>On OS X and Linux, you need to do a one-time compilation using any Python on your system matching the Python version you need, as shown in the screenshot above. For example, if you use Python 2.7 and Python 3.4, you need to run the Cython speedups with an interpreter matching those two versions. Each time you run it, a compiled speedup will be saved in your PyCharm application, for that Python version. For example, on my system, this was created:</p>

		<div id="crayon-56d5b31458a0b976938353" class="crayon-syntax crayon-theme-classic crayon-font-courier-new crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b31458a0b976938353-1"><span class="crayon-o">/</span><span class="crayon-v">Applications</span><span class="crayon-o">/</span><span class="crayon-i">PyCharm</span><span class="crayon-h"> </span><span class="crayon-cn">5.1</span><span class="crayon-h"> </span><span class="crayon-v">EAP</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-o">/</span><span class="crayon-v">Contents</span><span class="crayon-o">/</span><span class="crayon-v">helpers</span><span class="crayon-o">/</span><span class="crayon-v">pydev</span><span class="crayon-o">/</span><span class="crayon-v">build</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-sy">.</span><span class="crayon-v">macosx</span><span class="crayon-o">-</span><span class="crayon-cn">10.11</span><span class="crayon-o">-</span><span class="crayon-v">x86_64</span><span class="crayon-o">-</span><span class="crayon-cn">2.7</span><span class="crayon-o">/</span><span class="crayon-v">_pydevd_bundle</span><span class="crayon-o">/</span><span class="crayon-v">pydevd_cython</span><span class="crayon-sy">.</span><span class="crayon-v">so</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Note the “-2.7” in the directory name. Also, note that you don’t have to do this with your virtual environment’s Python, but it certainly makes sense to do so, as you’ll be sure to match the version. You don’t have to do this once for every Python 2.7 virtual environment, as these speedups aren’t stored in the virtual environment. They are stored inside PyCharm’s pydevd helper.</p>
<p>Now, on to the backstory. As explained in the <a href="http://blog.jetbrains.com/pycharm/2016/02/pycharm-5-1-eap-is-open/">blog post announcing the 5.1 EAP</a>, JetBrains <a href="http://pydev.blogspot.de/2016/01/pydev-451-debug-faster.html">joined efforts with PyDev</a>, helping sponsor the work on pydevd which is shared by the two projects. Both projects require a sophisticated debugger backend and <a href="http://pydev.blogspot.com/2014/08/pydev-370-pydevpycharm-debugger-merge.html">previously merged their work</a>. This performance improvement is another step forward in the collaboration.<br/>
If you debug a large code base, give this EAP a try with the Cython speedups and post a comment letting us know your results. We expect performance improvements to be higher for larger code bases.</p>
<p>PyCharm Team<br/>
The Drive to Develop</p>
											</div>


					</div></body></html>