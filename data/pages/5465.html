<html><body><div><div class="section">
              <h1>flask-mwoauth 0.2.46</h1>

              


<p>Flask blueprint to connect to a MediaWiki OAuth server</p><p>








flask-mwoauth</p><p>--------------</p><p>Flask blueprint to run OAuth against MediaWiki's extension:OAuth.</p><p>The blueprint adds these uris:</p><p> - /login - runs the OAuth handshake and returns the user to / </p><p>   - /login?next=/someurl will return the user to /someurl  </p><p> - /logout - clears the users' access tokens</p><p>   - /logout?next=/someurl will return the user to /someurl</p><p> - /oauth-callback - callback from MW to finish the handshake</p><p>The users' OAuth key and secret are stored in the session.</p><p>In addition, flask-mwoauth adds a few convenience functions:</p><p>1) `get_current_user(cached=True)` reports who the current user is. To confirm</p><p>   the user is still logged in (e.g. tokens have not been revoked), call it</p><p>   with cached=False.</p><p>2) `request(api_query)` submits an request through the API, using the users' access tokens. For instance,</p><p>.. code-block:: python</p><p>  result = request({'action': 'query', 'meta': 'userinfo'})</p><p>fetches https://www.mediawiki.org/w/api.php?action=query&amp;meta=userinfo and returns the result as Python dict, e.g.</p><p>.. code-block:: python</p><p>  {u'batchcomplete': u'', u'query': {u'userinfo': {u'id': 31344, u'name': u'Valhallasw'}}}  </p><p>If you are authorized to access other wikis (e.g. en.wikipedia.org, although you authorized via mediawiki.org), you can run a request there using</p><p>.. code-block:: python</p><p>  result = request({'action': 'query', 'meta': 'userinfo'}, url='https://en.wikipedia.org/w/api.php')  </p><p>For more information on using the api, please check the api documentation at https://www.mediawiki.org/wiki/API:Main_page    </p><p>The example app</p><p>---------------------</p><p>An example app is implemented in `demo.py`.</p><p>1. Go to https://www.mediawiki.org/wiki/Special:OAuthConsumerRegistration/propose and fill in the following values:</p><p>  - Application name: test app</p><p>  - Application description: test app for flask-mwoauth</p><p>  - OAuth "callback" URL: http://localhost:5000/oauth-callback</p><p>  - Contact email address: &lt;your registered="" email="" address=""&gt;</p><p>  - Leave all other values default.</p><p>2. Click 'Propose consumer'. You now get a message stating</p><p>        Your OAuth consumer request has been received.        </p><p>        You have been assigned a consumer token of **&lt;consumer key=""&gt;** and a secret token of **&lt;consumer secret=""&gt;**. Please record these for future reference."</p><p>3. Then</p><p>::</p><p>    $ python setup.py develop</p><p>    $ python demo.py</p><p>    NOTE: The callback URL you entered when proposing an OAuth consumer</p><p>    probably did not match the URL under which you are running this development</p><p>    server. Your redirect back will therefore fail -- please adapt the URL in</p><p>    your address bar to http://localhost:5000/oauth-callback?oauth_verifier=...etc    </p><p>    Consumer key: &lt;the consumer="" key="" you="" got=""&gt;</p><p>    Consumer secret: &lt;the consumer="" secret="" you="" got=""&gt;</p><p>You may need to re-enter the key and secret if the app reloads.</p><p>4. Go to http://localhost:5000/ and click 'login'.

</p><a name="downloads">Â </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>96</span> downloads in the last week
  </li>
  <li>
    <span>552</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>