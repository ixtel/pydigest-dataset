<html><body><div><div class="section-inner layoutSingleColumn"><figure name="30db" id="30db" class="graf--figure graf--first"/><h2 name="title" id="title" class="graf--h2 graf-after--figure">11 Killer Features I use in Every Django Project</h2><p name="1ede" id="1ede" class="graf--p graf-after--h2">With 2015 rapidly approaching, I took some time to think about what I would have done differently from a development perspective in 2014. In my previous article, <a href="https://medium.com/cs-math/11-things-i-wish-i-knew-about-django-development-before-i-started-my-company-f29f6080c131" data-href="https://medium.com/cs-math/11-things-i-wish-i-knew-about-django-development-before-i-started-my-company-f29f6080c131" class="markup--anchor markup--p-anchor"><strong class="markup--strong markup--p-strong">11 Things I wish I knew about Django Before Starting My Company</strong></a><strong class="markup--strong markup--p-strong">, </strong>I started the list. Now it’s time to add to it!</p><ol class="postList"><li name="6cdc" id="6cdc" class="graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Use Postgres As Your Primary Data Store</strong></li></ol><p name="75e6" id="75e6" class="graf--p graf-after--li">I know in the previous article I was advocating using MongoDB for your primary database, but after 1.5 years of using it, I would no longer suggest it for a number of reasons:</p><ul class="postList"><li name="216a" id="216a" class="graf--li graf-after--p">As of <a href="https://medium.com/@josephmisiti/f48623f58b21" data-href="https://medium.com/@josephmisiti/f48623f58b21" class="markup--anchor markup--li-anchor">Django 1.7</a>, there is still no built in support for MongoDB via the Django ORM. You need to utilize <a href="http://mongoengine.org/" data-href="http://mongoengine.org/" class="markup--anchor markup--li-anchor" rel="nofollow">Mongoengine</a>/<a href="http://api.mongodb.org/python/current/" data-href="http://api.mongodb.org/python/current/" class="markup--anchor markup--li-anchor" rel="nofollow">PyMongo</a>. Both of those projects are amazing, but because Django doesn’t support MongoDB, you cannot use Django admin — this really sucks and it is one of the reasons why I’ve stopped using MongoDB as a primary data store.</li><li name="e60a" id="e60a" class="graf--li graf-after--li">As of 12/18/2014, Postgres now <a href="http://www.postgresql.org/about/news/1557/" data-href="http://www.postgresql.org/about/news/1557/" class="markup--anchor markup--li-anchor" rel="nofollow">supports the JSONB data type</a>, which means you can store “documents” in Postgres and run similar queries (with indexing) to MongoDB, <a href="http://blogs.enterprisedb.com/2014/09/24/postgres-outperforms-mongodb-and-ushers-in-new-developer-reality/" data-href="http://blogs.enterprisedb.com/2014/09/24/postgres-outperforms-mongodb-and-ushers-in-new-developer-reality/" class="markup--anchor markup--li-anchor" rel="nofollow">without taking a performance hit</a>.</li><li name="7c3a" id="7c3a" class="graf--li graf-after--li">Most third party libraries are useless because they assume you are using the Django ORM. This makes utilizing the Django ecosystem almost impossible. The Django ecosystem is amazing and getting better every day — this is a real bummer.</li></ul><p name="04de" id="04de" class="graf--p graf-after--li">If you are developing on OSX, don’t waste time building Postgres from source, use <a href="http://postgresapp.com/" data-href="http://postgresapp.com/" class="markup--anchor markup--p-anchor" rel="nofollow">Postgres App</a> — it will save you a lot of time.</p><p name="48d9" id="48d9" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">2. Build a unit testing infrastructure that makes writing unit tests easy</strong></p><p name="a58e" id="a58e" class="graf--p graf-after--p">There are a lot of articles, both positive and negative regarding test driven development(TDD) and Django. I’m not taking a side in that fight, but one thing I try to do in every project is setup a framework that makes writing unit tests easy and fun (yes fun). Every project I work on has a class which acts as a <a href="http://en.wikipedia.org/wiki/Mixin" data-href="http://en.wikipedia.org/wiki/Mixin" class="markup--anchor markup--p-anchor" rel="nofollow">mixin</a> for all TestCases. Each unit test (class) then inherits from this mixin and has instance based methods to create data for each test. Fake data is generated using the excellent <a href="https://github.com/joke2k/django-faker" data-href="https://github.com/joke2k/django-faker" class="markup--anchor markup--p-anchor" rel="nofollow">django_faker</a> project. Data is created in setUp() and removed in tearDown(). If you’re interested in learning more — please read my <a href="http://josephmisiti.github.io/unit-testing-best-practices-in-django/" data-href="http://josephmisiti.github.io/unit-testing-best-practices-in-django/" class="markup--anchor markup--p-anchor" rel="nofollow">blog post</a> on unit testing in Django.</p><p name="3de4" id="3de4" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">3. Build RESTful interfaces with Django Tastypie</strong></p><p name="dd8c" id="dd8c" class="graf--p graf-after--p">With the proliferation of client side MVCs such as <a href="http://emberjs.com/" data-href="http://emberjs.com/" class="markup--anchor markup--p-anchor" rel="nofollow">Ember.js</a>, <a href="http://backbonejs.org/" data-href="http://backbonejs.org/" class="markup--anchor markup--p-anchor" rel="nofollow">Backbone.js</a>, and <a href="https://angularjs.org/" data-href="https://angularjs.org/" class="markup--anchor markup--p-anchor" rel="nofollow">Angular.js</a>, having <a href="http://en.wikipedia.org/wiki/Representational_state_transfer" data-href="http://en.wikipedia.org/wiki/Representational_state_transfer" class="markup--anchor markup--p-anchor" rel="nofollow">RESTful</a> support in your web application is now pretty much required. Django has two excellent frameworks which can be used to build REST APIs: <a href="http://www.django-rest-framework.org/" data-href="http://www.django-rest-framework.org/" class="markup--anchor markup--p-anchor" rel="nofollow">django-rest-framework</a> and <a href="https://django-tastypie.readthedocs.org/en/latest/" data-href="https://django-tastypie.readthedocs.org/en/latest/" class="markup--anchor markup--p-anchor" rel="nofollow">django-tastypie</a>. Although I get the feeling that django-rest-framework is more popular, I’m still a huge fan of django-tastypie. It seems to be more straight forward, and it has been around a bit longer. With that said, if you are building a public API — absolutely use django-rest-framework, as it provides <a href="http://www.django-rest-framework.org/topics/documenting-your-api/" data-href="http://www.django-rest-framework.org/topics/documenting-your-api/" class="markup--anchor markup--p-anchor" rel="nofollow">API documentation for free</a>. If you need help getting started with django-tastypie, check out <a href="http://josephmisiti.github.io/using-django-tastypie-to-create-RESTful-APIs/" data-href="http://josephmisiti.github.io/using-django-tastypie-to-create-RESTful-APIs/" class="markup--anchor markup--p-anchor" rel="nofollow">this tutorial</a> I wrote on how to setup a Django project using it.</p><p name="9ac8" id="9ac8" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">4. Use Django model field’s help_text attribute as a form of documentation</strong></p><p name="256d" id="256d" class="graf--p graf-after--p">Django model fields accept a <a href="https://docs.djangoproject.com/en/dev/ref/models/fields/#help-text" data-href="https://docs.djangoproject.com/en/dev/ref/models/fields/#help-text" class="markup--anchor markup--p-anchor" rel="nofollow">help_text</a> attribute which is used in Django forms/admin for display purposes. I highly suggest using it even if you do not plan on utilizing Django forms or Django admin for one reason — It also serves as great form of documentation for your models. If you need to on board a new developer in the future, help_text will save you endless amount of hours bringing someone up to speed.</p><p name="32b6" id="32b6" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">5. Do not use query parameters in customer facing URLs, use Django’s URL module to force constraints</strong></p><p name="e489" id="e489" class="graf--p graf-after--p">This may be obvious to experienced web developers, but whenever possible I no longer use HTTP query parameters in urls — I pass them as url parameters instead. My reasoning is you can use <a href="https://docs.djangoproject.com/en/1.7/topics/http/urls/" data-href="https://docs.djangoproject.com/en/1.7/topics/http/urls/" class="markup--anchor markup--p-anchor" rel="nofollow">Django’s url dispatcher </a>to enforce parameter constraints.</p><p name="af76" id="af76" class="graf--p graf-after--p">As an example, the following URL:</p><p name="642d" id="642d" class="graf--p graf-after--p"><a href="https://www.example.com/user?id=20" data-href="https://www.example.com/user?id=20" class="markup--anchor markup--p-anchor" rel="nofollow">https://www.example.com/user?id=20</a></p><p name="f10c" id="f10c" class="graf--p graf-after--p">can be re-written as</p><p name="d1cc" id="d1cc" class="graf--p graf-after--p"><a href="https://www.example.com/user?id=20" data-href="https://www.example.com/user?id=20" class="markup--anchor markup--p-anchor" rel="nofollow">https://www.example.com/user/20</a>/</p><p name="5799" id="5799" class="graf--p graf-after--p">You will have to write less type-checking code in your controllers because the Django URL module will throw an HTTP 404 for any non-integers passed in the “id” field. I realize you cannot always do this, but whenever I can do it, I prefer to use this design pattern.</p><p name="d550" id="d550" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">6. Use Django’s ORM to enforce database constraints:</strong></p><p name="378f" id="378f" class="graf--p graf-after--p">I know, I know — another dumb one — but honestly I have seen this time and time again. You can solve a lot of problems for yourself down the road if you use database constraints correctly</p><ul class="postList"><li name="7f86" id="7f86" class="graf--li graf-after--p">if a field can never be <a href="https://docs.djangoproject.com/en/dev/ref/models/fields/#null" data-href="https://docs.djangoproject.com/en/dev/ref/models/fields/#null" class="markup--anchor markup--li-anchor" rel="nofollow">null</a>, do not set null=True</li><li name="bf27" id="bf27" class="graf--li graf-after--li">use <a href="https://docs.djangoproject.com/en/dev/ref/models/options/#unique-together" data-href="https://docs.djangoproject.com/en/dev/ref/models/options/#unique-together" class="markup--anchor markup--li-anchor" rel="nofollow">unique_together</a> to enforce unique constraints and preventing dups</li><li name="6255" id="6255" class="graf--li graf-after--li">use the <a href="https://docs.djangoproject.com/en/dev/ref/models/fields/#unique" data-href="https://docs.djangoproject.com/en/dev/ref/models/fields/#unique" class="markup--anchor markup--li-anchor" rel="nofollow">unique</a> parameter when applicable</li><li name="6df2" id="6df2" class="graf--li graf-after--li">set max_length field appropriately</li></ul><p name="e096" id="e096" class="graf--p graf-after--li">Basically, spend a considerable amount of time designing your database schema correctly, and use Django ORM to enforce this schema to the fullest extent possible! Make it impossible to save incorrect data!</p><p name="bb63" id="bb63" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">7. Use django_model_utils + django_extensions in every project</strong></p><p name="18df" id="18df" class="graf--p graf-after--p"><a href="http://django-extensions.readthedocs.org/en/latest/" data-href="http://django-extensions.readthedocs.org/en/latest/" class="markup--anchor markup--p-anchor" rel="nofollow">Django-extensions</a> is a third party library that provides a number of amazing piece of functionality: printing settings, shell_plus, dumping scripts, encryption, etc. I find myself using more and more of this functionality on a daily basis.</p><p name="3cbd" id="3cbd" class="graf--p graf-after--p"><a href="https://django-model-utils.readthedocs.org/en/latest/" data-href="https://django-model-utils.readthedocs.org/en/latest/" class="markup--anchor markup--p-anchor" rel="nofollow">Django-model-utils</a> contains a bunch of useful functionality not currently available in the Django ORM (or implemented differently): TimeStampField, MonitorField, Choices, etc</p><p name="758c" id="758c" class="graf--p graf-after--p">Before reinventing the wheel, make sure to throughly check out both of these projects.</p><p name="76ab" id="76ab" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">8. Use Sentry For Both Front-End and Backend Errors Monitoring</strong></p><p name="6532" id="6532" class="graf--p graf-after--p">Sentry is a piece of <a href="https://github.com/getsentry/sentry" data-href="https://github.com/getsentry/sentry" class="markup--anchor markup--p-anchor" rel="nofollow">open source</a> monitoring software written in Django. You can either pay for a subscription at <a href="https://getsentry.com/welcome/" data-href="https://getsentry.com/welcome/" class="markup--anchor markup--p-anchor" rel="nofollow">getsentry.com</a> or self host it. Sentry is an absolutely indispensable tool for diagnosing both front-end and back-end errors. You can track all sorts of useful information such has</p><ul class="postList"><li name="6e83" id="6e83" class="graf--li graf-after--p">how many times this error occurred in the past</li><li name="50da" id="50da" class="graf--li graf-after--li">browser information</li><li name="376a" id="376a" class="graf--li graf-after--li">time/location of occurrence</li><li name="7bb6" id="7bb6" class="graf--li graf-after--li">stack traces from 500s</li><li name="3f87" id="3f87" class="graf--li graf-after--li">404s/403s</li><li name="9424" id="9424" class="graf--li graf-after--li">front-end javascript undefines</li></ul><p name="2209" id="2209" class="graf--p graf-after--li">Plans start at <a href="https://www.getsentry.com/signup/?plan=small24" data-href="https://www.getsentry.com/signup/?plan=small24" class="markup--anchor markup--p-anchor" rel="nofollow">$24/month</a> — and this is definitely money well spent.</p><p name="dd4c" id="dd4c" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">9. Use the django-debug-toolbar for debugging and optimizing your site</strong></p><p name="0003" id="0003" class="graf--p graf-after--p"><a href="https://github.com/django-debug-toolbar/django-debug-toolbar" data-href="https://github.com/django-debug-toolbar/django-debug-toolbar" class="markup--anchor markup--p-anchor" rel="nofollow">Django-debug-toolbar</a> is an amazing debugging tool. You can use it to track down performance problems in SQL queries, requests, templates, cache, etc. I am not a big advocate of premature optimization, but as soon as things still start to slow down, the django-debug-toolbar will help you identify the problems. For more information on how to install this project, please read the <a href="http://josephmisiti.github.io/unit-testing-best-practices-in-django/" data-href="http://josephmisiti.github.io/unit-testing-best-practices-in-django/" class="markup--anchor markup--p-anchor" rel="nofollow">following blog post</a>.</p><p name="e519" id="e519" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">10. Use Django Custom User Model From Your First Commit</strong></p><p name="d0c8" id="d0c8" class="graf--p graf-after--p">Django 1.5 introduced <a href="https://docs.djangoproject.com/en/1.7/topics/auth/customizing/" data-href="https://docs.djangoproject.com/en/1.7/topics/auth/customizing/" class="markup--anchor markup--p-anchor" rel="nofollow">custom user models</a> and I highly recommend you start with this rather than using Django’s build-in model. Adding fields to the user model is much more intuitive than the alternative method, which was to extend the model using another model with a <a href="https://docs.djangoproject.com/en/1.7/topics/auth/customizing/#extending-user" data-href="https://docs.djangoproject.com/en/1.7/topics/auth/customizing/#extending-user" class="markup--anchor markup--p-anchor" rel="nofollow">OneToOne field</a>. If you’ve been using Django for a while, you might find out the that 30 characters allocated for the <a href="https://github.com/django/django/blob/master/django/contrib/auth/models.py#L379" data-href="https://github.com/django/django/blob/master/django/contrib/auth/models.py#L379" class="markup--anchor markup--p-anchor" rel="nofollow">email and username field</a> on the built-in User model are not enough. If you start with a custom user model, resolving these issues and adding new fields is a migration away! Migrating a <a href="http://www.caktusgroup.com/blog/2013/08/07/migrating-custom-user-model-django/" data-href="http://www.caktusgroup.com/blog/2013/08/07/migrating-custom-user-model-django/" class="markup--anchor markup--p-anchor" rel="nofollow">built-in user model to a custom user</a> is still possible, but it’s not fun — take my word for it.</p><p name="550b" id="550b" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">11. Considering using an alternative to django-admin</strong></p><p name="118f" id="118f" class="graf--p graf-after--p">Django admin is great — but the design is pretty outdated. If you are building a site for a customer and they are paying for it, there are a number of alternative options that look a lot more professional and are very easy to install. Two of my favorites are <a href="http://grappelliproject.com/" data-href="http://grappelliproject.com/" class="markup--anchor markup--p-anchor" rel="nofollow">django-grappelli</a> and <a href="http://djangosuit.com/" data-href="http://djangosuit.com/" class="markup--anchor markup--p-anchor" rel="nofollow">django-suit</a>. For a larger list, <a href="https://github.com/rosarior/awesome-django#admin-interface" data-href="https://github.com/rosarior/awesome-django#admin-interface" class="markup--anchor markup--p-anchor" rel="nofollow">click here</a>:</p><p name="d3a8" id="d3a8" class="graf--p graf-after--p">I tend to blog about Django and Machine Learning from time to time, so if you are interested in this type of content — give me a follow on twitter <a href="http://www.twitter.com/josephmisiti" data-href="http://www.twitter.com/josephmisiti" class="markup--anchor markup--p-anchor" rel="nofollow">@josephmisiti</a></p><p name="90ef" id="90ef" class="graf--p graf-after--p graf--last">Shameless Plug: If you need help with Django or Machine learning — I’m available for consulting: <a href="http://www.mathandpencil.com/" data-href="http://www.mathandpencil.com/" class="markup--anchor markup--p-anchor" rel="nofollow">Math &amp; Pencil</a></p></div></div></body></html>