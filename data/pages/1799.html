<html><body><div><div class="content html_format"><p>
      Планшет iPad от компании Apple — всем известное и не нуждающееся в рекламе устройство. Но очень часто хочется использовать всю мощь этого устройства не только для игр и развлечения, а для серьёзной работы. Например для написания программ. Несмотря на 4-x летнею историю развития этого гаджета и наличие разных моделей удобных сред для программирования под iOS существует крайне мало. (Оговорюсь сразу, во избежании дальнейшей путаницы: программирование </p><b>на</b><p> iOS — значит написание кода и запуск программы на iPad или iPhone, а программирование </p><b>для</b><p> iOS — написание приложения, которое может быть выложено в App Store.)

</p><img src="https://habrastorage.org/files/ace/b4a/811/aceb4a81186547acb6185855f9726cc2.jpg"/>
<p>
Недавно я наткнулся на великолепную программку </p><a href="https://itunes.apple.com/ru/app/pythonista/id528579881?mt=8">Pythonista</a><p>, которая позволяет писать </p><b>на</b><p> iOS </p><b>для</b><p> iOS.
</p><a name="habracut"/>
<h4>Краткое описание</h4><p>
Как пишут создатели этой программы: </p><blockquote>Pythonista brings the Zen of Python to your iPad or iPhone.</blockquote><p> И это действительно так. Программа является лучшим компилятором для Python. 
</p><p>
На мой взгляд, лучшим это приложение делают 3 вещи:

</p><ul>
<li>Не нужно интернет-подключение для запуска программы. iPad действительно становиться рабочей станцией;</li>
<li>Есть всплывающие подсказки и встроенная документация (опять же без доступа к интернету);</li>
<li>И, конечно, самое главное, это возможность экспорта в XCode.</li>
</ul>

<h4>Обзор</h4><p>
Среда ориентирована на Python 2.7. Но есть и некоторые фишки из 3-й ветки. Например, сработает и такой код:

</p><pre><code class="python">print "Hello, world"
</code></pre><p> и код </p><pre><code class="python">print ("Hello, world")
</code></pre>
<p>
Кроме стандартных библиотек, есть </p><a href="http://omz-software.com/pythonista/docs/ios/index.html">несколько библиотек</a><p> для непосредственной разработки для iOS. Остановлюсь на одной. Она называется </p><b>ui</b><p> и отвечает за GUI.
</p><p>
Рассмотрим несколько примеров работы с этой библиотекой. Очень интересно, что в Pythonista графический интерфейс можно задавать программно, а можно нативно:

</p><pre><code class="python">import ui

def button_tapped(sender):
    sender.title = 'Hello'

view = ui.View()                                      # [1]
view.name = 'Demo'                                    # [2]
view.background_color = 'white'                       # [3]
button = ui.Button(title='Tap me!')                   # [4]
button.center = (view.width * 0.5, view.height * 0.5) # [5]
button.action = button_tapped                         # [6]
view.add_subview(button)                              # [7]
view.present('sheet')                                 # [8]
</code></pre>
<p>
Это первый пример по работе с библиотекой ui. Разберём программу построчно:
</p><p>
1) Сначала создаём объект View;</p><p>
2) Потом задаём имя этого объекта, оно будет отображаться в его заголовке;</p><p>
3) Устанавливаем цвет фона объекта — белый, можно задавать словом, а можно при помощи RGB;</p><p>
4) Создаём кнопку с надписью «Tap me!»;</p><p>
5) Размещаем кнопку на объекте;</p><p>
6) Задаём функцию, которая будет выполняться при нажатии на кнопку. (В данном случае изменится надпись на кнопке);</p><p>
7) Уточняем, что «button» является наследником «view»;</p><p>
8) Наконец, вызываем метод view.present() для отображения объекта на экране iOS устройства.
</p><p>
Вот что будет происходить на айпаде:

</p><img src="https://habrastorage.org/files/563/f76/6f4/563f766f4fed4363a60355c163f62622.png" alt="image"/><img src="https://habrastorage.org/files/0a4/ed0/6ed/0a4ed06eddf84221be4cbcd32368703f.png" alt="image"/>
<p>
Но тоже самое можно сделать и нативно:
</p><p>
1) Создадим скрипт с UI:

</p><img src="https://habrastorage.org/files/7ca/121/148/7ca1211481a042819570f908b53768ce.jpg" alt="image"/>
<p>
2) Открыв UI, нажмем на кнопку "+" и выберем button:

</p><img src="https://habrastorage.org/files/8fa/1b9/a71/8fa1b9a711ac401995827513e63692fe.jpg" alt="image"/>
<p>
3) Растянем кнопку и разместим её по центру экрана:

</p><img src="https://habrastorage.org/files/a33/431/eaa/a33431eaa4004ab1a0b206b20fbaf846.jpg" alt="image"/>
<p>
4) Откроем атрибуты кнопки и зададим функцию, срабатывающую при её нажатии:

</p><img src="https://habrastorage.org/files/359/277/926/359277926bb94e829a5d9e7a69ce9e7d.jpg" alt="image"/> <img src="https://habrastorage.org/files/9da/455/25b/9da45525ba3947a199f4f38563fcfd0b.jpg" alt="image"/>
<p>
4) Перейдём в редактор скрипта и напишем функцию:

</p><pre><code class="python">def button_tapped(sender):
    sender.title = 'Hello'
</code></pre> <p>
Скажем, к какому UI привязать данный скрипт:

</p><pre><code class="python">ui.load_view('My UI').present('sheet')
</code></pre>

<img src="https://habrastorage.org/files/2a5/014/7f1/2a50147f1974481397117b51520c1bde.jpg" alt="image"/><p>
5) Запустим программу:

</p><img src="https://habrastorage.org/files/1f4/795/c9e/1f4795c9e4fd44a1af3fa7174f432ddb.jpg" alt="image"/><img src="https://habrastorage.org/files/abd/47c/025/abd47c025e6b415db261707b53f811af.jpg" alt="image"/>

<h4>В завершение</h4><p>
В завершение хочу сказать, что представленный мною обзор далеко не полон и не раскрывает всех функций этой программы. Множество примеров, отличное описание библиотек — всё это позволит довольно быстро разобраться во всех свойствах этого приложения.
</p><p>
Рекомендую посетить </p><a href="http://omz-software.com/pythonista/">сайт</a><p> создателей Pythonista. На нём есть </p><a href="http://omz-software.com/pythonista/docs/">документация </a><p>, к сожалению, только на английском языке.

</p><b>UPD:</b><p> Читайте мою статью посвящённую этой программе и автоматизации iOS в февральском номере журнала ][акер
      </p><p class="clear"/>
    </div>

    
  </div></body></html>