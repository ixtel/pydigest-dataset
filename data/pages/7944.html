<html><body><div><div class="postentry">
				
<p>Месяц подходит к концу, а значит пора выкладывать очередную <a href="http://jenyay.net/Outwiker/Unstable">нестабильную версию OutWiker</a>, которая теперь имеет номер 1.9.0.780. В этой версии не появилось каких-либо новых возможностей, но была проделана большая «работа над ошибками». Во-первых, был поправлен диалог настроек, потому что оказалось, что при определенных условиях в этот диалог не умещались кнопки OK / Отмена. И, во-вторых, была исправлена ошибка, которая могла приводить к падению программы при закрытии большой заметки (во время переключения на другую заметку). Эта последняя ошибка дала повод к глобальному рефакторингу кода, связанного с проверкой орфографии и раскраской викисинтаксиса. Код стал сейчас заметно чище и добавились новые возможности для плагинов, связанные с проверкой орфографии.</p>
<p><span id="more-5364"/></p>
<p>Кроме того, выложил новую версию плагина <a href="http://jenyay.net/Outwiker/PageTypeColor">PageTypeColor</a>. В версии 1.0.1 были сделаны небольшие оформительские исправления, не влияющие на основной функционал.</p>
<p>В заключении еще раз хотелось бы спросить мнение у пользователей по поводу способа хранения заметок, а заодно сформулировать для самого себя проблему (в прошлый раз мы с вами вместе отлично решили, как быть с <a href="http://jenyay.net/blog/2015/06/30/tablicy-v-outwiker-opros-polzovatelejj/">таблицами на викистраницах</a>).</p>
<p>Итак, в данный момент в каждой папке заметки содержатся файлы <i>__page.text</i> с текстом заметки, <i>__page.opt</i> с параметрами страницы и, возможно, <i>__icon.png</i> со значком и <i>__content.html</i> — окончательно оформленный HTML. В пожеланиях мне несколько раз писали просьбу уменьшить количество этих файлов (например, хранить все значки страниц в одном месте). С одной стороны это не лишено смысла для ускорения работы с файловой системой. Хранить значки все вместе я не хочу, потому что по задумке каждая страница в дереве должна открываться как корень независимого дерева, а если иконки будут храниться где-то в другом месте, то они потеряются. Хотя сейчас, во время написания этих строк пришла идея, что иконки можно хранить в бинарном виде в файле настроек <i>__page.opt</i>. Это с одной стороны.</p>
<p>С другой стороны мне несколько раз писали, что хранят дерево заметок в системе управления версиями (SVN, Git и т.п.), но при этом постоянно меняется файл <i>__page.opt</i>, практически на каждый чих. Это действительно так, потому что в этом файле хранятся кроме совсем необходимых данных вроде тегов и типа страницы такие параметры как дата последней правки страницы, свернута или развернута эта страница в дереве заметок, хэш-сумма виикистраницы, чтобы можно было бы не каждый раз создавать HTML по исходному тексту страницы.</p>
<p>И вот некоторое время назад у меня возникла идея такие второстепенные параметры вынести в отдельный файл (назовем его пока условно <i>__page.opt2</i>), тогда эти файлы можно добавить в игнор в системе контроля версий, а при получении новой копии базы заметок потеряются данные, которые не являются жизненно важными (куда отнести время последнего изменения страницы — это отдельный вопрос, но я бы его скорее отнес бы к не важным параметрам).</p>
<p>Но при таком подходе становится еще больше файлов, и теоретически это может привести к некоторому замедлению открытия дерева заметок (хотя это надо проверять).</p>
<p>Конечно, можно попытаться угодить всем и добавить настройку, влияющую на такое поведение, но боюсь, что это тоже <i>может</i> сказаться на скорости.</p>
<p>Давайте устроим небольшое голосование на эту тему.</p>

<div id="polls-6-loading" class="wp-polls-loading"><img src="http://jenyay.net/blog/wp-content/plugins/wp-polls/images/loading.gif" alt="Загрузка ..." title="Загрузка ..." class="wp-polls-image"/><p> Загрузка ...</p></div>

<p>PS. Хочу напомнить, что у OutWiker есть группа во <a href="https://vk.com/outwiker">Вконтакте</a>, <a href="https://www.facebook.com/outwiker">Facebook</a>, <a href="https://plus.google.com/b/113404982971748285098/113404982971748285098">Google+</a>, а также недавно появился <a href="https://telegram.me/outwiker">канал в Telegram</a>.</p>
							</div>
			</div></body></html>