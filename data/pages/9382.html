<html><body><div><div class="entry-content">
                    <p>I have a client who wanted their entire unlaunched public content site quickly but temporarily blocked for a short period of time. He wanted a universal password so he could send the site to reviewers, done quickly, and nothing else. In a few days the site will launch, and even if someone got through the authentication, nothing bad will happen except for an early visitor. So we determined this was a job for a very simple <a class="reference external" href="https://en.wikipedia.org/wiki/Basic_access_authentication">Basic access authentication</a> implementation.</p>
<p>I asked around and <a class="reference external" href="http://jacobian.org/">Jacob Kaplan-Moss</a> gave me this awesome snippet using <a class="reference external" href="http://pypi.python.org/pypi/barrel">barrel</a> that I pasted right into the bottom of the <a class="reference external" href="http://djangoproject.com">Django</a> 1.4-style application's <tt class="docutils literal">wsgi.py</tt> file.</p>
<div class="highlight"><pre><span class="c"># Add to the bottom of your wsgi.py file</span>
<span class="c"># Don't forget to add barrel to your requirements!</span>
<span class="kn">from</span> <span class="nn">barrel</span> <span class="kn">import</span> <span class="n">cooper</span>

<span class="n">REALM</span> <span class="o">=</span> <span class="s">"PRIVATE"</span>
<span class="n">USERS</span> <span class="o">=</span> <span class="p">[(</span><span class="s">'spam'</span><span class="p">,</span> <span class="s">'eggs'</span><span class="p">)]</span>

<span class="n">application</span> <span class="o">=</span> <span class="n">cooper</span><span class="o">.</span><span class="n">basicauth</span><span class="p">(</span><span class="n">users</span><span class="o">=</span><span class="n">USERS</span><span class="p">,</span> <span class="n">realm</span><span class="o">=</span><span class="n">REALM</span><span class="p">)(</span><span class="n">get_wsgi_application</span><span class="p">())</span>
</pre></div>
<p>This took all of 5 minutes to implement and launch. The result is that the first time you visit the site the login prompt appears. If you enter 'spam' and 'eggs' then you can see the site fine.</p>
<p>It worked and the customer was happy.</p>
<p>Will this block a concerted penetration attempt? Of course not. If the site has/had critical or identifying information it would be implemented with <a class="reference external" href="https://en.wikipedia.org/wiki/HTTPS">HTTPS</a>. Implementing a Django site with HTTPS is something I've done many times now, but this use case was 'do it fast, easy, and make it temporary'.</p>
<p><strong>Moral of the story:</strong> Pay attention to your requirements.</p>
<p><strong>Note :</strong> As this is just adding in some WSGI middleware, this should work without much modification in Flask, Pyramid, and other WSGI compliant web frameworks.</p>

                    
                </div>
                                </div></body></html>