<html><body><div><div id="enable">
<h2>Enable</h2>
<div id="ad-hoc">
<h3>Ad-hoc</h3>
<p>In the notebook, you can use the <tt>%load_ext</tt> or <tt>%reload_ext</tt> line
magic.</p>
<pre><span class="o">%</span><span class="n">reload_ext</span> <span class="n">yamlmagic</span>
</pre>
</div>
<div id="configuration">
<h3>Configuration</h3>
<p>In your profile’s <tt>ipython_kernel_config.py</tt>, you can add the
following line to automatically load <tt>yamlmagic</tt> into all your running
kernels:</p>
<pre><span class="n">c</span><span class="o">.</span><span class="n">InteractiveShellApp</span><span class="o">.</span><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'yaml_magic'</span><span class="p">]</span>
</pre>
</div>
</div>
<div id="use">
<h2>Use</h2>
<p>The <tt>%%yaml</tt> cell magic will either act as simple parser:</p>
<pre><span class="o">%%</span><span class="n">yaml</span>
<span class="n">a_toplevel_key</span><span class="p">:</span> <span class="mi">1</span>
</pre>
<pre>&lt;IPython.core.display.Javascript object&gt;
</pre>
<pre>{'a_toplevel_key': 1}
</pre>
<p>which can be accessed by the special last result variable <tt>_</tt>:</p>
<pre><span class="n">_</span>
</pre>
<pre>{'a_toplevel_key': 1}
</pre>
<p>Or will update a named variable with the parsed document:</p>
<pre><span class="o">%%</span><span class="n">yaml</span> <span class="n">x</span>
<span class="o">-</span> <span class="n">a</span><span class="p">:</span> <span class="mi">1</span>
  <span class="n">b</span><span class="p">:</span> <span class="mi">2</span>
</pre>
<pre>&lt;IPython.core.display.Javascript object&gt;
</pre>
<pre><span class="n">x</span>
</pre>
<pre>[{'a': 1, 'b': 2}]
</pre>
<p>By default, <tt>yaml.SafeLoader</tt> will be used, which won’t allow the
<a href="http://pyyaml.org/wiki/PyYAMLDocumentation#LoadingYAML" rel="nofollow">powerful but
dangerous</a>
(and unportable) <tt>`!python/</tt>
tags &lt;<a href="http://pyyaml.org/wiki/PyYAMLDocumentation#YAMLtagsandPythontypes" rel="nofollow">http://pyyaml.org/wiki/PyYAMLDocumentation#YAMLtagsandPythontypes</a>&gt;`__.
If you’d like to use them, provide the <tt><span class="pre">-l</span></tt> (or <tt><span class="pre">--loader</span></tt>) argument
with a <tt>BaseLoader</tt> subclass available via a local variable…</p>
<pre><span class="kn">from</span> <span class="nn">yaml</span> <span class="kn">import</span> <span class="n">Loader</span>
<span class="k">class</span> <span class="nc">FooLoader</span><span class="p">(</span><span class="n">Loader</span><span class="p">):</span>
    <span class="c1"># some special things you have built</span>
    <span class="k">pass</span>
</pre>
<pre><span class="o">%%</span><span class="n">yaml</span> <span class="o">--</span><span class="n">loader</span> <span class="n">FooLoader</span>
<span class="err">!!</span><span class="n">python</span><span class="o">/</span><span class="nb">float</span> <span class="mi">0</span>
</pre>
<pre>&lt;IPython.core.display.Javascript object&gt;
</pre>
<pre>0.0
</pre>
<p>…or dotted-notation path to a loader:</p>
<pre><span class="o">%%</span><span class="n">yaml</span> <span class="o">--</span><span class="n">loader</span> <span class="n">yaml</span><span class="o">.</span><span class="n">Loader</span>
<span class="err">!!</span><span class="n">python</span><span class="o">/</span><span class="nb">float</span> <span class="mi">0</span>
</pre>
<pre>&lt;IPython.core.display.Javascript object&gt;
</pre>
<pre>0.0
</pre>
</div>
</div></body></html>