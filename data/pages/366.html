<html><body><div><div class="entry-content">
		<p>This is the third part of ‘Who Am I – A Facebook Game’. If you didn’t already, check out <a href="https://onemorelineofcode.wordpress.com/2013/12/10/who-am-i-a-facebook-game-part-1/" title="Who Am I – A Facebook Game, Part 1">part 1</a> and <a href="https://onemorelineofcode.wordpress.com/2014/01/03/who-am-i-a-facebook-game-part-2/" title="Who Am I – A Facebook Game, Part 2">part 2</a>.<br/>
This post’s code can be found on the <a href="https://github.com/daramasala/whoami" title="WhoAmI repository github">whoami repository on github</a>.</p>
<h1>Where Were We?</h1>
<p>In the first part we introduced Who Am I – a Facebook game that helps you get a better understanding of your personality through friends feedback.<br/>
In the second part we developed all the basic functionality of the game using Python and Flask.</p>
<h1>In This Post</h1>
<p>In this post we are going to register our game on facebook.<br/>
We’ll go over the steps needed to register a game and configure it.<br/>
While at it, we will introduce <a href="https://ngrok.com/" title="ngrok site">ngrok</a> – a tool that will allow you to host the game on your computer.<br/>
We will then integrate our game with the facebook API so it can use the player’s facebook data such as her name, photo and friends list.<br/>
Finally we are going to create test users and test our game.<br/>
<span id="more-3"/></p>
<h1>What is a Facebook Application?</h1>
<p>Basically, a facebook application is an application that uses the facebook API to interact with facebook in various ways. For example, an application can get a user’s profile photo to display it in a scores board, or get the user’s friend list in order to personalize his experience. An application can also post on a user’s wall and send invites to his friends.<br/>
To do all this, the application must get authorized by the user. </p>
<h2>The Facebook API</h2>
<p>A facebook application interacts with facebook through the Graph API. It is a rest API that models all the data in facebook as a graph.<br/>
The nodes of the graph are things like users, photos and pages. Edges connect nodes.<br/>
For example, a user is connected to the photos he is tagged in. Nodes also have fields that store data about the node, for example, a user’s first and last name or a page’s creation date.<br/>
To use the graph API, an application does not need a username or password. Instead it uses access tokens.<br/>
An application needs 2 tokens to access the graph API:</p>
<ol>
<li>Its own token. This is the application’s secret which is generated when you register the application to facebook.</li>
<li>A user token. The user token is generated when the application requests it from facebook. If this is the first time the application asks for that user’s access token, facebook will ask the user authorize the application before giving the token. The token will only allow the application to do what the user authorized it to do.</li>
</ol>
<p>You can read more about tokens on <a href="https://developers.facebook.com/docs/facebook-login/access-tokens/" title="Access Tokens on Facebook">the Access Tokens</a> page.</p>
<h2>Canvas Applications</h2>
<p>The above definition for a facebook app is very broad. Your application could be a web application that uses facebook to personalize the user’s experience or a mobile app that lets a user interact with his facebook friends.<br/>
Our game, Who Am I, is a facebook canvas application. It means it is a web application that is displayed inside the facebook site.<br/>
The general architecture looks like this:<br/>
<a href="https://onemorelineofcode.files.wordpress.com/2014/01/facebook-canvas-architecture.png"><img src="https://onemorelineofcode.files.wordpress.com/2014/01/facebook-canvas-architecture.png?w=646" alt="Facebook Canvas Architecture" class="alignnone size-full wp-image-152"/></a><br/>
When the user clicks on the application link in his home page, facebook displays a page with an iframe. Around the iframe is facebook content coming from the facebook server – the search bar on the top and the news feed on the right.<br/>
The iframe gets its content from the application’s server. You configure the exact url the iframe should display in the application settings page in facebook.<br/>
This is a very simple architecture. It is also possible to use Facebook’s Javascript SDK. In this case, the application’s canvas will also communicate with the facebook server.</p>
<h2>Generic Startup Workflow</h2>
<p>Canvas application have a generic startup workflow. It goes like this:</p>
<ol>
<li>Facebook user clicks a link to the application</li>
<li>Facebook opens page with an iframe. The iframe does a POST request to the application’s URL. The request contains information about the user.</li>
<li>The application checks the information in the request. If it contains a valid user token then all is good. It can start using that token to interact with facebook.</li>
<li>If the request does not contain a token, it means the user did not authorize the application yet. The application redirects to facebook’s application authorization dialog. When redirecting, the application sends facebook a list of permissions it requests and a URL to redirect to once the user approves.</li>
<li>Facebook displays the application authorization dialog to the user. It displays the permissions the application asked for. If the user approves, facebook sends a POST request with a valid token to the URL provided by the application.</li>
</ol>
<p>In the next sections we will transform WhoAmI to a facebook application step by step.</p>
<h1>Create a Facebook Developer Account</h1>
<p>A facebook developer account extends your facebook account with access to developer tools. It will allow you to create new facebook applications that interact with facebook through the facebook API.<br/>
Follow the <a href="https://developers.facebook.com/docs/create-developer-account/" title="create a facebook developer account">instructions on facebook</a> to create a developer account.</p>
<h1>Create a New Facebook Application</h1>
<p>Login to Facebook and browse to your facebook home page. If you created a facebook developer account you should see a “Developers” section at the bottom of the left side bar:<br/>
<a href="https://onemorelineofcode.files.wordpress.com/2014/01/facebook-sidebar.png"><img src="https://onemorelineofcode.files.wordpress.com/2014/01/facebook-sidebar.png?w=646" alt="facebook-sidebar" class="alignnone size-full wp-image-151"/></a><br/>
Click the “Create App..” link. If it doesn’t appear, hover over the “Developer” caption and click the “More” link.<br/>
Facebook will display the “Create a New App” dialog. Fill in the required details:<br/>
<a href="https://onemorelineofcode.files.wordpress.com/2014/01/create-app-dialog.png"><img src="https://onemorelineofcode.files.wordpress.com/2014/01/create-app-dialog.png?w=646" alt="Create a New App Dialog" class="alignnone size-full wp-image-158"/></a></p>
<p>Fill in the application display name and namespace.<br/>
The display name is of course the name that will be displayed for your application in Facebook.<br/>
The namespace will be used to build your application’s canvas page URL in Facebook. To get to your application, your players will browse to <code>https://apps.facebook.com/&lt;namespace&gt;</code>. So if you’re app namespace is <code>whoami</code>, its URL will be <code>https://apps.facebook.com/whoami</code>.<br/>
This URL is called the application’s Canvas Page.<br/>
Once you submit the new app dialog you will be taken to the app settings where you can configure the app.</p>
<h1>Configure the Application</h1>
<p>Let’s take a look at the app page. By default, facebook shows the app dashboard:<br/>
<a href="https://onemorelineofcode.files.wordpress.com/2014/01/app-dashboard.png"><img src="https://onemorelineofcode.files.wordpress.com/2014/01/app-dashboard.png?w=646" alt="Application Dashboard" class="alignnone size-full wp-image-159"/></a><br/>
It shows the App ID and App Secret. You will need these numbers to use the Facebook Graph API.<br/>
Below that are stats about the application’s usage.<br/>
Click the settings link on the left side of the page to get to the app settings page:<br/>
<a href="https://onemorelineofcode.files.wordpress.com/2014/01/app-settings1.png"><img src="https://onemorelineofcode.files.wordpress.com/2014/01/app-settings1.png?w=646" alt="App Settings 1" class="alignnone size-full wp-image-161"/></a><br/>
The top part of the page shows basic information about the application – the app id, secret, display name, etc.<br/>
We now need to tell facebook that we want our game to be accessible through the facebook site as a canvas application.<br/>
Click the big “Add Platform” button and in the dialog that is displayed select “App on Facebook”.<br/>
A new settings section is added to the page:</p>
<p><a href="https://onemorelineofcode.files.wordpress.com/2014/01/app-settings-2.png"><img src="https://onemorelineofcode.files.wordpress.com/2014/01/app-settings-2.png?w=646" alt="App Settings 2" class="alignnone size-full wp-image-162"/></a></p>
<p>These are the settings in the dialog:</p>
<ol>
<li>Canvas Page – This is a readonly field which shows the URL to the application on facebook. It is built using the namespace of the application.</li>
<li>Unity Integration – Unity is a game engine that helps you build multi platform graphical games. This setting does not interest us so we’ll leave it off (no).</li>
<li>Canvas URL and Secure Canvas URL – this is the URL to our application, the one the iframe in the facebook page will show. Here you need to provide the url where your application is hosted. If you host WhoAmI on a host accessible to the internet, you can write it’s url here. If you don’t have such a host (because you’re behind NAT or a firewall) or your ISP assigns you a dynamic IP, fear not! We’ll explain how to use ngrok to make your app accessible from facebook.</li>
<li>Canvas Fixed Width – If you set this to “Yes” then the iframe width will be fixed to 760px. You can leave it off right now.</li>
<li>Canvas Fixed Height – setting this to “Yes” will allow you to set the canvas height using facebook’s JS API. Leave it off.</li>
</ol>
<h2>HTTP Tunneling Using ngrok</h2>
<p>If you want to host your app from your local host, you can do it using ngrok.<br/>
ngrok will give you an external URL. Requests to the external URL will be routed by ngrok to your local host and your app responses will be sent back to the client.<br/>
Note that this is of course great from development or testing but don’t use it for production systems.<br/>
To use ngrok, download the ngrok client from <a href="http://ngrok.com/" title="ngrok site">ngrok site</a>. Extract the client somewhere and run it passing port 5000 as the parameter:</p>
<pre class="brush: bash; gutter: false; title: ; notranslate" title="">
ngrok 5000
</pre>
<p>ngrok will display a status screen. The top of the screen displays some information including the external HTTP and HTTPS URLs that ngrok assigned to your application. They look something like <code>http://deec5050.ngrok.com</code>.<br/>
Run your application and browse to its external URL.<br/>
That’s it!<br/>
Now you can copy-paste the ngrok URLs to your app settings on Facebook.</p>
<h1>Login to Facebook</h1>
<p>If you browse to your apps URL (<code>https://apps.facebook.com/&lt;namespace&gt;</code>) you will see a “Method Not Allowed” error. This is because like we described above, the first request facebook does to your app is a POST request with the user’s token info.<br/>
Our app is not yet ready to accept POST requests to its root URL.<br/>
To handle facebook’s handshake and use facebook’s graph API we will use facebook’s python sdk.<br/>
The sdk is <a href="https://github.com/pythonforfacebook/facebook-sdk" title="facebook python sdk on github">on github</a>.<br/>
Download the SDK. To make things simple, just copy the <code>facebook.py</code> script to your project’s root folder.<br/>
Now let’s do some magic and login to Facebook!<br/>
Start by importing the facebook sdk:</p>
<pre class="brush: python; title: ; notranslate" title="">
import facebook
</pre>
<p>And add your app details as configuration parameters to the <code>whoami.py</code> script, next to the other constants:</p>
<pre class="brush: python; title: ; notranslate" title="">
DATABASE = 'db/whoami.db'
DEBUG = True
SECRET_KEY = 'top secret'
APP_SECRET = '&lt;app secret&gt;'
APP_ID = '&lt;app id&gt;'
CANVAS_PAGE = '&lt;app canvas page&gt;'
</pre>
<p>You need to replace the placeholder values with the real values from your app’s settings page on facebook.<br/>
Remember that the following call: <code>app.config.from_object(__name__)</code> reads all upper case attributes of the module and makes them available by calling, e.g. <code>app.config['APP_SECRET']</code>.<br/>
Now to do the login we need to process POST requests to our root URL.<br/>
If this is the first time the user uses the application, facebook will not send the app the user’s token. In this case, we need to redirect the user to a dialog that let’s him authorize our app. If the user already authorized our app, the POST request will contain a user token.<br/>
Change the <code>main()</code> and <code>home()</code> functions, note that we also changed the <code>app.route()</code> decorator to accept POST requests:</p>
<pre class="brush: python; title: ; notranslate" title="">
@app.route('/', methods=['POST', 'GET'])
def main():
    return home()


@app.route('/home')
def home():
    if request.method == 'POST':
        if not read_user_token():
            return build_authenticate_redirect()
    elif not session.get('user_id'):
        return redirect('https://apps.facebook.com/&lt;namespace&gt;')
    window = calc_window()
    return render_template('home.html', window=window)
</pre>
<p>*(Note that you need to replace the &lt;namespace&gt; placeholder with your app’s namespace)*<br/>
The only change to <code>main()</code> is to accept POST requests. The actual logic happens in <code>home()</code>.<br/>
If current request is done using the POST method, we assume it’s facebook sending us the login information. We try to read the user token from the request using <code>read_user_token()</code>. If the request contains a user token, <code>read_user_token()</code> will set 3 session variables – <code>user_id</code> – the user’s facebook id, <code>oauth_token</code> – the user token, <code>expires</code> – when does the user token expires.<br/>
If the user has not authorised the application yet, the request will not contain a user token and <code>read_user_token()</code> will return <code>False</code>.<br/>
In this case, we redirect to facebook’s authorize app dialog using <code>build_authenticate_redirect</code>.<br/>
If the current request was not a POST request, we check if the user is already logged into the application. If not, then we redirect the user to the application’s canvas page to let facebook take care of login (i.e. re-send the initial POST request).<br/>
Finally, if everything is ok and we have the user’s token and id, we continue to the application code itself, in this case, to render the personality page.<br/>
Now let’s take a look at the code that does the actual authentication. Add the following functions to your script:</p>
<pre class="brush: python; title: ; notranslate" title="">
def build_authenticate_redirect():
    auth_url = 'https://www.facebook.com/dialog/oauth?%s' % (
        urllib.urlencode({'client_id': app.config['APP_ID'], 'redirect_uri': app.config['CANVAS_PAGE'],
                          'scope': 'user_friends'})
    )
    return make_response("&lt;script&gt; top.location.href='" + auth_url + "'&lt;/script&gt;")


def read_user_token():
    if request.method == "POST" and request.form.get('signed_request'):
        fb_request = facebook.parse_signed_request(request.form['signed_request'], app.config['APP_SECRET'])
        if u'user_id' in fb_request:
            session['user_id'] = fb_request[u'user_id']
            session['oauth_token'] = fb_request[u'oauth_token']
            session['expires'] = fb_request[u'expires']
            return True
        else:
            return False

    if session.get('user_id'):
        expires = int(session[u'expires'])
        now = time.time()
        if expires &gt; now:
            return True

    return False
</pre>
<p>In order for this code to work, you will need to import <code>time</code>, <code>urllib</code> and from <code>flask</code> import <code>make_response</code>.<br/>
Let’s explore what this code does. We’ll start with the <code>read_user_token()</code> function.<br/>
It verifies that indeed we have a POST request and that the request form data contains the field <code>signed_request</code>. If all is well, it proceeds to parsing the <code>signed_request</code> field using facebook sdk – <code>facebook.parse_signed_request()</code>. The <code>signed_request</code> field contains base64 encoded json object, signed with the app secret. This means only the app developer (who is the only one who knows the app secret), can read the data.<br/>
This is important since the data can contain the user token which was given specifically to this application and we don’t want any other application to get a hold of this token.<br/>
The call to <code>facebook.parse_signed_request()</code> decodes the data into a dictionary.<br/>
Note that all strings in the facebook API’s json objects are unicode strings. So whenever you’re using these strings to query a dictionary object, make sure to use python’s unicode string notation – <code>u'some unicode string'</code>. This is not necessary in python 3.0 where strings are unicode by default. But we’re using python 2.7 so we need to use the special notation.<br/>
If the user already authenticated the application, the <code>signed_request</code> field will contain the user id, the user’s token and the expiry time of the token. In this case we store these variables in the user session and we’re done – the user is ‘logged in’.<br/>
If the <code>signed_request</code> field does not contain the necessary fields, it means the user did not authenticate our application yet (most probably this is his first access to the application). In this case we return False.<br/>
Last, if we got here not as part of the login process, but on some subsequent request, we check if the token we have is still valid. Facebook token expire after some time and in this case the application need to re-request the token.<br/>
This is it for the <code>read_user_token()</code> function.<br/>
Remember that if <code>read_user_token()</code> returns <code>False</code>, we need to redirect to facebook’s authentication dialog.<br/>
<code>build_authenticate_redirect()</code> function builds the response that will make this happen.<br/>
The facebook authentication dialog looks like this:<br/>
<a href="https://onemorelineofcode.files.wordpress.com/2014/01/authenticate-dialog.png"><img src="https://onemorelineofcode.files.wordpress.com/2014/01/authenticate-dialog.png?w=646" alt="Authenticate Dialog" class="alignnone size-full wp-image-177"/></a><br/>
To display this dialog, <code>build_authenticate_redirect()</code> uses javascript to redirect the entire page (not just the iframe) to the authenticate dialog url, passing the app id, the app canvas page and the required permissions.<br/>
The authenticate dialog explains to the user that he is logging into an application and which permissions the application requests.<br/>
If the user clicks the “Play Game” button, Facebook will redirect to the application canvas page with a POST request. This time the POST request will contain the user’s token and our game can read it and finish the login process.<br/>
If the user clicks the “Cancel” button, Facebook will also redirect to the application canvas page but instead of sending the user’s token, it will send some URL parameters explaining the problem.<br/>
To make sure we gracefully handle a “Cancel” click, we need to add some code to the <code>home()</code> function:</p>
<pre class="brush: python; title: ; notranslate" title="">
    if 'error_reason' in request.args:
        return "Sorry, if you want to play 'Who Am I' you need to authorize it"
    elif request.method == 'POST':
        if not read_user_token():
            return build_authenticate_redirect()
    elif not session.get('user_id'):
        return redirect('https://apps.facebook.com/d_who-am-i')
    window = calc_window()
    return render_template('home.html', window=window)
</pre>
<p>Now we test if the request contains an <code>error_reason</code> parameter. If it does, we assume that the user clicked “Cancel” in the authenticate dialog and display a suitable message. Of course there might be other situations where facebook send this parameter but we won’t handle them now.</p>
<h2>Testing the Login Flow</h2>
<p>Let’s see if the login flow works.<br/>
Run your application, make sure ngrok is running if you need it and browse to your app’s canvas page. Remember you can see your app’s canvas page in the app’s settings page.<br/>
You should see the facebook authorization dialog. Click “Play Game” and you should be taken to WhoAmI home page. The number in the header of the page is your user id.<br/>
Let’s check that the cancel authorization flow works. Revoke WhoAmI authorization. You can do this by clicking on Games under Apps on the left side of your Facebook home page. This will open the App Center. Click My Apps on the left side bar of the App Center and delete WhoAmI. It will not delete the app itself, only de-authorize it for your user.<br/>
Now browse again to your app’s canvas page and this time on the authorization dialog, click Cancel. You should see the message from WhoAmI requesting you to authorize the app.<br/>
<strong>Note:</strong> As I was writing this post, Facebook has updated the home page. All the instructions remain the same but visually the interface might look a bit different than the screenshots. Also it seems that deleting the application by clicking on the X symbol in the application box in the App Center does not work. You need to click on Settings and then click on Remove.</p>
<h1>Yes, We’re Done Logging In</h1>
<p>This concludes the Facebook login flow.<br/>
Go make yourself some coffee and come back for the next step.</p>
<h1>Getting User Information</h1>
<p>Now that we’ve logged in, we can get information from facebook about the user.<br/>
We will retrieve the user name and the profile picture and display them in the personality view. Edit the <code>home.html</code> template, replace the first header with this:</p>
<pre class="brush: xml; title: ; notranslate" title="">
    &lt;img src="{{ profile.pic_url }} "/&gt;
    &lt;h1&gt;Hello {{ profile.first_name }}&lt;/h1&gt;
</pre>
<p>This code expects to have a profile variable with 2 values – a url for the user’s profile picture and the user’s first name.<br/>
To provide this we create a new function to get these (and other interesting) values from facebook and use this function in <code>home()</code>:</p>
<pre class="brush: python; title: ; notranslate" title="">
def get_user_profile(user_id):
    graph = facebook.GraphAPI(session['oauth_token'])
    result = graph.get_object(user_id, fields='id,name,picture.type(large),first_name,last_name')
    #   {
    #       "id": "...",
    #       "name": "Doron Tohar",
    #       "picture": {
    #           "data": {
    #               "url": "https://...",
    #               "is_silhouette": false
    #           }
    #       }
    #   }
    profile = {
        'id': result[u'id'],
        'name': result[u'name'],
        'first_name': result[u'first_name'],
        'last_name': result[u'last_name'],
        'pic_url': result[u'picture'][u'data'][u'url']
    }
    return profile

@app.route('/home')
def home():
    if 'error_reason' in request.args:
        return "Sorry, if you want to play 'Who Am I' you need to authorize it"
    elif request.method == 'POST':
        if not read_user_token():
            return build_authenticate_redirect()
    elif not session.get('user_id'):
        return redirect('https://apps.facebook.com/d_who-am-i')
    window = calc_window()

    profile = get_user_profile(session['user_id'])

    return render_template('home.html', window=window, profile=profile)
</pre>
<p>Let’s examine this code.<br/>
We defined a new function – <code>get_user_profile()</code> which accepts one parameter – the user id. This way we will be able to use this function later to get the profile for any user that we have his id.<br/>
The first line in <code>get_user_profile()</code> initializes the graph API using the user token. Because the token contain exactly the permissions we asked for in the authorization dialog, we will only be able to use API calls that doesn’t require other permissions. If we try for instance to post on the user’s wall, we will get an exception because we can’t do that with the token we have.<br/>
Next line is the call to <code>graph.get__object()</code>. This fetches the object with the id that we passed to it. Since we pass a user id, we get back a user profile. If we passed a facebook post id, we would get back information about the post.<br/>
The second parameter to <code>graph.get_object()</code> is the <code>fields</code> parameter. If we omit this parameter (it is optional), facebook will return the a default set of the object’s fields (not all of them).<br/>
Using this parameter we can control exactly which fields we get back. This is good because we don’t want to get fields that we don’t need (overhead) and sometimes the default field set does not contain a field we’re interested in.<br/>
The return value of the API call is a json object containing the requested information. The facebook parses the json object to a dictionary. From this dictionary we construct a new dictionary, replacing unicode strings with regular strings to make it easier to access it.<br/>
The only thing left to do is to pass this profile object to the <code>render_template()</code> call that renders the <code>home.html</code> page.</p>
<h2>The Graph Explorer</h2>
<p>In order to explore the graph API, Facebook provides the <a href="https://developers.facebook.com/tools/explorer" title="Facebook Graph Explorer">Graph Explorer</a>.<br/>
In the graph explorer application, you can perform graph api calls using the REST interface. It has a UI that shows you the fields of the object you requested.<br/>
For example, to get the syntax for getting the large profile picture for a user, I did a GET request for my user id. I then selected the ‘picture’ connection from the field selection box and then selected ‘type’ and ‘large’:<br/>
<a href="https://onemorelineofcode.files.wordpress.com/2014/01/graph-explorer.png"><img src="https://onemorelineofcode.files.wordpress.com/2014/01/graph-explorer.png?w=646" alt="Graph Explorer" class="alignnone size-full wp-image-194"/></a></p>
<h1>Leftovers</h1>
<p>This is for this part. Before we summarize and talk a little about the next part, some leftover fixes that we need to do:</p>
<h2>Remove login() and logout()</h2>
<p>Now that we’re logging in through facebook, we don’t need to the <code>login()</code> and <code>logout()</code> functions.<br/>
You can remove them and also remove the logout link from the <code>home.html</code> template. If you don’t remove the link you will get an error when Jinja2 tries to render the template.</p>
<h2>Move the DB To a Persistent Location</h2>
<p>We’ve put the DB in <code>/tmp</code>. Let’s move it under our project folder so it won’t get accidently deleted. Create a <code>db</code> folder under your project folder and create the db there (I hope by now you know how).</p>
<h2>Use a Persistent ngrok Subdomain</h2>
<p>Everytime you restart ngrok, it will create a new subdomain for you. Sometimes it will be the same as the last subdomain you’ve got, sometimes it will be different. If it’s different then you will need to re-configure your canvas URL in Facebook.<br/>
To avoid this hassle, you can tell ngrok which subdomain to use. But to do this you first need to sign up to ngrok. You can sign up for free but if you’re using this tool, please consider paying for it. You can pay whatever you want! You gotta appreciate people with this kind of flexible pricing policy.<br/>
Once you sign up to ngrok, follow the instructions in the sign up page and documentation to setup a persistent subdomain. </p>
<h1>Summary</h1>
<p>In this part we finally connected to Facebook. We went through the Facebook login flow (which is the same no matter what programming language you use) and then used Facebook’s graph API to get the player’s name and picture and displayed them in the main page.</p>
<h1>Next Post</h1>
<p>In the next post we will enable the player to use facebook invites to ask her friends to fill the friend test for her.<br/>
This post’s code can be found on the <a href="https://github.com/daramasala/whoami" title="WhoAmI repository github">whoami repository on github</a>.</p>
		<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" id="like-post-wrapper-28093761-3-56d5a980782f6" data-src="//widgets.wp.com/likes/#blog_id=28093761&amp;post_id=3&amp;origin=onemorelineofcode.wordpress.com&amp;obj_id=28093761-3-56d5a980782f6" data-name="like-post-frame-28093761-3-56d5a980782f6"><h3 class="sd-title">Like this:</h3><p class="likes-widget-placeholder post-likes-widget-placeholder"><span class="button"><span>Like</span></span> <span class="loading">Loading...</span></p><span class="sd-text-color"/><a class="sd-link-color"/></div>
<p id="jp-relatedposts" class="jp-relatedposts">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</p></div>			</div>

	</div></body></html>