<html><body><div><div id="id4">
<span id="usage"/>
<p>Add <strong>muffin_babel</strong> to <strong>PLUGINS</strong> in your <a href="https://github.com/klen/muffin" rel="nofollow">Muffin</a> application config:</p>
<pre>import muffin

app = muffin.Application(
    'example',

    PLUGINS=(
        'muffin_jinja2',
        'muffin_babel',
    )

)
</pre>
<p>Setup a locale selector function:</p>
<pre>@app.ps.babel.locale_selector
def set_locale(request):
    """ Return locale from GET lang-param or automatically. """
    return request.GET.get(
        'lang',

        # Get locale based on user settings
        app.ps.babel.select_locale_by_request(request)
    )
</pre>
<p>Use <cite>app.ps.babel.gettext</cite>, <cite>app.ps.babel.pgettext</cite>, <cite>app.ps.babel.lazy_gettext</cite> function in your
code:</p>
<pre>@app.register('/')
def index(request):
    return app.ps.babel.gettext('Hello!')
</pre>
<div id="jinja2">

<p>The <cite>Muffin-Babel</cite> has integration with <cite>Muffin-Jinja2</cite>, so if you have
<cite>muffin_jinja2</cite> plugin enabled, the plugin provides <cite>gettext</cite> and <cite>ngettext</cite>
function in Jinja2 templatesâ€™ context.</p>
<div>
<p>Note</p>
<p><cite>muffin_jinja2</cite> should be enabled before <cite>muffin_babel</cite> in your application configuration.</p>
</div>
</div>
<div id="options">

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr><td><em>BABEL_CONFIGURE_JINJA2</em></td>
<td>Install i18n support to <a href="https://github.com/klen/muffin-jinja2" rel="nofollow">Muffin-Jinja2</a>  (<tt>True</tt>)</td>
</tr>
<tr><td><em>BABEL_DEFAULT_LOCALE</em></td>
<td>Set default locale (<tt>en</tt>)</td>
</tr>
<tr><td><em>BABEL_DOMAIN</em></td>
<td>Set default domain (<tt>messages</tt>)</td>
</tr>
<tr><td><em>BABEL_LOCALES_DIRS</em></td>
<td>List of directories where locales are leaving</td>
</tr>
<tr><td><em>BABEL_SOURCES_MAP</em></td>
<td>Babel sources map</td>
</tr>
<tr><td><em>BABEL_OPTIONS_MAP</em></td>
<td>Babel options map</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="commands">

<p>The plugin adds two commands to your <a href="https://github.com/klen/muffin" rel="nofollow">Muffin</a> application.</p>
<div id="extract-messages">

<p>Extract strings from your application to locales:</p>
<pre>$ muffin app_module extract_messages [OPTIONS] appdir
</pre>
<p>Translate <tt>.po</tt> files and compile translations:</p>
<pre>$ muffin app_module compile_messages [OPTIONS]
</pre>
</div>
</div>
<div id="id6">
<span id="license"/>
<p>Licensed under a <a href="http://opensource.org/licenses/MIT" rel="nofollow">MIT license</a>.</p>
<p>If you wish to express your appreciation for the project, you are welcome to send
a postcard to:</p>
<pre>Kirill Klenov
pos. Severny 8-3
MO, Istra, 143500
Russia
</pre>
</div>


</div></body></html>