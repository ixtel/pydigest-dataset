<html><body><div><div class="section">
              <h1>django-db-mailer 2.0.1</h1>

              


<p>Django module to easily send emails using django templates stored on database.</p>

<p>
   <a href="http://pythonhosted.org/django-db-mailer/">Package Documentation</a>
</p>

<p>
<strong>Latest Version: </strong><a title="Latest Version URL" href="https://pypi.python.org/pypi/django-db-mailer/2.3.3">
<span>2.3.3</span>
</a>
</p><p>




Django-Db-Mailer</p><p>----------------</p><p>.. image:: https://pypip.in/v/django-db-mailer/badge.png</p><p>    :alt: Current version on PyPi</p><p>    :target: https://crate.io/packages/django-db-mailer/</p><p>.. image:: https://pypip.in/d/django-db-mailer/badge.png</p><p>    :alt: Downloads from PyPi</p><p>    :target: https://crate.io/packages/django-db-mailer/</p><p>.. image:: https://readthedocs.org/projects/django-db-mailer/badge/?version=latest</p><p>    :target: http://django-db-mailer.readthedocs.org/</p><p>    :alt: Documentation Status</p><p>Documentation available at `Read the Docs &lt;http: django-db-mailer.readthedocs.org=""/&gt;`_.</p><p>What's that</p><p>-----------</p><p>| Django module to easily send emails using django templates stored on database.</p><p>| From box you can use it with django-celery for send background messages.</p><p>| Also you have opportunity to create reports from logs by mail categories and slug.</p><p>| Groups with Recipients and send by model signal also available by default.</p><p>| That app very simple to install and use on your projects.</p><p>Installation:</p><p>-------------</p><p>1. Using pip:</p><p>.. code-block:: bash</p><p>    $ pip install django-db-mailer</p><p>2. Add the ``dbmail`` application to ``INSTALLED_APPS`` in your settings file (usually ``settings.py``)</p><p>3. Sync database (``./manage.py syncdb`` or ``./manage.py migrate``).</p><p>**Important:** South 1.0 or greater is required to run migrations.</p><p>Usage examples</p><p>--------------</p><p>.. code-block:: python</p><p>    from dbmail.models import MailTemplate</p><p>    from dbmail import send_db_mail</p><p>    # New dbmail template</p><p>    MailTemplate.objects.create(</p><p>        name="Site welcome template",</p><p>        subject="Welcome",</p><p>        message="Welcome to our site. We are glad to see you.",</p><p>        slug="welcome",</p><p>        is_html=False,</p><p>    )</p><p>    # Send message with created template</p><p>    send_db_mail(</p><p>        # slug which defined on db template</p><p>        slug='welcome',</p><p>        # recipient can be list, or str separated with comma or simple string</p><p>        # 'user1@example.com' or 'user1@example.com, user2@example.com' or</p><p>        # ['user1@example.com', 'user2@example.com'] or string Mail group slug</p><p>        recipient='user1@example.com',</p><p>        # All *args params will be accessible on template context</p><p>        {</p><p>            'username': request.user.username,</p><p>            'full_name': request.user.get_full_name(),</p><p>            'signup_date': request.user.date_joined</p><p>        },</p><p>        # You can access to all model fields. For m2m and fk fields, you should use module_name</p><p>        MyModel.objects.get(pk=1),</p><p>        # Optional kwargs:</p><p>        # from_email='from@example.com'</p><p>        # cc=['cc@example.com'],</p><p>        # bcc=['bcc@example.com'],</p><p>        # user=User.objects.get(pk=1),</p><p>        #</p><p>        # language='ru',</p><p>        #</p><p>        # attachments=[(filename, content, mimetype)],</p><p>        # files=['hello.jpg', 'world.png'],</p><p>        # headers={'Custom-Header':'Some value'},</p><p>        #</p><p>        # queue='default',</p><p>        # retry_delay=300,</p><p>        # max_retries=3,</p><p>        # retry=True,</p><p>        # time_limit=30,</p><p>        # send_after=60,</p><p>        #</p><p>        # use_celery=True,</p><p>    )</p><p>Local demo installation</p><p>-----------------------</p><p>.. code-block:: bash</p><p>    $ sudo apt-get install -y virtualenvwrapper redis-server git python-dev libxml2-dev libxslt-dev zlib1g-dev || brew install pyenv-virtualenvwrapper redis git</p><p>    $ source /usr/share/virtualenvwrapper/virtualenvwrapper.sh || source /usr/local/bin/virtualenvwrapper.sh</p><p>    $ mkvirtualenv db-mailer</p><p>    $ workon db-mailer</p><p>    $ git clone --depth 1 https://github.com/LPgenerator/django-db-mailer.git db-mailer</p><p>    $ cd db-mailer</p><p>    $ python setup.py develop</p><p>    $ cd demo</p><p>    $ pip install -r requirements.txt</p><p>    $ python manage.py syncdb --noinput</p><p>    $ python manage.py migrate --noinput</p><p>    $ python manage.py createsuperuser --username admin --email admin@local.host</p><p>    $ python manage.py runserver &gt;&amp; /dev/null &amp;</p><p>    $ python manage.py celeryd -Q default &gt;&amp; /dev/null &amp;</p><p>Open Shell:</p><p>.. code-block:: bash</p><p>    $ python manage.py shell_plus --print-sql</p><p>Create new template:</p><p>.. code-block:: python</p><p>    from dbmail.models import MailTemplate</p><p>    from dbmail import send_db_mail</p><p>    MailTemplate.objects.create(</p><p>        name="Site welcome template",</p><p>        subject="Welcome",</p><p>        message="Welcome to our site. We are glad to see you.",</p><p>        slug="welcome",</p><p>        is_html=False,</p><p>    )</p><p>Try to send test email with created template (without celery):</p><p>.. code-block:: python</p><p>    send_db_mail('welcome', 'user@example.com', use_celery=False)</p><p>Send email using celery:</p><p>.. code-block:: python</p><p>    send_db_mail('welcome', 'user@example.com')</p><p>Check mail logs:</p><p>.. code-block:: python</p><p>    from pprint import pprint</p><p>    from django.forms.models import model_to_dict</p><p>    from dbmail.models import MailLog</p><p>    pprint([model_to_dict(obj) for obj in MailLog.objects.all()])</p><p>Open app on browser:</p><p>.. code-block:: bash</p><p>    $ xdg-open http://127.0.0.1:8000/admin/dbmail/ &gt;&amp; /dev/null || open http://127.0.0.1:8000/admin/dbmail/ &gt;&amp; /dev/null</p><p>Additional information</p><p>----------------------</p><p>**Revision**</p><p>For support template reversion, you can install ``django-reversion``.</p><p>Find information about compatibility with your Django versions `here &lt;http: django-reversion.readthedocs.org="" en="" latest="" django-versions.html=""&gt;`_.</p><p>**Editor**</p><p>To enable editor, you may install and configure ``django-tinymce`` app.</p><p>**Theme**</p><p>``django-db-mailer`` supported from box ``django-grappelli`` skin. Information about compatibility available `here &lt;https: pypi.python.org="" pypi="" django-grappelli="" 2.5.3=""&gt;`_.</p><p>**Queue**</p><p>Install and configure ``django-celery`` for background message sending with priorities. You can find celery settings examples on demo project.</p><p>We recommended to use ``django-celery-mon`` with ``django-celery`` for monitoring celery and supervisor processes.</p><p>**Premailer**</p><p>For turns CSS blocks into style attributes, you can install ``premailer`` from PyPi.</p><p>**Translation**</p><p>For use different language on your mail templates, install ``django-modeltranslation`` or ``grappelli-modeltranslation``.</p><p>Add into settings.py:</p><p>.. code-block:: python</p><p>    MODELTRANSLATION_DEFAULT_LANGUAGE = 'en'</p><p>    MODELTRANSLATION_LANGUAGES = ('ru', 'en')</p><p>    MODELTRANSLATION_TRANSLATION_FILES = (</p><p>        'dbmail.translation',</p><p>    )</p><p>    INSTALLED_APPS = ('modeltranslation',) + INSTALLED_APPS</p><p>    # INSTALLED_APPS = ('grappelli', 'grappelli_modeltranslation', 'modeltranslation',) + INSTALLED_APPS</p><p>Update dbmail fields:</p><p>.. code-block:: bash</p><p>    $ ./manage.py sync_translation_fields --noinput</p><p>**Postmark backend**</p><p>Install ``python-postmark`` app via pip. Configure your settings:</p><p>.. code-block:: python</p><p>    POSTMARK_API_KEY = ''</p><p>    POSTMARK_SENDER = 'noreply@example.com'</p><p>    POSTMARK_TEST_MODE = False</p><p>    EMAIL_BACKEND = 'postmark.django_backend.EmailBackend'</p><p>**Tracking**:</p><p>.. code-block:: bash</p><p>    $ pip install httpagentparser django-ipware</p><p>For track information about user, or about mail is read, you must be enable logging, and enable tracking on settings.</p><p>**Older versions**</p><p>Very simple version of this app, available `here &lt;https: github.com="" lpgenerator="" django-db-mailer="" tree="" 1.0=""&gt;`_.</p><p>That version do not include celery settings, bcc, api, mail settings, signals, mail groups and model browser.</p><p>**Notes**</p><p>All app features available only with ``django-celery`` and with ``Redis``.</p><p>External API usage</p><p>------------------</p><p>.. code-block:: python</p><p>    from dbmail.models import ApiKey</p><p>    ApiKey.objects.create(name='Test', api_key='ZzriUzE')</p><p>.. code-block:: bash</p><p>    $ pip install httpie</p><p>    $ http -f POST http://127.0.0.1:8000/dbmail/api/ api_key=ZzriUzE slug=welcome recipient=root@local.host data='{"name": "Ivan", "age": 20}'</p><p>        or</p><p>    $ apt-get install curl || brew install curl</p><p>    $ curl -X POST http://127.0.0.1:8000/dbmail/api/ --data 'api_key=ZzriUzE&amp;slug=welcome&amp;recipient=root@local.host'</p><p>Screenshots</p><p>-----------</p><p>.. image:: /screenshots/template_edit.jpg</p><p>.. image:: /screenshots/templates_changelist.jpg</p><p>.. image:: /screenshots/template_log_changelist.jpg</p><p>.. image:: /screenshots/template_log_view.jpg</p><p>.. image:: /screenshots/group_change.jpg</p><p>.. image:: /screenshots/signal_edit.jpg</p><p>.. image:: /screenshots/signals_changelist.jpg</p><p>.. image:: /screenshots/apps_view.jpg</p><p>.. image:: /screenshots/apps_browse_vars.jpg</p><p>.. image:: /screenshots/smtp_changelist.jpg</p><p>.. image:: /screenshots/apikey_changelist.jpg</p><p>.. image:: /screenshots/bcc_changelist.jpg</p><p>.. image:: /screenshots/template_compare.jpg</p><p>.. image:: /screenshots/tracking_edit.jpg</p><p>Compatibility:</p><p>-------------</p><p>* Python: 2.6, 2.7</p><p>* Django: 1.4, 1.5, 1.6, 1.7

</p><a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>368</span> downloads in the last week
  </li>
  <li>
    <span>2498</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>