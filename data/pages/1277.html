<html><body><div><div class="content html_format"><p>
      Это двенадцатая статья в серии, где я описываю свой опыт написания веб-приложения на Python с использованием микрофреймворка Flask.</p>
<p>
Цель данного руководства — разработать довольно функциональное приложение-микроблог, которое я за полным отсутствием оригинальности решил назвать </p><code>microblog</code><p>.

</p>

<h2>Краткое повторение</h2>
<p>
Если вы играли с нашим микроблогом, то вы заметили что он выглядит не лучшим образом. До сих пор мы использовали базовые шаблоны, без какой-либо стилизации. Это было полезно, потому что мы не хотели отвлекаться от написания кода, чтобы делать красивый HTML.
</p><p>
Мы усердно трудились, кодируя логику до текущего момента, поэтому сейчас мы сделаем перерыв и посмотрим как мы можем сделать наше приложение чуточку красивей для наших пользователей.
</p><a name="habracut"/><p>
Эта статья будет немного отличаться от предыдущих, потому что написание привлекательного HTML\CSS это обширная тема, которая выходит за рамки нашей серии. Здесь не будет подробного HTML или CSS, мы просто обсудим основные принципы и идеи как подходить к этой задаче.

</p><h2>Как мы это делаем?</h2>
<p>
Трудности написания кода ничто по сравнению с тем как веб-дизайнеры создают красивые шаблоны, которые хорошо выглядят в ряде браузеров, каждый из которых с причудами, ошибками и собственным мнением. И в наше время ситуация усугубляется тем, что сайты, помимо браузеров, должны хорошо выглядеть еще и ограниченных в ресурсах браузерах телефонов и планшетов.
 </p><p>
К сожалению, изучение HTML, CSS и JavaScript и борьба с уникальными особенностями каждого браузера это задача неопределенных размеров. У нас реально нет времени (или интереса) чтобы это делать. Мы просто хотим сделать наше приложение лучше без дополнительных усилий.
</p><p>
Итак, как мы можем выполнить эту задачу в таких условиях?

</p><h2>Введение в Bootstrap</h2>
<p>
Наши хорошие друзья из Twitter выпустили веб-фреймворк с открытым исходным кодом, называемый Bootstrap, который может быть нашим выигрышным билетом.
</p><p>
Bootstrap это коллекция CSS и Javascript утилит, для большинства типов веб-страниц. Если вы хотите увидеть преимущества, которые мы получим разрабатывая с этим фреймворком, вот несколько примеров.
</p><p>
Вот несколько вещей в которых Bootstrap хорош:
</p><ul>
<li>Одинаковое отображение в разных браузерах</li>
<li>Отработка размеров экрана планшетов, телефонов и настольных браузеров</li>
<li>Настраиваемые layouts</li>
<li>Полностью стилизованная панель навигации</li>
<li>Полностью стилизованные формы</li>
<li>И еще много всего...</li>
</ul>

<h2>Прикручиваем Bootstrap к нашему приложению</h2>
<p>
Прежде чем мы сможем добавить Bootstrap в наше приложение мы должны установить CSS, Javascript и изображения входящие во фреймворк в место, в котором наш веб-сервер сможет их найти.
</p><p>
В приложениях Flask статичные файлы хранятся в каталоге </p><code>app/static</code><p>. Веб-сервер знает что искать файлы стоит в этом каталоге, когда в URL есть префикс </p><code>/static</code><p>.
</p><p>
Для примера, если мы положим файл с именем </p><code>image.png</code><p> в каталог </p><code>/app/static</code><p>, тогда в HTML шаблоне мы можем показать изображение с помощью такого тега:
</p><pre><code class="html">&lt;img src="" /&gt;
</code></pre>
<p>
Мы установим Bootstrap таким образом:

</p><pre><code class="python">/app
    /static
        /css
            bootstrap.min.css
            bootstrap-responsive.min.css
        /img
            glyphicons-halflings.png
            glyphicons-halflings-white.png
        /js
            bootstrap.min.js
</code></pre>
<p>
Теперь мы загрузим фреймворк указав в секции </p><code>HEAD</code><p> нашего базового шаблона следующие инструкции:
</p><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    ...
    &lt;link href="/static/css/bootstrap.min.css" rel="stylesheet" media="screen"&gt;
    &lt;link href="/static/css/bootstrap-responsive.css" rel="stylesheet"&gt;
    &lt;script src="http://code.jquery.com/jquery-latest.js"&gt;&lt;/script&gt;
    &lt;script src="/static/js/bootstrap.min.js"&gt;&lt;/script&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    ...
  &lt;/head&gt;
  ...
&lt;/html&gt;
</code></pre>
<p>
Тэги </p><code>link</code><p> и </p><code>script</code><p> загружают CSS и Javascript файлы предоставляемые фреймворком.
</p><p>
Обратите внимание, что один из требуемых файлов это jQuery, который используется некоторыми плагинами Bootstrap.
</p><p>
Тэг </p><code>meta</code><p> включает «Резиновый» режим, который позволяет масштабировать страницу для компьютеров, планшетов и телефонов.
</p><p>
С учетом изменений в нашем </p><code>base.html</code><p> мы готовы начинать внедрять Bootstrap, который потребует незначительного изменения в наших шаблонах.
</p><p>
Изменения, которые потребуется сделать:
</p><ul>
<li>Поместить всё содержимое страницы в одну колонку с «резиновыми» возможностями.</li>
<li>Адаптировать все формы для использования стилей Bootstrap.</li>
<li>Заменить нашу панель навигации панелью Navbar</li>
<li>Конвертировать наши ссылки «previous» и «next» на кнопки <code>Pager</code></li>
<li>Использовать стили уведомлений Bootstrap для мигающих сообщений.</li>
<li>Использовать стилизованные изображения для представления провайдеров OpenID в форме логина.</li>
</ul>
<p>
Мы не будем обсуждать как сделать эти изменения, т.к. они довольно просты. Интересующиеся могут посмотреть diff на GitHub с изменениями. 
</p><p>
Справка Bootstrap поможет вам в попытке проанализировать новые шаблоны нашего приложения.

</p><h2>Заключение</h2>
<p>
Сегодня мы давали обещание не писать ни строчки кода, и сдержали обещание. Все улучшения мы производили в файлах шаблонов.
</p><p>
Чтобы дать представление о масштабах трансформации, ниже представлено несколько скриншотов.

</p><img src="https://habrastorage.org/getpro/habr/post_images/5c4/6b5/7ae/5c46b57ae43299263597582f47fa98d0.jpg" alt="image"/>
<img src="https://habrastorage.org/getpro/habr/post_images/7e2/fc7/e98/7e2fc7e98e94b0ae507e82ba423b290d.jpg" alt="image"/>
<img src="https://habrastorage.org/getpro/habr/post_images/b4c/10e/2e1/b4c10e2e1e9941548613fb44af31c59f.jpg" alt="image"/>
<img src="https://habrastorage.org/getpro/habr/post_images/1cb/c35/0cd/1cbc350cd0bd4f424208fab58b17c4b4.jpg" alt="image"/>
<p>
Обновленное приложение можно скачать ниже:
</p><p>
Скачать </p><a href="https://github.com/miguelgrinberg/microblog/archive/v0.12.zip">microblog-0.12.zip.</a>
<p>
В следующей части мы увидим как улучшить форматирование даты и времени в нашем приложении.
</p><p>
Miguel
      </p><p class="clear"/>
    </div>

    
  </div></body></html>