<html><body><div><div class="section">
              <h1>django-elastic-transcoder 0.9.5</h1>

              


<p>Django with AWS elastic transcoder</p>








<p><a href="https://travis-ci.org/StreetVoice/django-elastic-transcoder" rel="nofollow"><img src="https://travis-ci.org/StreetVoice/django-elastic-transcoder.png?branch=master"/></a> <a href="https://coveralls.io/r/StreetVoice/django-elastic-transcoder?branch=master" rel="nofollow"><img src="https://coveralls.io/repos/StreetVoice/django-elastic-transcoder/badge.png?branch=master"/></a></p>
<p><tt><span class="pre">django-elastic-transcoder</span></tt> is an <cite>Django</cite> app, let you integrate AWS Elastic Transcoder in Django easily.</p>
<p>What is provided in this package?</p>
<ul>
<li><tt>Transcoder</tt> class</li>
<li>URL endpoint for receive SNS notification</li>
<li>Signals for PROGRESS, ERROR, COMPLETE</li>
<li><tt>EncodeJob</tt> model</li>
</ul>
<div id="workflow">
<h2>Workflow</h2>
<img src="docs/images/workflow.jpg"/>
</div>
<div id="install">
<h2>Install</h2>
<p>First, install <tt>dj_elastictranscode</tt> with <tt>pip</tt></p>
<pre>$ pip install django-elastic-transcoder
</pre>
<p>Then, add <tt>dj_elastictranscoder</tt> to <tt>INSTALLED_APPS</tt></p>
<pre><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="o">...</span>
    <span class="s1">'dj_elastictranscoder'</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">)</span>
</pre>
<p>Bind <tt>urls.py</tt></p>
<pre><span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">patterns</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span>
    <span class="o">...</span>
    <span class="n">url</span><span class="p">(</span><span class="s1">r'^dj_elastictranscoder/'</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s1">'dj_elastictranscoder.urls'</span><span class="p">)),</span>
    <span class="o">...</span>
<span class="p">)</span>
</pre>
<p>Migrate</p>
<pre>$ ./manage.py migrate
</pre>
</div>
<div id="setting-up-aws-elastic-transcoder">
<h2>Setting up AWS Elastic Transcoder</h2>
<ol>
<li>Create a new <tt>Pipeline</tt> in AWS Elastic Transcoder.</li>
<li>Hookup every Notification.</li>
<li>Subscribe SNS Notification through HTTP</li>
<li>You are ready to encode!</li>
</ol>
</div>
<div id="required-django-settings">
<h2>Required Django settings</h2>
<p>Please settings up variables below to make this app works.</p>
<pre><span class="n">AWS_ACCESS_KEY_ID</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">your</span> <span class="n">aws</span> <span class="n">access</span> <span class="n">key</span> <span class="nb">id</span><span class="o">&gt;</span>
<span class="n">AWS_SECRET_ACCESS_KEY</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">your</span> <span class="n">aws</span> <span class="n">secret</span> <span class="n">access</span> <span class="n">key</span><span class="o">&gt;</span>
<span class="n">AWS_REGION</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">aws</span> <span class="n">region</span><span class="o">&gt;</span>
</pre>
</div>
<div id="usage">
<h2>Usage</h2>
<p>For instance, encode an mp3</p>
<pre><span class="kn">from</span> <span class="nn">dj_elastictranscoder.transcoder</span> <span class="kn">import</span> <span class="n">Transcoder</span>

<span class="nb">input</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'Key'</span><span class="p">:</span> <span class="s1">'path/to/input.mp3'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">outputs</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s1">'Key'</span><span class="p">:</span> <span class="s1">'path/to/output.mp3'</span><span class="p">,</span>
    <span class="s1">'PresetId'</span><span class="p">:</span> <span class="s1">'1351620000001-300040'</span> <span class="c1"># for example: 128k mp3 audio preset</span>
<span class="p">}]</span>

<span class="n">pipeline_id</span> <span class="o">=</span> <span class="s1">'&lt;pipeline_id&gt;'</span>

<span class="n">transcoder</span> <span class="o">=</span> <span class="n">Transcoder</span><span class="p">(</span><span class="n">pipeline_id</span><span class="p">)</span>
<span class="n">transcoder</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="n">outputs</span><span class="p">)</span>

<span class="c1"># your can also create a EncodeJob for object automatically</span>
<span class="n">transcoder</span><span class="o">.</span><span class="n">create_job_for_object</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>


<span class="c1"># Transcoder can also work standalone without Django</span>
<span class="c1"># just pass region and required aws key/secret to Transcoder, when initiate</span>

<span class="n">transcoder</span> <span class="o">=</span> <span class="n">Transcoder</span><span class="p">(</span><span class="n">pipeline_id</span><span class="p">,</span> <span class="n">AWS_REGION</span><span class="p">,</span> <span class="n">AWS_ACCESS_KEY_ID</span><span class="p">,</span> <span class="n">AWS_SECRET_ACCESS_KEY</span><span class="p">)</span>
</pre>
</div>
<div id="setting-up-aws-sns-endpoint">
<h2>Setting Up AWS SNS endpoint</h2>
<p>AWS Elastic Transcoder can send various SNS notification to notify your application, like <tt>PROGRESS</tt>, <tt>ERROR</tt>, <tt>WARNING</tt> and <tt>COMPLETE</tt></p>
<p>So this package provide a endpoint to receieve these notifications, for you to update transcode progress. without checking by your self.</p>
<p>Go to SNS section in AWS WebConsole to choose topic and subscribe with the url below.</p>
<p><tt><span class="pre">http://&lt;your-domain&gt;/dj_elastictranscoder/endpoint/</span></tt></p>
<p>Before notification get started to work, you have to activate SNS subscription, you will receive email with activation link.</p>
<p>After subscribe is done, you will receive SNS notification.</p>
</div>
<div id="signals">
<h2>Signals</h2>
<p>This package provide various signals for you to get notification, and do more things in your application. you can check the signals usage in tests.py for more usage example.</p>
<ul>
<li>transcode_onprogress</li>
<li>transcode_onerror</li>
<li>transcode_oncomplete</li>
</ul>
</div>


<a name="downloads">Â </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>136</span> downloads in the last week
  </li>
  <li>
    <span>790</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>