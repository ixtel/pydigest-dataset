<html><body><div><div class="section">
              <h1>django-authsch 0.7.2</h1>

              


<p>Easy-to-use auth.sch client.</p>








<div id="leiras">
<h2>Leírás</h2>
<p>Egyszerűen használható auth.sch kliens. Saját felhasználói modellel is működik, mivel a
<tt>django.contrib.auth.get_user_model</tt> által visszaadott felhasználói modell-t használja. Azzal a kikötéssel, hogy az
auth.sch-ban használt internal_id-t tárolni kell a user modellben (méghozzá <tt>unique=True</tt> megkötéssel).</p>
</div>
<div id="fuggosegek">
<h2>Függőségek</h2>
<p>A django-authsch a requests csomagtól függ. Ezt használja az auth.sch-val folytatott HTTP kommunikációra. Telepíteni a
pip csomagkezelővel tudjuk:</p>
<pre>pip install requests
</pre>
</div>
<div id="telepites">
<h2>Telepítés</h2>
<p>Telepíteni egyszerűen a PyPI-ből a <tt>pip</tt> segítségével.</p>
<pre>pip install django-authsch
</pre>
</div>
<div id="konfiguralas">
<h2>Konfigurálás</h2>
<p>Az auth.sch használatához elengedhetetlen, hogy a kliens azonosító:kulcs párokat, az internal_id-t valamint a kért scope-okat
bekonfiguráljuk. Ezen felül beállíthatjuk, hogy a felhasználói modellben melyik mezőben tároljuk a refresh_token-t. Ha
nem adunk meg refresh_token mező nevet, akkor a django-authsch nem próbálja meg elmenteni a refresh tokent.</p>
<p>Konfigurálni mindent a <tt>settings.py</tt>-ban lehet.</p>
<pre><span class="n">AUTH_SCH</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'CLIENT_ID'</span><span class="p">:</span> <span class="s1">'yourClientIdFromhttps://auth.sch.bme.hu/console/index'</span><span class="p">,</span>   <span class="c1"># kötelező megadni</span>
    <span class="s1">'SECRET_KEY'</span><span class="p">:</span> <span class="s1">'yourAwesomeSecretKeyyAlsoFromAuthSCH'</span><span class="p">,</span>   <span class="c1"># kötelező megadni</span>
    <span class="s1">'SCOPES'</span><span class="p">:</span> <span class="p">[</span>     <span class="c1"># kötelező megadni a kért scope-okat</span>
        <span class="s1">'basic'</span><span class="p">,</span>
        <span class="s1">'displayName'</span><span class="p">,</span>
        <span class="s1">'egyszerű'</span><span class="p">,</span>
        <span class="s1">'felsorolása'</span><span class="p">,</span>
        <span class="s1">'a'</span><span class="p">,</span>
        <span class="s1">'kért'</span><span class="p">,</span>
        <span class="s1">'scope-oknak'</span><span class="p">,</span>
        <span class="s1">'nuff'</span><span class="p">,</span>
        <span class="s1">'said'</span>
    <span class="p">],</span>
    <span class="s1">'INTERNAL_ID_FIELD_NAME'</span><span class="p">:</span> <span class="s1">'auth_sch_internal_id'</span><span class="p">,</span>   <span class="c1"># Ez a default beállítás, ha ettől nem különbözik, akkor nem kötelező megadni</span>
    <span class="s1">'REFRESH_TOKEN_FIELD_NAME'</span><span class="p">:</span> <span class="s1">'refresh_token'</span> <span class="c1"># Ez a default beállítás, ha ettől nem különbözik, akkor nem kötelező megadni</span>
<span class="p">}</span>
</pre>
</div>
<div id="hasznalat">
<h2>Használat</h2>
<p>Az auth.sch leírása szerint a felhasználó beléptetéséhez össze kell állítani a megfelelő url-t a <tt>CLIENT_ID</tt> és a
<tt>SCOPES</tt> (+-szal felsorolva) alapján:</p>
<p><a href="https://auth.sch.bme.hu/site/login" rel="nofollow">https://auth.sch.bme.hu/site/login</a>?response_type=code&amp;client_id=**&lt;IdeJönACLIENT_ID&gt;**&amp;state=asd123&amp;scope=**&lt;IdeJönnekAScope-ok&gt;**</p>
<p>Ez után kell elkészíteni a callback View-t. Ez lesz az, amire az auth.sch visszairányítja a felhasználót, és get
paraméterként megadja az access_token lekéréséhez szükséges kódot.</p>
<pre><span class="k">class</span> <span class="nc">CallbackView</span><span class="p">(</span><span class="n">ProcessCodeView</span><span class="p">):</span>
    <span class="n">success_url</span> <span class="o">=</span> <span class="s1">'ide irányítod a felhasználót, ha sikeres volt a bejelentkezés'</span>   <span class="c1"># Kötelező</span>
    <span class="n">error_url</span> <span class="o">=</span> <span class="s1">'ide irányítod a felhasználót, ha sikertelen volt a bejelentkezés'</span>  <span class="c1"># Kötelező</span>

    <span class="c1"># Ezeket nem kötelező megadni</span>
    <span class="n">acquire_access_token_url</span> <span class="o">=</span> <span class="s1">'https://auth.sch.bme.hu/oauth2/token'</span>   <span class="c1"># Nem kötelező megadni</span>
    <span class="n">auth_sch_profile_url</span> <span class="o">=</span> <span class="s1">'https://auth.sch.bme.hu/api/profile/'</span>       <span class="c1"># Nem kötelező megadni</span>
    <span class="n">internal_id_field_name</span> <span class="o">=</span> <span class="bp">None</span>       <span class="c1"># Nem kötelező megadni, felülírja a settings.py-ban beállított INTERNAL_ID_FIELD_NAME-t</span>
    <span class="n">refresh_token_field_name</span> <span class="o">=</span> <span class="bp">None</span>     <span class="c1"># Nem kötelező megadni, felülírja a settings.py-ban beállított REFRESH_TOKEN_FIELD_NAME-t</span>
</pre>
</div>
<div id="modell-ek">
<h2>Modell-ek</h2>
<p>Az egyetlen modell a csomagban a <tt>AbstractAuthSchBase</tt>. Ez egy olyan absztrakt modell, ami tartalmazza a működéshez
elengedhetetlen internal_id-t, valamint a refresh token tárolásához használt refresh_token mezőt. Ebből (is) örököltetve
a felhasználói modellt biztosan működni fog.</p>
</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>56</span> downloads in the last week
  </li>
  <li>
    <span>391</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>