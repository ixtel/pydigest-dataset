<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-ezcf" class="anchor" href="#ezcf" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>ezcf</h1>

<p><a href="https://travis-ci.org/laike9m/ezcf"><img src="https://camo.githubusercontent.com/70015f23bc056ba9654930eace123ad160487601/68747470733a2f2f7472617669732d63692e6f72672f6c61696b65396d2f657a63662e737667" alt="Build Status" data-canonical-src="https://travis-ci.org/laike9m/ezcf.svg"/></a>
<a href="https://pypi.python.org/pypi/ezcf/"><img src="https://camo.githubusercontent.com/cdc0e3594105491d6f2e0e7493cea0da54d469b6/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f657a63662e737667" alt="Supported Python versions" data-canonical-src="https://img.shields.io/pypi/pyversions/ezcf.svg"/></a>
<a href="http://badge.fury.io/py/ezcf"><img src="https://camo.githubusercontent.com/275a59fb9f27e9ddc72e334d6281a750a84a5622/68747470733a2f2f62616467652e667572792e696f2f70792f657a63662e737667" alt="PyPI version" data-canonical-src="https://badge.fury.io/py/ezcf.svg"/></a>
<a href="https://coveralls.io/r/laike9m/ezcf"><img src="https://camo.githubusercontent.com/8cfe8791b2b863a3274b83784b42f825d2cb9e2e/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6c61696b65396d2f657a63662f62616467652e737667" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/laike9m/ezcf/badge.svg"/></a></p>

<p>ezcf stands for <strong>easy configuration</strong>, it allows you to import JSON/YAML/INI/XML
like .py files. It is useful whenever you need to read from these formats,
especially for reading configuration files.</p>

<p>OK, stop talking, show us some code!  </p>

<p>On the left is what you'll normally do, on the right is the ezcf way.<br/>
<strong>All you need is <code>import ezcf</code> first, then <code>import filename</code> without extension.</strong> Nothing else!</p>

<p><a href="https://github.com/laike9m/ezcf/raw/master/code_compare.png" target="_blank"><img src="https://github.com/laike9m/ezcf/raw/master/code_compare.png" alt=""/></a></p>

<p>For instance, here we want to load file <code>config.json</code>. With a single line of code <code>from config import *</code>,
everything is done and you're happy.</p>

<h2><a id="user-content-install" class="anchor" href="#install" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Install</h2>

<pre><code>pip install ezcf
</code></pre>

<p>If you run into <code>error: yaml.h: No such file or directory</code>, don't worry,
you can still use ezcf without any problem.</p>

<h2><a id="user-content-supported-file-types" class="anchor" href="#supported-file-types" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Supported File Types</h2>

<p>ezcf supports <code>JSON</code>, <code>YAML</code>, <code>INI</code> and <code>XML</code> with extension <code>json</code>, <code>yaml</code>, <code>yml</code>, <code>ini</code>, <code>xml</code>.</p>

<h2><a id="user-content-sample-usage" class="anchor" href="#sample-usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Sample Usage</h2>

<p>Let's start with an easy case:</p>

<pre><code>├── sample1.py
└── sample1.json  
</code></pre>

<p><code>sample1.py</code> and <code>sample1.json</code> are in the same directory. We want to read <code>sample1.json</code> in <code>sample1.py</code>, here's how:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s"># sample1.json</span>
<span class="pl-s">{</span>
<span class="pl-s">    "hello": "world"</span>
<span class="pl-s">}</span>
<span class="pl-s"><span class="pl-pds">"""</span></span>

<span class="pl-c"># sample1.py</span>
<span class="pl-k">import</span> ezcf
<span class="pl-k">from</span> sample1 <span class="pl-k">import</span> hello

<span class="pl-c1">print</span>(hello)  <span class="pl-c"># 'world'</span></pre></div>

<p>It's that easy.</p>

<p><br/>
That's cool, but we usually put config files in a separate folder. Can ezcf deal with that?</p>

<pre><code>├── conf
│   ├── __init__.py
│   └── sample2.yaml
└── sample2.py
</code></pre>

<p>Why not?  </p>

<div class="highlight highlight-source-python"><pre><span class="pl-s"><span class="pl-pds">"""</span>sample2.yaml</span>
<span class="pl-s">---</span>
<span class="pl-s">Time: 2001-11-23 15:02:31 -5</span>
<span class="pl-s">User: ed</span>
<span class="pl-s">warning:</span>
<span class="pl-s">  This is a warning.</span>
<span class="pl-s">---</span>
<span class="pl-s">Stack:</span>
<span class="pl-s">  - file: TopClass.py</span>
<span class="pl-s">    line: 23</span>
<span class="pl-s">    code: |</span>
<span class="pl-s">      x = MoreObject("345<span class="pl-cce">\n</span>")</span>
<span class="pl-s">  - file: MoreClass.py</span>
<span class="pl-s">    line: 58</span>
<span class="pl-s">    code: |-</span>
<span class="pl-s">      foo = bar</span>
<span class="pl-s"><span class="pl-pds">"""</span></span>

<span class="pl-c"># sample2.py</span>
<span class="pl-k">import</span> ezcf
<span class="pl-k">from</span> conf.sample2 <span class="pl-k">import</span> Time, User, warning, Stack

Time  <span class="pl-c"># datetime.datetime(2001, 11, 23, 20, 2, 31)</span>
User  <span class="pl-c"># ed</span>
warning  <span class="pl-c"># This is a warning.</span>
Stack  <span class="pl-c"># [{'line': 23, 'code': 'x = MoreObject("345\\n")\n', 'file': 'TopClass.py'}, {'line': 58, 'code': 'foo = bar', 'file': 'MoreClass.py'}]</span>
</pre></div>

<p>ezcf supports all kinds of valid import statements. These statements are equivalent:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> conf.sample2 <span class="pl-k">import</span> Time, User, warning, Stack
<span class="pl-k">from</span> conf.sample2 <span class="pl-k">import</span> <span class="pl-k">*</span>
<span class="pl-k">import</span> conf.sample2  <span class="pl-c"># then use conf.sample2.Time/User/warning/Stack</span>
<span class="pl-k">import</span> conf.sample2 <span class="pl-k">as</span> cs  <span class="pl-c"># then use cs.Time/User/warning/Stack</span></pre></div>

<p>In a word, you can assume they're just regular python files.(Currently ezcf only supports files with utf-8 encoding)</p>

<p>What about relative import? Yes, ezcf supports relative import, as long as you use it <em>correctly</em>.</p>

<h2><a id="user-content-note" class="anchor" href="#note" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Note</h2>

<ol>
<li>Be careful importing YAML which contains multiple documents: if there exists keys with the same name,
only one of them will be loaded. So it's better not to use multiple documents;</li>
<li>All values in <code>.ini</code> files are kept as it is and loaded as a string;</li>
<li>Since XML only allows single root, the whole xml will be loaded as one dict with root's name as variable name;</li>
<li>Use <a href="https://docs.python.org/3.4/reference/lexical_analysis.html#identifiers"><strong>valid variable names</strong></a>, this means key strings in JSON/YAML/INI/XML should be valid Python variable name.
Invalid variable name won't do any harm to your program nor will it crash, but you can't use them as expected.</li>
</ol>

<h2><a id="user-content-run-tests" class="anchor" href="#run-tests" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Run Tests</h2>

<pre><code>python setup.py test
</code></pre>

<h2><a id="user-content-roadmap" class="anchor" href="#roadmap" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Roadmap</h2>



<h2><a id="user-content-license" class="anchor" href="#license" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>License</h2>

<p>MIT</p>
</article>
  </div></body></html>