<html><body><div><div class="post-text" itemprop="text">

<p>I am trying to use SSL on CherryPy 3.8.0. My basic example implements a ping response on SSL.</p>

<p>I set the configuration for SSL in this way:</p>

<pre><code># start Web Service with some configuration
global_conf = {
       "global":    { "server.environment": "production",
                      "engine.autoreload.on": True,
                      "engine.autoreload.frequency": 5,
                      "server.socket_host": "0.0.0.0",
                      "server.socket_port": 443,
                      "cherrypy.server.ssl_module": "builtin",
                      "cherrypy.server.ssl_certificate": "cert.pem",
                      "cherrypy.server.ssl_private_key": "privkey.pem",
                      "environment": "production",
                      "log.error_file": "site.log"}
}
cherrypy.config.update(global_conf)
conf = {
    "/": {
        "request.dispatch": cherrypy.dispatch.MethodDispatcher(),
        "tools.encode.debug": True,
    }
}
</code></pre>

<p>However, when I invoke the Web Service I get errors. Httpie, cURL and openssl logs follow.</p>

<p>Httpie log:</p>

<pre><code>&gt; http GET https://&lt;host&gt;:443/ping
http: error: SSLError: [SSL: UNKNOWN_PROTOCOL] unknown protocol (_ssl.c:600)
</code></pre>

<p>cURL log:</p>

<pre><code>&gt; curl -v https://&lt;host&gt;:443/ping
* Connected to &lt;host&gt; (&lt;host&gt;) port 443 (#0)
* successfully set certificate verify locations:
*   CAfile: none
  CApath: /etc/ssl/certs
* SSLv3, TLS handshake, Client hello (1):
* error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol
* Closing connection 0
curl: (35) error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol
</code></pre>

<p>OpenSSL log:</p>

<pre><code>&gt; openssl s_client -host &lt;host&gt; -port 443
CONNECTED(00000003)
140197694400160:error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol:s23_clnt.c:795:
---
no peer certificate available
---
No client certificate CA names sent
---
SSL handshake has read 7 bytes and written 295 bytes
---
New, (NONE), Cipher is (NONE)
Secure Renegotiation IS NOT supported
Compression: NONE
Expansion: NONE
---
</code></pre>
    </div>
    </div></body></html>