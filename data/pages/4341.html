<html><body><div><div class="forum-post blog-post">
            
<p>Welcome back for another weekly review series!</p>
<p>When you open  first "Electronic Station" the first mission that you encounter is the classic
<a href="http://www.checkio.org/mission/brackets/share/440e9f6d6367b188e86fdf5797f7b087/">"Brackets"</a> mission. This is a simple, but interesting and useful mission.
"Brackets" can be solved with a wide variety of methods, and CiO players have certainly come up with some clever and ingenious solutions to it.</p>
<h2 id="description">Description</h2>
<p>You are given an expression with numbers, brackets and operators.
For this task only the brackets matter.
Brackets come in three flavors: "{}" "()" or "[]".
Brackets are used to determine scope or to restrict some expression.
If a bracket is open, then it must be closed with a closing bracket of the same type.
The scope of a bracket must not intersected by another bracket.
In this task you should make a decision, whether to correct an expression or
not based on the brackets. Do not worry about operators and operands.</p>
<h2 id="stack-solution">Stack Solution</h2>
<p>I've solved this mission myself, using a <a href="http://en.wikipedia.org/wiki/Stack_(abstract_data_type)">stack</a>.
Iterate a given text symbol by symbol.</p>
<ul>
<li>If a character is not a bracket then skip it,</li>
<li>If a character is an opened bracket then put in the stack,</li>
<li>If a character is a closed bracket, then try to take the top element of the stack
and check whether they form a pair of identical brackets: "()", "[]" or "{}".</li>
</ul>
<p>If we try to take an element from the stack and it's empty, or after checking
all symbols the stack is not an empty, then our expression is wrong.</p>
<pre class="grey-pre"><p class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span> </span><span class="entity name function python"><span>checkio</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>data</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></p><p class="line"><span class="source python"><span>    </span><span>stack</span><span> </span><span class="keyword operator assignment python"><span>=</span></span><span> </span><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="punctuation definition list end python"><span>]</span></span></span><span>  </span><span class="line number-sign python"><span class="punctuation definition python"><span>#</span></span><span> Yes, we can use deque</span><span> </span></span></span></p><p class="line"><span class="source python"><span>    </span><span>pairs</span><span> </span><span class="keyword operator assignment python"><span>=</span></span><span> </span><span class="meta structure dictionary python"><span class="punctuation definition dictionary begin python"><span>{</span></span><span class="meta structure dictionary key python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span>(</span><span class="punctuation definition string end python"><span>'</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span> </span><span class="meta structure dictionary value python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span>)</span><span class="punctuation definition string end python"><span>'</span></span></span></span><span class="punctuation separator dictionary python"><span>,</span></span><span> </span><span class="meta structure dictionary key python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span>[</span><span class="punctuation definition string end python"><span>'</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span> </span><span class="meta structure dictionary value python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span>]</span><span class="punctuation definition string end python"><span>'</span></span></span></span><span class="punctuation separator dictionary python"><span>,</span></span><span> </span><span class="meta structure dictionary key python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span>{</span><span class="punctuation definition string end python"><span>'</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span> </span><span class="meta structure dictionary value python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span>}</span><span class="punctuation definition string end python"><span>'</span></span></span></span><span class="punctuation definition dictionary end python"><span>}</span></span></span></span></p><p class="line"><span class="source python"><span>    </span><span class="keyword control repeat python"><span>for</span></span><span> </span><span>token</span><span> </span><span class="keyword operator logical python"><span>in</span></span><span> </span><span>data</span><span>:</span></span></p><p class="line"><span class="source python"><span>        </span><span class="keyword control conditional python"><span>if</span></span><span> </span><span>token</span><span> </span><span class="keyword operator logical python"><span>in</span></span><span> </span><span class="meta function-call python"><span>pairs</span><span>.</span><span>keys</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>:</span></span></p><p class="line"><span class="source python"><span>            </span><span class="meta function-call python"><span>stack</span><span>.</span><span>append</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>token</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></p><p class="line"><span class="source python"><span>        </span><span class="keyword control conditional python"><span>elif</span></span><span> </span><span>token</span><span> </span><span class="keyword operator logical python"><span>in</span></span><span> </span><span class="meta function-call python"><span>pairs</span><span>.</span><span>values</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>:</span></span></p><p class="line"><span class="source python"><span>            </span><span class="keyword control conditional python"><span>if</span></span><span> </span><span>stack</span><span> </span><span class="keyword operator logical python"><span>and</span></span><span> </span><span>token</span><span> </span><span class="keyword operator comparison python"><span>==</span></span><span> </span><span class="meta item-access python"><span>pairs</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="meta item-access python"><span>stack</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="keyword operator arithmetic python"><span>-</span></span><span class="constant numeric integer decimal python"><span>1</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span><span>:</span></span></p><p class="line"><span class="source python"><span>                </span><span class="meta function-call python"><span>stack</span><span>.</span><span>pop</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></p><p class="line"><span class="source python"><span>            </span><span class="keyword control conditional python"><span>else</span></span><span>:</span></span></p><p class="line"><span class="source python"><span>                </span><span class="keyword control statement python"><span>return</span></span><span> </span><span class="constant language python"><span>False</span></span></span></p><p class="line"><span class="source python"><span>    </span><span class="keyword control statement python"><span>return</span></span><span> </span><span class="keyword operator logical python"><span>not</span></span><span> </span><span class="meta function-call python"><span class="support type python"><span>bool</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>stack</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></p></pre>
<p>You can examine this code execution with the <a href="http://www.pythontutor.com/visualize.html#code=def+checkio(data)%3A%0A++++stack+%3D+%5B%5D++%23+Yes,+we+can+use+deque%0A++++pairs+%3D+%7B'('%3A+')',+'%5B'%3A+'%5D',+'%7B'%3A+'%7D'%7D%0A++++for+token+in+data%3A%0A++++++++if+token+in+pairs.keys()%3A%0A++++++++++++stack.append(token)%0A++++++++elif+token+in+pairs.values()%3A%0A++++++++++++if+stack+and+token+%3D%3D+pairs%5Bstack%5B-1%5D%5D%3A%0A++++++++++++++++stack.pop()%0A++++++++++++else%3A%0A++++++++++++++++return+False%0A++++return+not+bool(stack)%0A%0Aassert+checkio(%22((5%2B3)*2%2B1)%22)%0Aassert+checkio(%22%7B%5B(3%2B1)%2B2%5D%2B%7D%22)%0Aassert+not+checkio(%22(3%2B%7B1-1)%7D%22)%0Aassert+checkio(%22%5B1%2B1%5D%2B(2*2)-%7B3/3%7D%22)%0Aassert+not+checkio(%22((%7B%5B(((1)-2)%2B3)-3%5D/3%7D-3)%22)%0Aassert+checkio(%222%2B3%22)%0A&amp;mode=display&amp;origin=opt-frontend.js&amp;cumulative=false&amp;heapPrimitives=false&amp;textReferences=false&amp;py=2&amp;rawInputLstJSON=%5B%5D&amp;curInstr=0">Pythontutor service</a></p>
<h2 id="stackless-solution">Stackless Solution</h2>
<p>This mission can be solved without using stack and instead with a string method as seen
in <a href="http://www.checkio.org/user/blabaster/">@blabaster's</a>
<a href="http://www.checkio.org/mission/brackets/publications/blabaster/python-3/stackless/share/fea53ef208c6465eca10d06baa28fe0f/">"Stackless" solution</a></p>
<pre class="grey-pre"><p class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span> </span><span class="entity name function python"><span>checkio</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>expression</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></p><p class="line"><span class="source python"><span>    </span><span>s</span><span> </span><span class="keyword operator assignment python"><span>=</span></span><span> </span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span class="punctuation definition string end python"><span class="meta empty-string single python"><span>'</span></span></span></span><span>.</span><span class="meta function-call python"><span>j</span><span>oin</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>c</span><span> </span><span class="keyword control repeat python"><span>for</span></span><span> </span><span>c</span><span> </span><span class="keyword operator logical python"><span>in</span></span><span> </span><span>expression</span><span> </span><span class="keyword control conditional python"><span>if</span></span><span> </span><span>c</span><span> </span><span class="keyword operator logical python"><span>in</span></span><span> </span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span>([</span><span class="constant other placeholder python"><span>{}</span></span><span>])</span><span class="punctuation definition string end python"><span>'</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></p><p class="line"><span class="source python"><span>    </span><span class="keyword control repeat python"><span>while</span></span><span> </span><span>s</span><span>:</span></span></p><p class="line"><span class="source python"><span>        </span><span>s0</span><span>, </span><span>s</span><span> </span><span class="keyword operator assignment python"><span>=</span></span><span> </span><span>s</span><span>, </span><span class="meta function-call python"><span>s</span><span>.</span><span>replace</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span>()</span><span class="punctuation definition string end python"><span>'</span></span></span><span>, </span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span class="punctuation definition string end python"><span class="meta empty-string single python"><span>'</span></span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>r</span><span>eplace</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span>[]</span><span class="punctuation definition string end python"><span>'</span></span></span><span>, </span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span class="punctuation definition string end python"><span class="meta empty-string single python"><span>'</span></span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>r</span><span>eplace</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span class="constant other placeholder python"><span>{}</span></span><span class="punctuation definition string end python"><span>'</span></span></span><span>, </span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span class="punctuation definition string end python"><span class="meta empty-string single python"><span>'</span></span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></p><p class="line"><span class="source python"><span>        </span><span class="keyword control conditional python"><span>if</span></span><span> </span><span>s</span><span> </span><span class="keyword operator comparison python"><span>==</span></span><span> </span><span>s0</span><span>:</span></span></p><p class="line"><span class="source python"><span>            </span><span class="keyword control statement python"><span>return</span></span><span> </span><span class="constant language python"><span>False</span></span></span></p><p class="line"><span class="source python"><span>    </span><span class="keyword control statement python"><span>return</span></span><span> </span><span class="constant language python"><span>True</span></span></span></p></pre>
<p>As the first solution, we have to "clear" extra text and keep only the brackets.
So a string like "{[(3+1)+2]+}+()" become to "{[()]}()".
Next we remove all pairs of brackets which are close to each other like "()", "[]" or "{}".
If for some step we don't remove anything and the string is not an empty, then
the given text is wrong.
You can examine this code with <a href="http://www.pythontutor.com/visualize.html#code=def+checkio(expression)%3A%0A++++s+%3D+''.join(c+for+c+in+expression+if+c+in+'(%5B%7B%7D%5D)')%0A++++while+s%3A%0A++++++++s0,+s+%3D+s,+s.replace('()',+'').replace('%5B%5D',+'').replace('%7B%7D',+'')%0A++++++++if+s+%3D%3D+s0%3A%0A++++++++++++return+False%0A++++return+True%0A%0Aassert+checkio(%22((5%2B3)*2%2B1)%22)%0Aassert+checkio(%22%7B%5B(3%2B1)%2B2%5D%2B%7D%22)%0Aassert+not+checkio(%22(3%2B%7B1-1)%7D%22)%0Aassert+checkio(%22%5B1%2B1%5D%2B(2*2)-%7B3/3%7D%22)%0Aassert+not+checkio(%22((%7B%5B(((1)-2)%2B3)-3%5D/3%7D-3)%22)%0Aassert+checkio(%222%2B3%22)%0A&amp;mode=display&amp;origin=opt-frontend.js&amp;cumulative=false&amp;heapPrimitives=false&amp;textReferences=false&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;curInstr=0">Pythontutor - "stackless"</a>.</p>
<p>Here's a short, slightly less readable and recursive version of the algorithm in
<a href="http://www.checkio.org/user/coells/">@coells's</a> <a href="http://www.checkio.org/mission/brackets/publications/coells/python-3/first/share/8a512005e860e4fb3a36051c6db9942f/">solution</a>.</p>
<pre class="grey-pre"><p class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span> </span><span>re</span></span></p><p class="line"><span class="source python"><span>EXPR</span><span> </span><span class="keyword operator assignment python"><span>=</span></span><span> </span><span class="meta function-call python"><span>re</span><span>.</span><span>compile</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span>\[\]|\(\)|\{\}|\d|[\+\-\*\/]</span><span class="punctuation definition string end python"><span>'</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></p><p class="line"><span class="source python"><span>checkio</span><span> </span><span class="keyword operator assignment python"><span>=</span></span><span> </span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span> </span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span><span class="punctuation separator parameters python"><span>,</span></span><span> </span><span class="variable parameter function python"><span>f</span></span><span> </span><span class="keyword operator assignment python"><span>=</span></span><span> </span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span class="punctuation definition string end python"><span class="meta empty-string single python"><span>'</span></span></span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span> </span><span class="constant language python"><span>True</span></span><span> </span><span class="keyword control conditional python"><span>if</span></span><span> </span><span>e</span><span> </span><span class="keyword operator comparison python"><span>==</span></span><span> </span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span class="punctuation definition string end python"><span class="meta empty-string single python"><span>'</span></span></span></span><span> </span><span class="keyword control conditional python"><span>else</span></span><span> </span><span class="constant language python"><span>False</span></span><span> </span><span class="keyword control conditional python"><span>if</span></span><span> </span><span>e</span><span> </span><span class="keyword operator comparison python"><span>==</span></span><span> </span><span>f</span><span> </span><span class="keyword control conditional python"><span>else</span></span><span> </span><span class="meta function-call python"><span>checkio</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>EXPR</span><span>.</span><span>sub</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>'</span></span><span class="punctuation definition string end python"><span class="meta empty-string single python"><span>'</span></span></span></span><span>, </span><span>e</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>, </span><span>e</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></p></pre>
<h2 id="-now-they-have-two-problems-">"Now They Have Two Problems"</h2>
<p>How about regexp -- <a href="http://www.checkio.org/user/LuigiMoro/">@LuigiMoro</a>
wrote an <a href="http://www.checkio.org/mission/brackets/publications/LuigiMoro/python-3/first/share/474678e61ef8b66babbf9da48ab55f81/">almost regexp solution</a>.
He prepared three regexp expressions and checks if any of it matches,
then returns False if they do.
But before this we check that the quantity of opened brackets are equal
to the closed for each type.</p>
<pre class="grey-pre"><p class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span> </span><span>re</span></span></p><p class="line"><span class="source python"><span>​</span></span></p><p class="line"><span class="source python"><span>pattern_1</span><span> </span><span class="keyword operator assignment python"><span>=</span></span><span> </span><span class="meta function-call python"><span>re</span><span>.</span><span>compile</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>.*\{[\w|\+|\-|\*|/|\s]+[\]|\)].*</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></p><p class="line"><span class="source python"><span>pattern_2</span><span> </span><span class="keyword operator assignment python"><span>=</span></span><span> </span><span class="meta function-call python"><span>re</span><span>.</span><span>compile</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>.*\[[\w|\+|\-|\*|/|\s]+[\}|\)].*</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></p><p class="line"><span class="source python"><span>pattern_3</span><span> </span><span class="keyword operator assignment python"><span>=</span></span><span> </span><span class="meta function-call python"><span>re</span><span>.</span><span>compile</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>.*\([\w|\+|\-|\*|/|\s]+[\}|\]].*</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></p><p class="line"><span class="source python"><span> </span></span></p><p class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span> </span><span class="entity name function python"><span>checkio</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>expression</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span><span>​</span></span></p><p class="line"><span class="source python"><span>    </span><span class="keyword control conditional python"><span>if</span></span><span> </span><span>(</span><span class="meta function-call python"><span>expression</span><span>.</span><span>count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>{</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span> </span><span class="keyword operator comparison python"><span>!=</span></span><span> </span><span class="meta function-call python"><span>expression</span><span>.</span><span>count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>}</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span> </span><span class="keyword operator logical python"><span>or</span></span></span></p><p class="line"><span class="source python"><span>        </span><span class="meta function-call python"><span>expression</span><span>.</span><span>count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>[</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span> </span><span class="keyword operator comparison python"><span>!=</span></span><span> </span><span class="meta function-call python"><span>expression</span><span>.</span><span>count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>]</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span> </span><span class="keyword operator logical python"><span>or</span></span></span></p><p class="line"><span class="source python"><span>        </span><span class="meta function-call python"><span>expression</span><span>.</span><span>count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>(</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span> </span><span class="keyword operator comparison python"><span>!=</span></span><span> </span><span class="meta function-call python"><span>expression</span><span>.</span><span>count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>)</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span> :</span></span></p><p class="line"><span class="source python"><span>        </span><span class="keyword control statement python"><span>return</span></span><span> </span><span class="constant language python"><span>False</span></span></span></p><p class="line"><span class="source python"><span> </span></span></p><p class="line"><span class="source python"><span>    </span><span class="keyword control statement python"><span>return</span></span><span> </span><span>(</span><span class="meta function-call python"><span>pattern_1</span><span>.</span><span>match</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>expression</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span> </span><span class="keyword operator logical python"><span>or</span></span><span> </span><span class="meta function-call python"><span>pattern_2</span><span>.</span><span>match</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>expression</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span> </span><span class="keyword operator logical python"><span>or</span></span><span> </span><span class="meta function-call python"><span>pattern_3</span><span>.</span><span>match</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>expression</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span> </span><span class="keyword operator logical python"><span>is</span></span><span> </span><span class="constant language python"><span>None</span></span></span></p></pre>
<h2 id="fython">Fython</h2>
<p>I'm not sure why <a href="http://www.checkio.org/user/astynax84/">@astynax84</a>
placed "Fython" in <a href="http://www.checkio.org/mission/brackets/publications/astynax84/python-27/third/share/06b6309b90c98e2afa0dff9b63d1565e/">technically oneliner solution</a>.
Yes, this is a oneliner, but it's been indented for "readability".</p>
<pre class="grey-pre"><p class="line"><span class="source python"><span>checkio</span><span> </span><span class="keyword operator assignment python"><span>=</span></span><span> </span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span> </span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span> </span><span class="meta function-call python"><span class="support function builtin python"><span>reduce</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span> </span><span class="meta function inline parameters python"><span>(</span><span class="variable parameter function python"><span>f</span></span><span class="punctuation separator parameters python"><span>,</span></span><span> </span><span class="variable parameter function python"><span>stk</span></span><span>), </span><span class="variable parameter function python"><span>x</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span></span></span></span></p><p class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>    </span><span>(</span><span>(</span><span class="constant language python"><span>False</span></span><span>, </span><span class="constant language python"><span>None</span></span><span>)</span><span> </span><span class="keyword control conditional python"><span>if</span></span><span> </span><span class="keyword operator logical python"><span>not</span></span><span> </span><span>f</span><span> </span><span class="keyword control conditional python"><span>else</span></span><span> </span><span>(</span></span></span></span></p><p class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>        </span><span>(</span><span>f</span><span>, </span><span>(</span><span class="meta structure dictionary python"><span class="punctuation definition dictionary begin python"><span>{</span></span><span class="meta structure dictionary key python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>[</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>]</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation separator dictionary python"><span>,</span></span><span> </span><span class="meta structure dictionary key python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>{</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>}</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation separator dictionary python"><span>,</span></span><span> </span><span class="meta structure dictionary key python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>(</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>)</span><span class="punctuation definition string end python"><span>"</span></span></span></span><span class="punctuation definition dictionary end python"><span>}</span></span></span><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span>x</span></span><span class="punctuation definition list end python"><span>]</span></span></span><span>, </span><span>stk</span><span>)</span><span>)</span></span></span></span></p><p class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>        </span><span class="keyword control conditional python"><span>if</span></span><span> </span><span>x</span><span> </span><span class="keyword operator logical python"><span>in</span></span><span> </span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>[({</span><span class="punctuation definition string end python"><span>"</span></span></span><span> </span><span class="keyword control conditional python"><span>else</span></span><span> </span><span>(</span></span></span></span></p><p class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>            </span><span>(</span><span>f</span><span>, </span><span>stk</span><span>)</span><span> </span><span class="keyword control conditional python"><span>if</span></span><span> </span><span>x</span><span> </span><span class="keyword operator logical python"><span>not</span></span><span> </span><span class="keyword operator logical python"><span>in</span></span><span> </span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>"</span></span><span>]})</span><span class="punctuation definition string end python"><span>"</span></span></span><span> </span><span class="keyword control conditional python"><span>else</span></span><span> </span><span>(</span></span></span></span></p><p class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>                </span><span>(</span><span class="constant language python"><span>False</span></span><span>, </span><span class="constant language python"><span>None</span></span><span>)</span></span></span></span></p><p class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>                </span><span class="keyword control conditional python"><span>if</span></span><span> </span><span>stk</span><span> </span><span class="keyword operator logical python"><span>is</span></span><span> </span><span class="constant language python"><span>None</span></span><span> </span><span class="keyword operator logical python"><span>or</span></span><span> </span><span>x</span><span> </span><span class="keyword operator comparison python"><span>!=</span></span><span> </span><span class="meta item-access python"><span>stk</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="constant numeric integer decimal python"><span>0</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span><span> </span><span class="keyword control conditional python"><span>else</span></span></span></span></span></p><p class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>                </span><span>(</span><span class="constant language python"><span>True</span></span><span>, </span><span class="meta item-access python"><span>stk</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="constant numeric integer decimal python"><span>1</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span><span>)</span></span></span></span></p><p class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>            </span><span>)</span></span></span></span></p><p class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>        </span><span>)</span></span></span></span></p><p class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>    </span><span>)</span><span>)</span><span>, </span><span>s</span><span>, </span><span>(</span><span class="constant language python"><span>True</span></span><span>, </span><span class="constant language python"><span>None</span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span> </span><span class="keyword operator comparison python"><span>==</span></span><span> </span><span>(</span><span class="constant language python"><span>True</span></span><span>, </span><span class="constant language python"><span>None</span></span><span>)</span></span></p></pre>
<p>And with this mind twisted solution I say goodbye for now -- That's all I've got on brackets. If you need any more, go to the hardware store.</p>

        </div>
        </div></body></html>