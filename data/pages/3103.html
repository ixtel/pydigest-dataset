<html><body><div><div itemprop="articleBody"><p>Just a quick heads-up: older Django versions don't work properly if installed via <a class="reference external" href="https://wheel.readthedocs.org/en/latest/">wheel</a>. It's <a class="reference external" href="https://github.com/django/django/commit/a5becad9094e5c5403b692b9a7b3a6ffaabf64a3">fixed</a> in 1.6 but it's not final yet (right now it's in beta). Edit: Django 1.5.2 has <a class="reference external" href="https://github.com/django/django/commit/4391718f26466f82f943e37368181d5c0520fa35">the fix</a> backported from 1.6.</p><p>Apparently the older versions of Django list the package data files under the <a class="reference external" href="http://docs.python.org/2/distutils/setupscript.html?highlight=data_files#installing-additional-files">data_files</a> setup.py option and <a class="reference external" href="https://wheel.readthedocs.org/en/latest/">wheel</a> follows the spec to the letter (installs <a class="reference external" href="http://docs.python.org/2/distutils/setupscript.html?highlight=data_files#installing-additional-files">data_files</a> in <a class="reference external" href="http://docs.python.org/2/library/sys.html#sys.prefix">sys.prefix</a>) while setuptools does not (it treats relative <a class="reference external" href="http://docs.python.org/2/distutils/setupscript.html?highlight=data_files#installing-additional-files">data_files</a> just like <a class="reference external" href="http://docs.python.org/2/distutils/setupscript.html?highlight=package_data#installing-package-data">package_data</a> entries).</p><p>If you switched to wheels already you can fix the template loading with something like this:</p><div class="highlight"><pre><span/><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">django.template.base</span> <span class="kn">import</span> <span class="n">TemplateDoesNotExist</span>
<span class="kn">from</span> <span class="nn">django.template.loader</span> <span class="kn">import</span> <span class="n">BaseLoader</span>
<span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>

<span class="k">class</span> <span class="nc">SysPrefixLoader</span><span class="p">(</span><span class="n">BaseLoader</span><span class="p">):</span>
    <span class="n">is_usable</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">load_template_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">template_name</span><span class="p">,</span> <span class="n">template_dirs</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">pkg_name</span> <span class="o">=</span> <span class="s1">'templates/'</span> <span class="o">+</span> <span class="n">template_name</span>
        <span class="k">for</span> <span class="n">app</span> <span class="ow">in</span> <span class="n">settings</span><span class="o">.</span><span class="n">INSTALLED_APPS</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">open</span><span class="p">(</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                        <span class="n">sys</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="o">*</span><span class="n">app</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)),</span>
                        <span class="n">pkg_name</span>
                    <span class="p">),</span>
                    <span class="s1">'rb'</span>
                <span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">FILE_CHARSET</span><span class="p">),</span> <span class="s1">'sysprefix:</span><span class="si">%s</span><span class="s1">:</span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">pkg_name</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">raise</span> <span class="n">TemplateDoesNotExist</span><span class="p">(</span><span class="n">template_name</span><span class="p">)</span>
</pre></div><p>And just add <tt class="docutils literal">module.SysPrefixLoader</tt> to <tt class="docutils literal">TEMPLATE_LOADERS</tt> in the settings.</p><p>For the staticfiles, use this finder:</p><div class="highlight"><pre><span/><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">VERSION</span>
<span class="kn">from</span> <span class="nn">django.contrib.staticfiles.finders</span> <span class="kn">import</span> <span class="n">AppDirectoriesFinder</span><span class="p">,</span> <span class="n">AppStaticStorage</span>

<span class="k">class</span> <span class="nc">SysPrefixStorage</span><span class="p">(</span><span class="n">AppStaticStorage</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app_module</span> <span class="o">=</span> <span class="n">app</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_module</span> <span class="o">==</span> <span class="s1">'django.contrib.admin'</span> <span class="ow">and</span> <span class="n">VERSION</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="s1">'admin'</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">source_dir</span> <span class="o">=</span> <span class="s1">'media'</span>

        <span class="n">location</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="o">*</span><span class="n">app</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">source_dir</span>
        <span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AppStaticStorage</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">SysPrefixFinder</span><span class="p">(</span><span class="n">AppDirectoriesFinder</span><span class="p">):</span>
    <span class="n">storage_class</span> <span class="o">=</span> <span class="n">SysPrefixStorage</span>
</pre></div><p>And add <tt class="docutils literal">module.SysPrefixFinder</tt> to <tt class="docutils literal">STATICFILES_FINDERS</tt> in the settings.</p><p>Locales appear harder to fix (there's <a class="reference external" href="https://docs.djangoproject.com/en/1.5/topics/i18n/translation/#how-django-discovers-translations">no pluggable loader</a>) ...</p></div></div></body></html>