<html><body><div><div class="wall_post_text"><a href="/feed?section=search&amp;q=%23python">#python</a> <a href="/feed?section=search&amp;q=%23pynsk">#pynsk</a><p>Таинство стандартной библиотеки: textwrap для сокращения текста</p><p>При работе над Python Дайджестом - </p><a href="/away.php?to=http%3A%2F%2Fpythondigest.ru%2F&amp;post=-96469126_374" target="_blank">http://pythondigest.ru/</a><p> а именно при работе над "Колонкой автора" возникла такая задачка - уменьшить длину описания.  Описание ссылок берется из RSS этой группы и оно иногда длинное. </p><p>Как же наиболее просто решить эту задачу? Самое простое - взять строку описания и взять, скажем первые 300 символов. Просто? Только вот проблема - слово может оборваться на середине. Чтобы не обрабатывать эту ситуацию самостоятельно, можно воспользоваться модулем textwrap. </p><p>textwrap это стандартный модуль, который позволяет всячески укорачивать текст. Например, можно ограничить длину строки (будет текст выводится в несколько строк).</p><p>Озвученную задачу можно решить так:</p><p>import textwrap</p><p>content = textwrap.shorten(raw_content, width=300)</p><p>Ссылки на тему:</p><a href="/away.php?to=http%3A%2F%2Fwww.dotnetperls.com%2Ftextwrap&amp;post=-96469126_374" target="_blank">http://www.dotnetperls.com/textwrap</a> <a href="/away.php?to=https%3A%2F%2Fdocs.python.org%2F3.5%2Flibrary%2Ftextwrap.html&amp;post=-96469126_374" target="_blank">https://docs.python.org/3.5/library/textwrap.html</a> <a href="/away.php?to=https%3A%2F%2Fpymotw.com%2F2%2Ftextwrap%2F&amp;post=-96469126_374" target="_blank">https://pymotw.com/2/textwrap/</a></div></div></body></html>