<html><body><div><div class="entry-content">
		<p>Python developers love to say that “everything is an object.” And indeed, when I teach Python classes, I say this several times, and many people nod in agreement, assuming that I’m merely repeating something they’ve heard before.  After all, people often say that everything in Java is an object (except for the things that aren’t), and that everything in .NET is an object.</p>
<p>But when we say that everything in Python is an object, we really mean <em>everything</em>, including — much to the surprise of my students — classes. This makes enormous sense, and it makes the entire object system easier to understand. And yet, it is still hard to put things in perspective.</p>
<p>In this blog post, I want to walk through some of the connections that we have among objects in Python, in the hopes that it’ll help to cement some of the ideas that stem from this “everything is an object” idea. It’ll also demonstrate some of the fun that happens when you’re creating an object hierarchy, and how things can get a bit weird.</p>
<p>Let’s start with a simple class (MyClass), and a simple instance of that class (m). In Python, we would write:</p>
<pre>class MyClass(object):
    pass

m = MyClass()</pre>
<p>In Python 3, we don’t need to explicitly say that MyClass inherits from object, since that’s true for all classes. But in Python 2, we have to inherit from object; if we don’t, then we get old-style classes, which we really don’t want.</p>
<p>Let’s see how this looks visually, with the arrow indicating that m is an instance of MyClass:</p>
<p><a href="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects.png"><img class="size-full wp-image-498 aligncenter" src="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects.png" alt="Python objects"/></a>So far, that’s not very exciting. But let’s remember that everything in Python is an object. Thus, it’s true that m is an instance of MyClass; we can learn this by using the type function:</p>
<pre>&gt;&gt;&gt; type(m)
__main__.MyClass</pre>
<p>What happens if we ask MyClass about its type?</p>
<pre>&gt;&gt;&gt; type(MyClass)
type</pre>
<p>Yes, MyClass is an instance of type — just as str, int, bool, and other Python classes are instances of type. Our diagram has just gotten a bit more complex:</p>
<p><a href="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-2.png"><img class="size-full wp-image-502 aligncenter" src="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-2.png" alt="Python objects 2"/></a></p>
<p>In the above diagram, we see that m is an instance of MyClass, and MyClass is an instance of type.</p>
<p>One main difference between regular objects and classes is that classes have a __bases__ attribute, a tuple, which indicates from which other class(es) this class inherits. MyClass, like all classes, should really have two pointers in our diagram — one representing its type, and another representing from which class (object) it inherits:</p>
<p><a href="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-3.png"><img class="size-full wp-image-503 aligncenter" src="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-3.png" alt="Python objects 3"/></a>Many of the people to whom I teach Python are confused by the distinction between type and object, and what roles they play in the object’s life. Consider this:</p>
<ul>
<li>Because MyClass is an instance of type, type.__init__ determines what happens to our class when it is created.</li>
<li>Because MyClass inherits from object, invoking a method on m will result in first looking for that method on MyClass. If the method doesn’t exist on MyClass, then Python will look on object.</li>
</ul>
<p>All of this is well and good, but let’s take it a bit further: We know that MyClass is an instance of type. But this means that type itself is a class, right? What is the type of this type class?</p>
<pre>&gt;&gt;&gt; type(type)
type</pre>
<p>Yes, in one of my favorite parts of Python, the type of type is type. In other words, type is an instance of itself. Pretty cool, eh? Let’s see how that fits into our diagram:</p>
<p><a href="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-4.png"><img class="size-full wp-image-505 aligncenter" src="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-4.png" alt="Python objects 4"/></a></p>
<p>If type is a class, then we know it must have two pointers in our diagram — one pointing to its class (type, aka itself), but the one to the class from which it inherits. What does type inherit from?</p>
<pre>&gt;&gt;&gt; type.__bases__
(object,)</pre>
<p>Let’s thus update our diagram, to show that type inherits from object. This makes sense, since if we invoke str(MyClass), we can rely on the inherited  implementation of object.__str__, without having to create a separate type.__str__.  And indeed, it would seem that this is what happens:</p>
<pre>&gt;&gt;&gt; type.__str__ is object.__str__
True</pre>
<p>Let’s now update our diagram to indicate that type inherits from object:</p>
<p><a href="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-5.png"><img class="size-full wp-image-506 aligncenter" src="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-5.png" alt="Python objects 5"/></a></p>
<p>Finally, let’s not neglect our object class. As an object, it too must have a type. And as a class, we know that its type is type. Let’s add that to our diagram:</p>
<p><a href="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-6.png"><img class="size-full wp-image-508 aligncenter" src="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-6.png" alt="Python objects 6"/></a>Remember that object is at the top of our inheritance hierarchy. This is represented in Python by an empty tuple:</p>
<pre>&gt;&gt;&gt; object.__bases__
()</pre>
<p>We can represent this in our diagram in the following way:</p>
<p><a href="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-7.png"><img class="size-full wp-image-509 aligncenter" src="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-7.png" alt="Python objects 7"/></a>Finally, let’s see what happens when we add a new class to this hierarchy, subclassing from MyClass. MySubClass inherits from MyClass, but is still an instance of type:</p>
<p><a href="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-81.png"><img class="size-full wp-image-513 aligncenter" src="http://blog.lerner.co.il/wp-content/uploads/2015/10/Python-objects-81.png" alt="Python objects 8"/></a></p>
<p>If you’re an experienced Python developer, then the above may well be second nature for you. But if you’re new to the language, and particularly to the ways in which the various objects and classes interact, then I hope this has provided you with some additional clarity. Please <a href="mailto:reuven@lerner.co.il">let me know</a> if there are additional aspects that you find confusing, and I’ll try to clarify them in future blog posts.</p>
<p>If you liked this explanation, then you’ll likely also enjoy my ebook, “<a href="http://practicemakespython.com/">Practice Makes Python</a>,” with 50 exercises meant to improve your Python fluency.</p>
	</div>

	
	</div></body></html>