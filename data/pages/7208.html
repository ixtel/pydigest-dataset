<html><body><div><div class="entry-content">

                

                <p>Списки - встроенный тип Python, могут содержать любые элементы: целые, дробные числа, строки, объекты. Это великая сила Python, но в то же время и слабость — в отношении скорости работы. </p>
<p>В стандартные дистрибутивы Python входит модуль array, реализующий аналог массивов C/C++, он может пригодиться для простейших расчётов с многомерными массивами, матрицами.</p>
<p>NumPy — мощнейшая библиотека для научных вычислений. Написать здесь операции с матрицами так же просто, как и с обычными числами. </p>
<p>Матрица в NumPy — это объект numpy.array, массив чисел одного типа, какой угодно размерности: 0 (одно число, скаляр), 1 (вектор), 2 (матрица), 3 (тензор третьего ранга)... </p>
<p>Матрицы во многом похожи на списки и массивы модуля array: поддерживают индексацию с таким же синтаксисом и легко преобразуются в них.</p>
<p>Перейдём к делу. Например, нужно посчитать произведение и сумму матриц, скаляров и векторов. Мы бы на бумаге записали так:</p>
<p>A<em>B</em>C*D + E,
где B,C — матрицы 2x2, D,E — вектор-столбцы, A — скаляр (число).</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">A</span> <span class="o">=</span> <span class="mf">1.5</span> <span class="c1"># обычное число</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.5</span><span class="p">])</span> <span class="c1"># а можно и так</span>

<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">((</span><span class="mf">1.32</span><span class="p">,</span> <span class="mf">0.78</span><span class="p">))</span> <span class="c1"># треугольная, матрица, делаем диагональную матрицу</span>
<span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.12</span> <span class="c1"># потом дописываем элемент B_12 (обозначение, как мы привыкли в институтах)</span>

<span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="c1"># сначала делаем вектор-строку и заполняем нулями,</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">C</span><span class="p">,</span> <span class="p">[</span><span class="err">­</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mf">2.</span><span class="p">]]))</span> <span class="c1"># добавляем внизу вектор-строку (3, 2)</span>
<span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.97</span> <span class="c1"># и для интереса сделаем элемент (1,1) ненулевым</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">T</span> <span class="c1"># а теперь транспонируем, тоже для интереса</span>

<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span> <span class="c1"># просто делаем вектор-столбец с дробными числами,</span>
<span class="c1"># а точки писать лень (но и без dtype вычисления будут дробные, так как дробные числа уже есть)</span>

<span class="n">E</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span> <span class="c1"># вектор-столбец из единиц</span>
<span class="n">E</span> <span class="o">*=</span> <span class="mf">2.3</span> <span class="c1"># домножим для интереса</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">A</span> <span class="o">*</span> <span class="n">B</span> <span class="o">*</span> <span class="n">C</span> <span class="o">*</span> <span class="n">D</span> <span class="o">+</span> <span class="n">E</span> <span class="c1"># проще пареной репы!!!</span>

<span class="k">print</span> <span class="n">B</span>
<span class="k">print</span> <span class="n">C</span>
<span class="k">print</span> <span class="n">D</span>
<span class="k">print</span> <span class="n">E</span>
<span class="k">print</span> <span class="n">M</span>
</pre></div>


<p>Результат:</p>
<div class="highlight"><pre><span class="p">[</span><span class="err">­</span><span class="p">[</span> <span class="mf">1.32</span> <span class="mf">3.12</span><span class="p">]</span>
<span class="p">[</span> <span class="mf">0.</span> <span class="mf">0.78</span><span class="p">]]</span>

<span class="p">[</span><span class="err">­</span><span class="p">[</span> <span class="mf">0.97</span> <span class="mf">3.</span> <span class="p">]</span>
<span class="p">[</span> <span class="mf">0.</span> <span class="mf">2.</span> <span class="p">]]</span>

<span class="p">[</span> <span class="mf">10.</span> <span class="mf">12.</span><span class="p">]</span>

<span class="p">[</span><span class="err">­</span><span class="p">[</span> <span class="mf">2.3</span><span class="p">]</span>
<span class="p">[</span> <span class="mf">2.3</span><span class="p">]]</span>

<span class="p">[</span><span class="err">­</span><span class="p">[</span> <span class="mf">21.506</span> <span class="mf">170.78</span> <span class="p">]</span>
<span class="p">[</span> <span class="mf">2.3</span> <span class="mf">30.38</span> <span class="p">]]</span>
</pre></div>


<p>Мораль: </p>
<p>производить действия с матрицами в NumPy так же просто, как и при рисовании их символов в тетради на парах линейной алгебры. 
Пусть этот пример выглядит наивным, но он показывает, что есть множество инструментов для конструирования матриц, не говоря уже о банальной инициализации известными элементами. </p>
<p>А если речь идёт о матрицах 10x10? Трёхмерных, четырёхмерных? С комплексными числами? И даже с произвольными объектами вместо чисел (если определить арифметические действия над ними)? </p>
<p>NumPy Вам в помощь.</p>
            </div>
            
</div></body></html>