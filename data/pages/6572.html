<html><body><div><div class="entry-content">
		<p>Some time ago I discovered a very nice tool to find nearby events and things to do around. It’s called <a href="http://www.citypulse.io">citypulse.io</a> and I found it very useful.</p>
<p><a href="https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-170729.png"><img class="alignnone size-full wp-image-16" src="https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-170729-e1441466003403.png?w=525" alt="Screenshot from 2015-09-05 17:07:29"/></a><br/>
Every night, they pull new data from:<span id="more-15"/></p>
<ul>
<li>Ticketmaster (UK &amp; US)</li>
<li>Eventbrite.com</li>
<li>Meetup.com (Meetup API)</li>
<li>Viagogo.</li>
</ul>
<p>After playing a little bit with the browser developper tools, I found out the url to get the datapulse data for a given latitude and longitude.<br/>
Example:<a href="http://www.citypulse.io/api/event/GetEvents?startTime=2015-09-05T09:09:07.638Z&amp;startEndTime=2015-09-12T09:09:07.638Z&amp;nwLat=40.81538085107934&amp;nwLong=-74.14212817710876&amp;seLat=40.66086032810895&amp;seLong=-73.69512195152282&amp;categoryString=19,77,90,7,80,89,112,113,145,146,&amp;skip=100&amp;take=100&amp;mapZoom=11&amp;guid=47f1f28c-b855-4566-8da2-0151052209ad">http://www.citypulse.io/api/event/GetEvents?startTime=2015-09-05T09:09:07.638Z&amp;startEndTime=2015-09-12T09:09:07.638Z&amp;nwLat=40.81538085107934&amp;nwLong=-74.14212817710876&amp;seLat=40.66086032810895&amp;seLong=-73.69512195152282&amp;categoryString=19,77,90,7,80,89,112,113,145,146,&amp;skip=100&amp;take=100&amp;mapZoom=11&amp;guid=47f1f28c-b855-4566-8da2-0151052209ad<br/>
</a></p>
<p>Thanks to this API I created a JSON file containing the  2015 events and meetups for Los Angeles and New York. Let’s explore the data !<br/>
<img class="shrinkToFit" src="https://images.unsplash.com/29/night-square.jpg?q=80&amp;fm=jpg&amp;s=3aab7af150b0717491f65e18dc481982" alt="https://images.unsplash.com/29/night-square.jpg?q=80&amp;fm=jpg&amp;s=3aab7af150b0717491f65e18dc481982"/>Here is a little python script that I put up to clean the data and plot some bar charts to get insights. I use the pandas package which is very practical to have a first glance of your data.</p>
<pre> 
import pandas as pd
import numpy as np
import locale
locale.setlocale(locale.LC_NUMERIC, '')

all = pd.read_json("allData.json")
all.TicketPrice = all.TicketPrice.apply(lambda x: "$0.00" if isinstance(x, basestring) and x == "" else x)
all['price'] = all.TicketPrice.map(lambda x : float(locale.atof(x[1:])))
all['isFree'] = all.price.apply(lambda x: 1 if x == 0 else 0)
all['city'] = all.RegionId.map({3639:'Los Angeles',3633:'New York'})

#all.price.argmax()
#all = all.drop(all.index[52])

gro = all.groupby(['CategoryName','city'])
temp0 = gro.CategoryName.count()
my_plot1 = temp0.unstack().plot(kind='bar',title="Number of events per event category [Week 1 September 2015]",figsize=(10, 6))
my_plot1.set_xlabel("Event category")
my_plot1.set_ylabel("Number of events")


temp2 = gro.isFree.sum()/gro.isFree.count()
my_plot2 = temp2.unstack().plot(kind='bar',title='Percentage of Free events [Week 1 September 2015]',figsize=(10, 6))
my_plot2.set_xlabel("Event category")
my_plot2.set_ylabel("Percentage of Free events")

temp1 = gro.price.sum()/(gro.price.count()-gro.isFree.sum())
my_plot3 = temp1.unstack().plot(kind='bar',title='Mean price per event category [Week 1 September 2015]',figsize=(10, 6))
my_plot3.set_xlabel("Event category")
my_plot3.set_ylabel("Mean price of events")</pre>
<p>First I fill the empty strings in the ticket price column and replace “” with “$0.00”.<br/>
Then I create a column “isFree” which will be useful to see which kind of events are free in each city, but also to get the number of non free events used to compute the mean price of the tickets.</p>
<p>Here are the results :<br/>
<a href="https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183907.png"><img class="alignnone size-large wp-image-27" src="https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183907.png?w=525&amp;h=368" alt="Screenshot from 2015-09-05 18:39:07"/></a></p>
<p>In the chart above, we can see that Los Angeles has more online events organised with a noticeable difference in the number of Learning meetups that could be explained by the important number of tech meetups in the area.</p>
<p><a href="https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183920.png"><img class="alignnone size-large wp-image-28" src="https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183920.png?w=525&amp;h=360" alt="Screenshot from 2015-09-05 18:39:20"/></a></p>
<p>The chart above shows that there is no big difference in the percentage of free events in every category. The data for the Comedy category cannot be trusted because of the small number of events of this type in the dataset.<a href="https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183933.png"><img class="alignnone size-large wp-image-29" src="https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183933.png?w=525&amp;h=382" alt="Screenshot from 2015-09-05 18:39:33"/></a></p>
<p>The chart above shows the mean price for the events of each category.</p>
<p>Note :<br/>
Before getting the data for the whole year, I started by looking at the data for one month. The chart for the percentage of free events looked different for that range, Looking at a large dataset is a way to get rid of these biases.</p>
<p>Next Steps and Improvements:<br/>
-Looking at the evolution of trends over the years<br/>
-Compare with more cities</p>
		<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" id="like-post-wrapper-98777141-15-56d5c9796e597" data-src="//widgets.wp.com/likes/#blog_id=98777141&amp;post_id=15&amp;origin=datanice.wordpress.com&amp;obj_id=98777141-15-56d5c9796e597" data-name="like-post-frame-98777141-15-56d5c9796e597"><h3 class="sd-title">Like this:</h3><p class="likes-widget-placeholder post-likes-widget-placeholder"><span class="button"><span>Like</span></span> <span class="loading">Loading...</span></p><span class="sd-text-color"/><a class="sd-link-color"/></div></div>			</div>

	</div></body></html>