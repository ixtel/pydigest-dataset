<html><body><div><li><p><b>Django inclusion tag monitoring</b></p>
<p>Usage of <a href="https://docs.djangoproject.com/en/dev/howto/custom-template-tags/#howto-custom-template-tags-inclusion-tags">inclusion tags</a> in Django templates can now be monitored and will appear in the transaction breakdown table, charts and sample transaction traces.</p>
<p>Due to the possibility that a large range of custom inclusion tags might be used and that they may be invoked a large number of times in tight loops, tracking of all inclusion tags may not be practical or may not produce worthwhile results in the transaction breakdown or sample transaction traces. As a result, monitoring of inclusion tags is off by default, with the preferred approach being that specific inclusion tags of interest be individually enabled through the agent configuration file.</p>
<p>To enable monitoring of specific inclusion tags, a new section called <code>import-hook:django</code> should be added to the agent configuration:
</p><pre>[import-hook:django]
instrumentation.templates.inclusion_tag = prepopulated_fields_js date_hierarchy</pre>
<p>The <code>instrumentation.templates.inclusion_tag</code> setting within that section should then be set to a space separated list of the names of the inclusion tags to monitor. If there is any confusion over the identity of the inclusion tag, the full name of the inclusion tag function, with module name, can instead be listed. For example, <code>data_hierarchy</code> can also be identified using <code>django.contrib.admin.templatetags.admin_list:date_hierarchy</code>.</p>
<p>In addition to specifying the names of the specific inclusion tags, it is also possible to specify <code>*</code> for <code>instrumentation.templates.inclusion_tag</code> in order to have usage of all inclusion tags be monitored:
</p><pre>[import-hook:django]
instrumentation.templates.inclusion_tag = *</pre>
<p>Enabling monitoring of all inclusion tags in this way is only recommended in development or test environments so as to get an initial idea of what inclusion tags are worth tracking. Once identified, the specific inclusion tags of interest should thereafter be listed individually in a production environment.</p>
</li>

<li><p><b>Better monitoring of Django management commands</b></p>
<p>We previously published a blog post about how the agent could be used to monitor <a href="http://blog.newrelic.com/2014/03/18/monitoring-django-management-commands/">Django management commands</a>. This required you to manually set up the instrumentation for each specific Django management command in the agent configuration file. We have now made that easier by integrating the functionality as part of the agent itself.</p>
<p>Due to the limitations on what Django management commands can be monitored, you will still need to list explicitly the commands you want monitored, but it can now be done in a single location as a space separated list under the setting <code>instrumentation.scripts.django_admin</code> of the <code>import-hook:django</code> section:
</p><pre>[import-hook:django] 
instrumentation.scripts.django_admin = syncdb sqlflush
</pre>
<p>By default, we automatically specify the startup timeout to be <code>10.0</code> seconds when monitoring the Django management commands. If you need to override the startup timeout, you can set the <code>instrumentation.background_task.startup_timeout</code> setting within the same <code>import-hook:django</code> configuration section.
</p></li>

</div></body></html>