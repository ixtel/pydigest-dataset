<html><body><div><p>Lightweight python datamapper ORM (Object-relational mapper).</p>








<p>Ascetic exists as a super-lightweight datamapper ORM (Object-Relational Mapper) for Python.</p>
<p>All solutions support composite primary/foreign keys.</p>
<p>What Ascetic does not? Ascetic does not make any data type conversions (use connection features like <a href="http://initd.org/psycopg/docs/advanced.html#adapting-new-python-types-to-sql-syntax" rel="nofollow">this</a>), and does not has “<a href="http://martinfowler.com/eaaCatalog/unitOfWork.html" rel="nofollow">Unit of Work</a>”. I recommend using a <a href="https://storm.canonical.com/" rel="nofollow">Storm ORM</a>, if you need it all.</p>
<p>Ascetic is released under the MIT License (see LICENSE file for details).</p>
<p>This project is currently under development, and not stable. If you are looking for stable KISS-style ORM, pay attention to <a href="https://storm.canonical.com/" rel="nofollow">Storm ORM</a>.</p>
<div id="postgresql-example">
<h2>PostgreSQL Example</h2>
<p>Using these tables:</p>
<pre>CREATE TABLE ascetic_tests_models_author (
    id serial NOT NULL PRIMARY KEY,
    first_name VARCHAR(40) NOT NULL,
    last_name VARCHAR(40) NOT NULL,
    bio TEXT
);
CREATE TABLE books (
    id serial NOT NULL PRIMARY KEY,
    title VARCHAR(255),
    author_id integer REFERENCES ascetic_tests_models_author(id) ON DELETE CASCADE
);
</pre>
<p>You can configure in one the following ways:</p>
<p>1. Put in your PYTHONPATH file ascetic_settings.py with your settings.
See file ascetic/settings.py for more details.</p>
<p>2. Define settings module in evironment variable ASCETIC_SETTINGS.</p>
<p>3. Call ascetic.settings.configure(), for example:</p>
<pre>import ascetic.settings.configure
ascetic.settings.configure({
    'DATABASES': {
        'default': {
            'engine': "postgresql",
            'user': "devel",
            'database': "devel_ascetic",
            'password': "devel",
            'debug': True,
            'initial_sql': "SET NAMES 'UTF8';",
        }
    }
})
</pre>
<p>We setup our objects like so:</p>
<pre>from ascetic.model import Model, ForeignKey, OneToMany, get_mapper

class Author(Model):

    class Mapper(object):
        defaults = {'bio': 'No bio available'}
        validations = {'first_name': (
            lambda v: len(v) &gt; 1 or "Too short first name",
            lambda self, key, value: value != self.last_name or "Please, enter another first name",
        )}

class Book(Model):
    author = ForeignKey(Author, related_name='books')

    class Mapper(object):
        db_table = 'books'
</pre>
<p>Now we can create, retrieve, update and delete entries in our database.
Creation</p>
<pre>james = Author(first_name='James', last_name='Joyce')
get_mapper(Author).save(james)  # Datamapper way

u = Book(title='Ulysses', author_id=james.id)
u.save()  # Use ActiveRecord wrapper
</pre>
</div>
</div></body></html>