<html><body><div><div id="blog">

<p id="blog-date-stamp">
Mar 20, 2015
</p>
  

<p>Wing IDE Pro's debugger makes is easier to work interactively with Python. In
addition to debugging, it is also a great way to navigate and understand
unfamiliar code, and to write new code interactively in the live runtime
state for which the code is being designed.</p>
<p>Starting with Wing 5.1, multiple debug connections can be made at once,
so it is much easier to write and debug multi-process code.</p>
<div class="section">
<h2 class="title-2">Multi-Process Debugging</h2>
<p>Wing 5.1 adds a process selector wherever a stack selector is shown in the
user interface, in addition to a thread selector if there are multiple
threads in the debug process. The process selector groups processes into a
process tree, showing the relationship between them regardless of how they
were created or debug-enabled.</p>
<img alt="Process Selector" backrefs="" class="" dupnames="" ids="" names="" src="/images/blog/multiprocess-debug/process-selector.png"/><p>When multiple processes are being debugging, pressing the <tt class="literal"><span class="pre">Alt</span></tt> key
causes the Debug/Continue, Stop, Restart, and Pause toolbar icons
to apply that operation to all the active processes:</p>
<img alt="/images/blog/multiprocess-debug/toolbar.png" backrefs="" class="" dupnames="" ids="" names="" src="/images/blog/multiprocess-debug/toolbar.png"/><p>These operations are also in the <tt class="literal"><span class="pre">Debug</span> <span class="pre">&gt;</span> <span class="pre">Processes</span></tt> menu, along with
commands for starting additional new debug processes from the IDE.</p>
<p>Options to control multi-process debugging are in the <tt class="literal"><span class="pre">Debugger</span> <span class="pre">&gt;</span>
<span class="pre">Processes</span></tt> preferences group.  For example, you can control
when Wing switches to a newly attached debug process and which
processes to kill when killing a single debug process.</p>
<img alt="Multi-Process Debug Preferences" backrefs="" class="" dupnames="" ids="" names="" src="/images/blog/multiprocess-debug/prefs.png"/></div>
<div class="section">
<h2 class="title-2">Automatically Debugging Child Processes</h2>
<p>Optionally, you can also automatically debug-enable sub-processes created
with <tt class="literal"><span class="pre">multiprocessing</span></tt>, via <tt class="literal"><span class="pre">sys.executable</span></tt>, and (on Posix) with
<tt class="literal"><span class="pre">os.fork()</span></tt>.</p>
<p>Automatically debugging child processes is off by default since it can be
confusing or unwanted in some code bases.  It can be enabled
with the <tt class="literal"><span class="pre">Debugger</span> <span class="pre">&gt;</span> <span class="pre">Processes</span> <span class="pre">&gt;</span> <span class="pre">Debug</span> <span class="pre">Child</span> <span class="pre">Processes</span></tt> preference or
(preferably, in most cases) on a project-by-project basis with the
<tt class="literal"><span class="pre">Debug/Execute</span> <span class="pre">&gt;</span> <span class="pre">Debug</span> <span class="pre">Child</span> <span class="pre">Properties</span></tt> setting in <tt class="literal"><span class="pre">Project</span> <span class="pre">Properties</span></tt>.</p>
<img alt="Enabling Child Process Debugging" backrefs="" class="" dupnames="" ids="" names="" src="/images/blog/multiprocess-debug/child-process-debug.png"/><p>This option is useful when working with auto-reloading web application
frameworks like <a class="reference" href="/doc/howtos/flask">Flask</a> or <a class="reference" href="/doc/howtos/google-app-engine">Google App Engine</a>, because Wing will automatically debug the
reloaded server processes.</p>
</div>
<div class="section">
<h2 class="title-2">Manually Debugging Child Processes</h2>
<p>There are cases where sub- processes cannot be automatically debugged, such
as when <tt class="literal"><span class="pre">os.exec()</span></tt> is used (on Posix) or if the process is started without
referencing <tt class="literal"><span class="pre">sys.executable</span></tt>. In these cases, the process can still be
debugged by importing <tt class="literal"><span class="pre">wingdbstub</span></tt>, which is a module provided by Wing IDE
to initiate debugging from outside of the IDE.</p>
<p>In these cases, you will need to enable <tt class="literal"><span class="pre">Accept</span> <span class="pre">Debug</span> <span class="pre">Connections</span></tt> by
clicking on the bug icon in the lower left of Wing's window. This causes Wing
to use a fixed port for accepting debug connections.  The default matches the
port configured <tt class="literal"><span class="pre">wingdbstub.py</span></tt> in your Wing IDE installation.</p>
<p>Details on doing this are in <a class="reference" href="/doc/debug/debugging-externally-launched-code">Debugging Externally Launched Code</a> in Wing's reference
manual.</p>
</div>


<p>


Share this article: 

</p>


</div>
  

</div></body></html>