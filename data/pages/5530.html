<html><body><div><div class="section">
              <h1>django-lazy-tags 0.4.1</h1>

              


<p>A Django app for lazy loading template tags over AJAX</p>








<a href="https://pypi.python.org/pypi/django-lazy-tags" rel="nofollow"><img src="https://img.shields.io/pypi/v/django-lazy-tags.svg"/>
</a>
<a href="http://django-lazy-tags.readthedocs.org/en/latest/" rel="nofollow"><img src="https://readthedocs.org/projects/django-lazy-tags/badge/?version=latest"/></a>
<a href="https://travis-ci.org/grantmcconnaughey/django-lazy-tags" rel="nofollow"><img src="https://travis-ci.org/grantmcconnaughey/django-lazy-tags.svg"/>
</a>
<a href="https://coveralls.io/github/grantmcconnaughey/django-lazy-tags?branch=master" rel="nofollow"><img src="https://coveralls.io/repos/grantmcconnaughey/django-lazy-tags/badge.svg?branch=master&amp;service=github"/></a>
<p>A Django app for easily loading template tags via AJAX.</p>
<div id="installation">
<h2>Installation</h2>
<p>1. Install via pip</p>
<pre><span class="n">pip</span> <span class="n">install</span> <span class="n">django</span><span class="o">-</span><span class="n">lazy</span><span class="o">-</span><span class="n">tags</span>
</pre>
<p>2. Add to installed apps</p>
<pre><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="c1"># ...</span>
    <span class="s1">'lazy_tags'</span><span class="p">,</span>
<span class="p">)</span>
</pre>
<p>3. Add the lazy tags urls to your root urlconf.</p>
<pre><span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">patterns</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span>
    <span class="c1"># ...</span>
    <span class="n">url</span><span class="p">(</span><span class="s1">r'^lazy_tags/'</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s1">'lazy_tags.urls'</span><span class="p">)),</span>
<span class="p">)</span>
</pre>
</div>
<div id="usage">
<h2>Usage</h2>
<p>First, load the <tt>lazy_tags</tt> library in your templates.</p>
<pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">lazy_tags</span> <span class="cp">%}</span>
</pre>
<p>Then, call the <tt>lazy_tag</tt> template tag passing your tag name as the first parameter. The format is <tt>tag_library.tag_name</tt> where <tt>tag_library</tt> is what you would load at the top of the page (e.g. <tt>my_tags</tt>) and <tt>tag_name</tt> is the name of your template tag (e.g. <tt>my_template_tag</tt>). After the first argument to <tt>lazy_tag</tt> simply pass the rest of the args and kwargs just as you would pass them to your own tag.</p>
<p>This:</p>
<pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">my_tags</span> <span class="cp">%}</span><span class="x">

</span><span class="cp">{%</span> <span class="k">my_template_tag</span> <span class="nv">arg1</span> <span class="nv">arg2</span> <span class="nv">kw1</span><span class="o">=</span><span class="s1">'hello'</span> <span class="nv">kw2</span><span class="o">=</span><span class="s1">'world'</span> <span class="cp">%}</span>
</pre>
<p>Becomes this:</p>
<pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">lazy_tags</span> <span class="cp">%}</span><span class="x">

</span><span class="cp">{%</span> <span class="k">lazy_tag</span> <span class="s1">'my_tags.my_template_tag'</span> <span class="nv">arg1</span> <span class="nv">arg2</span> <span class="nv">kw1</span><span class="o">=</span><span class="s1">'hello'</span> <span class="nv">kw2</span><span class="o">=</span><span class="s1">'world'</span> <span class="cp">%}</span>
</pre>
<p>After placing your template tags in the template you still need to specify where you would like the AJAX JavaScript to output to the page. That is what the <tt>lazy_tags_js</tt> tag is for:</p>
<pre><span class="cp">{%</span> <span class="k">block</span> <span class="nv">js-additional</span> <span class="cp">%}</span><span class="x">
  </span><span class="cp">{%</span> <span class="k">lazy_tags_js</span><span class="cp">%}</span><span class="x">
</span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre>
<p>This will spit out the JavaScript required to run the AJAX. The JavaScript changes depending on your <tt>LAZY_TAGS_AJAX_JS</tt> setting.</p>
</div>
<div id="the-lazy-tag-decorator">
<h2>The lazy_tag decorator</h2>
<p>django-lazy-tags also includes a decorator that can be used on template tags that use <tt>simple_tag</tt>. When using the <tt>lazy_tag</tt> decorator you can use your template tags exactly the same as before and they will use AJAX.</p>
<pre><span class="kn">from</span> <span class="nn">lazy_tags.decorators</span> <span class="kn">import</span> <span class="n">lazy_tag</span>

<span class="nd">@register.simple_tag</span>
<span class="nd">@lazy_tag</span>
<span class="k">def</span> <span class="nf">show_user</span><span class="p">(</span><span class="n">pk</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render_to_string</span><span class="p">(</span><span class="s1">'user/show_user.html'</span><span class="p">,</span> <span class="p">{</span>
        <span class="s1">'user'</span><span class="p">:</span> <span class="n">user</span><span class="p">,</span>
    <span class="p">})</span>
</pre>
<p>There are a few caveats with this method. First, the decorator currently only works with tags that use <tt>simple_tag</tt>. Hopefully this will work with <tt>inclusion_tag</tt> in the future. Secondly, the <tt>lazy_tag</tt> decorator must come <em>after</em> the <tt>simple_tag</tt> decorator.</p>
</div>
<div id="settings">
<h2>Settings</h2>
<dl>
<dt>LAZY_TAGS_AJAX_JS</dt>
<dd>The library to use to run AJAX. Options are <tt>'javascript'</tt>, <tt>'jquery'</tt>, or <tt>'prototype'</tt>. Defaults to <tt>'jquery'</tt>.</dd>
<dt>LAZY_TAGS_CACHE_TIMEOUT</dt>
<dd>The timeout on each lazy tag cache. Defaults to <tt>60</tt> (seconds).</dd>
<dt>LAZY_TAGS_ERROR_MESSAGE</dt>
<dd>The error message to display if the AJAX request fails. Defaults to <tt>'An error occurred.'</tt></dd>
</dl>
</div>
<div id="customizing-the-loading-animation">
<h2>Customizing the Loading Animation</h2>
<p>This is the default HTML on the page before the AJAX request completes:</p>
<pre><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"{{ tag_id }}"</span> <span class="na">class</span><span class="o">=</span><span class="s">"lazy-tag"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"lazy-tag-spinner-container"</span>
         <span class="na">style</span><span class="o">=</span><span class="s">"width: 100%; text-align: center;"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">img</span> <span class="na">id</span><span class="o">=</span><span class="s">"{{ tag_id }}-spinner"</span> <span class="na">class</span><span class="o">=</span><span class="s">"lazy-tag-spinner"</span>
             <span class="na">style</span><span class="o">=</span><span class="s">"width: 15px; height: 15px;"</span>
             <span class="na">src</span><span class="o">=</span><span class="s">"{static_url}img/lazy_tags/spinner.gif"</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre>
<p>To customize the loading animation, override the <tt><span class="pre">lazy-tag</span></tt>, <tt><span class="pre">lazy-tag-spinner-container</span></tt>, or <tt><span class="pre">lazy-tag-spinner</span></tt> classes in your CSS.</p>
</div>
<div id="current-limitations">
<h2>Current Limitations</h2>
<ul>
<li>Does not work with tags that take context.</li>
<li>Template tag arguments must be serializable (str, unicode, int, float, etc.).</li>
</ul>
</div>


<a name="downloads">Â </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>101</span> downloads in the last week
  </li>
  <li>
    <span>833</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>