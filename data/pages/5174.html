<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-name" class="anchor" href="#name" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>NAME</h1>
<p>gnuplotlib: a gnuplot-based plotting backend for numpy</p>
<h1><a id="user-content-synopsis" class="anchor" href="#synopsis" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>SYNOPSIS</h1>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> numpy      <span class="pl-k">as</span> np
<span class="pl-k">import</span> gnuplotlib <span class="pl-k">as</span> gp

x <span class="pl-k">=</span> np.arange(<span class="pl-c1">101</span>) <span class="pl-k">-</span> <span class="pl-c1">50</span>
gp.plot(x<span class="pl-k">**</span><span class="pl-c1">2</span>)
[ basic parabola plot pops up ]


g1 <span class="pl-k">=</span> gp.gnuplotlib(<span class="pl-v">title</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Parabola with error bars<span class="pl-pds">'</span></span>,
                   <span class="pl-v">_with</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>xyerrorbars<span class="pl-pds">'</span></span>)
g1.plot( x<span class="pl-k">**</span><span class="pl-c1">2</span> <span class="pl-k">*</span> <span class="pl-c1">10</span>, np.abs(x)<span class="pl-k">/</span><span class="pl-c1">10</span>, np.abs(x)<span class="pl-k">*</span><span class="pl-c1">5</span>,
         <span class="pl-v">legend</span>    <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Parabola<span class="pl-pds">'</span></span>,
         <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">4</span> )
[ parabola <span class="pl-k">with</span> x,y errobars pops up <span class="pl-k">in</span> a new window ]


x,y <span class="pl-k">=</span> np.ogrid[<span class="pl-k">-</span><span class="pl-c1">10</span>:<span class="pl-c1">11</span>,<span class="pl-k">-</span><span class="pl-c1">10</span>:<span class="pl-c1">11</span>]
gp.plot( x<span class="pl-k">**</span><span class="pl-c1">2</span> <span class="pl-k">+</span> y<span class="pl-k">**</span><span class="pl-c1">2</span>,
         <span class="pl-v">title</span>     <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Heat map<span class="pl-pds">'</span></span>,
         <span class="pl-v">unset</span>     <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>grid<span class="pl-pds">'</span></span>,
         <span class="pl-v">cmds</span>      <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>set view map<span class="pl-pds">'</span></span>,
         <span class="pl-v">_with</span>     <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>image<span class="pl-pds">'</span></span>,
         <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">3</span>)
[ Heat <span class="pl-c1">map</span> pops up where first parabola used to be ]


theta <span class="pl-k">=</span> np.linspace(<span class="pl-c1">0</span>, <span class="pl-c1">6</span><span class="pl-k">*</span>np.pi, <span class="pl-c1">200</span>)
z     <span class="pl-k">=</span> np.linspace(<span class="pl-c1">0</span>, <span class="pl-c1">5</span>,       <span class="pl-c1">200</span>)
g2 <span class="pl-k">=</span> gp.gnuplotlib(<span class="pl-v">_3d</span> <span class="pl-k">=</span> <span class="pl-c1">True</span>)
g2.plot( np.cos(theta),
         np.vstack((np.sin(theta), <span class="pl-k">-</span>np.sin(theta))),
         z )
[ Two <span class="pl-ii">3D</span> spirals together <span class="pl-k">in</span> a new window ]</pre></div>
<h1><a id="user-content-description" class="anchor" href="#description" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>DESCRIPTION</h1>
<p>This module allows numpy data to be plotted using Gnuplot as a backend. As much
  as was possible, this module acts as a passive pass-through to Gnuplot, thus
  making available the full power and flexibility of the Gnuplot backend. Gnuplot
  is described in great detail at its upstream website: <a href="http://www.gnuplot.info">http://www.gnuplot.info</a></p>
<p>gnuplotlib has an object-oriented interface (via class gnuplotlib) and a few
  helper class-less functions (plot(), plot3d(), plotimage()). Each instance of
  class gnuplotlib has a gnuplot process associated with it, which has (usually) a
  plot window to go with it. If multiple simultaneous plot windows are desired,
  create a separate class gnuplotlib object for each.</p>
<p>The helper functions reuse a single global gnuplotlib instance, so each such
  invocation rewrites over the previous gnuplot window.</p>
<p>When making a plot with the object-oriented interface, the gnuplotlib object is
  created with a set of plot options, then the plot is made by passing it curves,
  possibly with some curve options per curve. Something like this:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> gnuplotlib <span class="pl-k">as</span> gp
g <span class="pl-k">=</span> gp.gnuplotlib(plot_options)
g.plot( curve, curve, <span class="pl-c1">...</span>. )</pre></div>
<p>A call to plot(…) is simpler:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> gnuplotlib <span class="pl-k">as</span> gp
gp.plot( curve, curve, <span class="pl-c1">...</span>., plot_and_default_curve_options )</pre></div>
<p>plot3d(…) simply calls plot(…) with an extra plot option _3d=True.
  plotimage(…) simply calls plot(…) with extra plot options _with=’image’,
  tuplesize=3.</p>
<p>If just a single curve is plotted, ‘curve’ can simply be a sequence of numpy
  arrays representing coordinates of each point. For instance:</p>

<p>If multiple curves are to be drawn on the same plot, then each ‘curve’ must live
  in a separate tuple. The last element of any such tuple can be a dict of curve
  options, if desired. For instance:</p>
<div class="highlight highlight-source-python"><pre>plot( (x1,y1),
      (x2,y2, {<span class="pl-s"><span class="pl-pds">'</span>legend<span class="pl-pds">'</span></span>=<span class="pl-s"><span class="pl-pds">'</span>Second curve<span class="pl-pds">'</span></span>}) )</pre></div>
<p>The plot_and_default_curve_options passed to plot(…) are kwargs. The curve
  options present here are used as defaults for each curve; these defaults can be
  overriden as desired. For instance:</p>
<div class="highlight highlight-source-python"><pre>plot( (x1,y1),
      (x2,y2, {<span class="pl-s"><span class="pl-pds">'</span>with<span class="pl-pds">'</span></span>:<span class="pl-s"><span class="pl-pds">'</span>points<span class="pl-pds">'</span></span>}),
      <span class="pl-v">_with</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>lines<span class="pl-pds">'</span></span>)</pre></div>
<p>would plot the first curve with lines, but the second with points.</p>
<h2><a id="user-content-options-arguments" class="anchor" href="#options-arguments" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Options arguments</h2>
<p>Plot generation is controlled by two sets of options:</p>
<ul>
  <li>Plot options: parameters that affect the whole plot, like the title of the
    plot, the axis labels, the extents, 2d/3d selection, etc. All the plot options
    are described below in “Plot options”.</li>
  <li>Curve options: parameters that affect only a single curve. Each is described
    below in “Curve options”.</li>
</ul>
<h2><a id="user-content-data-arguments" class="anchor" href="#data-arguments" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Data arguments</h2>
<p>The ‘curve’ arguments in the plot(…) argument list represent the actual data
  being plotted. Each output data point is a tuple (set of values, not a python
  “tuple”) whose size varies depending on what is being plotted. For example if
  we’re making a simple 2D x-y plot, each tuple has 2 values; if we’re making a 3d
  plot with each point having variable size and color, each tuple has 5 values
  (x,y,z,size,color). In the plot(…) argument list each tuple element must be
  passed separately. If we’re making anything fancier than a simple 2D or 3D plot
  (2- and 3- tuples respectively) then the ‘tuplesize’ curve option MUST be passed
  in.</p>
<p>Furthermore, broadcasting is fully supported, so multiple curves can be plotted
  by stacking data inside the passed-in arrays. Broadcasting works across curve
  options also, so things like curve labels and styles can also be stacked inside
  arrays. An example:</p>
<div class="highlight highlight-source-python"><pre>th    <span class="pl-k">=</span> np.linspace(<span class="pl-c1">0</span>, <span class="pl-c1">6</span><span class="pl-k">*</span>np.pi, <span class="pl-c1">200</span>)
z     <span class="pl-k">=</span> np.linspace(<span class="pl-c1">0</span>, <span class="pl-c1">5</span>,       <span class="pl-c1">200</span>)
size  <span class="pl-k">=</span> <span class="pl-c1">0.5</span> <span class="pl-k">+</span> np.abs(np.cos(th))
color <span class="pl-k">=</span> np.sin(<span class="pl-c1">2</span><span class="pl-k">*</span>th)


<span class="pl-c"># without broadcasting:</span>
plot3d( (  np.cos(th),  np.sin(th)
          z, size, color,
          { <span class="pl-s"><span class="pl-pds">'</span>legend<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>spiral 1<span class="pl-pds">'</span></span>}),

        ( <span class="pl-k">-</span>np.cos(th), <span class="pl-k">-</span>np.sin(th)
          z, size, color,
          { <span class="pl-s"><span class="pl-pds">'</span>legend<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>spiral 2<span class="pl-pds">'</span></span>})

        <span class="pl-v">title</span>     <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>double helix<span class="pl-pds">'</span></span>, <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">5</span>,
        <span class="pl-v">_with</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>points pointsize variable pointtype 7 palette<span class="pl-pds">'</span></span> )


<span class="pl-c"># identical plot using broadcasting:</span>
plot3d( ( np.cos(th) <span class="pl-k">*</span> np.array([[<span class="pl-c1">1</span>,<span class="pl-k">-</span><span class="pl-c1">1</span>]]).<span class="pl-c1">T</span>,
          np.sin(th) <span class="pl-k">*</span> np.array([[<span class="pl-c1">1</span>,<span class="pl-k">-</span><span class="pl-c1">1</span>]]).<span class="pl-c1">T</span>,
          z, size, color, { <span class="pl-s"><span class="pl-pds">'</span>legend<span class="pl-pds">'</span></span>: np.array((<span class="pl-s"><span class="pl-pds">'</span>spiral 1<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>spiral 2<span class="pl-pds">'</span></span>))})

        <span class="pl-v">title</span>     <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>double helix<span class="pl-pds">'</span></span>, <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">5</span>,
        <span class="pl-v">_with</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>points pointsize variable pointtype 7 palette<span class="pl-pds">'</span></span> )</pre></div>
<p>This is a 3d plot with variable size and color. There are 5 values in the tuple,
  which we specify. The first 2 arrays have dimensions (2,N); all the other arrays
  have a single dimension. Thus the broadcasting rules generate 2 distinct curves,
  with varying values for x,y and identical values for z, size and color. We label
  the curves differently by passing an array for the ‘legend’ curve option. This
  array contains strings, and is broadcast like everything else.</p>
<h3><a id="user-content-implicit-domains" class="anchor" href="#implicit-domains" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Implicit domains</h3>
<p>When a particular tuplesize is specified, gnuplotlib will attempt to read that
  many arrays. If there aren’t enough arrays available, gnuplotlib will throw an
  error, unless an implicit domain can be used. This happens if we are EXACTLY 1
  or 2 arrays short (usually when making 2D and 3D plots respectively).</p>
<p>When making a simple 2D plot, if exactly 1 dimension is missing, gnuplotlib will
  use numpy.arange(N) as the domain. This is why code like</p>
<div class="highlight highlight-source-python"><pre>plot(numpy.array([<span class="pl-c1">1</span>,<span class="pl-c1">5</span>,<span class="pl-c1">3</span>,<span class="pl-c1">4</span>,<span class="pl-c1">4</span>]))</pre></div>
<p>works. Only one array is given here, but the default tuplesize is 2, and we are
  thus exactly 1 array short. This is thus equivalent to</p>
<div class="highlight highlight-source-python"><pre>plot(numpy.arange(<span class="pl-c1">5</span>), numpy.array([<span class="pl-c1">1</span>,<span class="pl-c1">5</span>,<span class="pl-c1">3</span>,<span class="pl-c1">4</span>,<span class="pl-c1">4</span>]) )</pre></div>
<p>If plotting in 3D, an implicit domain will be used if we are exactly 2 arrayss
  short. In this case, gnuplotlib will use a 2D grid as a domain. Example:</p>
<div class="highlight highlight-source-python"><pre>xy <span class="pl-k">=</span> numpy.arange(<span class="pl-c1">21</span><span class="pl-k">*</span><span class="pl-c1">21</span>).reshape(<span class="pl-c1">21</span><span class="pl-k">*</span><span class="pl-c1">21</span>)
plot( xy, <span class="pl-v">_with</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>points<span class="pl-pds">'</span></span>, <span class="pl-v">_3d</span><span class="pl-k">=</span><span class="pl-c1">True</span>)</pre></div>
<p>Here the only given array has dimensions (21,21). This is a 3D plot, so we are
  exactly 2 arrays short. Thus, gnuplotlib generates an implicit domain,
  corresponding to a 21-by-21 grid.</p>
<p>Note that while the DEFAULT tuplesize depends on whether we’re making a 3d plot,
  once we have a tuplesize, the logic doesn’t care if a 3d plot is being made. It
  can make sense to have a 2D implicit domain when making 2D plots. For example,
  one can be plotting a color map:</p>
<div class="highlight highlight-source-python"><pre>x,y <span class="pl-k">=</span> np.ogrid[<span class="pl-k">-</span><span class="pl-c1">10</span>:<span class="pl-c1">11</span>,<span class="pl-k">-</span><span class="pl-c1">10</span>:<span class="pl-c1">11</span>]
gp.plot( x<span class="pl-k">**</span><span class="pl-c1">2</span> <span class="pl-k">+</span> y<span class="pl-k">**</span><span class="pl-c1">2</span>,
         <span class="pl-v">title</span>     <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Heat map<span class="pl-pds">'</span></span>,
         <span class="pl-v">set</span>       <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>view map<span class="pl-pds">'</span></span>,
         <span class="pl-v">_with</span>     <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>image<span class="pl-pds">'</span></span>,
         <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">3</span>)</pre></div>
<p>Also note that the ‘tuplesize’ curve option is independent of implicit domains.
  This option specifies not how many data arrays we have, but how many values
  represent each data point. For example, if we want a 2D line plot with varying
  colors plotted with an implicit domain, set tuplesize=3 as before (x,y,color),
  but pass in only 2 arrays (y, color).</p>
<h2><a id="user-content-symbolic-equations" class="anchor" href="#symbolic-equations" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Symbolic equations</h2>
<p>Gnuplot can plot both data and equations. This module exists largely for the
  data-plotting case, but sometimes it can be useful to plot equations together
  with some data. This is supported by the ‘equation’ plot option. This plot
  option is either a string (for a single equation) or a list/tuple containing
  multiple strings for multiple equations. Note that plotting only equations
  without data is not supported (and generally is better done with gnuplot
  directly). An example:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> numpy <span class="pl-k">as</span> np
<span class="pl-k">import</span> numpy.random <span class="pl-k">as</span> nr
<span class="pl-k">import</span> numpy.linalg
<span class="pl-k">import</span> gnuplotlib <span class="pl-k">as</span> gp

<span class="pl-c"># generate data</span>
x     <span class="pl-k">=</span> np.arange(<span class="pl-c1">100</span>)
c     <span class="pl-k">=</span> np.array([<span class="pl-c1">1</span>, <span class="pl-c1">1800</span>, <span class="pl-k">-</span><span class="pl-c1">100</span>, <span class="pl-c1">0.8</span>])   <span class="pl-c"># coefficients</span>
m     <span class="pl-k">=</span> x[:, np.newaxis] <span class="pl-k">**</span> np.arange(<span class="pl-c1">4</span>) <span class="pl-c"># 1, x, x**2, ...</span>
noise <span class="pl-k">=</span> <span class="pl-c1">1e4</span> <span class="pl-k">*</span> nr.random(x.shape)
y     <span class="pl-k">=</span> np.dot( m, c) <span class="pl-k">+</span> noise            <span class="pl-c"># polynomial corrupted by noise</span>

c_fit <span class="pl-k">=</span> np.dot(numpy.linalg.pinv(m), y)  <span class="pl-c"># coefficients obtained by a curve fit</span>

<span class="pl-c"># generate a string that describes the curve-fitted equation</span>
fit_equation <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>+<span class="pl-pds">'</span></span>.join( <span class="pl-s"><span class="pl-pds">'</span><span class="pl-c1">{}</span> * <span class="pl-c1">{}</span><span class="pl-pds">'</span></span>.format(c,m) <span class="pl-k">for</span> c,m <span class="pl-k">in</span> <span class="pl-c1">zip</span>( c_fit.tolist(), (<span class="pl-s"><span class="pl-pds">'</span>x**0<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>x**1<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>x**2<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>x**3<span class="pl-pds">'</span></span>)))

<span class="pl-c"># plot the data points and the fitted curve</span>
gp.plot(x, y, <span class="pl-v">_with</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>points<span class="pl-pds">'</span></span>, <span class="pl-v">equation</span> <span class="pl-k">=</span> fit_equation)</pre></div>
<p>Here I generated some data, performed a curve fit to it, and plotted the data
  points together with the best-fitting curve. Here the best-fitting curve was
  plotted by gnuplot as an equation, so gnuplot was free to choose the proper
  sampling frequency. And as we zoom around the plot, the sampling frequency is
  adjusted to keep things looking nice.</p>
<p>Note that the various styles and options set by the other options do NOT apply
  to these equation plots. Instead, the string is passed to gnuplot directly, and
  any styling can be applied there. For instance, to plot a parabola with thick
  lines, you can issue</p>
<div class="highlight highlight-source-python"><pre>gp.plot( <span class="pl-c1">...</span>.., <span class="pl-v">equation</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>x**2 with lines linewidth 2<span class="pl-pds">'</span></span>)</pre></div>
<p>As before, see the gnuplot documentation for details. You can also do fancy
  things:</p>
<div class="highlight highlight-source-python"><pre>x   <span class="pl-k">=</span> np.arange(<span class="pl-c1">100</span>, <span class="pl-v">dtype</span><span class="pl-k">=</span><span class="pl-c1">float</span>) <span class="pl-k">/</span> <span class="pl-c1">100</span> <span class="pl-k">*</span> np.pi <span class="pl-k">*</span> <span class="pl-c1">2</span><span class="pl-id">;</span>
c,s <span class="pl-k">=</span> np.cos(x), np.sin(x)

gp.plot( c,s,
         <span class="pl-v">square</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-v">_with</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>points<span class="pl-pds">'</span></span>,
         <span class="pl-v">set</span> <span class="pl-k">=</span> (<span class="pl-s"><span class="pl-pds">'</span>parametric<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>trange [0:2*3.14]<span class="pl-pds">'</span></span>),
         <span class="pl-v">equation</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>sin(t),cos(t)<span class="pl-pds">"</span></span> )</pre></div>
<p>Here the data are points evently spaced around a unit circle. Along with these
  points we plot a unit circle as a parametric equation.</p>
<h2><a id="user-content-interactivity" class="anchor" href="#interactivity" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Interactivity</h2>
<p>The graphical backends of Gnuplot are interactive, allowing the user to pan,
  zoom, rotate and measure the data in the plot window. See the Gnuplot
  documentation for details about how to do this. Some terminals (such as wxt) are
  persistently interactive, and the rest of this section does not apply to them.
  Other terminals (such as x11) have the downside described here.</p>
<p>When using an affected terminal, interactivity is only possible if the gnuplot
  process is running. As long as the python program calling gnuplotlib is running,
  the plots are interactive, but once it exits, the child gnuplot process will
  exit also. This will keep the plot windows up, but the interactivity will be
  lost. So if the python program makes a plot and exits, the plot will NOT be
  interactive.</p>
<h1><a id="user-content-options" class="anchor" href="#options" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>OPTIONS</h1>
<h2><a id="user-content-plot-options" class="anchor" href="#plot-options" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Plot options</h2>
<p>The plot options are a dictionary, passed as the keyword arguments to the global
  plot() function or as the only arguments to the gnuplotlib contructor. The
  supported keys of this dict are as follows:</p>

<p>Specifies the title of the plot</p>

<p>If true, a 3D plot is constructed. This changes the default tuple size from 2 to
  3</p>

<p>Identical to ‘3d’. In python, keyword argument keys cannot start with a number,
  so ‘_3d’ is accepted for that purpose. Same issue exists with with/_with</p>

<p>These take either a string of a list. If given a string, a set or unset gnuplot
  command is executed with that argument. If given a list, elements of that list
  are set/unset separately. Example:</p>
<div class="highlight highlight-source-python"><pre>plot(<span class="pl-c1">...</span>, <span class="pl-v">set</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>grid<span class="pl-pds">'</span></span>, <span class="pl-v">unset</span><span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">'</span>xtics<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>ytics])<span class="pl-ii"/></span>
[ turns on the grid, turns off the x <span class="pl-k">and</span> y axis tics ]</pre></div>

<p>If no ‘with’ curve option is given, use this as a default. See the description
  of the ‘with’ curve option for more detail</p>

<p>Identical to ‘with’. In python ‘with’ is a reserved word so it is illegal to use
  it as a keyword arg key, so ‘_with’ exists as an alias. Same issue exists with
  3d/_3d</p>

<p>If true, these request a square aspect ratio. For 3D plots, square_xy plots with
  a square aspect ratio in x and y, but scales z. Using either of these in 3D
  requires Gnuplot &gt;= 4.4</p>
<ul>
  <li>{x,y,y2,z,cb}{min,max,range,inv}</li>
</ul>
<p>If given, these set the extents of the plot window for the requested axes.
  Either min/max or range can be given but not both. min/max are numerical values.
  ‘*range’ is a string ‘min:max’ with either one allowed to be omitted; it can
  also be a [min,max] tuple or list. ‘*inv’ is a boolean that reverses this axis.
  If the bounds are known, this can also be accomplished by setting max &lt; min.</p>
<p>The y2 axis is the secondary y-axis that is enabled by the ‘y2’ curve option.
  The ‘cb’ axis represents the color axis, used when color-coded plots are being
  generated</p>
<ul>
  <li>xlabel, ylabel, zlabel, y2label</li>
</ul>
<p>These specify axis labels</p>

<p>This option allows equations represented as formula strings to be plotted along
  with data passed in as numpy arrays. This can be a string (for a single
  equation) or an array/tuple of strings (for multiple equations). See the
  “Symbolic equations” section above.</p>

<p>Instead of drawing a plot on screen, plot into a file instead. The output
  filename is the value associated with this key. The output format is inferred
  from the filename. Currently only eps, ps, pdf, png, svg are supported with some
  default sets of options. This option is simply a shorthand for the ‘terminal’
  and ‘output’ options. If the defaults provided by the ‘hardcopy’ option are
  insufficient, use ‘terminal’ and ‘output’ manually. Example:</p>
<div class="highlight highlight-source-python"><pre>plot(<span class="pl-c1">...</span>, <span class="pl-v">hardcopy</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>plot.pdf<span class="pl-pds">"</span></span>)
[ Plots into that <span class="pl-v">file</span> ]</pre></div>

<p>Selects the gnuplot terminal (backend). This determines how Gnuplot generates
  its output. Common terminals are ‘x11’, ‘qt’, ‘pdf’, ‘dumb’ and so on. See the
  Gnuplot docs for all the details.</p>

<p>Sets the plot output file. You generally only need to set this if you’re
  generating a hardcopy, such as a PDF.</p>
<p>There are several gnuplot terminals that are known (at this time) to be
  interactive: “x11”, “qt” and so on. For these no “output” setting is desired.
  For noninteractive terminals (“pdf”, “dumb” and so on) the output will go to the
  file defined here. If this plot option isn’t defined or set to the empty string,
  the output will be redirected to the standard output of the python process
  calling gnuplotlib.</p>
<div class="highlight highlight-source-python"><pre>gp.plot( np.linspace(<span class="pl-k">-</span><span class="pl-c1">5</span>,<span class="pl-c1">5</span>,<span class="pl-c1">30</span>)<span class="pl-k">**</span><span class="pl-c1">2</span>,
          <span class="pl-v">unset</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>grid<span class="pl-pds">'</span></span>, <span class="pl-v">terminal</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>dumb 80 40<span class="pl-pds">'</span></span> )</pre></div>
<pre>25 A-+---------+-----------+-----------+----------+-----------+---------A-+
   *           +           +           +          +           +        *  +
   |*                                                                  *  |
   |*                                                                 *   |
   | *                                                                *   |
   | A                                                               A    |
   |  *                                                              *    |
20 +-+ *                                                            *   +-+
   |   *                                                            *     |
   |    A                                                          A      |
   |     *                                                         *      |
   |     *                                                        *       |
   |      *                                                       *       |
   |      A                                                      A        |
15 +-+     *                                                    *       +-+
   |       *                                                    *         |
   |        *                                                  *          |
   |        A                                                 A           |
   |         *                                               *            |
   |          *                                              *            |
   |           A                                            A             |
10 +-+          *                                          *            +-+
   |            *                                         *               |
   |             A                                       A                |
   |              *                                     *                 |
   |               *                                    *                 |
   |                A                                  A                  |
   |                 *                                *                   |
 5 +-+                A                              A                  +-+
   |                   *                           **                     |
   |                    A**                       A                       |
   |                                             *                        |
   |                       A*                  *A                         |
   |                         A*              *A                           |
   +           +           +   A**     +  *A*     +           +           +
 0 +-+---------+-----------+------A*A**A*A--------+-----------+---------+-+
   0           5           10          15         20          25          30
</pre>

<p>Arbitrary extra commands to pass to gnuplot before the plots are created. These
  are passed directly to gnuplot, without any validation. The value is either a
  string of a list of strings, one per command</p>

<p>Used for debugging. If true, writes out the gnuplot commands to STDOUT instead
  of writing to a gnuplot process. Useful to see what commands would be sent to
  gnuplot. This is a dry run. Note that this dump will contain binary data unless
  ascii-only plotting is enabled (see below). This is also useful to generate
  gnuplot scripts since the dumped output can be sent to gnuplot later, manually
  if desired.</p>

<p>Used for debugging. If true, writes out the gnuplot commands and various
  progress logs to STDERR in addition to writing to a gnuplot process. This is NOT
  a dry run: data is sent to gnuplot AND to the log. Useful for debugging I/O
  issues. Note that this log will contain binary data unless ascii-only plotting
  is enabled (see below)</p>

<p>If set, ASCII data is passed to gnuplot instead of binary data. Binary is the
  default because it is much more efficient (and thus faster). Binary input works
  for most plots, but not for all of them. An example where binary plotting
  doesn’t work is ‘with labels’, and this option exists to force ASCII
  communication</p>
<h2><a id="user-content-curve-options" class="anchor" href="#curve-options" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Curve options</h2>
<p>The curve options describe details of specific curves. They are in a dict, whose
  keys are as follows:</p>

<p>Specifies the legend label for this curve</p>

<p>Specifies the style for this curve. The value is passed to gnuplot using its
  ‘with’ keyword, so valid values are whatever gnuplot supports. Read the gnuplot
  documentation for the ‘with’ keyword for more information</p>

<p>Identical to ‘with’. In python ‘with’ is a reserved word so it is illegal to use
  it as a keyword arg key, so ‘_with’ exists as an alias</p>

<p>If true, requests that this curve be plotted on the y2 axis instead of the main y axis</p>

<p>Specifies how many values represent each data point. For 2D plots this defaults
  to 2; for 3D plots this defaults to 3. These defaults are correct for simple
  plots</p>
<h1><a id="user-content-interface" class="anchor" href="#interface" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>INTERFACE</h1>
<h2><a id="user-content-class-gnuplotlib" class="anchor" href="#class-gnuplotlib" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>class gnuplotlib</h2>
<p>A gnuplotlib object abstracts a gnuplot process and a plot window. Invocation:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> gnuplotlib <span class="pl-k">as</span> gp
g <span class="pl-k">=</span> gp.gnuplotlib(plot_options)
g.plot( curve, curve, <span class="pl-c1">...</span>. )</pre></div>
<p>The plot options are passed into the constructor; the curve options and the data
  are passed into the plot() method. One advantage of making plots this way is
  that there’s a gnuplot process associated with each gnuplotlib instance, so as
  long as the object exists, the plot will be interactive. Calling ‘g.plot()’
  multiple times reuses the plot window instead of creating a new one.</p>
<h2><a id="user-content-global-plot" class="anchor" href="#global-plot" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>global plot(…)</h2>
<p>The convenience plotting routine in gnuplotlib. Invocation:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> gnuplotlib <span class="pl-k">as</span> gp
gp.plot( curve, curve, <span class="pl-c1">...</span>., plot_and_default_curve_options )</pre></div>
<p>Each ‘plot()’ call reuses the same window.</p>
<h2><a id="user-content-global-plot3d" class="anchor" href="#global-plot3d" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>global plot3d(…)</h2>
<p>Generates 3D plots. Shorthand for ‘plot(…, _3d=True)’</p>
<h2><a id="user-content-global-plotimage" class="anchor" href="#global-plotimage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>global plotimage(…)</h2>
<p>Generates an image plot. Shorthand for ‘plot(…, _with=’image’, tuplesize=3)’</p>
<h1><a id="user-content-recipes" class="anchor" href="#recipes" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>RECIPES</h1>
<p>Some different plots appear here. A longer set of demos is given in demos.py.</p>
<h2><a id="user-content-2d-plotting" class="anchor" href="#2d-plotting" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>2D plotting</h2>
<p>If we’re plotting y-values sequentially (implicit domain), all you need is</p>

<p>If we also have a corresponding x domain, we can plot y vs. x with</p>

<h3><a id="user-content-simple-style-control" class="anchor" href="#simple-style-control" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Simple style control</h3>
<p>To change line thickness:</p>
<div class="highlight highlight-source-python"><pre>plot(x,y, <span class="pl-v">_with</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>lines linewidth 3<span class="pl-pds">'</span></span>)</pre></div>
<p>To change point size and point type:</p>
<div class="highlight highlight-source-python"><pre>gp.plot(x,y, <span class="pl-v">_with</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>points pointtype 4 pointsize 8<span class="pl-pds">'</span></span>)</pre></div>
<p>Everything (like _with) feeds directly into Gnuplot, so look at the Gnuplot docs
  to know how to change thicknesses, styles and such.</p>
<h3><a id="user-content-errorbars" class="anchor" href="#errorbars" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Errorbars</h3>
<p>To plot errorbars that show y +- 1, plotted with an implicit domain</p>
<div class="highlight highlight-source-python"><pre>plot( y, np.ones(y.shape), <span class="pl-v">_with</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>yerrorbars<span class="pl-pds">'</span></span>, <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">3</span> )</pre></div>
<p>Same with an explicit x domain:</p>
<div class="highlight highlight-source-python"><pre>plot( x, y, np.ones(y.shape), <span class="pl-v">_with</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>yerrorbars<span class="pl-pds">'</span></span>, <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">3</span> )</pre></div>
<p>Symmetric errorbars on both x and y. x +- 1, y +- 2:</p>
<div class="highlight highlight-source-python"><pre>plot( x, y, np.ones(x.shape), <span class="pl-c1">2</span><span class="pl-k">*</span>np.ones(y.shape), <span class="pl-v">_with</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>xyerrorbars<span class="pl-pds">'</span></span>, <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">4</span> )</pre></div>
<p>To plot asymmetric errorbars that show the range y-1 to y+2 (note that here you
  must specify the actual errorbar-end positions, NOT just their deviations from
  the center; this is how Gnuplot does it)</p>
<div class="highlight highlight-source-python"><pre>plot( y, y <span class="pl-k">-</span> np.ones(y.shape), y <span class="pl-k">+</span> <span class="pl-c1">2</span><span class="pl-k">*</span>np.ones(y.shape),
     <span class="pl-v">_with</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>yerrorbars<span class="pl-pds">'</span></span>, <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">4</span> )</pre></div>
<h3><a id="user-content-more-multi-value-styles" class="anchor" href="#more-multi-value-styles" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>More multi-value styles</h3>
<p>Plotting with variable-size circles (size given in plot units, requires Gnuplot &gt;= 4.4)</p>
<div class="highlight highlight-source-python"><pre>plot(x, y, radii,
     <span class="pl-v">_with</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>circles<span class="pl-pds">'</span></span>, <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">3</span>)</pre></div>
<p>Plotting with an variably-sized arbitrary point type (size given in multiples of
  the “default” point size)</p>
<div class="highlight highlight-source-python"><pre>plot(x, y, sizes,
     <span class="pl-v">_with</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>points pointtype 7 pointsize variable<span class="pl-pds">'</span></span>, <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">3</span> )</pre></div>
<p>Color-coded points</p>
<div class="highlight highlight-source-python"><pre>plot(x, y, colors,
     <span class="pl-v">_with</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>points palette<span class="pl-pds">'</span></span>, <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">3</span> )</pre></div>
<p>Variable-size AND color-coded circles. A Gnuplot (4.4.0) quirk makes it
  necessary to specify the color range here</p>
<div class="highlight highlight-source-python"><pre>plot(x, y, radii, colors,
     <span class="pl-v">cbmin</span> <span class="pl-k">=</span> mincolor, <span class="pl-v">cbmax</span> <span class="pl-k">=</span> maxcolor,
     <span class="pl-v">_with</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>circles palette<span class="pl-pds">'</span></span>, <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">4</span> )</pre></div>
<p>Broadcasting example: the Conchoids of de Sluze. The whole family of curves is
  generated all at once, and plotted all at once with broadcasting. Broadcasting
  is also used to generate the labels. Generally these would be strings, but here
  just printing the numerical value of the parameter is sufficient.</p>
<div class="highlight highlight-source-python"><pre>theta <span class="pl-k">=</span> np.linspace(<span class="pl-c1">0</span>, <span class="pl-c1">2</span><span class="pl-k">*</span>np.pi, <span class="pl-c1">1000</span>)  <span class="pl-c"># dim=(  1000,)</span>
a     <span class="pl-k">=</span> np.arange(<span class="pl-k">-</span><span class="pl-c1">4</span>,<span class="pl-c1">3</span>)[:, np.newaxis] <span class="pl-c"># dim=(7,1)</span>

gp.plot( theta,
         <span class="pl-c1">1</span>.<span class="pl-k">/</span>np.cos(theta) <span class="pl-k">+</span> a<span class="pl-k">*</span>np.cos(theta), <span class="pl-c"># broadcasted. dim=(7,1000)</span>

         <span class="pl-v">_with</span>  <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>lines<span class="pl-pds">'</span></span>,
         <span class="pl-v">set</span>    <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>polar<span class="pl-pds">'</span></span>,
         <span class="pl-v">square</span> <span class="pl-k">=</span> <span class="pl-c1">True</span>,
         <span class="pl-v">yrange</span> <span class="pl-k">=</span> [<span class="pl-k">-</span><span class="pl-c1">5</span>,<span class="pl-c1">5</span>],
         <span class="pl-v">legend</span> <span class="pl-k">=</span> a.ravel() )</pre></div>
<h2><a id="user-content-3d-plotting" class="anchor" href="#3d-plotting" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>3D plotting</h2>
<p>General style control works identically for 3D plots as in 2D plots.</p>
<p>To plot a set of 3d points, with a square aspect ratio (squareness requires
  Gnuplot &gt;= 4.4):</p>
<div class="highlight highlight-source-python"><pre>plot3d(x, y, z, <span class="pl-v">square</span> <span class="pl-k">=</span> <span class="pl-c1">1</span>)</pre></div>
<p>If xy is a 2D array, we can plot it as a height map on an implicit domain</p>

<p>Ellipse and sphere plotted together, using broadcasting:</p>
<div class="highlight highlight-source-python"><pre>th   <span class="pl-k">=</span> np.linspace(<span class="pl-c1">0</span>,        np.pi<span class="pl-k">*</span><span class="pl-c1">2</span>, <span class="pl-c1">30</span>)
ph   <span class="pl-k">=</span> np.linspace(<span class="pl-k">-</span>np.pi<span class="pl-k">/</span><span class="pl-c1">2</span>, np.pi<span class="pl-k">*</span><span class="pl-c1">2</span>, <span class="pl-c1">30</span>)[:,np.newaxis]

x_3d <span class="pl-k">=</span> (np.cos(ph) <span class="pl-k">*</span> np.cos(th))          .ravel()
y_3d <span class="pl-k">=</span> (np.cos(ph) <span class="pl-k">*</span> np.sin(th))          .ravel()
z_3d <span class="pl-k">=</span> (np.sin(ph) <span class="pl-k">*</span> np.ones( th.shape )) .ravel()

gp.plot3d( (x_3d <span class="pl-k">*</span> np.array([[<span class="pl-c1">1</span>,<span class="pl-c1">2</span>]]).<span class="pl-c1">T</span>,
            y_3d <span class="pl-k">*</span> np.array([[<span class="pl-c1">1</span>,<span class="pl-c1">2</span>]]).<span class="pl-c1">T</span>,
            z_3d,
            { <span class="pl-s"><span class="pl-pds">'</span>legend<span class="pl-pds">'</span></span>: np.array((<span class="pl-s"><span class="pl-pds">'</span>sphere<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>ellipse<span class="pl-pds">'</span></span>))}),

           <span class="pl-v">title</span>  <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>sphere, ellipse<span class="pl-pds">'</span></span>,
           <span class="pl-v">square</span> <span class="pl-k">=</span> <span class="pl-c1">True</span>,
           <span class="pl-v">_with</span>  <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>points<span class="pl-pds">'</span></span>)</pre></div>
<p>Image arrays plots can be plotted as a heat map:</p>
<div class="highlight highlight-source-python"><pre>x,y <span class="pl-k">=</span> np.ogrid[<span class="pl-k">-</span><span class="pl-c1">10</span>:<span class="pl-c1">11</span>,<span class="pl-k">-</span><span class="pl-c1">10</span>:<span class="pl-c1">11</span>]
gp.plot( x<span class="pl-k">**</span><span class="pl-c1">2</span> <span class="pl-k">+</span> y<span class="pl-k">**</span><span class="pl-c1">2</span>,
         <span class="pl-v">title</span>     <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Heat map<span class="pl-pds">'</span></span>,
         <span class="pl-v">set</span>       <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>view map<span class="pl-pds">'</span></span>,
         <span class="pl-v">_with</span>     <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>image<span class="pl-pds">'</span></span>,
         <span class="pl-v">tuplesize</span> <span class="pl-k">=</span> <span class="pl-c1">3</span>)</pre></div>
<h2><a id="user-content-hardcopies" class="anchor" href="#hardcopies" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Hardcopies</h2>
<p>To send any plot to a file, instead of to the screen, one can simply do</p>
<div class="highlight highlight-source-python"><pre>plot(x, y,
     <span class="pl-v">hardcopy</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>output.pdf<span class="pl-pds">'</span></span>)</pre></div>
<p>The ‘hardcopy’ option is a shorthand for the ‘terminal’ and ‘output’
  options. If more control is desired, the latter can be used. For example to
  generate a PDF of a particular size with a particular font size for the text,
  one can do</p>
<div class="highlight highlight-source-python"><pre>plot(x, y,
     <span class="pl-v">terminal</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>pdfcairo solid color font ",10" size 11in,8.5in<span class="pl-pds">'</span></span>,
     <span class="pl-v">output</span>   <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>output.pdf<span class="pl-pds">'</span></span>)</pre></div>
<p>This command is equivalent to the ‘hardcopy’ shorthand used previously, but the
  fonts and sizes can be changed.</p>
<h1><a id="user-content-compatibility" class="anchor" href="#compatibility" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>COMPATIBILITY</h1>
<p>Only python 2 is supported. I have no plans to support python 3 (forcing me to
  care about unicode is stupid), but patches are welcome.</p>
<p>Everything should work on all platforms that support Gnuplot and Python. That
  said, only Debian GNU/Linux has been tested at this point. Comments and/or
  patches are welcome.</p>
<h1><a id="user-content-repository" class="anchor" href="#repository" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>REPOSITORY</h1>
<p><a href="https://github.com/dkogan/gnuplotlib">https://github.com/dkogan/gnuplotlib</a></p>
<h1><a id="user-content-author" class="anchor" href="#author" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>AUTHOR</h1>
<p>Dima Kogan &lt;dima@secretsauce.net&gt;</p>
<h1><a id="user-content-license-and-copyright" class="anchor" href="#license-and-copyright" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>LICENSE AND COPYRIGHT</h1>
<p>Copyright 2015 Dima Kogan.</p>
<p>This program is free software; you can redistribute it and/or modify it under
  the terms of the GNU Lesser General Public License (version 3 or higher) as
  published by the Free Software Foundation</p>
<p>See <a href="https://www.gnu.org/licenses/lgpl.html">https://www.gnu.org/licenses/lgpl.html</a></p>
</article>
  </div></body></html>