<html><body><div><div dir="ltr" trbidi="on">



<div dir="ltr" trbidi="on">
<pre>Even if you don't intend anybody else to read your code, there's still a very good chance that somebody will have to stare at your code and 
figure out what it does: That person is probably going to be you, 
twelve months from now<span>[1]</span>.</pre>
</div><p>
or as Zen of Python says "Readability Counts".

</p><h3>
PEP8 Style Guide:</h3><p>
Since code is read more than it is written, it is very important to make sure that the code is readable. Python has coding convetions(</p><a href="https://www.python.org/dev/peps/pep-0008/" target="_blank">PEP8 style guide</a><p>) to maintain consistency in code and thereby making it more readable.
</p><p>
There are lot of tools (like </p><a href="https://github.com/jcrocholl/pep8" target="_blank">pep8</a><p>, </p><a href="https://pypi.python.org/pypi/flake8" target="_blank">flake8</a><p>, </p><a href="http://www.pylint.org/" target="_blank">pylint</a><p>) to check if Your code is in compliance with PEP8. Today most of the IDE/text editors have plugins which check for these errors and report it on the fly. If You are writing code from scratch, You can make sure that You are following coding conventions.
</p><p>
However once in a while You have to read/bug-fix other people's code who don't follow these conventions(or You might even stumble across Your old piece of code). Once You are accustomed to style guide, it will be uneasy to read inconsistent code. Here is a badly formatted Python file opened in Emacs editor(with flymake &amp; flake8 configured)

</p>
<p>
<br/>
<h3>
Custom Style Guide:</h3>
If You don't like any of PEP8 rules, You can set Your own style guide for Your project. Most developers find limiting line length to 79 characters annoying. So they set their own line limit. You can even configure PEP8 checkers to take You own guidelines and check the code according to it.<br/>
<br/></p>
<h3>
Auto PEP8:</h3><p>
Formatting code to PEP8 style is boring &amp; time consuming process. So instead of manually formatting code, You can use </p><a href="https://pypi.python.org/pypi/autopep8/" target="_blank">autopep8</a><p> package which automatically formats Python code to conform to the PEP 8 style guide.
</p><p>
To install the package run
</p><p>
If You have a file foo.py as show above, You can run
</p><div dir="ltr" trbidi="on">
<div dir="ltr" trbidi="on">
<pre>$ autopep8 --in-place --aggressive --aggressive foo.py</pre>
</div>
</div>
<p class="separator">
which neatly formats the file like this</p>
<p class="separator">
<br/></p>


<h3>
Emacs Integration:</h3><p>
As emacs is extremely configurable editor, with just couple of lines of lisp, we can integrate autopep8 to emacs. Just find where autopep8 is installed; write a function which runs autopep8 on current buffer; bind a key to that function; set a hook, so that when ever You save a file, it will be automatically run the function.

</p><code data-gist-file="autopep8.el" data-gist-hide-footer="true" data-gist-hide-line-numbers="true" data-gist-id="0e8c8351799cdd7254d7"/><p>
This works reasonably well. But I do recommend using </p><a href="https://github.com/jorgenschaefer/elpy" target="_blank">Elpy</a><p> for Python developemnt in emacs. I have just sent a </p><a href="https://github.com/jorgenschaefer/elpy/pull/571" target="_blank">pull request to integrate</a><p> autopep8 with elpy.

</p><h3>
Formatting:</h3>
<p>
PEP8 formatters like autopep8, pep8ify will remove only lint errors. But they can't beautify code. </p>
<div>
<pre>little = more[3:   5]

x = {'a': 37, 'b': 42,
     'c': 927}
</pre>
</div>
<div><p>
Above code remains same after pep8ifying also. But the code doesn't look good yet. You can use formatters like </p><a href="https://pypi.python.org/pypi/yapf" target="_blank">yapf</a><p>, which will format the code even if the code is PEP8 compliant. </p></div>
<p>
Above code will be formatted to </p>
<div>
<pre>little = more[3:5]

x = {'a': 37, 'b': 42, 'c': 927}</pre>
</div>
<p>
Some times this even destroys Your manual formatting. For example </p>
<div>
<pre>BAZ = {
    [1, 2, 3, 4],
    [5, 6, 7, 8],
    [9, 10, 11, 12]
}</pre>
</div>

<div>
<pre>BAZ = {[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12]}</pre>
</div>
<p>
But You can tell it to ignore some parts.</p>
<div>
<pre>BAZ = {
    [1, 2, 3, 4],
    [5, 6, 7, 8],
    [9, 10, 11, 12]
}  # yapf: disable</pre>
</div>

<h3>
Beyond PEP8:</h3><p>
As we have learnt to auto PEP8 code, it is the time to look beyond PEP8. There is a good talk by Raymond Hettinger on that - </p><a href="https://www.youtube.com/watch?v=wf-BqAjZb8M" target="_blank">Beyond PEP8</a><p>, Best practices for beautiful intelligible code.
</p><p>
Let Machines take care of PEP8 &amp; Let Humans look Beyond PEP8.

</p><h3>
References:</h3><p>
[1] </p><a href="http://blogs.msdn.com/b/oldnewthing/archive/2007/04/06/2036150.aspx" target="_blank">Code is read much more often than it is written, so plan accordingly</a><p>.
</p><a href="https://www.python.org/dev/peps/pep-0008/" target="_blank">Python - PEP8 style guide</a><p>.
</p><a href="https://pypi.python.org/pypi/autopep8/" target="_blank">Autopep8 - formats Python code to conform to the PEP 8.</a>
<a href="https://pypi.python.org/pypi/pep8ify" target="_blank">PEP8ify - modifies python source code to conform to PEP8.</a>


<a href="https://github.com/jorgenschaefer/elpy" target="_blank">Elpy, the Emacs Lisp Python Environment</a><p>.


</p><span>Read more </span><a href="http://www.avilpage.com/search/label/python">articles about Python</a><span>!</span>
<span>Read more </span><a href="http://www.avilpage.com/search/label/emacs">articles about Emacs</a><span>!</span>
<p>
<br/></p>
</div>
</div></body></html>