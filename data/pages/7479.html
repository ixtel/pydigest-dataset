<html><body><div><div id="about">
<h2>About</h2>
<a href="https://travis-ci.org/scidam/solver" rel="nofollow"><img src="https://travis-ci.org/scidam/solver.svg?branch=master"/></a>
<p><em>A simple problem solver written in pure Python</em></p>
<p>Module provides an easy way to solve various problems that require
calculations. Lets imagine a problem formulated in
a text file using a some template language. Some places
within the problem formulation text correspond to variables
that have default values. What does <cite>to solve a problem</cite> mean in this context?
To solve the problem is to 1) define output template (used to render solution), 2) write code
that exploits input variables, 3) set up output variables in the code and, finally, 4)
render the solution template.
With help of solver classes these steps of getting a problem solution
can be made easily.</p>
<dl>
<dt>Solver features:</dt>
<dd><ul>
<li>arbitrary and independent input and output markups
used in problem formulation and solution templates.</li>
<li>ability of asynchronous problem solving (Celery is required).</li>
<li>heuristic testing of problem solvability.</li>
<li>using all of Python computational power (with third party libraries) to solve your problems.</li>
<li>using jinja2 template language to produce dynamic parts of a problem
formulation/solution.</li>
</ul>
</dd>
</dl>
</div>
<div id="usage-example">
<h2>Usage example</h2>
<p><strong>A simple test problem.</strong> My name is John. I have 100 $.
I want to buy several papers. Each paper worth is 5 $.
How many papers can I buy?</p>
<p>Test problem  (abstraction level)</p>
<pre><span class="n">test_problem_template_formulation</span> <span class="o">=</span> <span class="s2">"""My name is {{username}}. I have {{total}} $.
I want to buy several papers. Each paper worth is {{paper_cost}}$.
How many papers can I buy?
"""</span>

<span class="n">test_problem_solution_code</span> <span class="o">=</span> <span class="s2">"""
    OUTPUTS['result']=INPUTS['total']/INPUTS['paper_cost']
    OUTPUTS['name'] = INPUTS['username']
    """</span>
<span class="n">test_problem_output_template</span><span class="o">=</span><span class="s2">"""
    My name is {{name}} and answer is {{result}}.
    """</span>

<span class="kn">from</span> <span class="nn">solver</span> <span class="kn">import</span> <span class="n">Task</span><span class="p">,</span> <span class="n">Solver</span>

<span class="n">task</span> <span class="o">=</span> <span class="n">Task</span><span class="p">(</span><span class="n">test_problem_template_formulation</span><span class="p">,</span>
            <span class="n">default_vals</span><span class="o">=</span><span class="p">{</span><span class="s1">'username'</span><span class="p">:</span> <span class="s1">'John'</span><span class="p">,</span>
            <span class="s1">'total'</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">'paper_cost'</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span>
            <span class="n">solution_template</span><span class="o">=</span><span class="n">test_problem_output_template</span><span class="p">,</span>
            <span class="n">code</span> <span class="o">=</span> <span class="n">test_problem_solution_code</span>
            <span class="p">)</span>

<span class="n">psolver</span> <span class="o">=</span> <span class="n">Solver</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
</pre>
<p>Solve the problem</p>
<pre>$ psolver.solve()
</pre>
<p>or you can try to solve the problem asynchronously instead.
if error occur in async_solve,
the solve() method will be invoked by default.</p>
<pre>psolver.async_solve()
</pre>
<p>Before rendering the results check the problem solution is ready
(This step is required, when getting the solution asynchronously)</p>
<pre><span class="k">if</span> <span class="n">psolver</span><span class="o">.</span><span class="n">is_solved</span><span class="p">:</span>
    <span class="n">task</span><span class="o">.</span><span class="n">render_outputs</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</pre>
<p>And, finally, print rendered template or do something else.</p>
</div>


</div></body></html>