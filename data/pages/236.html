<html><body><div><div class="large-9 columns">
      
      <p>It's pretty common to want to know when specific data has been changed in a Django model. The Django admin itself will keep a log of changes made from the admin interface. That's very useful but not all data changes are made from the admin. While there are a <a href="https://www.djangopackages.com/grids/g/model-audit/">handful of existing applications</a> to track data changes, they can often be overkill, or flat out not be a good fit, depending on the use case or business requirements.</p>

<p>For example, a client who runs a content site wanted the ability to change the slug of a piece of content, which effects it's URL, and automatically create a redirect from the old slug to the new one. Another simple example is for an internal time tracking / project management tool we built that we call Grinch. When one of us updates/changes a time log entry we want to create a simple note on the entry with what was changed. We don't want revision tracking, etc. just a simple note for information purposes.</p>

<p>So, let's talk about how you can add this sort of tracking in a few quick steps.</p>

<p>Using <a href="https://docs.djangoproject.com/en/1.6/ref/signals/#django.db.models.signals.post_init">Django's post_init signal</a> is probably the easiest way to grab the starting data and store it on the model instance.</p>

<p>Let's go with our Grinch example. This is a simplified version of what our code is actually doing, but it's pretty self explanatory.</p>

<p/>

<p>Easy enough right? Whenever an existing TimeLog instance is initialized the signal will be fired and the "timelog_post_init" function will assign the _original_* fields to the instance. Once the instance is saved, the "add_track_save_note" method is called which will save a note with the updated fields (if any fields actually changed).</p>

<p>Now when a project manager needs to know why, or what, was changed in a previously saved time log entry, they just go view the entries and it will display the note like so:</p>

<p/><center><img src="http://nlcom.s3.amazonaws.com/timelog_example.png" alt="timelog_example.png"/></center>

<p>We realize this may duplicate work that's been done in an existing OSS app but our goal is to create the best fit for the given business need. Sometimes these smaller implementations are the perfect way to scratch that itch.</p>
      
      <hr/>
      <p id="disqus_thread"/>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>
    </div></body></html>