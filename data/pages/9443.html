<html><body><div><div class="section">
              <h1>inform 1.3.3</h1>

              


<p>print &amp; logging utilities for communicating with user</p>








<p>A light-weight package with few dependencies that provides various print-like
functions to communicate to the user. It also provides logging and output
control.</p>
<p>Install with:</p>
<pre>pip install inform
</pre>
<a href="https://travis-ci.org/KenKundert/inform" rel="nofollow"><img src="https://travis-ci.org/KenKundert/inform.svg?branch=master"/></a>
<p>Supported in Python2.7, Python3.3, Python3.4, and Python3.5.</p>
<p>This package defines a collection of ‘print’ functions that have different
roles.  These functions are referred to as ‘informants’ and are described below
in the the Informants section. They include include <em>log</em>, <em>comment</em>, <em>codicil</em>.
<em>narrate</em>, <em>display</em>, <em>output</em>, <em>debug</em>, <em>warn</em>, <em>error</em>, <em>fatal</em> and <em>panic</em>.
Each of these functions takes arguments like the standard print function:
unnamed arguments are converted to strings and joined together to produce the
output, the named arguments act to control the process.  The available controls
(named arguments) are:</p>
<dl>
<dt>sep = ‘ ‘:</dt>
<dd>Specifies the string used to join the unnamed arguments.</dd>
<dt>end = ‘\n’:</dt>
<dd>Specifies a string to append to the message.</dd>
<dt>file = stdout:</dt>
<dd>The destination stream (a file pointer).</dd>
<dt>flush = <em>False</em>:</dt>
<dd>Whether the message should flush the destination stream (not available in
python2).</dd>
<dt>culprit = <em>None</em>:</dt>
<dd>A string that is added to the beginning of the message that identifies the
culprit (the object for which the problem being reported was found). May also
be a collection of strings, in which case they are joined with ‘.’.</dd>
<dt>hanging = <em>True</em>:</dt>
<dd>Indicates hanging indentation should be used when outputting multiline
message with headers or culprits.</dd>
</dl>
<p>With the simplest use of the program, you simply import the informants you need
and call them (they take the same arguments as does the <em>print</em> function built
into Python:</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="n">display</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">display</span><span class="p">(</span><span class="s1">'ice'</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">ice</span> <span class="mi">9</span>
</pre>
<p>More typical is to import and instantiate the Inform class yourself along with
the desired informants.  This gives you the ability to specify options:</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="n">Inform</span><span class="p">,</span> <span class="n">display</span><span class="p">,</span> <span class="n">error</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Inform</span><span class="p">(</span><span class="n">logfile</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">prog_name</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="o">&lt;...&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">display</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">)</span>
<span class="n">hello</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">error</span><span class="p">(</span><span class="s1">'file not found.'</span><span class="p">,</span> <span class="n">culprit</span><span class="o">=</span><span class="s1">'data.in'</span><span class="p">)</span>
<span class="n">error</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="ow">in</span><span class="p">:</span> <span class="nb">file</span> <span class="ow">not</span> <span class="n">found</span><span class="o">.</span>
</pre>
<p>An object of the Inform class is referred to as an informer (not to be confused
with the print functions, which are  referred to as informants). Once
instantiated, an informer can be used to terminate the program or return a count
of the number of errors that have occurred.</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="n">Inform</span><span class="p">,</span> <span class="n">error</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">informer</span> <span class="o">=</span> <span class="n">Inform</span><span class="p">(</span><span class="n">prog_name</span><span class="o">=</span><span class="s2">"prog"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">error</span><span class="p">(</span><span class="s1">'file not found.'</span><span class="p">,</span> <span class="n">culprit</span><span class="o">=</span><span class="s1">'data.in'</span><span class="p">)</span>
<span class="n">prog</span> <span class="n">error</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="ow">in</span><span class="p">:</span> <span class="nb">file</span> <span class="ow">not</span> <span class="n">found</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">informer</span><span class="o">.</span><span class="n">errors_accrued</span><span class="p">()</span>
<span class="mi">1</span>
</pre>
<p>You can also use a <em>with</em> statement to invoke the informer. This closes the
informer when the <em>with</em> statement terminates (you must not use the informants
when no informer is present). This is useful when writing tests. In this case
you can provide your own output streams so that you can access the normally
printed output of your code:</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="n">Inform</span><span class="p">,</span> <span class="n">display</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">sys</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'2'</span><span class="p">:</span>
<span class="o">...</span>     <span class="c1"># io assumes unicode, which python2 does not provide by default</span>
<span class="o">...</span>     <span class="c1"># so use StringIO instead</span>
<span class="o">...</span>     <span class="kn">from</span> <span class="nn">StringIO</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="o">...</span>     <span class="c1"># Add support for with statement by monkeypatching</span>
<span class="o">...</span>     <span class="n">StringIO</span><span class="o">.</span><span class="n">__enter__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span>
<span class="o">...</span>     <span class="n">StringIO</span><span class="o">.</span><span class="n">__exit__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">...</span> <span class="k">else</span><span class="p">:</span>
<span class="o">...</span>     <span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">run_test</span><span class="p">():</span>
<span class="o">...</span>     <span class="n">display</span><span class="p">(</span><span class="s1">'running test'</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n">StringIO</span><span class="p">()</span> <span class="k">as</span> <span class="n">stdout</span><span class="p">,</span> \
<span class="o">...</span>      <span class="n">StringIO</span><span class="p">()</span> <span class="k">as</span> <span class="n">stderr</span><span class="p">,</span> \
<span class="o">...</span>      <span class="n">StringIO</span><span class="p">()</span> <span class="k">as</span> <span class="n">logfile</span><span class="p">,</span> \
<span class="o">...</span>      <span class="n">Inform</span><span class="p">(</span><span class="n">stdout</span><span class="o">=</span><span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">stderr</span><span class="p">,</span> <span class="n">logfile</span><span class="o">=</span><span class="n">logfile</span><span class="p">)</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
<span class="o">...</span>         <span class="n">run_test</span><span class="p">()</span>
<span class="o">...</span>
<span class="o">...</span>         <span class="n">num_errors</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">errors_accrued</span><span class="p">()</span>
<span class="o">...</span>         <span class="n">output_text</span> <span class="o">=</span> <span class="n">stdout</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
<span class="o">...</span>         <span class="n">error_text</span> <span class="o">=</span> <span class="n">stderr</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
<span class="o">...</span>         <span class="n">logfile_text</span> <span class="o">=</span> <span class="n">logfile</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">num_errors</span>
<span class="mi">0</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">str</span><span class="p">(</span><span class="n">output_text</span><span class="p">)</span>
<span class="s1">'running test</span><span class="se">\n</span><span class="s1">'</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">str</span><span class="p">(</span><span class="n">error_text</span><span class="p">)</span>
<span class="s1">''</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">str</span><span class="p">(</span><span class="n">logfile_text</span><span class="p">[:</span><span class="mi">10</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">logfile_text</span><span class="p">[</span><span class="o">-</span><span class="mi">13</span><span class="p">:])</span>
<span class="p">(</span><span class="s1">'Invoked as'</span><span class="p">,</span> <span class="s1">'running test</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
</pre>
<p>You can create your own informants:</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="n">Inform</span><span class="p">,</span> <span class="n">InformantGenerator</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">verbose1</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">verbosity</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">verbose2</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">verbosity</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n">Inform</span><span class="p">(</span><span class="n">verbosity</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="o">...</span>     <span class="n">verbose1</span><span class="p">(</span><span class="s1">'First level of verbosity.'</span><span class="p">)</span>
<span class="o">...</span>     <span class="n">verbose2</span><span class="p">(</span><span class="s1">'Second level of verbosity.'</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n">Inform</span><span class="p">(</span><span class="n">verbosity</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="o">...</span>     <span class="n">verbose1</span><span class="p">(</span><span class="s1">'First level of verbosity.'</span><span class="p">)</span>
<span class="o">...</span>     <span class="n">verbose2</span><span class="p">(</span><span class="s1">'Second level of verbosity.'</span><span class="p">)</span>
<span class="n">First</span> <span class="n">level</span> <span class="n">of</span> <span class="n">verbosity</span><span class="o">.</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n">Inform</span><span class="p">(</span><span class="n">verbosity</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<span class="o">...</span>     <span class="n">verbose1</span><span class="p">(</span><span class="s1">'First level of verbosity.'</span><span class="p">)</span>
<span class="o">...</span>     <span class="n">verbose2</span><span class="p">(</span><span class="s1">'Second level of verbosity.'</span><span class="p">)</span>
<span class="n">First</span> <span class="n">level</span> <span class="n">of</span> <span class="n">verbosity</span><span class="o">.</span>
<span class="n">Second</span> <span class="n">level</span> <span class="n">of</span> <span class="n">verbosity</span><span class="o">.</span>
</pre>
<p>The argument <em>verbosity</em> is not an explicitly supported argument to Inform.  In
this case Inform simply saves the value and makes it available as an attribute,
and it is this attribute that is queried by the lambda function passed to the
InformantGenerator when creating the informants.</p>
<div id="exception">
<h2>Exception</h2>
<p>An exception, <em>Error</em>, is provided that takes the same arguments as an
informant.  This allows you to catch the exception and handle it if you like.
The exception provides the <em>report</em> and <em>terminate</em> methods that processes the
exception as an error or fatal error if you find that you can do nothing else
with the exception:</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="n">Inform</span><span class="p">,</span> <span class="n">Error</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">Inform</span><span class="p">(</span><span class="n">prog_name</span><span class="o">=</span><span class="s1">'myprog'</span><span class="p">)</span>
<span class="o">&lt;...&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">try</span><span class="p">:</span>
<span class="o">...</span>     <span class="k">raise</span> <span class="n">Error</span><span class="p">(</span><span class="s1">'must not be zero.'</span><span class="p">,</span> <span class="n">culprit</span><span class="o">=</span><span class="s1">'naught'</span><span class="p">)</span>
<span class="o">...</span> <span class="k">except</span> <span class="n">Error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">e</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="n">myprog</span> <span class="n">error</span><span class="p">:</span> <span class="n">naught</span><span class="p">:</span> <span class="n">must</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">zero</span><span class="o">.</span>
</pre>
<p><em>Error</em> also provides get_message() and get_culprit() methods, which return the
message and the culprit. You can also cast the exception to a string to get
a string that contains both the message and the culprit formatted so that it can
be shown to the user.</p>
<p>Any keyword arguments provided will be available in <em>e.kwargs</em>, but certain
keyword arguments are reserved by inform (see above).</p>
</div>
<div id="inform-class">
<h2>Inform Class</h2>
<p>The Inform class controls the active informants. It takes the following
arguments as options (the value given for the argument is its default):</p>
<div id="arguments">
<h3>Arguments</h3>
<dl>
<dt>mute=False (bool)</dt>
<dd>With the provided informants all output is suppressed when set (it is still
logged). This is generally used when the program being run is being run by
another program that is generating its own messages and does not want the
user confused by additional messages. In this case, the calling program is
responsible for observing and reacting to the exit status of the called
program.</dd>
<dt>quiet=False (bool):</dt>
<dd>With the provided informants normal output is suppressed when set (it is
still logged). This is used when the user has indicated that they are
uninterested in any conversational messages and just want to see the
essentials (generally error messages).</dd>
<dt>verbose=False (bool):</dt>
<dd>With the provided informants comments are output to user when set; normally
they are just logged. Comments are generally used to document unusual
occurrences that might warrant the user’s attention.</dd>
<dt>narrate=False (bool):</dt>
<dd>With the provided informants narration is output to user when set, normally
it is just logged.  Narration is generally used to inform the user as to what
is going on. This can help place errors and warnings in context so that they
are easier to understand.</dd>
<dt>logfile=False (string or stream):</dt>
<dd>May be a string, in which case it is taken to be the path of the logfile.
May be <em>True</em>, in which case ./.&lt;prog_name&gt;.log is used.  May be an open
stream.  Or it may be <em>False</em>, in which case no log file is created.</dd>
<dt>prog_name=True (string):</dt>
<dd>The program name. Is appended to the message headers and used to create the
default logfile name. May be a string, in which case it is used as the name
of the program.  May be <em>True</em>, in which case basename(argv[0]) is used.  May
be <em>False</em> to indicate that program name should not be added to message
headers.</dd>
<dt>argv=None (list of strings):</dt>
<dd>System command line arguments (logged). By default, sys.argv is used. If
False is passed in, argv is not logged and argv[0] is not available to be the
program name.</dd>
<dt>version=None (string):</dt>
<dd>Program version (logged if provided).</dd>
<dt>termination_callback=None (func):</dt>
<dd>A function that is called at program termination.</dd>
<dt>colorscheme=’dark’ (<em>None</em>, ‘light’, or ‘dark’):</dt>
<dd>Color scheme to use. <em>None</em> indicates that messages should not be colorized.
Colors are not used if output stream is not a TTY.</dd>
<dt>flush=False (bool):</dt>
<dd>Flush the stream after each write. Is useful if you program is crashing,
causing loss of the latest writes. Can cause programs to run considerably
slower if they produce a lot of output. Not available with python2.</dd>
<dt>stdout=None (stream):</dt>
<dd>Messages are sent here by default. Generally used for testing. If
not given, sys.stdout is used.</dd>
<dt>stderr=None (stream):</dt>
<dd>Termination messages are sent here by default. Generally used for
testing.  If not given, sys.stderr is used.</dd>
<dt>hanging_indent=True (bool):</dt>
<dd>Indicates hanging indentation should be used by default when outputting
multiline message with headers or culprits.</dd>
<dt>**kwargs:</dt>
<dd>Any additional keyword arguments are made attributes that are ignored by
Inform, but may be accessed by the informants.</dd>
</dl>
</div>
<div id="methods">
<h3>Methods</h3>
<p>The Inform class provides the following user accessible methods. Most of these
methods are also available as functions, which act on the current Inform.</p>
<dl>
<dt>set_logfile():</dt>
<dd>Allows you to change the logfile (only available as a method).</dd>
<dt>done():</dt>
<dd>Terminates the program normally (exit status is 0).</dd>
<dt>terminate(status = <em>None</em>):</dt>
<dd><p>Terminate the program with the given exit status. If specified, the exit
status should be a positive integer less than 128. Usually, the following
values are used:</p>
<div>
<p>0: success</p>
<p>1: unexpected error</p>
<p>2: invalid invocation</p>
<p>3: panic</p>
</div>
<p>If the exit status is not specified, then the exit status is set to 1 if an
error occurred and 0 otherwise.</p>
<p>You may also pass a string for the status, in which case the program prints
the string to stderr and terminates with an exit status of 1.</p>
</dd>
<dt>terminate_if_errors(status=1):</dt>
<dd>Terminate the program with the given exit status if an error has occurred.</dd>
<dt>errors_accrued(reset = <em>False</em>):</dt>
<dd>Return the number of errors that have accrued.</dd>
<dt>disconnect():</dt>
<dd>Deactivate the current Inform, restoring the default.</dd>
</dl>
</div>
<div id="functions">
<h3>Functions</h3>
<p>Several of the above methods are also available as stand-alone functions that
act on the currently active informer.  This make it easy to use their
functionality even if you do not have local access to the informer. They are:</p>
<div>
<p>done()</p>
<p>terminate()</p>
<p>terminate_if_errors()</p>
<p>errors_accrued()</p>
</div>
</div>
</div>
<div id="informantgenerator-class">
<h2>InformantGenerator Class</h2>
<p>The InformantGenerator class takes the following arguments:</p>
<dl>
<dt>severity = <em>None</em>:</dt>
<dd>Messages with severities get headers. The header consists of the severity,
the program name (if desired), and the culprit (if provided). If the message
text does not contain a newline it is appended to the header.  Otherwise the
message text is indented and placed on the next line.</dd>
<dt>is_error = <em>False</em>:</dt>
<dd>Should message be counted as an error.</dd>
<dt>log = <em>True</em>:</dt>
<dd>Send message to the log file. May be a boolean or a function that accepts the
Inform object as an argument and returns a boolean.</dd>
<dt>output = <em>True</em>:</dt>
<dd>Send to the output stream. May be a boolean or a function that accepts the
Inform object as an argument and returns a boolean.</dd>
<dt>terminate = <em>False</em>:</dt>
<dd>Terminate the program, exit status is the value of the terminate unless
<em>terminate</em> is <em>True</em>, in which case 1 is returned if an error occurred and
0 otherwise.</dd>
<dt>is_continuation = <em>False</em>:</dt>
<dd>This message is a continuation of the previous message.  It will use the
properties of the previous message (output, log, message color, etc) and if
the previous message had a header, that header is not output and instead the
message is indented.</dd>
<dt>message_color = <em>None</em>:</dt>
<dd>Color used to display the message. Choose from <em>black</em>, <em>red</em>, <em>green</em>,
<em>yellow</em>, <em>blue</em>, <em>magenta</em>, <em>cyan</em>, <em>white</em>.</dd>
<dt>header_color = <em>None</em>:</dt>
<dd>Color used to display the header, if one is produced.</dd>
</dl>
<p>An object of InformantGenerator is referred to as an informant. It is generally
treated as a function that is called to produce the desired output.</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="n">InformantGenerator</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">succeed</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span><span class="n">message_color</span><span class="o">=</span><span class="s1">'green'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">fail</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span><span class="n">message_color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">succeed</span><span class="p">(</span><span class="s1">'This message would be green.'</span><span class="p">)</span>
<span class="n">This</span> <span class="n">message</span> <span class="n">would</span> <span class="n">be</span> <span class="n">green</span><span class="o">.</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">fail</span><span class="p">(</span><span class="s1">'This message would be red.'</span><span class="p">)</span>
<span class="n">This</span> <span class="n">message</span> <span class="n">would</span> <span class="n">be</span> <span class="n">red</span><span class="o">.</span>
</pre>
</div>
<div id="standard-informants">
<h2>Standard Informants</h2>
<p>The following informants are provided. All of the informants except panic and
debug do not produce any output if <em>mute</em> is set.</p>
<div id="log">
<h3>log</h3>
<pre><span class="n">log</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span>
    <span class="n">output</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">log</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="p">)</span>
</pre>
<p>Saves a message to the log file without displaying it.</p>
</div>

<div id="codicil">
<h3>codicil</h3>
<pre><span class="n">codicil</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span><span class="n">is_continuation</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre>
<p>Continues a previous message. Continued messages inherit the properties (output,
log, message color, etc) of the previous message.  If the previous message had
a header, that header is not output and instead the message is indented.</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="n">Inform</span><span class="p">,</span> <span class="n">warn</span><span class="p">,</span> <span class="n">codicil</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">informer</span> <span class="o">=</span> <span class="n">Inform</span><span class="p">(</span><span class="n">prog_name</span><span class="o">=</span><span class="s2">"myprog"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">warn</span><span class="p">(</span><span class="s1">'file not found.'</span><span class="p">,</span> <span class="n">culprit</span><span class="o">=</span><span class="s1">'ghost'</span><span class="p">)</span>
<span class="n">myprog</span> <span class="n">warning</span><span class="p">:</span> <span class="n">ghost</span><span class="p">:</span> <span class="nb">file</span> <span class="ow">not</span> <span class="n">found</span><span class="o">.</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">codicil</span><span class="p">(</span><span class="s1">'skipping'</span><span class="p">)</span>
    <span class="n">skipping</span>
</pre>
</div>
<div id="narrate">
<h3>narrate</h3>
<pre><span class="n">narrate</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span>
    <span class="n">output</span><span class="o">=</span><span class="k">lambda</span> <span class="n">informer</span><span class="p">:</span> <span class="n">informer</span><span class="o">.</span><span class="n">narrate</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">informer</span><span class="o">.</span><span class="n">mute</span><span class="p">,</span>
    <span class="n">log</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">message_color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">,</span>
<span class="p">)</span>
</pre>
<p>Displays a message only if <em>narrate</em> is set. Logs the message. The message is
displayed in blue.</p>
<p>Narration is generally used to inform the user as to what is going on. This can
help place errors and warnings in context so that they are easier to understand.
Distinguishing narration from comments allows them to colored differently and
controlled separately.</p>
</div>
<div id="display">
<h3>display</h3>
<pre><span class="n">display</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span>
    <span class="n">output</span><span class="o">=</span><span class="k">lambda</span> <span class="n">informer</span><span class="p">:</span> <span class="ow">not</span> <span class="n">informer</span><span class="o">.</span><span class="n">quiet</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">informer</span><span class="o">.</span><span class="n">mute</span><span class="p">,</span>
    <span class="n">log</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="p">)</span>
</pre>
<p>Displays a message if <em>quiet</em> is not set. Logs the message.</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="n">display</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">display</span><span class="p">(</span><span class="s1">'We the people ...'</span><span class="p">)</span>
<span class="n">We</span> <span class="n">the</span> <span class="n">people</span> <span class="o">...</span>
</pre>
</div>
<div id="output">
<h3>output</h3>
<pre><span class="n">output</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span>
    <span class="n">output</span><span class="o">=</span><span class="k">lambda</span> <span class="n">informer</span><span class="p">:</span> <span class="ow">not</span> <span class="n">informer</span><span class="o">.</span><span class="n">mute</span><span class="p">,</span>
    <span class="n">log</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="p">)</span>
</pre>
<p>Displays and logs a message. This is used for messages that are not errors that
are noteworthy enough that they need to get through even though the user has
asked for quiet.</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="n">output</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">output</span><span class="p">(</span><span class="s1">'We the people ...'</span><span class="p">)</span>
<span class="n">We</span> <span class="n">the</span> <span class="n">people</span> <span class="o">...</span>
</pre>
</div>
<div id="debug">
<h3>debug</h3>
<pre><span class="n">debug</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span>
    <span class="n">severity</span><span class="o">=</span><span class="s1">'DEBUG'</span><span class="p">,</span>
    <span class="n">output</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">log</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">header_color</span><span class="o">=</span><span class="s1">'magenta'</span><span class="p">,</span>
<span class="p">)</span>
</pre>
<p>Displays and logs a debugging message. A header with the label <em>DEBUG</em> is added
to the message and the header is colored magenta.</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="n">Inform</span><span class="p">,</span> <span class="n">debug</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">informer</span> <span class="o">=</span> <span class="n">Inform</span><span class="p">(</span><span class="n">prog_name</span><span class="o">=</span><span class="s2">"myprog"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">debug</span><span class="p">(</span><span class="s1">'HERE!'</span><span class="p">)</span>
<span class="n">myprog</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="n">HERE</span><span class="err">!</span>
</pre>
</div>
<div id="warn">
<h3>warn</h3>
<pre><span class="n">warn</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span>
    <span class="n">severity</span><span class="o">=</span><span class="s1">'warning'</span><span class="p">,</span>
    <span class="n">header_color</span><span class="o">=</span><span class="s1">'yellow'</span><span class="p">,</span>
    <span class="n">output</span><span class="o">=</span><span class="k">lambda</span> <span class="n">informer</span><span class="p">:</span> <span class="ow">not</span> <span class="n">informer</span><span class="o">.</span><span class="n">quiet</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">informer</span><span class="o">.</span><span class="n">mute</span><span class="p">,</span>
    <span class="n">log</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="p">)</span>
</pre>
<p>Displays and logs a warning message. A header with the label <em>warning</em> is added
to the message and the header is colored yellow.</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="n">Inform</span><span class="p">,</span> <span class="n">warn</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">informer</span> <span class="o">=</span> <span class="n">Inform</span><span class="p">(</span><span class="n">prog_name</span><span class="o">=</span><span class="s2">"myprog"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">warn</span><span class="p">(</span><span class="s1">'file not found, skipping.'</span><span class="p">,</span> <span class="n">culprit</span><span class="o">=</span><span class="s1">'ghost'</span><span class="p">)</span>
<span class="n">myprog</span> <span class="n">warning</span><span class="p">:</span> <span class="n">ghost</span><span class="p">:</span> <span class="nb">file</span> <span class="ow">not</span> <span class="n">found</span><span class="p">,</span> <span class="n">skipping</span><span class="o">.</span>
</pre>
</div>
<div id="error">
<h3>error</h3>
<pre><span class="n">error</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span>
    <span class="n">severity</span><span class="o">=</span><span class="s1">'error'</span><span class="p">,</span>
    <span class="n">is_error</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">header_color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span>
    <span class="n">output</span><span class="o">=</span><span class="k">lambda</span> <span class="n">informer</span><span class="p">:</span> <span class="ow">not</span> <span class="n">informer</span><span class="o">.</span><span class="n">mute</span><span class="p">,</span>
    <span class="n">log</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="p">)</span>
</pre>
<p>Displays and logs an error message. A header with the label <em>error</em> is added to
the message and the header is colored red.</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="n">Inform</span><span class="p">,</span> <span class="n">error</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">informer</span> <span class="o">=</span> <span class="n">Inform</span><span class="p">(</span><span class="n">prog_name</span><span class="o">=</span><span class="s2">"myprog"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">error</span><span class="p">(</span><span class="s1">'invalid value specified, expected number.'</span><span class="p">,</span> <span class="n">culprit</span><span class="o">=</span><span class="s1">'count'</span><span class="p">)</span>
<span class="n">myprog</span> <span class="n">error</span><span class="p">:</span> <span class="n">count</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">value</span> <span class="n">specified</span><span class="p">,</span> <span class="n">expected</span> <span class="n">number</span><span class="o">.</span>
</pre>
</div>
<div id="fatal">
<h3>fatal</h3>
<pre><span class="n">fatal</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span>
    <span class="n">severity</span><span class="o">=</span><span class="s1">'error'</span><span class="p">,</span>
    <span class="n">is_error</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">terminate</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">header_color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span>
    <span class="n">output</span><span class="o">=</span><span class="k">lambda</span> <span class="n">informer</span><span class="p">:</span> <span class="ow">not</span> <span class="n">informer</span><span class="o">.</span><span class="n">mute</span><span class="p">,</span>
    <span class="n">log</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="p">)</span>
</pre>
<p>Displays and logs an error message. A header with the label <em>error</em> is added to
the message and the header is colored red. The program is terminated with an
exit status of 1.</p>
</div>
<div id="panic">
<h3>panic</h3>
<pre><span class="n">panic</span> <span class="o">=</span> <span class="n">InformantGenerator</span><span class="p">(</span>
    <span class="n">severity</span><span class="o">=</span><span class="s1">'internal error (please report)'</span><span class="p">,</span>
    <span class="n">is_error</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">terminate</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">header_color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span>
    <span class="n">output</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">log</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="p">)</span>
</pre>
<p>Displays and logs a panic message. A header with the label <em>internal error</em> is
added to the message and the header is colored red. The program is terminated
with an exit status of 3.</p>
</div>
</div>
<div id="utilities">
<h2>Utilities</h2>
<p>Several utility functions are provided for your convenience. They are often
helpful when creating messages.</p>
<dl>
<dt>indent(text, leader=’    ‘,  first=0, stops=1, sep=’n’):</dt>
<dd>Indents the text. Multiples of <em>leader</em> are added to the beginning of the
lines to indent.  <em>first</em> is the number of indentations used for the first
line relative to the others (may be negative but (first + stops) should not
be. <em>stops</em> is the default number of indentations to use. <em>sep</em> is the
string used to separate the lines.</dd>
<dt>conjoin(iterable, conj=’ and ‘, sep=’, ‘):</dt>
<dd>Like ”.join(), but allows you to specify a conjunction that is placed
between the last two elements, ex: conjoin([‘a’, ‘b’, ‘c’], conj=’ or ‘)
generates ‘a, b or c’.</dd>
<dt>cull(collection):</dt>
<dd>Strips items from a list that have a particular value. By default, it strips
a list of values that if casted to a boolean would have a value of False
(False, None, ”, (), [], etc.).  A particular value may be specified using
the ‘remove’ as a keyword argument.  The value of remove may be a function,
in which case it takes a single item as an argument and returns <em>True</em> if
that item should be removed from the list.</dd>
<dt>fmt(msg, *args, **kwargs):</dt>
<dd>Similar to ”.format(), but it can pull arguments from the local scope.</dd>
<dt>plural(count, singular_form, plural_form = <em>None</em>):</dt>
<dd>Produces either the singular or plural form of a word based on a count.
The count may be an integer, or an iterable, in which case its length is
used. If the plural form is not give, the singular form is used with an ‘s’
added to the end.</dd>
<dt>os_error(exception):</dt>
<dd>Generates clean messages for operating system errors.</dd>
<dt>is_str(obj):</dt>
<dd>Returns <em>True</em> if its argument is a string-like object.</dd>
<dt>is_iterable(obj):</dt>
<dd>Returns <em>True</em> if its argument is iterable.</dd>
<dt>is_collection(obj):</dt>
<dd>Returns <em>True</em> if its argument is iterable but is not a string.</dd>
</dl>
<p>For example:</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inform</span> <span class="kn">import</span> <span class="p">(</span>
<span class="o">...</span>     <span class="n">Inform</span><span class="p">,</span> <span class="n">display</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">conjoin</span><span class="p">,</span> <span class="n">cull</span><span class="p">,</span> <span class="n">fmt</span><span class="p">,</span> <span class="n">plural</span><span class="p">,</span> <span class="n">os_error</span>
<span class="o">...</span> <span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">Inform</span><span class="p">(</span><span class="n">prog_name</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="o">&lt;...&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">filenames</span> <span class="o">=</span> <span class="n">cull</span><span class="p">([</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">filetype</span> <span class="o">=</span> <span class="s1">'CSV'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">display</span><span class="p">(</span>
<span class="o">...</span>     <span class="n">fmt</span><span class="p">(</span>
<span class="o">...</span>         <span class="s1">'Reading {filetype} {files}: {names}.'</span><span class="p">,</span>
<span class="o">...</span>         <span class="n">files</span><span class="o">=</span><span class="n">plural</span><span class="p">(</span><span class="n">filenames</span><span class="p">,</span> <span class="s1">'file'</span><span class="p">),</span>
<span class="o">...</span>         <span class="n">names</span><span class="o">=</span><span class="n">conjoin</span><span class="p">(</span><span class="n">filenames</span><span class="p">),</span>
<span class="o">...</span>     <span class="p">)</span>
<span class="o">...</span> <span class="p">)</span>
<span class="n">Reading</span> <span class="n">CSV</span> <span class="n">files</span><span class="p">:</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">contents</span> <span class="o">=</span> <span class="p">{}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
<span class="o">...</span>     <span class="k">try</span><span class="p">:</span>
<span class="o">...</span>         <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="o">...</span>             <span class="n">contents</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="o">...</span>     <span class="k">except</span> <span class="ne">IOError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="o">...</span>         <span class="n">error</span><span class="p">(</span><span class="n">os_error</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
<span class="n">error</span><span class="p">:</span> <span class="n">a</span><span class="p">:</span> <span class="n">no</span> <span class="n">such</span> <span class="nb">file</span> <span class="ow">or</span> <span class="n">directory</span><span class="o">.</span>
<span class="n">error</span><span class="p">:</span> <span class="n">b</span><span class="p">:</span> <span class="n">no</span> <span class="n">such</span> <span class="nb">file</span> <span class="ow">or</span> <span class="n">directory</span><span class="o">.</span>
<span class="n">error</span><span class="p">:</span> <span class="n">d</span><span class="p">:</span> <span class="n">no</span> <span class="n">such</span> <span class="nb">file</span> <span class="ow">or</span> <span class="n">directory</span><span class="o">.</span>
</pre>
<p>Notice that <em>filetype</em> was not explicitly passed into <em>fmt()</em> even though it was
explicitly called out in the format string.  <em>filetype</em> can be left out of the
argument list because if <em>fmt</em> does not find a named argument in its argument
list, it will look for a variable of the same name in the local scope.</p>
<div id="color-class">
<h3>Color Class</h3>
<p>The Color class creates colorizers, which are used to render text in
a particular color.  They are like the Python print function in that they take
any number of unnamed arguments that are converted to strings and then joined
into a single string. The string is then coded for the chosen color and
returned. For example:</p>
<pre>&gt;&gt; from inform import Color, display

&gt;&gt; green = Color('green')
&gt;&gt; red = Color('red')
&gt;&gt; success = green('pass:')
&gt;&gt; failure = red('FAIL:')

&gt;&gt; failures = {'outrigger': True, 'signalman': False}
&gt;&gt; for name, fails in failures.iters():
..     result = failure if fails else success
..     display(result, name)
FAIL: outrigger
pass: signalman
</pre>
<p>When the messages print, the ‘pass:’ will be green and ‘FAIL:’ will be red.</p>
<p>The Color class has the concept of a colorscheme. There are three supported
schemes: <em>None</em>, light, and dark. With <em>None</em> the text is not colored. In
general it is best to use the light colorscheme on dark backgrounds and the dark
colorscheme on light backgrounds.</p>
<p>The Color class takes the following arguments when creating a colorizer:</p>
<dl>
<dt>color:</dt>
<dd>Render the text in the specified color. Choose from <em>None</em>, ‘black’, ‘red’,
‘green’, ‘yellow’, ‘blue’, ‘magenta’, ‘cyan’ or ‘white’.</dd>
<dt>colorscheme = ‘dark’:</dt>
<dd>Use the specified colorscheme when rendering the text.
Choose from <em>None</em>, ‘light’ or ‘dark’.</dd>
</dl>
<p>A colorizer takes the following arguments:</p>
<dl>
<dt>text:</dt>
<dd>The text to be colored.</dd>
<dt>colorscheme = <em>False</em>:</dt>
<dd>Use to override the colorscheme when rendering the text.  Choose from <em>None</em>,
<em>False</em>, ‘light’ or ‘dark’.  If you specify <em>False</em> (the default), the
colorscheme specified when creating the colorizer is used.</dd>
</dl>
<p>Colorizers have one user settable attribute: <em>enable</em>. By default <em>enable</em> is
True. If you set it to <em>False</em> the colorizer no longer renders the text in
color.</p>
<p>The Color class has the following class methods:</p>
<dl>
<dt>isTTY(stream):</dt>
<dd><p>Takes a stream as an argument and returns true if it is a TTY. A typical use
is:</p>
<pre>fail = Color('red')
fail.enable = Color.isTTY(sys.stdout))
</pre>
</dd>
<dt>strip_colors(text):</dt>
<dd>Takes a string as its input and return that string stripped of any color
codes.</dd>
</dl>
</div>
</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>263</span> downloads in the last week
  </li>
  <li>
    <span>1899</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>