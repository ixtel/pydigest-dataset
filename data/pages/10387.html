<html><body><div><div class="blog-content">

                        

                            
                        



                        
                            
                                <p>Программист время от времени сталкивается с необходимостью ограничить множество допустимых значений для некоторого типа данных. Например, день недели это 7 различных значений, а месяцев у нас 12. Для удобного хранения подобных данных придуманы перечисления - <code>enum</code>.</p>
<blockquote>
<p>Стандартная реализация <code>enum</code> появилась в Python начиная с версии 3.4 ( <a href="https://www.python.org/dev/peps/pep-0435/">PEP 435</a>. До этого ее легко заменяли словарями.</p>
</blockquote>
<p>Реализация представлена модулем <code>enum</code>. Модуль содержит несколько классы <code>Enum</code>, <code>IntEnum</code> (константы могут иметь только тип <code>int</code>) и декоратор <code>unique</code>, который проверяет ваш набор констант на дубликаты.</p>
<blockquote>
<p>Для версий Python отличных от 3.4 - установите модуль <code>enum34</code>, например, с помощью <code>pip</code> - <code>pip install enum34</code></p>
</blockquote>
<p>Перечисление в классическом виде — это просто набор констант, принадлежащих к одному и тому же типу.</p>
<blockquote>
<p>В Python не принято проверять тип данных, поэтому перечисления были введены просто как удобная и привычная абстракция, знакомая многим. </p>
</blockquote>
<p>Использование <code>enum</code> в Python выглядит так:</p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<span class="n">Animal</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s">'Animal'</span><span class="p">,</span> <span class="s">'ant bee cat dog'</span><span class="p">)</span>
<span class="c"># что почти одно и тоже:</span>
<span class="k">class</span> <span class="nc">Animal</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">ant</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">bee</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">cat</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">dog</span> <span class="o">=</span> <span class="mi">4</span>
<span class="k">print</span><span class="p">(</span><span class="n">Animal</span><span class="o">.</span><span class="n">ant</span><span class="p">)</span>
<span class="c"># &lt;Animal.ant: 1&gt;</span>
</pre></div>


<p>Эти константы можно сравнивать</p>
<div class="codehilite"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">Animal</span><span class="o">.</span><span class="n">ant</span> <span class="o">==</span> <span class="n">Animal</span><span class="o">.</span><span class="n">ant</span>
<span class="bp">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Animal</span><span class="o">.</span><span class="n">ant</span> <span class="o">==</span> <span class="n">Animal</span><span class="o">.</span><span class="n">bee</span>
<span class="bp">False</span>
</pre></div>


<p>Но не стоит думать, что хранением чисел все ограничилось. 
Рассмотрим небольшой пример хранения углов для сторон света (<a href="https://habrahabr.ru/post/208066/#comment_7165286">сперто</a>):</p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="kn">import</span> <span class="nn">enum</span>

<span class="c"># Данные, связанные с перечислением WorldSide</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s">'WorldSideInfo'</span><span class="p">,</span> <span class="p">[</span><span class="s">'angle'</span><span class="p">,</span> <span class="s">'mode'</span><span class="p">])</span>

<span class="k">class</span> <span class="nc">WorldSide</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">"""Класс перечисления определяет стороны света"""</span>

    <span class="n">North</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">NorthEast</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="n">East</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">SouthEast</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="o">-</span><span class="mi">45</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="n">South</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">SouthWest</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="o">-</span><span class="mi">135</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="n">West</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">NorthWest</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="mi">135</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>


<span class="c"># Используем</span>
<span class="n">ws_angle</span> <span class="o">=</span> <span class="n">WorldSide</span><span class="o">.</span><span class="n">NorthWest</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">angle</span>
</pre></div>


<p>Мысли об роли Enum в Python можно почитать по ссылкам:</p>

<p>Еще интересно как раньше пытались реализовать логику enum'ов:</p>

                            
                        



                        

                            
                            <footer class="post-info">
                                <span class="label label-default">Дата</span>
                            <span class="published">
                                <i class="fa fa-calendar"/><time>
                                2016-02-13 12:00:00</time>
                            </span>


                                <span class="label label-default">Категории</span>

                                
                                    
                                        
                                            <a href="/blog/category/sintaksis-python/">Синтаксис Python</a>
                                            
                                        
                                    
                                


                                <span class="label label-default">Теги</span>

                                <a href="/blog/tag/%D1%81%D0%B8%D0%BD%D1%82%D0%B0%D0%BA%D1%81%D0%B8%D1%81/">синтаксис</a>
                                         / 
                                    

                                        <a href="/blog/tag/enum/">enum</a>

                            </footer>
                        


                        
                            
                        

                        
                            
                            <a class="btn btn-sm share-twitter" target="_blank" href="http://twitter.com/home?status=https%3A//pynsk.ru/blog/2016/02/13/enum/%20%D0%A1%D0%B8%D0%BD%D1%82%D0%B0%D0%BA%D1%81%D0%B8%D1%81%20Python%3A%20enum%2C%20%D0%BF%D0%B5%D1%80%D0%B5%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F">Опубликовать в Twitter</a>
                            <a class="btn btn-sm share-facebook" target="_blank" href="http://facebook.com/sharer.php?u=https://pynsk.ru/blog/2016/02/13/enum/&amp;t=%D0%A1%D0%B8%D0%BD%D1%82%D0%B0%D0%BA%D1%81%D0%B8%D1%81%20Python%3A%20enum%2C%20%D0%BF%D0%B5%D1%80%D0%B5%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F">Опубликовать в Facebook</a>
                        

                        
                            
                        

                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        


                        <hr/>
                        
                        <hr/>

                        
                            

            </div>

        </div></body></html>