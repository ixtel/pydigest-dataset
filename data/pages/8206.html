<html><body><div><div class="post-text" itemprop="text">

<p>I am running Pyramid using pyramid_tm and pyramid_mailer. I am catching the following traceback by a Sentry logging service:</p>

<pre><code>Stacktrace (most recent call last):

  File "transaction/_transaction.py", line 374, in _callAfterCommitHooks
    rm.abort(self)
  File "/srv/pyramid/trees/venv/lib/python3.4/site-packages/repoze/sendmail/delivery.py", line 119, in abort
    raise ValueError("TPC in progress")
</code></pre>

<p>As you can seen, the traceback does not contain much information and I am not sure what this is related to and what TPC in progress means. I assume this is somehow related to transaction after commit hooks, sending out email and I guess with few after commit hooks in place the transaction state is somehow unexpected.</p>


    </div>
    </div></body></html>