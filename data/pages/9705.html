<html><body><div><p>search for chinese pinyin and wrap it with HTML.</p>








<p>search for chinese pinyin and wrap it with HTML.</p>
<div id="colorize-pinyin">
<h2>colorize pinyin</h2>
<p>search for chinese pinyin and wrap it with HTML.</p>
<p>module provides some useful functions for working with Chinese pinyin,
“phonetic system for transcribing the Mandarin pronunciations of
Chinese characters into the Latin alphabet” (c) <a href="https://en.wikipedia.org/wiki/Pinyin" rel="nofollow">wikipedia</a>
.</p>
</div>
<div id="usage-sample">
<h2>usage sample</h2>
<blockquote>
<pre>&gt;&gt;&gt; colorized_HTML_string_from_string('nǐ hǎo')
'&lt;span class="pinYinWrapper"&gt;&lt;span class="t3"&gt;nǐ&lt;/span&gt; &lt;span class="t3"&gt;hǎo&lt;/span&gt;&lt;/span&gt;'
</pre>
<pre>&gt;&gt;&gt; ranges_of_pinyin_in_string('nǐ hǎo')
[Range(location=0, length=2), Range(location=3, length=3)]  # == [(0, 2), (3, 3)]
</pre>
</blockquote>
</div>
<div id="requirements">
<h2>requirements</h2>
<p><tt>lxml</tt> is only required if you want to work with DOM.  but it does not listed in requirements because if you want to use them, surely you already have <tt>lxml</tt> on the board; for other cases we don’t need additional third-party libs.</p>
<p>functions that designed to work with <tt>lxml</tt> marked with <tt>[*]</tt>.</p>
</div>
<div id="functions">
<h2>functions</h2>
<p>modify given DOM by replacing children text nodes containing pinyin with
wrapper element:</p>
<p><tt>colorize_DOM</tt> <tt>[*]</tt></p>
<p>undo colorize:</p>
<p><tt>uncolorize_DOM</tt> <tt>[*]</tt></p>
<p>detect and wrap pinyin with HTML in plain text string:</p>
<p><tt>colorized_HTML_string_from_string</tt></p>
<p>do the same, but returns a wrapper – DOM element:</p>
<p><tt>colorized_HTML_element_from_string</tt> <tt>[*]</tt></p>
<p>searching for pinyin in string of text:</p>
<p><tt>ranges_of_pinyin_in_string</tt></p>
<p>finding out what tone has some pinyin word:</p>
<p><tt>determine_tone</tt></p>
<p>remove tones (diacritics) from pinyin string:</p>
<p><tt>lowercase_string_by_removing_pinyin_tones</tt></p>
</div>
<div id="constants">
<h2>constants</h2>
<p><tt>PINYIN_LIST</tt> – specially sorted list of all possible pinyin words.</p>
<p><tt>PINYIN_LIST_BY_LEN</tt> – same as <tt>PINYIN_LIST</tt> but grouped by len descending.</p>
<p><tt>PINYIN_WRAPPER_CLASS</tt> – default class used by <tt>[un]colorize_DOM</tt>.</p>
</div>
</div></body></html>