<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-sondra" class="anchor" href="#sondra" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Sondra</h1>
<dl>
<dt>Author</dt>
<dd>Jefferson Heard</dd>
<dt>Copyright</dt>
<dd>2015 Jefferson Heard</dd>
<dt>License</dt>
<dd>Apache 2.0</dd>
<dt>Development home</dt>
<dd><a href="https://github.com/JeffHeard/sondra">https://github.com/JeffHeard/sondra</a></dd>
<dt>Development status</dt>
<dd>pre-alpha</dd>
<dt>Maintainer</dt>
<dd>Jefferson Heard</dd>
<dt>Documentation</dt>
<dd><a href="http://sondra.readthedocs.org/en/latest/">http://sondra.readthedocs.org/en/latest/</a></dd>
</dl>
<p>Sondra is an "ORM" and REST-ful webservice framework for Python 3.x, Flask, and RethinkDB with some unique
features. Sondra's goal is to aid full stack developers by letting them focus
on data models and functionality instead of writing workarounds and glue code.
It embraces common "shortcuts" developers take in common full-stack web
applications, e.g. merging "Model" and "Controller" in the oft-used MVC
pattern.</p>
<p>Sondra does not currently support asynchronous access to RethinkDB.  The goal
is to eventually support <a href="http://www.tornadoweb.org/en/stable/">Tornado</a></p>
<a name="user-content-features"/>
<h2><a id="user-content-features" class="anchor" href="#features" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Features</h2>
<ul>
<li>A clear, DRY heirarchical application structure that emphasizes convention over configuration.</li>
<li>Authentication via <a href="https://self-issued.info/docs/draft-ietf-oauth-json-web-token.html">JSON Web Tokens</a> (JWT)</li>
<li><a href="http://json-schema.org">JSON-Schema</a> validation for documents.</li>
<li>Expose methods on documents, collections, and applications, complete with schemas for call and return.</li>
<li>A clear, predictable URL scheme for all manner of API calls, covering a broad set of use-cases.</li>
<li>Self documenting APIs with both human-readable help based on docstrings and schemas for every call.</li>
<li>Use API idiomatically over HTTP and native Python without writing boilerplate code</li>
</ul>
<a name="user-content-installation"/>
<h2><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h2>
<pre>$ python setup.py
</pre>
<a name="user-content-contribute"/>
<h2><a id="user-content-contribute" class="anchor" href="#contribute" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Contribute</h2>
<p>Contributions are welcome. I haven't gotten around to posting a "master plan" of any sort yet, but I will get there.
If you're interested in contributing, please <a href="mailto:jefferson.r.heard@gmail.com">email me directly</a> or simply fork the GitHub project and issue a pull
request.</p>
<a name="user-content-support"/>
<h2><a id="user-content-support" class="anchor" href="#support" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Support</h2>
<p>For support, please see the <a href="https://github.com/JeffHeard/sondra">project page on GitHub</a></p>
<a name="user-content-license"/>
<h2><a id="user-content-license" class="anchor" href="#license" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>License</h2>
<p>This project is licensed under the Apache license V2. See <a href="https://github.com/JeffHeard/sondra/blob/master/LICENSE">LICENSE</a>.</p>
<a name="user-content-concept"/>
<h2><a id="user-content-concept" class="anchor" href="#concept" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Concept</h2>
<p>A Sondra API is exposed in Flask as a suite of applications.  Each application
contains a number of document collections, and each collection contains a
number of documents.</p>
<p>Sondra tries to take advantage of all manner of Python idioms in a sane manner.
It generates as much as possible, while avoiding "magic tricks" or introducing
conventions that are already covered by Python idioms. This means that:</p>
<ul>
<li>Online documentation is generated at every level from reStructuredText or Google style docstrings.</li>
<li>Method schemas are generated from annotated function signatures</li>
<li>All URL features that urllib.parse recognizes are taken advantage of to
create a regular URL scheme that encompasses all manner of calls.</li>
</ul>
<a name="user-content-web-services"/>
<h3><a id="user-content-web-services" class="anchor" href="#web-services" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Web Services</h3>
<p>Sondra uses a regular URL scheme for its web services. See the docs directory for more details:</p>
<ul>
<li>Underscores in Python identifiers are replaced with more web-friendly dashes (slugs)</li>
<li>Paths address app / collection / instance (document)</li>
<li>The last path element include an optional . (dot), which separates the object being addressed and a method being
called.</li>
<li>Fragments allow the caller to address sub-documents in JSON responses. Fragments delimted with # are not passed by
browsers to the server. The alternative for delimiting fragments is @!</li>
<li>Path parameters (on the last element, with a ";", see the URL spec or <a href="https://docs.python.org/3/library/urllib.parse.html">urlparse</a> docs) are used to specify output
format or content directives. Currently supported:<ul>
<li>json or format=json retrieves data in JSON format.</li>
<li>geojson or format=geojson retrieves data in GeoJSON feature or feature collection format.</li>
<li>help or format=help retrieves HTML autogenerated help.</li>
<li>schema or format=schema retrieves a JSON-Schema document for the service call.</li>
</ul>
</li>
</ul>
<a name="user-content-documents"/>
<h3><a id="user-content-documents" class="anchor" href="#documents" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Documents</h3>
<p>A Document is a single document that conforms to a JSON-Schema object type.
That is, it is never a simple type nor an array of items.</p>
<p>Documents may expose methods to the HTTP api.  These are similar to instance
methods in Python.  They operate on an individual document in a collection
instead. Document methods might include operations that combine multiple
documents to make a third (add, multiply, divide, subtract, or similar) or they
might provide specific views of a document.  Anything that you would write as
an "instance method" in Python.</p>
<a name="user-content-collections"/>
<h3><a id="user-content-collections" class="anchor" href="#collections" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Collections</h3>
<p>A Collection is a RethinkDB table that contains a specific subclass of
Document, which is defined by a single JSON-Schema. The collection class
defines additionally:</p>
<ul>
<li>The primary key name (defaults to the RethinkDB default of "id")</li>
<li>Indexes</li>
<li>Any document properties that require "special treatment" in RethinkDB such as geographical and date/time types.</li>
<li>Relations to other Collections</li>
<li>The Application class it belongs to.</li>
</ul>
<p>Collections may expose methods to the HTTP api.  These are similar to class
methods in Python, as they operate on the collection itself and not the
individual documents. Collection methods might provide special filtering,
create documents according to a specific template, or set properties on the
collection itself. Anything you would write as a "class method" in Python</p>
<a name="user-content-applications"/>
<h3><a id="user-content-applications" class="anchor" href="#applications" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Applications</h3>
<p>An Application is a reusable grouping of collections and a set of optional
<em>application methods</em>, which operate a bit like globally available functions.
Applications are bound to a single database within RethinkDB.</p>
<p>Applications may expose methods to the HTTP api.  These are similar to the
functions that are defined at the module level in Python.  They are not
specific to a particular class or instance, but instead are defined to provide
broad functionality for the whole application.</p>
<a name="user-content-the-suite"/>
<h3><a id="user-content-the-suite" class="anchor" href="#the-suite" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>The Suite</h3>
<p>A Suite defines the environment of applications, including database
connections and provides some basic functionality. Every application is
registered with the global Suite object, which itself implements Python's
Mapping protocol to provide dictionary-like lookup of application objects.  The
"Suite" object determines the base path of all Application APIs. Suites are
similar in nature to Django's settings.py except that they are class-based.
There may be only <em>one</em> concrete class of Suite in your Flask app, although it
may derive from any number of abstract Suite mixins.</p>

</article>
  </div></body></html>