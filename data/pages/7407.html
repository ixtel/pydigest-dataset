<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-aioodbc" class="anchor" href="#aioodbc" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>aioodbc</h1>
<a href="https://travis-ci.org/aio-libs/aioodbc"><img alt="https://travis-ci.org/aio-libs/aioodbc.svg?branch=master" src="https://camo.githubusercontent.com/17602ab73cc3a48b80f26f787c06e957425e1e91/68747470733a2f2f7472617669732d63692e6f72672f61696f2d6c6962732f61696f6f6462632e7376673f6272616e63683d6d6173746572" data-canonical-src="https://travis-ci.org/aio-libs/aioodbc.svg?branch=master"/></a>
<a href="https://coveralls.io/github/aio-libs/aioodbc?branch=master"><img alt="https://coveralls.io/repos/aio-libs/aioodbc/badge.svg?branch=master&amp;service=github" src="https://camo.githubusercontent.com/1cf896a3a875ed94f58e8c8da5877e37a3587efb/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f61696f2d6c6962732f61696f6f6462632f62616467652e7376673f6272616e63683d6d617374657226736572766963653d676974687562" data-canonical-src="https://coveralls.io/repos/aio-libs/aioodbc/badge.svg?branch=master&amp;service=github"/></a>
<p><strong>aioodbc</strong> is Python 3.5+ module that makes possible accessing <a href="https://en.wikipedia.org/wiki/Open_Database_Connectivity">ODBC</a> databases
with <a href="http://docs.python.org/3.4/library/asyncio.html">asyncio</a>. It is rely on awesome <a href="https://github.com/mkleehammer/pyodbc">pyodbc</a> library, preserve same look and
feel. <em>aioodbc</em> was written async/await syntax (<a href="https://www.python.org/dev/peps/pep-0492/">PEP492</a>) thus not
compatible with Python older then 3.5. Internally <em>aioodbc</em> employ threads
to avoid blocking the event loop, btw <a href="http://techspot.zzzeek.org/2015/02/15/asynchronous-python-and-databases/">threads</a> are not that bad as you think :)</p>
<a name="user-content-supported-databases"/>
<h2><a id="user-content-supported-databases" class="anchor" href="#supported-databases" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Supported Databases</h2>
<p><strong>aioodbc</strong> should work with all databases supported by <a href="https://github.com/mkleehammer/pyodbc">pyodbc</a>. But for now
library have been tested with: <strong>SQLite</strong>, <strong>MySQL</strong> and <strong>PostgreSQL</strong>. Feel
free to add other databases to the test suite by submitting PR.</p>
<a name="user-content-mailing-list"/>
<h2><a id="user-content-mailing-list" class="anchor" href="#mailing-list" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Mailing List</h2>
<p><a href="https://groups.google.com/forum/#!forum/aio-libs">https://groups.google.com/forum/#!forum/aio-libs</a></p>
<a name="user-content-basic-example"/>
<h2><a id="user-content-basic-example" class="anchor" href="#basic-example" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Basic Example</h2>
<p><strong>aioodbc</strong> based on <a href="https://github.com/mkleehammer/pyodbc">pyodbc</a> , and provides same api, you just need
to use  <code>yield from conn.f()</code> or <code>await conn.f()</code> instead of just
call <code>conn.f()</code> for every method.</p>
<p>Properties are unchanged, so <code>conn.prop</code> is correct as well as
<code>conn.prop = val</code>.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> asyncio
<span class="pl-k">import</span> aioodbc


loop <span class="pl-k">=</span> asyncio.get_event_loop()


<span class="pl-k">async</span> <span class="pl-k">def</span> <span class="pl-en">test_example</span>():
    dsn <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Driver=SQLite;Database=sqlite.db<span class="pl-pds">'</span></span>
    conn <span class="pl-k">=</span> <span class="pl-k">await</span> aioodbc.connect(<span class="pl-v">dsn</span><span class="pl-k">=</span>dsn, <span class="pl-v">loop</span><span class="pl-k">=</span>loop)

    cur <span class="pl-k">=</span> <span class="pl-k">await</span> conn.cursor()
    <span class="pl-k">await</span> cur.execute(<span class="pl-s"><span class="pl-pds">"</span>SELECT 42;<span class="pl-pds">"</span></span>)
    r <span class="pl-k">=</span> <span class="pl-k">await</span> cur.fetchall()
    <span class="pl-c1">print</span>(r)
    <span class="pl-k">await</span> cur.close()
    <span class="pl-k">await</span> conn.close()

loop.run_until_complete(test_example())</pre></div>
<a name="user-content-connection-pool"/>
<h2><a id="user-content-connection-pool" class="anchor" href="#connection-pool" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Connection Pool</h2>
<p>Connection pooling ported from <a href="https://github.com/aio-libs/aiopg">aiopg</a> and rely on <a href="https://www.python.org/dev/peps/pep-0492/">PEP492</a> features:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> asyncio
<span class="pl-k">import</span> aioodbc


loop <span class="pl-k">=</span> asyncio.get_event_loop()


<span class="pl-k">async</span> <span class="pl-k">def</span> <span class="pl-en">test_pool</span>():
    dsn <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Driver=SQLite;Database=sqlite.db<span class="pl-pds">'</span></span>
    pool <span class="pl-k">=</span> <span class="pl-k">await</span> aioodbc.create_pool(<span class="pl-v">dsn</span><span class="pl-k">=</span>dsn, <span class="pl-v">loop</span><span class="pl-k">=</span>loop)

    <span class="pl-k">async</span> <span class="pl-k">with</span> pool.acquire() <span class="pl-k">as</span> conn:
        cur <span class="pl-k">=</span> <span class="pl-k">await</span> conn.cursor()
        <span class="pl-k">await</span> cur.execute(<span class="pl-s"><span class="pl-pds">"</span>SELECT 42;<span class="pl-pds">"</span></span>)
        r <span class="pl-k">=</span> <span class="pl-k">await</span> cur.fetchall()
        <span class="pl-c1">print</span>(r)
        <span class="pl-k">await</span> cur.close()
        <span class="pl-k">await</span> conn.close()
    pool.close()
    <span class="pl-k">await</span> pool.wait_closed()

loop.run_until_complete(test_example())</pre></div>
<a name="user-content-context-managers"/>
<h2><a id="user-content-context-managers" class="anchor" href="#context-managers" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Context Managers</h2>
<p>Pool, Connection and Cursor objects support context manager
protocol:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> asyncio
<span class="pl-k">import</span> aioodbc


loop <span class="pl-k">=</span> asyncio.get_event_loop()


<span class="pl-k">async</span> <span class="pl-k">def</span> <span class="pl-en">test_example</span>():
    dsn <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Driver=SQLite;Database=sqlite.db<span class="pl-pds">'</span></span>

    <span class="pl-k">async</span> <span class="pl-k">with</span> aioodbc.create_pool(<span class="pl-v">dsn</span><span class="pl-k">=</span>dsn, <span class="pl-v">loop</span><span class="pl-k">=</span>loop) <span class="pl-k">as</span> pool:
        <span class="pl-k">async</span> <span class="pl-k">with</span> pool.acquire() <span class="pl-k">as</span> conn:
            <span class="pl-k">async</span> <span class="pl-k">with</span> conn.cursor() <span class="pl-k">as</span> cur:
                <span class="pl-k">await</span> cur.execute(<span class="pl-s"><span class="pl-pds">'</span>SELECT 42;<span class="pl-pds">'</span></span>)
                val <span class="pl-k">=</span> <span class="pl-k">await</span> cur.fetchone()
                <span class="pl-c1">print</span>(val)

loop.run_until_complete(test_example())</pre></div>
<a name="user-content-installation"/>
<h2><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h2>
<pre>pip install aioodbc
</pre>
<p>In Linux environment <a href="https://github.com/mkleehammer/pyodbc">pyodbc</a> (hence <em>aioodbc</em>) requires <a href="http://www.unixodbc.org/">unixODBC</a> library.
You can install it using package manager from your OS distribution:</p>
<pre>$ sudo apt-get install unixodbc
$ sudo apt-get install unixodbc-dev
</pre>
<a name="user-content-other-sql-drivers"/>
<h2><a id="user-content-other-sql-drivers" class="anchor" href="#other-sql-drivers" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Other SQL Drivers</h2>
<ul>
<li><a href="https://github.com/aio-libs/aiopg">aiopg</a> - asyncio client for PostgreSQL</li>
<li><a href="https://github.com/aio-libs/aiomysql">aiomysql</a> - asyncio client form MySQL</li>
</ul>
<a name="user-content-requirements"/>
<h2><a id="user-content-requirements" class="anchor" href="#requirements" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Requirements</h2>


</article>
  </div></body></html>