<html><body><div><article class="post-content" itemprop="ArticleBody">
    <p>In this tutorial we’ll create simple web browser using Python PyQt framework.
As you may know PyQt is a set of Python bindings for Qt framework,
and Qt (pronounced <em>cute</em>) is C++ framework used to create
GUI-s. To be strict you can use Qt to develop programs without GUI too,
but developing user interfaces is probably most common thing people do with
this framework. Main benefit of Qt is that it allows you to create GUI-s
that are cross platform, your apps can run on various devices using
native capabilities of each platform without changing your codebase.</p>

<p>Qt comes with a port of webkit, which means that you can create webkit-based
browser in PyQt.</p>

<p>Our browser will do following things:</p>

<ul>
  <li>load urls entered by user into input box</li>
  <li>show all requests performed while rendering the page</li>
  <li>allow you to execute custom JavaScript in page context</li>
</ul>

<h3 id="hello-webkit">Hello Webkit</h3>

<p>Let’s start with simplest possible use case of PyQt Webkit: loading some url, 
opening window and rendering page in this window.</p>

<p>This is trivial to do, and requires around 13 lines of code (with imports
and whitespace):</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">from</span> <span class="nn">PyQt4.QtWebKit</span> <span class="kn">import</span> <span class="n">QWebView</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QApplication</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtCore</span> <span class="kn">import</span> <span class="n">QUrl</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

<span class="n">browser</span> <span class="o">=</span> <span class="n">QWebView</span><span class="p">()</span>
<span class="n">browser</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">QUrl</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="n">browser</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span></code></pre></div>

<p>If you pass url to script from command line it should load this url and show
rendered page in window.</p>

<p>At this point you maybe have something looking like command line browser, which
is already better than python-requests or even Lynx because it renders JavaScript. 
But it’s not much better than Lynx because you can only pass urls from command line when you invoke it. We 
definitely need some way of passing urls to load to our browser.</p>

<h3 id="add-address-bar">Add address bar</h3>

<p>To do this we’ll just add input box at the top of the window, user will type url
into text box, browser will load this url. We will use QLineEdit widget for 
input box. Since we will have two elements (text input and browser frame), we’ll
need to add some grid layout to our app.</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QApplication</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtCore</span> <span class="kn">import</span> <span class="n">QUrl</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtWebKit</span> <span class="kn">import</span> <span class="n">QWebView</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QGridLayout</span><span class="p">,</span> <span class="n">QLineEdit</span><span class="p">,</span> <span class="n">QWidget</span>


<span class="k">class</span> <span class="nc">UrlInput</span><span class="p">(</span><span class="n">QLineEdit</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">browser</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">UrlInput</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span> <span class="o">=</span> <span class="n">browser</span>
        <span class="c"># add event listener on "enter" pressed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">returnPressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_return_pressed</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_return_pressed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">QUrl</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
        <span class="c"># load url into browser frame</span>
        <span class="n">browser</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

    <span class="c"># create grid layout</span>
    <span class="n">grid</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">()</span>
    <span class="n">browser</span> <span class="o">=</span> <span class="n">QWebView</span><span class="p">()</span>
    <span class="n">url_input</span> <span class="o">=</span> <span class="n">UrlInput</span><span class="p">(</span><span class="n">browser</span><span class="p">)</span>
    <span class="c"># url_input at row 1 column 0 of our grid</span>
    <span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">url_input</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="c"># browser frame at row 2 column 0 of our grid</span>
    <span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">browser</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="c"># main app window</span>
    <span class="n">main_frame</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
    <span class="n">main_frame</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
    <span class="n">main_frame</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c"># close app when user closes window</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">())</span></code></pre></div>

<p>At this point you have bare-bones browser that shows some resembrance to
Google Chrome and it uses same rendering engine. You can enter url into input box and 
your app will load url into browser frame and render all HTML and JavaScript.</p>



<p>Of course the most interesting and important part of every browser are its 
dev tools. Every browser worth its name should have its developer console. 
Our Python browser should have some developer tools too.</p>

<p>Let’s add something similar to Chrome “network” tab in dev tools.
We will simply keep track of all requests performed by browser engine while rendering
page. Requests will be shown in table below main browser frame, for simplicity
we will only log url, status code and content type of responses.</p>

<p>Do do this we will need to create a table first, we’ll use QTableWidget for that,
header will contain field names, it will auto-resize each time
new row is added to table.</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">RequestsTable</span><span class="p">(</span><span class="n">QTableWidget</span><span class="p">):</span>
    <span class="n">header</span> <span class="o">=</span> <span class="p">[</span><span class="s">"url"</span><span class="p">,</span> <span class="s">"status"</span><span class="p">,</span> <span class="s">"content-type"</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">RequestsTable</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setColumnCount</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setHorizontalHeaderLabels</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">)</span>
        <span class="n">header</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span>
        <span class="n">header</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">header</span><span class="o">.</span><span class="n">setResizeMode</span><span class="p">(</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">ResizeToContents</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">last_row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()</span>
        <span class="n">next_row</span> <span class="o">=</span> <span class="n">last_row</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="n">next_row</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">dat</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">dat</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">last_row</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">dat</span><span class="p">))</span></code></pre></div>

<p>To keep track of all requests we’ll need to get bit deeper into PyQt internals.
Turns out that Qt exposes NetworkAccessManager class as an API allowing you
to perform and monitor requests performed by application. We will need to
subclass NetworkAccessManager, add event listeners we need, and tell our 
webkit view to use this manager to perform its requests.</p>

<p>First let’s create our network access manager:</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Manager</span><span class="p">(</span><span class="n">QNetworkAccessManager</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">):</span>
        <span class="n">QNetworkAccessManager</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c"># add event listener on "load finished" event</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="n">table</span>

    <span class="k">def</span> <span class="nf">_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reply</span><span class="p">):</span>
        <span class="sd">"""Update table with headers, status code and url.</span>
<span class="sd">        """</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="n">reply</span><span class="o">.</span><span class="n">rawHeaderPairs</span><span class="p">()</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">}</span>
        <span class="n">content_type</span> <span class="o">=</span> <span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">)</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">reply</span><span class="o">.</span><span class="n">url</span><span class="p">()</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span>
        <span class="c"># getting status is bit of a pain</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">reply</span><span class="o">.</span><span class="n">attribute</span><span class="p">(</span><span class="n">QNetworkRequest</span><span class="o">.</span><span class="n">HttpStatusCodeAttribute</span><span class="p">)</span>
        <span class="n">status</span><span class="p">,</span> <span class="n">ok</span> <span class="o">=</span> <span class="n">status</span><span class="o">.</span><span class="n">toInt</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">update</span><span class="p">([</span><span class="n">url</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">status</span><span class="p">),</span> <span class="n">content_type</span><span class="p">])</span></code></pre></div>

<p>I have to say that some things in Qt are not as easy and quick as they should be.
Note how awkward it is to get status code from response. You have to use response
method .attribute() and pass reference to class property of request. This returns
QVariant not int and when you convert to int it returns tuple.</p>

<p>Now finally we have a table and a network access manager. We just need to wire all this
together.</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

    <span class="n">grid</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">()</span>
    <span class="n">browser</span> <span class="o">=</span> <span class="n">QWebView</span><span class="p">()</span>
    <span class="n">url_input</span> <span class="o">=</span> <span class="n">UrlInput</span><span class="p">(</span><span class="n">browser</span><span class="p">)</span>
    <span class="n">requests_table</span> <span class="o">=</span> <span class="n">RequestsTable</span><span class="p">()</span>

    <span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">(</span><span class="n">requests_table</span><span class="p">)</span>
    <span class="c"># to tell browser to use network access manager</span>
    <span class="c"># you need to create instance of QWebPage</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">QWebPage</span><span class="p">()</span>
    <span class="n">page</span><span class="o">.</span><span class="n">setNetworkAccessManager</span><span class="p">(</span><span class="n">manager</span><span class="p">)</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">setPage</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>

    <span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">url_input</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">browser</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">requests_table</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="n">main_frame</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
    <span class="n">main_frame</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
    <span class="n">main_frame</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">())</span></code></pre></div>

<p>Now fire up your browser, enter url into input box and enjoy the view
of all requests filling up table below webframe.</p>

<p>If you have some spare time you could add lots of new functionality here:</p>

<ul>
  <li>add filters by content-type</li>
  <li>add sorting to table</li>
  <li>add timings</li>
  <li>highlight requests with errors (e.g. show them in red)</li>
  <li>show more info about each request - all headers, response content, method</li>
  <li>add option to replay requests and load them into browser frame, e.g.
user clicks on request in table and this url is loaded into browser.</li>
</ul>

<p>This is long TODO list and it would be probably interesting learning
exercise to do all these things, but describing all of them would probably
require to write quite a long book.</p>

<h3 id="add-way-to-evaluate-custom-javascript">Add way to evaluate custom JavaScript</h3>

<p>Finally let’s add one last feature to our experimental browser - 
ability to execute custom JavaScipt in page context.</p>

<p>After everything we’ve done earlier this one comes rather easily,
we just add another QLineEdit widget, connect it to web page object,
and call evaluateJavaScript method of page frame.</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">JavaScriptEvaluator</span><span class="p">(</span><span class="n">QLineEdit</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">JavaScriptEvaluator</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">page</span> <span class="o">=</span> <span class="n">page</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">returnPressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_return_pressed</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_return_pressed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="o">.</span><span class="n">currentFrame</span><span class="p">()</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">evaluateJavaScript</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">())</span></code></pre></div>

<p>then we instantiate it in our main clause and voila our dev tools are ready.</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="c"># ...</span>
    <span class="c"># ...</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">QWebPage</span><span class="p">()</span>
    <span class="c"># ...</span>
    <span class="n">js_eval</span> <span class="o">=</span> <span class="n">JavaScriptEvaluator</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>

    <span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">url_input</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">browser</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">requests_table</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">js_eval</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></code></pre></div>

<p>Now the only thing missing is ability to execute Python in page context. You could probably
develop your browser and add support for Python along JavaScript so that devs writing
apps targeting your browser could.</p>

<h3 id="moving-back-and-forth-other-page-actions">Moving back and forth, other page actions</h3>

<p>Since we already connected our browser to QWebPage object we can also add other
actions important for end users. Qt web page object supports lots of different
actions and you can add them all to your app.</p>

<p>For now let’s just add support for “back”, “forward” and “reload”. You could 
add those actions to our GUI by adding buttons, but it will be easier to just
add another text input box.</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">ActionInputBox</span><span class="p">(</span><span class="n">QLineEdit</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ActionInputBox</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">page</span> <span class="o">=</span> <span class="n">page</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">returnPressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_return_pressed</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_return_pressed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="o">.</span><span class="n">currentFrame</span><span class="p">()</span>
        <span class="n">action_string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">())</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">action_string</span> <span class="o">==</span> <span class="s">"b"</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="o">.</span><span class="n">triggerAction</span><span class="p">(</span><span class="n">QWebPage</span><span class="o">.</span><span class="n">Back</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">action_string</span> <span class="o">==</span> <span class="s">"f"</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="o">.</span><span class="n">triggerAction</span><span class="p">(</span><span class="n">QWebPage</span><span class="o">.</span><span class="n">Forward</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">action_string</span> <span class="o">==</span> <span class="s">"s"</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="o">.</span><span class="n">triggerAction</span><span class="p">(</span><span class="n">QWebPage</span><span class="o">.</span><span class="n">Stop</span><span class="p">)</span></code></pre></div>

<p>just as before you also need to create instance of ActionInputBox, pass reference
to page object and add it to our GUI grid.</p>

<p>Full result should look somewhat like this:</p>

<video controls="">
    <source src="http://pawelmhm.github.io/assets/browser_at_work.ogv" type="video/ogg"/>
</video>

<p>For reference here’s <a href="http://pastebin.com/raw.php?i=WYHLZQDF">code for final result</a></p>

  </article>

</div></body></html>