<html><body><div><article class="post ">
  <p>Today I finally wrote a readme for my little python tool <a href="https://github.com/paradoxxxzero/cutter/">cutter</a>.</p>

<p>This is something that I use daily in conjuction of <a href="https://github.com/Kozea/wdb">wdb</a> for debugging python code.</p>

<p>Here's the readme, I hope you will find it as useful as I am:</p>

<h1>Readme</h1>

<p>Cutter is a small python module that add some sugar on top of list like objects to ease list traversal.</p>

<h2>Usage</h2>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">cutter</span> <span class="kn">import</span> <span class="n">cut</span>

<span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">[</span><span class="s">'one'</span><span class="p">,</span> <span class="s">'two'</span><span class="p">,</span> <span class="s">'three'</span><span class="p">],</span>
  <span class="p">[</span><span class="s">'un'</span><span class="p">,</span> <span class="s">'deux'</span><span class="p">,</span> <span class="s">'trois'</span><span class="p">],</span>
  <span class="p">[</span><span class="s">'uno'</span><span class="p">,</span> <span class="s">'due'</span><span class="p">,</span> <span class="s">'tre'</span><span class="p">]</span>
<span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">cut</span><span class="p">(</span><span class="n">numbers</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>  <span class="c"># Take the second element of every sublist</span>
<span class="p">[</span><span class="s">'two'</span><span class="p">,</span> <span class="s">'deux'</span><span class="p">,</span> <span class="s">'due'</span><span class="p">]</span><span class="o">*</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">cut</span><span class="p">(</span><span class="n">numbers</span><span class="p">)[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>  <span class="c"># Take the third letter of every second element of every sublist</span>
<span class="p">[</span><span class="s">'o'</span><span class="p">,</span> <span class="s">'u'</span><span class="p">,</span> <span class="s">'e'</span><span class="p">]</span><span class="o">.</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">cut</span><span class="p">(</span><span class="n">numbers</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>  <span class="c"># Idem</span>
<span class="p">[</span><span class="s">'o'</span><span class="p">,</span> <span class="s">'u'</span><span class="p">,</span> <span class="s">'e'</span><span class="p">]</span><span class="o">.</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">cut</span><span class="p">(</span><span class="n">numbers</span><span class="p">)[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>  <span class="c"># Upper case the third letter of every second element of every sublist</span>
<span class="p">[</span><span class="s">'O'</span><span class="p">,</span> <span class="s">'U'</span><span class="p">,</span> <span class="s">'E'</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">cut</span><span class="p">(</span><span class="n">numbers</span><span class="p">)[</span><span class="o">...</span><span class="p">]</span>  <span class="c"># Flatten the list for one level</span>
<span class="p">[</span><span class="s">'one'</span><span class="p">,</span> <span class="s">'two'</span><span class="p">,</span> <span class="s">'three'</span><span class="p">,</span> <span class="s">'un'</span><span class="p">,</span> <span class="s">'deux'</span><span class="p">,</span> <span class="s">'trois'</span><span class="p">,</span> <span class="s">'uno'</span><span class="p">,</span> <span class="s">'due'</span><span class="p">,</span> <span class="s">'tre'</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">cut</span><span class="p">(</span><span class="n">numbers</span><span class="p">)[</span><span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>  <span class="c"># First letter of every elements</span>
<span class="p">[</span><span class="s">'o'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">,</span> <span class="s">'u'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">,</span> <span class="s">'u'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">]</span><span class="o">.</span>
</code></pre></div>
<h2>Syntaxic sugars</h2>

<p>There are two syntaxic sugars for an even easier use:</p>

<h3>The |_ syntax</h3>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">cutter</span> <span class="kn">import</span> <span class="n">_</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">numbers</span> <span class="o">|</span><span class="n">_</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="p">[</span><span class="s">'two'</span><span class="p">,</span> <span class="s">'deux'</span><span class="p">,</span> <span class="s">'due'</span><span class="p">]</span><span class="o">*</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">numbers</span> <span class="o">|</span><span class="n">_</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">|</span><span class="n">_</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">|</span><span class="n">_</span> <span class="o">.</span><span class="n">upper</span><span class="p">)()</span>
<span class="p">[</span><span class="s">'O'</span><span class="p">,</span> <span class="s">'U'</span><span class="p">,</span> <span class="s">'E'</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">numbers</span> <span class="o">|</span><span class="n">_</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="p">[</span><span class="s">'one'</span><span class="p">,</span> <span class="s">'two'</span><span class="p">,</span> <span class="s">'three'</span><span class="p">,</span> <span class="s">'un'</span><span class="p">,</span> <span class="s">'deux'</span><span class="p">,</span> <span class="s">'trois'</span><span class="p">,</span> <span class="s">'uno'</span><span class="p">,</span> <span class="s">'due'</span><span class="p">,</span> <span class="s">'tre'</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">numbers</span> <span class="o">|</span><span class="n">_</span> <span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="p">[</span><span class="s">'o'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">,</span> <span class="s">'u'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">,</span> <span class="s">'u'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">]</span><span class="o">.</span>
</code></pre></div>
<h3>The ! syntax</h3>

<p>This syntax is meant for use in shells.</p>

<p>It is for example used in <a href="https://github.com/Kozea/wdb">wdb</a> and the bundled cut.py interpreter.</p>

<p>Cutter provide a <code>bang_compile</code> function which is a wrapper of the python builtin <code>compile</code> function.</p>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="c"># This code muste be compiled with cutter.utils.bang_compile</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">numbers</span><span class="err">!</span><span class="mi">1</span>
<span class="p">[</span><span class="s">'two'</span><span class="p">,</span> <span class="s">'deux'</span><span class="p">,</span> <span class="s">'due'</span><span class="p">]</span><span class="o">*</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">numbers</span><span class="err">!</span><span class="mi">1</span><span class="err">!</span><span class="mi">2</span><span class="err">!</span><span class="n">upper</span><span class="p">()</span>
<span class="p">[</span><span class="s">'O'</span><span class="p">,</span> <span class="s">'U'</span><span class="p">,</span> <span class="s">'E'</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">numbers</span><span class="err">!</span><span class="o">*</span>
<span class="p">[</span><span class="s">'one'</span><span class="p">,</span> <span class="s">'two'</span><span class="p">,</span> <span class="s">'three'</span><span class="p">,</span> <span class="s">'un'</span><span class="p">,</span> <span class="s">'deux'</span><span class="p">,</span> <span class="s">'trois'</span><span class="p">,</span> <span class="s">'uno'</span><span class="p">,</span> <span class="s">'due'</span><span class="p">,</span> <span class="s">'tre'</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">numbers</span><span class="err">!</span><span class="o">*</span><span class="err">!</span><span class="mi">0</span>
<span class="p">[</span><span class="s">'o'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">,</span> <span class="s">'u'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">,</span> <span class="s">'u'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">]</span><span class="o">.</span>
</code></pre></div>
<p>This syntax use the python tokenizer and ast to make it work. This is really useful when debugging to inspect list content.</p>

<h3>More</h3>

<p>Cutter works with dictionaries too:
<code>python
cut(dict)['key']
</code></p>

<p>slices:
<code>python
cut(list)[:5]
</code></p>

<p>For more examples see the test files : <a href="https://github.com/paradoxxxzero/cutter/tree/master/test">test</a></p>

<p>Cutter is compatible with at least: python 2.6, 2.7, 3.2, 3.3, 3.4 and pypy and is licensed under <a href="http://www.gnu.org/licenses/lgpl.html">lgpl v3</a></p>

</article>

</div></body></html>