<html><body><div><div id="content_left"><p id="ie_msg"/>
		
	<div class="paste_box_frame">
		
		
		<div class="paste_box_info">
			<p class="paste_box_line1" title="open random 4chan thread on remote OSX machine"><h1>open random 4chan thread on remote OSX machine</h1></p>
			<div class="paste_box_line2">
				<img src="/i/t.gif" class="img_line t_us" alt=""/><p> a guest 
				</p><img src="/i/t.gif" class="img_line t_da" alt=""/> <span title="Wednesday 1st of April 2015 08:35:04 PM CDT">Apr 1st, 2015</span>
				<img src="/i/t.gif" class="img_line t_vi" alt="" title="Unique visits to this paste"/><p> 631
				</p><img src="/i/t.gif" class="img_line t_ex" alt="" title="When this paste gets automatically deleted"/><p> Never
			</p></div>
		</div>
	</div>
	
			<p id="abrpm"/>
			<p class="banner_728">
				
				
			</p>
			<p class="layout_clear"/>
	<div id="code_frame2">
		<div id="code_frame">
			
			<div id="selectable">
				<div class="python"><ol><li class="li1"><p class="de1"><span class="co1"># open random 4chan thread on remote OSX machine</span></p></li>
<li class="li2"><p class="de2"><span class="co1"># requirements: requests, ssh</span></p></li>
<li class="li1"><p class="de1"><span class="co1"># pip install requests ssh</span></p></li>
<li class="li2"><p class="de2"> </p></li>
<li class="li1"><p class="de1"><span class="kw1">import</span> requests</p></li>
<li class="li2"><p class="de2"><span class="kw1">import</span> <span class="kw3">random</span></p></li>
<li class="li1"><p class="de1"><span class="kw1">import</span> ssh</p></li>
<li class="li2"><p class="de2"> </p></li>
<li class="li1"><p class="de1">boards <span class="sy0">=</span> requests.<span class="me1">get</span><span class="br0">(</span><span class="st0">'http://a.4cdn.org/boards.json'</span><span class="br0">)</span>.<span class="me1">json</span><span class="br0">(</span><span class="br0">)</span><span class="br0">[</span><span class="st0">'boards'</span><span class="br0">]</span></p></li>
<li class="li2"><p class="de2">board <span class="sy0">=</span> <span class="kw3">random</span>.<span class="me1">choice</span><span class="br0">(</span>boards<span class="br0">)</span><span class="br0">[</span><span class="st0">'board'</span><span class="br0">]</span></p></li>
<li class="li1"><p class="de1">pages <span class="sy0">=</span> requests.<span class="me1">get</span><span class="br0">(</span><span class="st0">'http://a.4cdn.org/%s/threads.json'</span> % board<span class="br0">)</span>.<span class="me1">json</span><span class="br0">(</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">page <span class="sy0">=</span> <span class="kw3">random</span>.<span class="me1">choice</span><span class="br0">(</span>pages<span class="br0">)</span></p></li>
<li class="li1"><p class="de1"><span class="kw3">thread</span> <span class="sy0">=</span> <span class="kw3">random</span>.<span class="me1">choice</span><span class="br0">(</span>page<span class="br0">[</span><span class="st0">'threads'</span><span class="br0">]</span><span class="br0">)</span><span class="br0">[</span><span class="st0">'no'</span><span class="br0">]</span></p></li>
<li class="li2"><p class="de2"> </p></li>
<li class="li1"><p class="de1">link <span class="sy0">=</span> <span class="st0">'http://boards.4chan.org/%s/thread/%s'</span> % <span class="br0">(</span>board<span class="sy0">,</span> <span class="kw3">thread</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2"><span class="kw3">cmd</span> <span class="sy0">=</span> <span class="st0">"open %s"</span> % shell_escape<span class="br0">(</span>link<span class="br0">)</span></p></li>
<li class="li1"><p class="de1"> </p></li>
<li class="li2"><p class="de2">c <span class="sy0">=</span> ssh.<span class="me1">SSHClient</span><span class="br0">(</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">c.<span class="me1">set_missing_host_key_policy</span><span class="br0">(</span>ssh.<span class="me1">AutoAddPolicy</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2"> </p></li>
<li class="li1"><p class="de1">c.<span class="me1">connect</span><span class="br0">(</span><span class="st0">'127.0.0.1'</span><span class="sy0">,</span> username<span class="sy0">=</span><span class="st0">'user'</span><span class="sy0">,</span> password<span class="sy0">=</span><span class="st0">'pass'</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">c.<span class="me1">exec_command</span><span class="br0">(</span><span class="kw3">cmd</span><span class="br0">)</span></p></li>
</ol></div>
			</div>
		</div>
	</div>
	<p class="content_title no_border">RAW Paste Data</p>
	<p class="textarea_border">
		
	</p>
			<p>
				
				
			</p>						</div>
					</div></body></html>