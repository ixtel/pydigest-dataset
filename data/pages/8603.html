<html><body><div><div class="section">
              <h1>sshtunnel 0.0.7</h1>

              


<p>Pure python SSH tunnels</p>








<p><a href="https://circleci.com/gh/pahaz/sshtunnel" rel="nofollow"><img src="https://circleci.com/gh/pahaz/sshtunnel.svg?style=svg"/></a> <a href="https://coveralls.io/github/pahaz/sshtunnel?branch=master" rel="nofollow"><img src="https://coveralls.io/repos/github/pahaz/sshtunnel/badge.svg?branch=master"/></a></p>
<p><img src="https://img.shields.io/pypi/dm/sshtunnel.svg"/>
 <img src="https://img.shields.io/pypi/dw/sshtunnel.svg"/>
 <img src="https://img.shields.io/pypi/dd/sshtunnel.svg"/>
</p>
<p><strong>WORKS WITH</strong>: python 2.6, python 2.7, python 3.2, python 3.3, python 3.4,
python 3.5</p>
<p><strong>Author</strong>: <a href="https://github.com/pahaz" rel="nofollow">Pahaz Blinov</a></p>
<p><strong>Repo</strong>: <a href="https://github.com/pahaz/sshtunnel/" rel="nofollow">https://github.com/pahaz/sshtunnel/</a></p>
<p>Inspired by <a href="https://github.com/jmagnusson/bgtunnel" rel="nofollow">https://github.com/jmagnusson/bgtunnel</a> but it doesn’t work on
Windows.</p>
<p>See also: <a href="https://github.com/paramiko/paramiko/blob/master/demos/forward.py" rel="nofollow">https://github.com/paramiko/paramiko/blob/master/demos/forward.py</a></p>
<div id="requirements">
<h2>Requirements</h2>

<div id="installation">
<h3>Installation</h3>
<pre>pip install sshtunnel
</pre>
<p>or</p>
<pre>easy_install sshtunnel
</pre>
<p>Install from source:</p>
<pre>python setup.py develop
</pre>
</div>
</div>
<div id="testing-the-package">
<h2>Testing the package</h2>
<pre>pip install -r requirements-test.txt
python setup.py <span class="nb">test</span>
</pre>
<div id="usage-examples-ssh-tunnel-to-remote-server">
<h3>Usage examples: SSH tunnel to remote server</h3>
<p>Useful when you need to connect to a local port on remote server through ssh
tunnel. It works by opening a port forwarding ssh connection in the
background, using threads. The connection(s) are closed when explicitly
calling the <cite>close</cite> method of the returned SSHTunnelForwarder object.:</p>
<pre>----------------------------------------------------------------------

                            |
-------------+              |    +----------+               +---------
    LOCAL    |              |    |  REMOTE  |               | PRIVATE
    CLIENT   | &lt;== SSH ========&gt; |  SERVER  | &lt;== local ==&gt; | SERVER
-------------+              |    +----------+               +---------
                            |
                         FIREWALL

----------------------------------------------------------------------
</pre>
<p><strong>Fig1</strong>: How to connect to <tt>PRIVATE SERVER</tt> through SSH tunnel.</p>
</div>
</div>
<div id="example-1">
<h2>Example 1</h2>
<pre><span class="kn">from</span> <span class="nn">sshtunnel</span> <span class="kn">import</span> <span class="n">SSHTunnelForwarder</span>

<span class="n">server</span> <span class="o">=</span> <span class="n">SSHTunnelForwarder</span><span class="p">(</span>
    <span class="p">(</span><span class="s1">'pahaz.urfuclub.ru'</span><span class="p">,</span> <span class="mi">22</span><span class="p">),</span>
    <span class="n">ssh_username</span><span class="o">=</span><span class="s2">"pahaz"</span><span class="p">,</span>
    <span class="n">ssh_password</span><span class="o">=</span><span class="s2">"secret"</span><span class="p">,</span>
    <span class="n">remote_bind_address</span><span class="o">=</span><span class="p">(</span><span class="s1">'127.0.0.1'</span><span class="p">,</span> <span class="mi">5555</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">server</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">local_bind_port</span><span class="p">)</span>
<span class="c1"># work with `SECRET SERVICE` through `server.local_bind_port`.</span>

<span class="n">server</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre>
</div>
<div id="example-2">
<h2>Example 2</h2>
<p>Example of a port forwarding for the Vagrant MySQL local port:</p>
<pre><span class="kn">from</span> <span class="nn">sshtunnel</span> <span class="kn">import</span> <span class="n">SSHTunnelForwarder</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>

<span class="k">with</span> <span class="n">SSHTunnelForwarder</span><span class="p">(</span>
    <span class="p">(</span><span class="s1">'localhost'</span><span class="p">,</span> <span class="mi">2222</span><span class="p">),</span>
    <span class="n">ssh_username</span><span class="o">=</span><span class="s2">"vagrant"</span><span class="p">,</span>
    <span class="n">ssh_password</span><span class="o">=</span><span class="s2">"vagrant"</span><span class="p">,</span>
    <span class="n">remote_bind_address</span><span class="o">=</span><span class="p">(</span><span class="s1">'127.0.0.1'</span><span class="p">,</span> <span class="mi">3306</span><span class="p">)</span>
<span class="p">)</span> <span class="k">as</span> <span class="n">server</span><span class="p">:</span>

    <span class="k">print</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">local_bind_port</span><span class="p">)</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="c1"># press Ctrl-C for stopping</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s1">'FINISH!'</span><span class="p">)</span>
</pre>
<p>Or simply using the CLI:</p>
<pre>python -m sshtunnel -U vagrant -P vagrant -L :3306 -R 127.0.0.1:3306 -p <span class="m">2222</span> localhost
</pre>
<p id="api-arguments">
<h3>API/arguments</h3>
</p>
</div>
<div id="sshtunnelforwarder-arguments">
<h2><tt>SSHTunnelForwarder</tt> arguments</h2>
<p>This is an incomplete list of arguments.  See <tt>__init__()</tt> method of
<tt>SSHTunnelForwarder</tt> class in <tt>sshtunnel.py</tt> for a full list.</p>
</div>
<div id="ssh-proxy-none">
<h2><tt>ssh_proxy = None</tt></h2>
<p>Accepts a <a href="http://paramiko-docs.readthedocs.org/en/latest/api/proxy.html" rel="nofollow"><tt>paramiko.ProxyCommand</tt></a>
object where all SSH traffic will be passed through.
See either the <a href="http://paramiko-docs.readthedocs.org/en/latest/api/proxy.html" rel="nofollow"><tt>paramiko.ProxyCommand</tt></a> documentation
or <tt>ProxyCommand</tt> in <tt>ssh_config(5)</tt> for more information.</p>
<blockquote>
<p>Note: <tt>ssh_proxy</tt> overrides any <tt>ProxyCommand</tt> sourced from the user
<tt>ssh_config</tt>.</p>
<p>Note: <tt>ssh_proxy</tt> is ignored if <tt>ssh_proxy_enabled != True</tt>.</p>
</blockquote>
</div>
<div id="ssh-proxy-enabled-true">
<h2><tt>ssh_proxy_enabled = True</tt></h2>
<p>If True (default) and user’s <tt>ssh_config</tt> file contains a <tt>ProxyCommand</tt>
directive that matches the specified <tt>ssh_address_or_host</tt> (or first
positional argument), <tt>SSHTunnelForwarder</tt> will create a
<a href="http://paramiko-docs.readthedocs.org/en/latest/api/proxy.html" rel="nofollow"><tt>paramiko.ProxyCommand</tt></a> object where all SSH traffic will be passed through.</p>
<p>See the <tt>ssh_proxy</tt> argument for more details.</p>

<div id="changelog">
<h3>CHANGELOG</h3>
<ul>
<li><dl>
<dt>v.0.0.7</dt>
<dd><ul>
<li>Tunnels can now be stopped and started safely (<a href="https://github.com/pahaz/sshtunnel/issues/41" rel="nofollow">#41</a>)</li>
<li>Add timeout to SSH gateway and keep-alive messages (<a href="https://github.com/pahaz/sshtunnel/issues/29" rel="nofollow">#29</a>)</li>
<li>Allow sending a pkey directly (<a href="https://github.com/pahaz/sshtunnel/issues/43" rel="nofollow">#43</a>)</li>
<li>Add <tt><span class="pre">-V</span></tt> CLI option to show current version</li>
<li>Refactoring</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>v.0.0.6</dt>
<dd><ul>
<li>add <tt><span class="pre">-S</span></tt> CLI options for ssh private key password support (pahaz)</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>v.0.0.5</dt>
<dd><ul>
<li>add <tt>ssh_proxy</tt> argument, as well as <tt>ssh_config(5)</tt> <tt>ProxyCommand</tt> support (lewisthompson)</li>
<li>add some python 2.6 compatibility fixes (mrts)</li>
<li><tt>paramiko.transport</tt> inherits handlers of loggers passed to <tt>SSHTunnelForwarder</tt> (fernandezcuesta)</li>
<li>fix <a href="https://github.com/pahaz/sshtunnel/issues/34" rel="nofollow">#34</a>, <a href="https://github.com/pahaz/sshtunnel/issues/33" rel="nofollow">#33</a>, code style and docs (fernandezcuesta)</li>
<li>add tests (pahaz)</li>
<li>add CI integration (pahaz)</li>
<li>normal packaging (pahaz)</li>
<li>disable check distenation socket connection by <tt>SSHTunnelForwarder.local_is_up</tt> (pahaz) [changed default behavior]</li>
<li>use daemon mode = False in all threads by default; <a href="https://github.com/pahaz/sshtunnel/commit/64af238b799b0e0057c4f9b386cda247e0006da9#diff-76bc1662a114401c2954deb92b740081R127" rel="nofollow">detail</a> (pahaz) [changed default behavior]</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>v.0.0.4.4</dt>
<dd><ul>
<li>fix issue <a href="https://github.com/pahaz/sshtunnel/issues/24" rel="nofollow">#24</a> - hide ssh password in logs (pahaz)</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>v.0.0.4.3</dt>
<dd><ul>
<li>fix default port issue <a href="https://github.com/pahaz/sshtunnel/issues/19" rel="nofollow">#19</a> (pahaz)</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>v.0.0.4.2</dt>
<dd><ul>
<li>fix Thread.daemon mode for Python &lt; 3.3 <a href="https://github.com/pahaz/sshtunnel/issues/16" rel="nofollow">#16</a>, <a href="https://github.com/pahaz/sshtunnel/issues/21" rel="nofollow">#21</a> (lewisthompson, ewrogers)</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>v.0.0.4.1</dt>
<dd><ul>
<li>fix CLI issues <a href="https://github.com/pahaz/sshtunnel/issues/13" rel="nofollow">#13</a> (pahaz)</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>v.0.0.4</dt>
<dd><ul>
<li>daemon mode by default for all threads (fernandezcuesta, pahaz) - <em>incompatible</em></li>
<li>move <tt>make_ssh_forward_server</tt> to <tt>SSHTunnelForwarder.make_ssh_forward_server</tt> (pahaz, fernandezcuesta) - <em>incompatible</em></li>
<li>move <tt>make_ssh_forward_handler</tt> to <tt>SSHTunnelForwarder.make_ssh_forward_handler_class</tt> (pahaz, fernandezcuesta) - <em>incompatible</em></li>
<li>rename <tt>open</tt> to <tt>open_tunnel</tt> (fernandezcuesta) - <em>incompatible</em></li>
<li>add CLI interface (fernandezcuesta)</li>
<li>support opening several tunnels at once (fernandezcuesta)</li>
<li>improve stability and readability (fernandezcuesta, pahaz)</li>
<li>improve logging (fernandezcuesta, pahaz)</li>
<li>add <tt>raise_exception_if_any_forwarder_have_a_problem</tt> argument for opening several tunnels at once (pahaz)</li>
<li>add <tt>ssh_config_file</tt> argument support (fernandezcuesta)</li>
<li>add Python 3 support (fernandezcuesta, pahaz)</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>v.0.0.3</dt>
<dd><ul>
<li>add <tt>threaded</tt> options (cameronmaske)</li>
<li>fix exception error message, correctly printing destination address (gdmachado)</li>
<li>fix pip install fails (cjermain, pahaz)</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>v.0.0.1</dt>
<dd><ul>
<li><tt>SSHTunnelForwarder</tt> class (pahaz)</li>
<li><tt>open</tt> function (pahaz)</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div id="help">
<h3>HELP</h3>
<pre>usage: sshtunnel    [-h] [-U SSH_USERNAME] [-p SSH_PORT] [-P SSH_PASSWORD] -R
                    IP:PORT [IP:PORT ...] [-L [IP:PORT [IP:PORT ...]]]
                    [-k SSH_HOST_KEY] [-K RSA_KEY_FILE]
                    [-S RSA_KEY_FILE_PASSWORD] [-t] [-v]
                    ssh_address

Pure python ssh tunnel utils

positional arguments:
  ssh_address           SSH server IP address (GW for ssh tunnels)
                        set with "-- ssh_address" if immediately after -R or -L

optional arguments:
  -h, --help            show this help message and exit
  -U SSH_USERNAME, --username SSH_USERNAME
                        SSH server account username
  -p SSH_PORT, --server_port SSH_PORT
                        SSH server TCP port (default: 22)
  -P SSH_PASSWORD, --password SSH_PASSWORD
                        SSH server account password
  -R IP:PORT [IP:PORT ...], --remote_bind_address IP:PORT [IP:PORT ...]
                        Remote bind address sequence: ip_1:port_1 ip_2:port_2 ... ip_n:port_n
                        Equivalent to ssh -Lxxxx:IP_ADDRESS:PORT
                        If omitted, default port is 22.
                        Example: -R 10.10.10.10: 10.10.10.10:5900
  -L [IP:PORT [IP:PORT ...]], --local_bind_address [IP:PORT [IP:PORT ...]]
                        Local bind address sequence: ip_1:port_1 ip_2:port_2 ... ip_n:port_n
                        Equivalent to ssh -LPORT:xxxxxxxxx:xxxx, being the local IP address optional.
                        By default it will listen in all interfaces (0.0.0.0) and choose a random port.
                        Example: -L :40000
  -k SSH_HOST_KEY, --ssh_host_key SSH_HOST_KEY
                        Gateway's host key
  -K RSA_KEY_FILE, --private_key_file RSA_KEY_FILE
                        RSA private key file
  -S RSA_KEY_FILE_PASSWORD, --private_key_file_password RSA_KEY_FILE_PASSWORD
                        RSA private key file password
  -t, --threaded        Allow concurrent connections to each tunnel
  -v, --verbosity       Increase output verbosity (default: 40)
</pre>
</div>
</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>742</span> downloads in the last week
  </li>
  <li>
    <span>4864</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>