<html><body><div><div class="entry-content">
                
                <p>With Python being such an elegant language generally, it’s a surprise to
come across features that don’t feel as well-designed as they could have
been.  Formatted printing is one such feature.</p>
<p>Consider how this works in Python 3. Strings have a <code>format</code> method, to
which we must pass the values to be formatted.  The string itself defines
placeholders for those values and provides formatting directives that
control the final appearance of the values.  The <code>format</code> method returns
a string, which is typically then passed to the <code>print</code> function.  Here’s an example:</p>
<div class="highlight"><pre><span class="nb">print</span><span class="p">(</span><span class="s">"{:d} values, mean = {:.3f}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num_values</span><span class="p">,</span> <span class="n">mean</span><span class="p">))</span>
</pre></div>


<p>For some reason, invoking a method on a literal value always looks a little
odd to me.  Of course, this can be avoided by introducing a variable to
represent the format string, at the risk of making the code more complicated:</p>
<div class="highlight"><pre><span class="n">template</span> <span class="o">=</span> <span class="s">"{:d} values, mean = {:.3f}"</span>
<span class="nb">print</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num_values</span><span class="p">,</span> <span class="n">mean</span><span class="p">))</span>
</pre></div>


<p>Now let’s imagine that Python has a <code>printf</code> function, analogous to that in
C.  The format string is passed in as the first argument and the values to be
formatted are passed as the remaining arguments.  Our code example now becomes</p>
<div class="highlight"><pre><span class="n">printf</span><span class="p">(</span><span class="s">"{:d} values, mean = {:.3f}"</span><span class="p">,</span> <span class="n">num_values</span><span class="p">,</span> <span class="n">mean</span><span class="p">)</span>
</pre></div>


<p>Simpler and cleaner, in my view.</p>
<p>Sadly, Python does not have such a <code>printf</code> function, but it isn’t difficult
to provide your own:</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">printf</span><span class="p">(</span><span class="n">template</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>


<p>The <code>*args</code> parameter collects the arguments to be formatted.  The <code>**kwargs</code>
parameter allows <code>printf</code> to support the various keyword arguments that can
be used with the built-in <code>print</code> function.</p>
            </div>
            
    </div></body></html>