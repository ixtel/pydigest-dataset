<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-test-builder" class="anchor" href="#test-builder" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>test-builder</h1>

<p>Converting JMeter to Load Impact: A Loading Test builder based on the Load Impact Python SDK</p>

<h1><a id="user-content-introduction" class="anchor" href="#introduction" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Introduction</h1>

<p>This application implements the idea of building the load test configurations automatically.
To fulfill its mission, it carries out several steps:</p>

<ol>
<li><p>It fetches the JMX files from a drop location (assests in the root of the project),
and parse the relevant fields. Right now we have only one JMX file, but the system can be
easily adjusted to  iterate over the drop location and parse then later. 
Another idea is to sort(by time, etc) and possibly delete the JMX files IF we don't need
to keep them.</p></li>
<li><p>While parsing JMX files, it builds a python dictionary from the interested values 
to be used later.</p></li>
<li><p>Next, it builds a lua-syntax-friendly string as a string representation 
of user scenario.</p></li>
<li><p>Using the loadimpact's RESTful SDK, it sends the user scenario to their servers and
gets the response back from the server.</p></li>
<li><p>Finally it creates a load test configuration and sends it to the server 
by, again, loadimpact's RESTful SDK.
To test the performance of SDK, another RESTful message has been created with 
Requests library and has been marked as a comment in the source code.               </p></li>
<li><p>This application has a good degree of test coverage. <strong>Test Driven Development</strong> was the
the major approach while building the application. </p></li>
</ol>

<h1><a id="user-content-installing" class="anchor" href="#installing" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installing</h1>

<p>To run the application properly, you should install two libraries :</p>

<div class="highlight highlight-source-shell"><pre>$ pip install loadimpact
$ pip install requests</pre></div>

<p>After installing the necessary libraries, clone the project into your local machine</p>

<h1><a id="user-content-cli-interface" class="anchor" href="#cli-interface" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>CLI interface</h1>

<p>A <code>manage.py</code> file has been built to behave as a command line interface for 
the application. 
To see the options that it provides, issue the following command:</p>



<p>As you can see there are three options : <code>help</code> , <code>test</code> and <code>run</code> the application </p>

<h1><a id="user-content-first-create-an-api-token" class="anchor" href="#first-create-an-api-token" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>First create an API Token</h1>

<p>Please Go to loadimpact.com account page and create an API Token.
Then <code>export</code> the Token as an <code>environment variable</code>. </p>

<div class="highlight highlight-source-shell"><pre>$ <span class="pl-k">export</span> LOADIMPACT_API_TOKEN=YOUR_API_TOKEN_GOES_HERE</pre></div>

<h1><a id="user-content-second-run-the-tests" class="anchor" href="#second-run-the-tests" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Second run the tests</h1>

<p>Let's test the application first</p>

<div class="highlight highlight-source-shell"><pre>$ python manage.py -t <span class="pl-c1">test</span></pre></div>

<p>here is a response </p>

<div class="highlight highlight-source-shell"><pre>test_version (test_utils.TestUtilsModuleFunctions) ... ok
test_fetch_filename (test_main.TestJMXParse) ... ok
test_if_Jmetertestplan_exists (test_main.TestJMXParse) ... ok
test_if_assets_folder_exits (test_main.TestJMXParse) ... ok
test_parse_and_build_jMeter_dict (test_main.TestJMXParse) ... ok
test_build_user_scenario_string (test_main.TestUserScenarioCreator) ... ok
test_send_user_scenario_string (test_main.TestUserScenarioCreator) ... ok

----------------------------------------------------------------------
Ran 7 tests <span class="pl-k">in</span> 4.692s

OK</pre></div>

<h1><a id="user-content-third-run-the-application" class="anchor" href="#third-run-the-application" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Third run the application</h1>

<p>To run the application, type the following command</p>

<div class="highlight highlight-source-shell"><pre>$ python manage.py -r run</pre></div>

<p>A successful running should be </p>

<div class="highlight highlight-source-shell"><pre>Building the load configuration <span class="pl-c1">test</span> and uploading to loadimpact servers.
.........................................
Configuration <span class="pl-c1">test</span> uploaded successfully <span class="pl-k">!</span></pre></div>
</article>
  </div></body></html>