<html><body><div><div id="id3">
<span id="usage"/><h2>Usage</h2>
<p>Add <a href="https://github.com/klen/muffin-redis" rel="nofollow">Muffin-Redis</a> and Muffin-Cache to muffin plugin list:</p>
<pre><span class="kn">import</span> <span class="nn">muffin</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">muffin</span><span class="o">.</span><span class="n">Application</span><span class="p">(</span>
    <span class="s1">'example'</span><span class="p">,</span>

    <span class="n">PLUGINS</span><span class="o">=</span><span class="p">(</span>
        <span class="s1">'muffin_redis'</span><span class="p">,</span>
        <span class="s1">'muffin_cache'</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre>
<p>And use <em>CacheHandler</em> for class based views:</p>
<pre><span class="kn">from</span> <span class="nn">muffin_cache</span> <span class="kn">import</span> <span class="n">CacheHandler</span>

<span class="nd">@app.register</span><span class="p">(</span><span class="s1">'/cached'</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Example</span><span class="p">(</span><span class="n">CacheHandler</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">'text'</span>
</pre>
<p>Or <em>cache_view</em> for functions based views:</p>
<pre><span class="kn">from</span> <span class="nn">muffin_cache</span> <span class="kn">import</span> <span class="n">cache_view</span>

<span class="nd">@app.register</span><span class="p">(</span><span class="s1">'/cached'</span><span class="p">)</span>
<span class="nd">@cache_view</span>
<span class="k">def</span> <span class="nf">example</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">'text'</span>
</pre>
<p>The cache lifetime is determined by <em>CACHE_LIFETIME</em> setting of muffin application.
(the default lifetime is 30 minutes).</p>
</div>
</div></body></html>