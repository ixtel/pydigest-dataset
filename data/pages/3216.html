<html><body><div><div id="content_left"><p id="ie_msg"/>
		
	
	
			<p id="abrpm"/>
			<p class="banner_728">
				
				
			</p>
			<p class="layout_clear"/>
	<div id="code_frame2">
		<div id="code_frame">
			
			<div id="selectable">
				<div class="python"><ol><li class="li1"><p class="de1"><span class="kw1">import</span> requests</p></li>
<li class="li2"><p class="de2"><span class="kw1">from</span> lxml <span class="kw1">import</span> html</p></li>
<li class="li1"><p class="de1"><span class="kw1">import</span> <span class="kw3">itertools</span></p></li>
<li class="li2"><p class="de2"><span class="kw1">import</span> <span class="kw3">urlparse</span></p></li>
<li class="li1"><p class="de1"><span class="kw1">import</span> <span class="kw3">random</span></p></li>
<li class="li2"><p class="de2"><span class="kw1">import</span> <span class="kw3">time</span></p></li>
<li class="li1"><p class="de1"> </p></li>
<li class="li2"><p class="de2"><span class="kw3">random</span>.<span class="me1">seed</span><span class="br0">(</span><span class="kw3">time</span>.<span class="kw3">time</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1"> </p></li>
<li class="li2"><p class="de2">_seed <span class="sy0">=</span> <span class="kw2">map</span><span class="br0">(</span><span class="kw1">lambda</span> x: <span class="st0">"http://www.pornhub.com/video?o=bw&amp;page=%d"</span>%<span class="br0">(</span>x+<span class="nu0">1</span><span class="br0">)</span><span class="sy0">,</span><span class="kw2">range</span><span class="br0">(</span><span class="nu0">5</span><span class="br0">)</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">_extract_urls <span class="sy0">=</span> <span class="kw1">lambda</span> x : <span class="br0">[</span> <span class="kw3">urlparse</span>.<span class="me1">urljoin</span><span class="br0">(</span><span class="st0">"http://www.pornhub.com"</span><span class="sy0">,</span>\</p></li>
<li class="li2"><p class="de2">        i.<span class="me1">find_class</span><span class="br0">(</span><span class="st0">'wrap'</span><span class="br0">)</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">findall</span><span class="br0">(</span><span class="st0">'div'</span><span class="br0">)</span><span class="br0">[</span>::-<span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">find_class</span><span class="br0">(</span><span class="st0">'title'</span><span class="br0">)</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">findall</span><span class="br0">(</span><span class="st0">'a'</span><span class="br0">)</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">get</span><span class="br0">(</span><span class="st0">'href'</span><span class="br0">)</span><span class="br0">)</span>\</p></li>
<li class="li1"><p class="de1">         <span class="kw1">for</span> i <span class="kw1">in</span> html.<span class="me1">fromstring</span><span class="br0">(</span>requests.<span class="me1">get</span><span class="br0">(</span>x<span class="sy0">,</span>proxies<span class="sy0">=</span><span class="br0">{</span><span class="st0">"http"</span>:<span class="st0">"http://202.171.253.74:84"</span><span class="br0">}</span><span class="br0">)</span>.<span class="me1">content</span><span class="br0">)</span>.<span class="me1">xpath</span><span class="br0">(</span><span class="st0">'//div[@class="sectionWrapper"]/ul'</span><span class="br0">)</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">findall</span><span class="br0">(</span><span class="st0">'li'</span><span class="br0">)</span> <span class="br0">]</span></p></li>
<li class="li2"><p class="de2"> </p></li>
<li class="li1"><p class="de1">_get_content   <span class="sy0">=</span> <span class="kw1">lambda</span> x: html.<span class="me1">fromstring</span><span class="br0">(</span>requests.<span class="me1">get</span><span class="br0">(</span>x<span class="sy0">,</span>proxies<span class="sy0">=</span><span class="br0">{</span><span class="st0">"http"</span>:<span class="st0">"http://202.171.253.74:84"</span><span class="br0">}</span><span class="br0">)</span>.<span class="me1">content</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">_comments          <span class="sy0">=</span> <span class="kw1">lambda</span> x: <span class="br0">[</span><span class="st0">""</span>.<span class="me1">join</span><span class="br0">(</span>i.<span class="me1">findall</span><span class="br0">(</span><span class="st0">'div'</span><span class="br0">)</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">itertext</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span> <span class="kw1">for</span> i <span class="kw1">in</span> x.<span class="me1">xpath</span><span class="br0">(</span><span class="st0">'//div[@class="commentMsg"]'</span><span class="br0">)</span> <span class="br0">]</span></p></li>
<li class="li1"><p class="de1">_read_comments <span class="sy0">=</span> <span class="kw1">lambda</span> x: _comments<span class="br0">(</span>_get_content<span class="br0">(</span>x<span class="br0">)</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2"> </p></li>
<li class="li1"><p class="de1"><span class="kw1">if</span> __name__ <span class="sy0">==</span> <span class="st0">"__main__"</span>:</p></li>
<li class="li2"><p class="de2">        <span class="kw1">print</span> <span class="st0">'Today<span class="es0">\'</span>s wisdom: '</span><span class="sy0">,</span><span class="kw3">random</span>.<span class="me1">choice</span><span class="br0">(</span>_read_comments<span class="br0">(</span><span class="kw3">random</span>.<span class="me1">choice</span><span class="br0">(</span><span class="kw2">list</span> \</p></li>
<li class="li1"><p class="de1">                <span class="br0">(</span><span class="kw3">itertools</span>.<span class="me1">chain</span>.<span class="me1">from_iterable</span>\</p></li>
<li class="li2"><p class="de2">                        <span class="br0">(</span><span class="kw2">map</span><span class="br0">(</span>_extract_urls<span class="sy0">,</span>_seed<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span></p></li>
</ol></div>
			</div>
		</div>
	</div>
	<p class="content_title no_border">RAW Paste Data</p>
	<p class="textarea_border">
		
	</p>
			<p>
				
				
			</p>						</div>
					</div></body></html>