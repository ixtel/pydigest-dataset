<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-webhoseio-client-for-python" class="anchor" href="#webhoseio-client-for-python" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>webhose.io client for Python</h1>
<p>A simple way to access the <a href="https://webhose.io">webhose.io</a> API from your Python code</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> webhose

webhose.config(<span class="pl-v">token</span><span class="pl-k">=</span><span class="pl-c1">YOUR_API_KEY</span>)
<span class="pl-k">for</span> post <span class="pl-k">in</span> webhose.search(<span class="pl-s"><span class="pl-pds">"</span>github<span class="pl-pds">"</span></span>):
    <span class="pl-c1">print</span>(post.title)</pre></div>
<a name="user-content-api-key"/>
<h2><a id="user-content-api-key" class="anchor" href="#api-key" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>API Key</h2>
<p>To make use of the webhose.io API, you need to obtain a token that would be
used on every request. To obtain an API key, create an account at
<a href="https://webhose.io/auth/signup">https://webhose.io/auth/signup</a>, and then go into
<a href="https://webhose.io/dashboard">https://webhose.io/dashboard</a> to see your token.</p>
<a name="user-content-installing"/>
<h2><a id="user-content-installing" class="anchor" href="#installing" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installing</h2>
<p>Available through pip:</p>

<p>Alternatively, you can install from source:</p>
<div class="highlight highlight-source-shell"><pre>$ git clone https://github.com/Buzzilla/webhose-python
$ <span class="pl-c1">cd</span> webhose-python
$ python setup.py install</pre></div>
<a name="user-content-use-the-api"/>
<h2><a id="user-content-use-the-api" class="anchor" href="#use-the-api" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Use the API</h2>
<p>To get started, you need to import the library, and set your access token.
(Replace YOUR_API_KEY with your actual API key).</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">import</span> webhose
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> webhose.config(<span class="pl-v">token</span><span class="pl-k">=</span><span class="pl-c1">YOUR_API_KEY</span>)</pre></div>
<p>Now you can make a request and inspect the results:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> r <span class="pl-k">=</span> webhose.search(<span class="pl-s"><span class="pl-pds">"</span>foobar<span class="pl-pds">"</span></span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> r.total
<span class="pl-c1">62</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">len</span>(r.posts)
<span class="pl-c1">62</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> r.posts[<span class="pl-c1">0</span>].language
<span class="pl-s"><span class="pl-pds">'</span>english<span class="pl-pds">'</span></span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> r.posts[<span class="pl-c1">0</span>].title
<span class="pl-s"><span class="pl-pds">'</span>Putting quotes around dictionary keys in JS<span class="pl-pds">'</span></span></pre></div>
<p>For your convenience, the Response object is iterable, so you can loop over it
and get all the results. The iterator will create additional API requests to
fetch additional pages.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> total_words <span class="pl-k">=</span> <span class="pl-c1">0</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">for</span> post <span class="pl-k">in</span> r:
<span class="pl-c1">...</span>     total_words <span class="pl-k">+=</span> <span class="pl-c1">len</span>(post.text.split(<span class="pl-s"><span class="pl-pds">"</span> <span class="pl-pds">"</span></span>))
<span class="pl-c1">...</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">print</span>(total_words)
<span class="pl-c1">56006</span></pre></div>
<p><strong>Warning</strong>: This method can use up your credits if your search has lots of
results.</p>
<a name="user-content-full-documentation"/>
<h2><a id="user-content-full-documentation" class="anchor" href="#full-documentation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Full documentation</h2>
<ul>
<li>config(token)
</li>
<li>search(query, token=None)<ul>
<li>query - the search query, either as a search string, or as a Query object</li>
<li>token - you can provide the API key directly to the search function if you want</li>
</ul>
</li>
</ul>
<a name="user-content-query-objects"/>
<h3><a id="user-content-query-objects" class="anchor" href="#query-objects" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Query objects</h3>
<p>Query object correspond to the advanced search options that appear on <a href="https://webhose.io/use">https://webhose.io/use</a></p>
<p>Query object have the following members:</p>
<ul>
<li><code>all_terms</code> - a list of strings, all of which must appear in the results</li>
<li><code>some_terms</code> - a list of strings, some of which must appear in the results</li>
<li><code>phrase</code> - a phrase that must appear verbatim in the results</li>
<li><code>exclude</code> - terms that should not appear in the results</li>
<li><code>site_type</code> - one or more of <code>discussions</code>, <code>news</code>, <code>blogs</code></li>
<li><code>language</code> - one or more of language names, in lowercase english</li>
<li><code>site</code> - one or more of site names, top level only (i.e., yahoo.com and not news.yahoo.com)</li>
<li><code>title</code> - terms that must appear in the title</li>
<li><code>body_text</code> - term that must appear in the body text</li>
</ul>
<p>Query objects implement the <code>__str__()</code> method, which shows the resulting search string.</p>
<a name="user-content-response-objects"/>
<h3><a id="user-content-response-objects" class="anchor" href="#response-objects" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Response objects</h3>
<p>Response objects have the following members:</p>
<ul>
<li><code>total</code> - the total number of posts which match this search</li>
<li><code>more</code> - the number of posts not included in this response</li>
<li><code>posts</code> - a list os Post objects</li>
<li><code>next</code> - a URL for the next results page for this search</li>
<li><code>response</code> - the original <code>requests</code> response</li>
<li><code>get_next()</code> - a method to fetch the next page of results. Returns a new Response object</li>
</ul>
<p>Response objects implement the <code>__iter__()</code> method, which can be used to loop
over all posts matching the query. (Automatic page fetching)</p>
<a name="user-content-post-and-thread-objects"/>
<h3><a id="user-content-post-and-thread-objects" class="anchor" href="#post-and-thread-objects" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Post and Thread objects</h3>
<p>Post and Thread object contain the actual data returned from the API.
Consult <a href="https://webhose.io/documentation">https://webhose.io/documentation</a> to find out about their structure.</p>
<a name="user-content-polling"/>
<h2><a id="user-content-polling" class="anchor" href="#polling" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Polling</h2>
<p>If you want to make repeated searches, performing an action whenever there are
new results, use code like this:</p>
<div class="highlight highlight-source-python"><pre>r <span class="pl-k">=</span> webhose.search(<span class="pl-s"><span class="pl-pds">"</span>skyrim<span class="pl-pds">"</span></span>)
<span class="pl-k">while</span> <span class="pl-c1">True</span>:
    <span class="pl-k">for</span> post <span class="pl-k">in</span> r:
        perform_action(post)
    time.sleep(<span class="pl-c1">300</span>)
    r <span class="pl-k">=</span> r.get_next()</pre></div>

</article>
  </div></body></html>