<html><body><div><article id="JCgpGZcoLiUrZKl9nFB" class="post  historical">
	<time datetime="2014-11-08" class="article_time">November  8, 2014</time>
  
	<p>This post discusses Python’s <code class="prettyprint">from &lt;module&gt; import *</code> and <code class="prettyprint">from &lt;package&gt; import *</code>, how they behave and why it may be (is!) a bad idea to use them.</p>
<h1 id="importing-code-classprettyprintcode-from-a-mo_1">
<a class="head_anchor" href="#importing-code-classprettyprintcode-from-a-mo_1" rel="nofollow"> </a>Importing <code class="prettyprint">*</code> from a module</h1>
<p><code class="prettyprint">from &lt;module&gt; import *</code> means “I want access to all the names in <code class="prettyprint">&lt;module&gt;</code> that I’m meant to have access to”. So, let’s say we have the following <code class="prettyprint">something.py</code>:</p>

<pre><code class="prettyprint"># something.py

public_variable = 42
_private_variable = 141

def public_function():
    print("I'm a public function! yay!")

def _private_function():
    print("Ain't nobody accessing me from another module...usually")

class PublicClass(object):
    pass

class _WeirdClass(object):
    pass
</code></pre>

<p>In the <a href="https://docs.python.org/3.4/tutorial/interpreter.html" rel="nofollow">Python Interpreter</a>, we can execute <code class="prettyprint">from something import *</code> and see the following:</p>

<pre><code class="prettyprint">&gt;&gt;&gt; from something import *
&gt;&gt;&gt; public_variable
42
&gt;&gt;&gt; _private_variable
...
NameError: name '_private_variable' is not defined
&gt;&gt;&gt; public_function()
"I'm a public function! yay!"
&gt;&gt;&gt; _private_function()
...
NameError: name '_private_function' is not defined
&gt;&gt;&gt; c = PublicClass()
&gt;&gt;&gt; c
&lt;something.PublicClass object at ...&gt;
&gt;&gt;&gt; c = _WeirdClass()
...
NameError: name '_WeirdClass' is not defined
</code></pre>

<p>So, <code class="prettyprint">from something import *</code> imports all the names from <code class="prettyprint">something</code> other than the names that start with an <code class="prettyprint">_</code>; because they are conventionally meant to be <a href="https://docs.python.org/3/tutorial/classes.html#private-variables" rel="nofollow">private</a>.</p>
<h1 id="ermm-that39s-not-too-bad-is-that-all_1">
<a class="head_anchor" href="#ermm-that39s-not-too-bad-is-that-all_1" rel="nofollow"> </a>Ermm, that’s not too bad! Is that __all__?</h1>
<p>What’s not mentioned above is what <code class="prettyprint">__all__</code> is. <strong><code class="prettyprint">__all__</code> is a list of strings defining what symbols in a module (or a package as we’ll see later) will be exported when <code class="prettyprint">from &lt;module&gt; import *</code> is used on the module.</strong> If we don’t define <code class="prettyprint">__all__</code> (we didn’t in <code class="prettyprint">something.py</code> above), the default behaviour of <code class="prettyprint">import *</code> is to import all names except those beginning with an underscore (<code class="prettyprint">_</code>). Again, since conventionally an underscore is used to say a symbol is <a href="https://docs.python.org/3/tutorial/classes.html#private-variables" rel="nofollow">private</a>, that all makes sense. Let’s see what happens when we define our own <code class="prettyprint">__all__</code> in <code class="prettyprint">something.py</code>:</p>

<pre><code class="prettyprint"># something.py

__all__ = ['_private_variable', 'PublicClass']

# The rest is the same as before

public_variable = 42
_private_variable = 141

def public_function():
    print("I'm a public function! yay!")

def _private_function():
    print("Ain't nobody accessing me from another module...usually")

class PublicClass(object):
    pass

class _WeirdClass(object):
    pass
</code></pre>

<p>Now, we expect <code class="prettyprint">from something import *</code> to only import the <code class="prettyprint">_private_variable</code> and <code class="prettyprint">PublicClass</code> names:</p>

<pre><code class="prettyprint">&gt;&gt;&gt; from something import *
&gt;&gt;&gt; public_variable
...
NameError: name 'public_variable' is not defined
&gt;&gt;&gt; _private_variable
0
&gt;&gt;&gt; public_function()
...
NameError: name 'public_function' is not defined
&gt;&gt;&gt; _private_function()
...
NameError: name '_private_function' is not defined
&gt;&gt;&gt; c = PublicClass()
&gt;&gt;&gt; c
&lt;something.PublicClass object at ...&gt;
&gt;&gt;&gt; c = _WeirdClass()
...
NameError: name '_WeirdClass' is not defined
</code></pre>
<h1 id="what-about-packages_1">
<a class="head_anchor" href="#what-about-packages_1" rel="nofollow"> </a>What about packages?</h1>
<p>When <a href="https://docs.python.org/3/tutorial/modules.html#importing-from-a-package" rel="nofollow">importing * from a package</a>, <code class="prettyprint">__all__</code> does approximately the same thing as for modules, except it deals with modules within the package (in contrast to specifying names within the module). So <code class="prettyprint">__all__</code> specifies all modules that shall be loaded and imported into the current namespace when we use <code class="prettyprint">from &lt;package&gt; import *</code>.</p>

<p>However, the difference is, when you omit the declaration of <code class="prettyprint">__all__</code> in a package’s <code class="prettyprint">__init__.py</code>, the statement <code class="prettyprint">from &lt;package&gt; import *</code> will not import anything at all (not entirely true; <a href="https://docs.python.org/3.4/tutorial/modules.html#importing-from-a-package" rel="nofollow">Read this</a> for the truth).</p>
<h1 id="but-why-is-this-bad_1">
<a class="head_anchor" href="#but-why-is-this-bad_1" rel="nofollow"> </a>But, why is this bad?</h1>
<p>Before proceeding, in your <a href="https://docs.python.org/3.4/tutorial/interpreter.html" rel="nofollow">Python Interpreter</a>, <code class="prettyprint">import this</code> and read <a href="http://legacy.python.org/dev/peps/pep-0020/" rel="nofollow">The Zen of Python</a> again (read it to your kids every night before they sleep too).</p>
<blockquote class="large">
<p>Explicit is better than implicit.</p>
</blockquote>
<p><code class="prettyprint">from &lt;module&gt; import *</code> is not explicit. It isn’t telling us anything about what we’re importing or what names we’re bringing into our namespace. It would be much better to explicitly specify and import everything we need; that way, a reader (most likely your future self) won’t be confused about where a variable/function/class/etc. used in the code comes from, which leads us to:</p>
<blockquote class="large">
<p>Readability counts.</p>
</blockquote>
<p>Even if a lot of names are required, it’s still much clearer to import them one by one explicitly. Use <a href="http://legacy.python.org/dev/peps/pep-0328/" rel="nofollow">PEP 328</a>:</p>

<pre><code class="prettyprint">from Tkinter import (Tk, Frame, Button, Entry, Canvas, Text, 
    LEFT, DISABLED, NORMAL, RIDGE, END)
</code></pre>

<p>You now know exactly what you have in your namespace and a quick <code class="prettyprint">ctrl+f</code> can tell you where a name has come from.</p>

<p>Also, you are always at risk if/when the module/package author decides to change the contents of the list (add/remove stuff to/from it). Then, either:</p>

<ol>
<li>The author has removed a string from <code class="prettyprint">__all__</code>. If your code was using that name, your code will raise a <code class="prettyprint">NameError</code> and it’ll be harder to find out why.</li>
<li>The author has added [many] new strings to <code class="prettyprint">__all__</code>. You may not need all/any of the new names and you’re just bloating your namespace with stuff you don’t care about. They may even shadow some other names without you realising.</li>
</ol>

<p>Of course, sometimes it may be useful or necessary to import <code class="prettyprint">*</code> from modules and/or packages. However, it’s best to make sure you really have to before doing it. In my experience, this construct is usually used as a result of laziness more than anything else.</p>

<hr/>

<p>Discussion on <a href="https://news.ycombinator.com/item?id=8576604" rel="nofollow">hackernews</a> and <a href="http://www.reddit.com/r/Python/comments/2lo260/importing_in_python/" rel="nofollow">reddit</a>.</p>

  <figure class="postend kudo able clearfix" id="kudo_JCgpGZcoLiUrZKl9nFB">
    <a href="#kudo">
      <p class="filling"> </p>
    </a>
    <p class="num">265</p>
    <p class="txt">Kudos</p>
  </figure>
  <figure class="side kudo able clearfix" id="kudo_side_JCgpGZcoLiUrZKl9nFB">
    <a href="#kudo">
      <p class="filling"> </p>
    </a>
    <p class="num">265</p>
    <p class="txt">Kudos</p>
  </figure>
</article>

  </div></body></html>