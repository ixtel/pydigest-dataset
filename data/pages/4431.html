<html><body><div><div class="post-text" itemprop="text">

<p>Like stated in title, the placeholder attribute in form widgets doesn't show properly. It's random, sometimes it works fine and sometimes i need to refresh the browser for them to show.
I need them as i'm not showing the field labels in the template.
Anyway here is the code :</p>

<pre><code>#FORMS.PY
class RegistrationForm(UserCreationForm):
    first_name = forms.CharField(label=_('First name'), max_length=30)
    last_name = forms.CharField(label=_('Last name'), max_length=30)
    email = forms.EmailField(label=_("Email"), required=True)

    class Meta:
        model = User
        fields = ('username', 'first_name', 'last_name', 'email', 'password1', 'password2')

    def __init__(self, *args, **kwargs):
        super(RegistrationForm, self).__init__(*args, **kwargs)
        # Set field Label as Placeholder for every field
        for field in self.base_fields.values(): 
            field.widget.attrs["placeholder"] = field.label
        # Set HTML and CSS attributes to the fields
        self.fields['username'].widget.attrs.update({'class':TEXTINPUT_CSS})
        self.fields['email'].widget.attrs.update({'class':EMAILINPUT_CSS})
        self.fields['password1'].widget.attrs.update({'class':PASSWORDINPUT_CSS})
        ...
</code></pre>

<p>By the way i'm using django development server, could the problem come from the fact that the server is slow.
Any help would be appreciated</p>

<p><strong>Edit : Views.py and template as requested</strong></p>

<pre><code>#views.py
def register(request):
    if request.method == 'POST':
        form = RegistrationForm(request.POST)
        if form.is_valid():
            form.save()
            if REGISTER_EMAIL_CONFIRMATION == True:
                # Add email confirmation
                username = form.cleaned_data['username']
                email = form.cleaned_data['email']
                salt = hashlib.sha1(str(random.random()).encode('utf-8')).hexdigest()[:5]            
                activation_key = hashlib.sha1((salt+email).encode('utf-8')).hexdigest()            
                key_expires = datetime.datetime.today() + datetime.timedelta(CONFIRMATION_KEY_EXPIRE_DAYS)
                # Create and save User Profile
                user=User.objects.get(username=username)            
                new_profile = UserProfile(user=user, activation_key=activation_key, key_expires=key_expires)
            new_profile.save()
                # Send email with activation key
                subject_file = 'app_authentication/email_signup_confirm_subject.txt'
                body_file = 'app_authentication/email_signup_confirm_body.html'
                context = {'username':username, 'activation_key':activation_key}
                send_email_from_files([email], subject_file, body_file, context)
                return redirect('confirm_email_sent')
            else:
                return redirect('register_success')
    else:
        form = RegistrationForm()
    return render(request, 'registration/register.html', {'form': form, 'title': _('Register')})


#register.html
{% block content2 %}
&lt;form id="register_form" autocomplete="off" method="post" action="{% url 'register' %}"&gt;
{% csrf_token %}
    &lt;div class="clearfix"&gt;
    {% for field in form %}
        &lt;div class="form-group"&gt;
            {{ field }}
            {% if form.errors %}
            {% for error in field.errors %}
                &lt;div class="alert alert-error"&gt;
                    &lt;strong&gt;{{ error|escape }}&lt;/strong&gt;
                &lt;/div&gt;
            {% endfor %}
            {% endif %}
        &lt;/div&gt;
    {% endfor %}
        {% if form.errors %}
        {% for error in form.non_field_errors %}
            &lt;div class="alert alert-error"&gt;
                &lt;strong&gt;{{ error|escape }}&lt;/strong&gt;
            &lt;/div&gt;
        {% endfor %}
        {% endif %}
    &lt;/div&gt;
    &lt;!-- Send Button --&gt;
    &lt;div class="pt-10"&gt;
        &lt;button class="submit_btn btn btn-mod btn-medium btn-round btn-full" id="reg-btn" name="submit"&gt;{{ title }}&lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;
{% endblock content2 %}
</code></pre>

<p><strong>Screenshots :</strong></p>

<p>when i start the development server and try to login :
<img src="http://i.stack.imgur.com/L7jZi.png" alt="placeholders not working"/></p>

<p>same login page after i refresh the browser :
<img src="http://i.stack.imgur.com/4Ta4X.png" alt="placeholders working after refresh"/></p>

<p><strong>@akarilimano :</strong></p>

<pre><code>class LoginForm(AuthenticationForm):
    # username doesn't have label in AuthenticationForm
    username = forms.CharField(label=_("Username"), max_length=254)

    def __init__(self, *args, **kwargs):
        super(LoginForm, self).__init__(*args, **kwargs)
        # Set field Label as Placeholder for every field
        for field in self.base_fields.values():
            print(field.label)
            field.widget.attrs['placeholder'] = field.label
</code></pre>
    </div>
    </div></body></html>