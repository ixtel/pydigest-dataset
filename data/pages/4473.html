<html><body><div><div class="forum-post blog-post">
            

<p>Hi, CiO friends!</p>
<p>Today I let a little experiment for myself and you will not see CheckiO player solutions.
We will examine one simple mission <a href="http://www.checkio.org/mission/verify-anagrams/share/80a6c1510bf892c6b3789caa9e4f3805/">"Verify Anagrams"</a>.</p>
<p>An anagram is a type of word play, the result of rearranging the letters of a word or phrase to produce a new word or phrase, using all the original letters exactly once. Two words are anagrams to each other if we can get one from another by rearranging the letters.
You are given two words or phrase. Try to verify are they anagrams or not.</p>
<h2>Count letters</h2>
<p>So we need to compare two words or phrases. First we need to "sanitize" them --
choose only letters and lowercase them. And it's not too important, but we can
convert it to a list in this step. Let's move it in the separate function.</p>
<pre class="grey-pre editor-colors lang-text"><p class="line"><span class="text plain"><span class="meta paragraph text"><span>def sanitize(text):</span></span></span></p><p class="line"><span class="text plain"><span>    </span><span class="meta paragraph text"><span>return [ch.lower() for ch in text if ch.isalpha()]</span></span></span></p></pre><p>or maybe you economize memory and would a generator:</p>
<pre class="grey-pre editor-colors lang-text"><p class="line"><span class="text plain"><span class="meta paragraph text"><span>def sanitize(text):</span></span></span></p><p class="line"><span class="text plain"><span>    </span><span class="meta paragraph text"><span>yield from (ch.lower() for ch in text.lower() if ch.isalpha())</span></span></span></p></pre><p>or more functional style:</p>
<pre class="grey-pre editor-colors lang-text"><p class="line"><span class="text plain"><span class="meta paragraph text"><span>sanitize = lambda t: map(str.lower, filter(str.isalpha, text))</span></span></span></p></pre><p>Next we need to count each letter in the text and if the quantities for the words are same, then
they are anagrams. Let's suppose we use only latin alphabet. Then we can use a list for 26 elements.</p>
<pre class="grey-pre editor-colors lang-text"><p class="line"><span class="text plain"><span class="meta paragraph text"><span>def count_letters(text):</span></span></span></p><p class="line"><span class="text plain"><span>    </span><span class="meta paragraph text"><span>counter = [0] * 26</span></span></span></p><p class="line"><span class="text plain"><span class="meta paragraph text"><span>    for ch in text:</span></span></span></p><p class="line"><span class="text plain"><span>        </span><span class="meta paragraph text"><span>counter[ord(ch) - ord("a")] += 1</span></span></span></p><p class="line"><span class="text plain"><span>    </span><span class="meta paragraph text"><span>return counter</span></span></span></p></pre><p>Honestly it looks like C-code, not Python. And we don't ready for non latin letters.
Maybe we will use a dictionary.</p>
<pre class="grey-pre editor-colors lang-text"><p class="line"><span class="text plain"><span class="meta paragraph text"><span>def count_letters(text):</span></span></span></p><p class="line"><span class="text plain"><span>    </span><span class="meta paragraph text"><span>counter = {}</span></span></span></p><p class="line"><span class="text plain"><span class="meta paragraph text"><span>    for ch in text:</span></span></span></p><p class="line"><span class="text plain"><span>        </span><span class="meta paragraph text"><span>counter[ch] = counter.get(ch, 0) + 1</span></span></span></p><p class="line"><span class="text plain"><span>    </span><span class="meta paragraph text"><span>return counter</span></span></span></p></pre><p>Better, but how about "python batteries"? And <a href="https://docs.python.org/2/library/collections.html#collections.Counter">Counter</a> can help us.</p>
<pre class="grey-pre editor-colors lang-text"><p class="line"><span class="text plain"><span class="meta paragraph text"><span>from collections import Counter</span></span></span></p><p class="line"><span class="text plain"><span> </span></span></p><p class="line"><span class="text plain"><span class="meta paragraph text"><span>def count_letters(text):</span></span></span></p><p class="line"><span class="text plain"><span>    </span><span class="meta paragraph text"><span>return Counter(text)</span></span></span></p></pre><p>Hm, I think with Counter we don't need "count_letters" function and the solution is:</p>
<pre class="grey-pre editor-colors lang-text"><p class="line"><span class="text plain"><span class="meta paragraph text"><span>from collections import Counter</span></span></span></p><p class="line"><span class="text plain"><span> </span></span></p><p class="line"><span class="text plain"><span class="meta paragraph text"><span>def sanitize(text):</span></span></span></p><p class="line"><span class="text plain"><span>    </span><span class="meta paragraph text"><span>yield from (ch.lower() for ch in text.lower() if ch.isalpha())</span></span></span></p><p class="line"><span class="text plain"><span> </span></span></p><p class="line"><span class="text plain"><span class="meta paragraph text"><span>def verify_anagrams(first, second):</span></span></span></p><p class="line"><span class="text plain"><span>    </span><span class="meta paragraph text"><span>return Counter(sanitize(first)) == Counter(sanitize(second))</span></span></span></p></pre><h2>Sorted</h2>
<p>When I solved this mission the first time, I didn't use a counter.
Instead I converted words at "initial" or "start" form for permutations,
of course I tell about sorted form. If we sort strings and compare then it's the same as
count elements. And because a text contains only letters and whitespaces we can use a trick
(thanks <a href="http://www.checkio.org/user/StefanPochmann/">@StefanPochmann</a> for the idea:</p>
<pre class="grey-pre editor-colors lang-text"><p class="line"><span class="text plain"><span class="meta paragraph text"><span>def verify_anagrams(first, second):</span></span></span></p><p class="line"><span class="text plain"><span>    </span><span class="meta paragraph text"><span>return "".join(sorted(first.lower())).strip() == "".join(sorted(second.lower())).strip()</span></span></span></p></pre><p>As you can see we can transform it in one-liner (just cause we can)</p>
<pre class="grey-pre editor-colors lang-text"><p class="line"><span class="text plain"><span class="meta paragraph text"><span>verify_anagrams=lambda f,s,p=lambda x: "".join(sorted(x.lower())).strip():p(f)==p(s)</span></span></span></p></pre><p>That's all anagrams. If you have more interesting ways to solve this mission feel free to write it in comments.</p>
<p><em>Valentin Bryukhanov aka Bryukh</em></p>

        </div>
        </div></body></html>