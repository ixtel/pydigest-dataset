<html><body><div><div class="body" role="main">
            
  <div class="section" id="dataset-databases-for-lazy-people">
<h1>dataset: databases for lazy people</h1>
<p class="toctree-wrapper compound">
</p>
<p>Although managing data in relational database has plenty of benefits, they’re rarely used in day-to-day work with small to medium scale datasets. But why is that? Why do we see an awful lot of data stored in static files in CSV or JSON format, even though they are hard
to query and update incrementally?</p>
<p>The answer is that <strong>programmers are lazy</strong>, and thus they tend to prefer the easiest solution they find. And in <strong>Python</strong>, a database isn’t the simplest solution for storing a bunch of structured data. This is what <strong>dataset</strong> is going to change!</p>
<p><strong>dataset</strong> provides two key functions that make using SQL databases in
Python a breeze:</p>
<ul class="simple">
<li>A simple abstraction layer removes most direct SQL statements without
the necessity for a full ORM model - essentially, databases can be
used like a JSON file or NoSQL store.</li>
<li>Database contents can be exported (<em>frozen</em>) using a <a class="reference internal" href="freezefile.html"><em>sophisticated
plain file generator</em></a> with JSON and CSV support. Exports can be configured
to include metadata and dynamic file names depending on the exported
data. The exporter can also be used as a command-line tool, <code class="docutils literal"><span class="pre">datafreeze</span></code>.</li>
</ul>
<p>A simple data loading script using <strong>dataset</strong> might look like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">dataset</span>

<span class="n">db</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'sqlite:///:memory:'</span><span class="p">)</span>

<span class="n">table</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="s">'sometable'</span><span class="p">]</span>
<span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'John Doe'</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">37</span><span class="p">))</span>
<span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'Jane Doe'</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">34</span><span class="p">,</span> <span class="n">gender</span><span class="o">=</span><span class="s">'female'</span><span class="p">))</span>

<span class="n">john</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">find_one</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'John Doe'</span><span class="p">)</span>
</pre></div>
</div>
<p>Here is <a class="reference external" href="https://gist.github.com/gka/5296492">similar code, without dataset</a>.</p>
<div class="section" id="features">
<h2>Features</h2>
<ul class="simple">
<li><strong>Automatic schema</strong>: If a table or column is written that does not
exist in the database, it will be created automatically.</li>
<li><strong>Upserts</strong>: Records are either created or updated, depending on
whether an existing version can be found.</li>
<li><strong>Query helpers</strong> for simple queries such as <a class="reference internal" href="api.html#dataset.Table.all" title="dataset.Table.all"><code class="xref py py-meth docutils literal"><span class="pre">all</span></code></a> rows in a table or
all <a class="reference internal" href="api.html#dataset.Table.distinct" title="dataset.Table.distinct"><code class="xref py py-meth docutils literal"><span class="pre">distinct</span></code></a> values across a set of columns.</li>
<li><strong>Compatibility</strong>: Being built on top of <a class="reference external" href="http://www.sqlalchemy.org/">SQLAlchemy</a>, <code class="docutils literal"><span class="pre">dataset</span></code> works with all major databases, such as SQLite, PostgreSQL and MySQL.</li>
<li><strong>Scripted exports</strong>: Data can be exported based on a scripted
configuration, making the process easy and replicable.</li>
</ul>
</div>


</div>


          </div>
        </div></body></html>