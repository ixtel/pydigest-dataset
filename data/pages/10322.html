<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-records-sql-for-humans" class="anchor" href="#records-sql-for-humans" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Records: SQL for Humans‚Ñ¢</h1>
<p><strong>Records is a very simple, but powerful, library for making raw SQL queries
to most relational databases.</strong></p>
<p>Just write SQL. No bells, no whistles. This common task can be
surprisingly difficult with the standard tools available.
This library strives to make this workflow as simple as possible,
while providing an elegant interface to work with your query results.</p>
<p><em>Database support includes Postgres, MySQL, SQLite, Oracle, and MS-SQL (drivers not included).</em></p>
<a name="user-content-the-basics"/>
<h2><a id="user-content--the-basics" class="anchor" href="#-the-basics" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>‚ò§ The Basics</h2>
<p>We know how to write SQL, so let's send some to our database:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> records

db <span class="pl-k">=</span> records.Database(<span class="pl-s"><span class="pl-pds">'</span>postgres://...<span class="pl-pds">'</span></span>)
rows <span class="pl-k">=</span> db.query(<span class="pl-s"><span class="pl-pds">'</span>select * from active_users<span class="pl-pds">'</span></span>)    <span class="pl-c"># or db.query_file('sqls/active-users.sql')</span></pre></div>
<p>Grab one row at a time:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> rows[<span class="pl-c1">0</span>]
<span class="pl-k">&lt;</span>Record {<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>model-t<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>active<span class="pl-pds">"</span></span>: true, <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Henry Ford<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>user_email<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>model-t@gmail.com<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>timezone<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2016-02-06 22:28:23.894202<span class="pl-pds">"</span></span>}<span class="pl-k">&gt;</span></pre></div>
<p>Or iterate over them:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">for</span> r <span class="pl-k">in</span> rows:
    <span class="pl-c1">print</span>(r.name, r.user_email)</pre></div>
<p>Values can be accessed many ways: <code>row.user_email</code>, <code>row['user_email']</code>, or <code>row[3]</code>.</p>
<p>Fields with non-alphanumeric characters (like spaces) are also fully supported.</p>
<p>Or store a copy of your record collection for later reference:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> rows.all()
[<span class="pl-k">&lt;</span>Record {<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>: <span class="pl-c1">...</span>}<span class="pl-k">&gt;</span>, <span class="pl-k">&lt;</span>Record {<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>: <span class="pl-c1">...</span>}<span class="pl-k">&gt;</span>, <span class="pl-k">&lt;</span>Record {<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>: <span class="pl-c1">...</span>}<span class="pl-k">&gt;</span>, <span class="pl-c1">...</span>]</pre></div>
<p>Other options include <code>rows.as_dict()</code> and <code>rows.as_dict(ordered=True)</code>.</p>
<a name="user-content-features"/>
<h2><a id="user-content--features" class="anchor" href="#-features" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>‚ò§ Features</h2>
<ul>
<li>Iterated rows are cached for future reference.</li>
<li><code>$DATABASE_URL</code> environment variable support.</li>
<li>Convenience <code>Database.get_table_names</code> method.</li>
<li>Command-line records tool for exporting queries.</li>
<li>Safe parameterization: <code>Database.query('life=:everything', everything=42)</code></li>
<li>Queries can be passed as strings or filenames, parameters supported.</li>
</ul>
<p>Records is proudly powered by <a href="http://www.sqlalchemy.org">SQLAlchemy</a>
and <a href="http://docs.python-tablib.org/en/latest/">Tablib</a>.</p>
<a name="user-content-data-export-functionality"/>
<h2><a id="user-content--data-export-functionality" class="anchor" href="#-data-export-functionality" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>‚ò§ Data Export Functionality</h2>
<p>Records also features full Tablib integration, and allows you to export
your results to CSV, XLS, JSON, HTML Tables, or YAML with a single line of code.
Excellent for sharing data with friends, or generating reports.</p>
<pre lang="pycon">&gt;&gt;&gt; print(rows.dataset)
username|active|name      |user_email       |timezone
--------|------|----------|-----------------|--------------------------
model-t |True  |Henry Ford|model-t@gmail.com|2016-02-06 22:28:23.894202
...
</pre>
<p><strong>Comma Separated Values (CSV)</strong></p>
<pre lang="pycon">&gt;&gt;&gt; print(rows.export('csv'))
username,active,name,user_email,timezone
model-t,True,Henry Ford,model-t@gmail.com,2016-02-06 22:28:23.894202
...
</pre>
<p><strong>YAML Ain't Markup Language (YAML)</strong></p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">print</span>(rows.export(<span class="pl-s"><span class="pl-pds">'</span>yaml<span class="pl-pds">'</span></span>))
<span class="pl-k">-</span> {active: true, name: Henry Ford, timezone: <span class="pl-s"><span class="pl-pds">'</span>2016-02-06 22:28:23.894202<span class="pl-pds">'</span></span>, user_email: model<span class="pl-k">-</span>t<span class="pl-k">@</span>gmail.com, username: model<span class="pl-k">-</span>t}
<span class="pl-c1">...</span></pre></div>
<p><strong>JavaScript Object Notation (JSON)</strong></p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-c1">print</span>(rows.export(<span class="pl-s"><span class="pl-pds">'</span>json<span class="pl-pds">'</span></span>))
[{<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>model-t<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>active<span class="pl-pds">"</span></span>: true, <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Henry Ford<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>user_email<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>model-t@gmail.com<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>timezone<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2016-02-06 22:28:23.894202<span class="pl-pds">"</span></span>}, <span class="pl-c1">...</span>]</pre></div>
<p><strong>Microsoft Excel (xls, xlsx)</strong></p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">with</span> <span class="pl-c1">open</span>(<span class="pl-s"><span class="pl-pds">'</span>report.xls<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>wb<span class="pl-pds">'</span></span>) <span class="pl-k">as</span> f:
    f.write(rows.export(<span class="pl-s"><span class="pl-pds">'</span>xls<span class="pl-pds">'</span></span>))</pre></div>
<p>You get the point. All other features of Tablib are also available,
so you can sort results, add/remove columns/rows, remove duplicates,
transpose the table, add separators, slice data by column, and more.</p>
<p>See the <a href="http://docs.python-tablib.org/en/latest/">Tablib Documentation</a>
for more details.</p>
<a name="user-content-installation"/>
<h2><a id="user-content--installation" class="anchor" href="#-installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>‚ò§ Installation</h2>
<p>Of course, the recommended installation method is pip:</p>
<pre>$ pip install records
‚ú®üç∞‚ú®
</pre>
<a name="user-content-command-line-tool"/>
<h2><a id="user-content--command-line-tool" class="anchor" href="#-command-line-tool" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>‚ò§ Command-Line Tool</h2>
<p>As an added bonus, a <code>records</code> command-line tool is automatically
included. Here's a screenshot of the usage information:</p>
<a href="https://camo.githubusercontent.com/e054136e45f19007cde177dc9eb12dbfe12b0920/687474703a2f2f662e636c2e6c792f6974656d732f305331343233315233703047337733413078324e2f53637265656e25323053686f74253230323031362d30322d31332532306174253230322e34332e3231253230414d2e706e67" target="_blank"><img alt="Screenshot of Records Command-Line Interface." src="https://camo.githubusercontent.com/e054136e45f19007cde177dc9eb12dbfe12b0920/687474703a2f2f662e636c2e6c792f6974656d732f305331343233315233703047337733413078324e2f53637265656e25323053686f74253230323031362d30322d31332532306174253230322e34332e3231253230414d2e706e67" data-canonical-src="http://f.cl.ly/items/0S14231R3p0G3w3A0x2N/Screen%20Shot%202016-02-13%20at%202.43.21%20AM.png"/></a>
<a name="user-content-thank-you"/>
<h2><a id="user-content--thank-you" class="anchor" href="#-thank-you" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>‚ò§ Thank You</h2>
<p>Thanks for checking this library out! I hope you find it useful.</p>
<p>Of course, there's always room for improvement. Feel free to <a href="https://github.com/kennethreitz/records/issues">open an issue</a> so we can make Records better, stronger, faster.</p>

</article>
  </div></body></html>