<html><body><div><section class="post-content">
<p>I've just been to my first Europython, the biggest Python conference in Europe. This year's edition took place in the wonderful city of Bilbao. As I did regarding <a href="http://www.mihneadb.net/notes-on-craft-conf-2015/">Craft Conf 2015</a>, I'll share some thoughts about the talks I've followed and the things I've learned.</p>
<p>You can find the full schedule <a href="https://ep2015.europython.eu/p3/schedule/ep2015/">here</a>. The talks have also been recorded, so I expect them to show up on YouTube pretty soon (if they haven't shown up already). I'll only list the talks' titles - you can find the names of the speakers in the schedule.</p>
<h6 id="keynoteitsdangeroustogoalonetakethisthepowerofacommunity">Keynote: It's Dangerous To Go Alone, Take This: The Power of a Community</h6>
<p>This was the opening talk of the conference. It was a beautifully illustrated narrative about how programming communities are not diverse enough and might seem/be daunting to newcomers. This intro led to the introduction of <a href="https://djangogirls.org/">django girls</a> - the talk being given by the two co-founders of the project. There were also some numbers on django girls since its inception and, suffice to say, it's amazing what the community has achieved - tons of workshops, mentors and a great tutorial. And now they've also started working on a book, called <a href="http://yaypython.com/">yay python</a>. <br/>
I highly recommend the django girls <a href="http://tutorial.djangogirls.org/">tutorial</a> for any non-technical person that wants to start learning about programming.</p>
<h6 id="asynciostackreactjsordevelopmentontheedge">Asyncio Stack &amp; React.js or Development on the Edge</h6>
<p>I have to admit I was expecting this talk to be full of cool demos and whatnot. Unfortunately, it was merely a quick list of ES6 features and a concise intro to asyncio. <br/>
The substance of the talk was, I think, the speaker's claim that ES6 and React have finally made the frontend work appealing to the average Django developer.</p>
<h6 id="thelightweightcloudserverswarbegins">The Lightweight Cloud Servers War Begins</h6>
<p>Another overview kind of talk. Some bullets about containers, and container-targeted operating systems (CoreOS, Snappy, Rancher OS). Found out about <a href="http://0pointer.de/blog/projects/socket-activated-containers.html">systemd socket activated containers</a>, a really cool feature. A few words on clustering, kubernetes and the fact that this is still an emerging model and that things change fast.</p>
<h6 id="everyonecandodatascienceinpython">Everyone can do Data Science in Python</h6>
<p>The talk was given by someone at import.io, a pretty cool web-scraping based data acquisition service (whoops, so many words to explain what they do). It was basically a live demo using ipython on how to work with data using Python. <br/>
A few pro tips as well - be aware of where from and how you got the data. Something in the DAQ process will affect all the operations you will later perform and all the insights you will extract. Also, most of the time is spent in cleaning data and performing exploratory data analysis. Actually running the ML algorithm(s) is just a tiny bit. </p>
<blockquote>
<p>If there is no action as a consequence of your analysis or predictions, you've failed!</p>
</blockquote>
<h6 id="thepythoncompiler">The Python Compiler</h6>
<p><a href="http://nuitka.net/">Nuitka</a> is an alternative Python compiler that prides itself with being highly compatible. It works on all major platforms and it is already faster than CPython, which is pretty amazing considering the project seems pretty much a one man job.
The main takeaway was the fact that the project's author took his time - he is never rushed and chooses to do the right thing (even if it might take longer). <br/>
From an architectural point of view, the tool parses Python code, performs some transformations, emits C++ code and then it compiles it. The author started with C++11, but ended up with C-style C++ code and he intends to actually get to C99. <br/>
Pretty cool!</p>
<h6 id="metricsdrivendevelopment">Metrics-driven development</h6>
<p>This was about how a team at Spotify started using metrics to improve their work and workflow.</p>
<blockquote>
<p>If it moves, you can track it.</p>
</blockquote>
<p>Some cool numbers:</p>
<p><img src="/content/images/2015/08/Untitled-picture.jpg" alt="spotify numbers"/></p>
<h6 id="pythoninternetofthings">Python &amp; Internet of Things</h6>
<p>Learned about an iPhone <a href="https://www.azoi.com/">case</a> that has some health tracking tricks. Just some code snippets of using Python to access embedded hardware.</p>
<h6 id="pythonmultithreadingandmultiprocessingconcurrencyandparallelism">Python Multithreading and Multiprocessing: Concurrency and Parallelism</h6>
<p>Full house, room was packed. Unfortunately it was just a run through the stdlib tools like condition vars, semaphores and so on. Just bullets with what they do - CS 101.</p>
<h6 id="lightningtalks">Lightning talks</h6>
<p>I learned about mutation testing from the author of <a href="https://github.com/sixty-north/cosmic-ray">cosmic ray</a>. It's the next level of testing: testing your tests! This tool parses your code and randomly mutates parts of the AST (negates conditionals, removes branches etc.) and checks that your tests catch these changes (i.e. they fail). So meta!</p>
<p><a href="https://github.com/maxtepkeev/instructions">Instructions</a> is a library for finding stuff in iterables without having to re-write those list comprehensions over and over again.</p>
<p>Someone showed how you can use <em>gdb</em> to learn about Python's internals. E.g. set a breakpoint in <code>listappend</code> and from the python interpreter call <code>[].append(5)</code>.</p>
<p>Another talk shared some protips on processing strings. Rule number 0 was <em>use an existing library</em>. Rule number 1 was <em>if in doubt, use regexps</em>. Reminds me of <a href="https://xkcd.com/208/">this</a>.</p>
<p><a href="https://pygame-zero.readthedocs.org/en/latest/">Pygame zero</a> is a great way for beginners to make games using Python.</p>
<h6 id="keynotepythonnowandinthefuture">Keynote: Python now and in the future</h6>
<p>This was Guido's keynote. Excitement++. He'd like you to switch to Py3. It's not a demand. It's all about opportunity cost. Overall, Py3 is a better language; also better for teaching. The type hints PEP was hard to get accepted. He made a joke that being the BDFL, he could've accepted it himself.</p>
<p>Guido took questions from the audience:</p>
<ul>
<li>favorite features of Python 3: <code>async def</code>, <code>async for</code>, type hints, matrix multiplication operator (<code>@</code>)</li>
<li>on Python having many open bugs: it's an open source, volunteers don't necessarily want to work on the "ugly stuff"; also plenty bugs that are hard to reproduce</li>
<li>what he hates about Python: packaging and distribution</li>
<li>favorite exception: <code>KeyboardInterrupt</code></li>
</ul>
<p>I enjoyed his keynote, it was pretty down to earth and gave a fair status of the Python landscape.</p>
<h6 id="pysparkandwarcraftdata">PySpark and Warcraft Data</h6>
<p>Spark demo on some World of Warcraft auction house data. Really cool, pyspark seems really easy to use. The speaker made the argument that Spark is considerably cheaper than Hadoop, considering you can store your data in S3 and just turn on your cluster only while you actually need it.</p>
<p><img src="/content/images/2015/08/Untitled-picture-1.jpg" alt="wow data"/></p>
<p><img src="/content/images/2015/08/Untitled-picture-2.jpg" alt="queries"/></p>
<h6 id="buildingmobileapiswithservicesatyelp">Building mobile APIs with services at Yelp</h6>
<p>This was the first of the two Yelp talks. Mainly focused on the Yelp deployment process in the context of services and mobile APIs.</p>
<p><img src="/content/images/2015/08/Untitled-picture-3.jpg" alt="yelp"/></p>
<p>They test their service oriented architecture using <code>docker-compose</code>. While this approach is nice since they test against all services running in a production-like environment, the process is pretty heavyweight and it grows with the number of called services.</p>
<p>Important point about mobile APIs - it is not web development. Some users never upgrade their apps, so the APIs always have to be backwards compatible.</p>
<h6 id="imagerecognitionandcamerapositioningwithopencvatouristguideapplication">Image recognition and camera positioning with OpenCV. A tourist guide application.</h6>
<p>I was hoping for some cool demos. Only found plenty math:</p>
<p><img src="/content/images/2015/08/Untitled-picture-4.jpg" alt="math"/></p>
<h6 id="keynotetowardsamoreeffectivedecentralizedweb">Keynote: Towards a more effective, decentralized web</h6>
<p><img src="/content/images/2015/08/Untitled-picture-5.jpg" alt="shame"/></p>
<p>Some words on the state of the Web today. A big centralized system with a few main nodes (Google, Facebook etc.). The speaker made the point that such a system wouldn't scale when we'll get to Mars (Elon Musk + SpaceX references here). <br/>
Also went through the building blocks of a potential distributed web - bittorrent, git, DHTs. Finally, he introduced <a href="http://ipfs.io/">IPFS</a> as a potential solution for achieving a more decentralized Web. IPFS is really interesting, I suggest you take a look!</p>
<h6 id="dataanalysisandmapreducewithmongodbandpymongo">Data Analysis and Map-Reduce with mongoDB and pymongo</h6>
<p>This was similar to the WoW PySpark talk mentioned above, but it used Mongo's aggregation framework on iTunes data.</p>
<p><img src="/content/images/2015/08/Untitled-picture-6.jpg" alt="mongo"/></p>
<ul>
<li>the aggregation framework seemed really easy to use from Python</li>
<li>WiredTiger's compression is impressive</li>
<li>the speaker learned a lot about Taylor Swift and Katy Perry</li>
</ul>
<h6 id="typehintsforpython35">Type Hints for Python 3.5</h6>
<p>This was not a keynote but it sure felt like one. Full house in the biggest room of the venue. Guido went through the history of the type hints proposal (starting from 2000, FYI). It seems everything started to crystallize as soon as <a href="http://mypy-lang.org/">mypy</a> came about. <br/>
The idea is to allow Python code to be annotated and then devs can run <em>mypy</em> to check for type errors. As expected with gradual typing, parts of the code that have no type annotations are considered OK. There are no plans for optimizing the generated code based on the type hints - it is only about safety. Good news - tools such as PyCharm will switch to using the standard PEP type hints instead of their own. <br/>
There are some "hacks" in place - for example <code>Any</code>, which is both a super- and a subclass of everything.</p>
<p><img src="/content/images/2015/08/Untitled-picture-7.jpg" alt="any"/></p>
<p>Here's how one would annotate a generic function:</p>
<p><img src="/content/images/2015/08/Untitled-picture-8.jpg" alt="generics"/></p>
<p>I'd argue that the snippet above would make both a Haskell and a Python programmer cry, but hey, it's the best they could do while being backward compatible.</p>
<h6 id="designingascalableanddistributedapplication">Designing a scalable and distributed application</h6>
<p>Great demo showing Consul - used both for service discovery and as a distributed datastore, across two datacenters. Slides <a href="https://docs.google.com/presentation/d/1bZ30UculKOM4IQ4ic5X2fLpz1Fe1QQPVqJLtshIO0pg/edit#slide=id.gb7f1517e4_0_4">here</a>.</p>
<h6 id="cometothedarksidewehaveawholebunchofcookiecutters">Come to the Dark Side! We have a whole bunch of Cookiecutters!</h6>
<p><a href="https://cookiecutter.readthedocs.org/en/latest/">Cookiecutter</a> helps start projects from templates. There was a demo of creating a <a href="http://kivy.org/#home">kivy</a> app. Seemed easy enough, and the UI looked native (on OS X).</p>
<h6 id="numpyvectorizeyourbrain">NumPy: vectorize your brain</h6>
<p>Quick intro to numpy. The speaker is a developer at JetBrains and also a teacher. She showed some of the common mistakes her students make while implementing algorithms in pure Python instead of using numpy. Also demoed some advanced ipython magic (e.g. compiling and running C code within ipython).</p>
<h6 id="gitfsbuildingafilesysteminpython">gitfs - building a filesystem in Python</h6>
<p><a href="https://github.com/presslabs/gitfs">gitfs</a> is a nice tool built by a Romanian startup. They host Wordpress sites and need a way to make versioning usable to non technical people (content authors). What they ended up doing is using git through FUSE in order to provide a magical filesystem where everything is versioned and non technical people can go back in time by simply exploring the folder tree. Really interesting!</p>
<h6 id="whatitsreallylikebuildingrestfulapiswithdjango">What it's really like building RESTful APIs with Django</h6>
<p>The folks at <a href="http://www.lyst.com/">lyst</a> used to have a single RPC endpoint for their API. This made it hard for developing against it as well as caching.</p>
<blockquote>
<p>RPC for HTTP is bad.</p>
</blockquote>
<p>Great insight: design APIs by writing documentation first. Resources are not necessarily the same as models.</p>
<p>They used the above tips when rewriting their API using Django REST Framework. For achieving the model-resource separation, they turned to serializers.</p>
<h6 id="pythonsinfamousgil">Python's Infamous GIL</h6>
<p>Larry Hastings talked about the history of the global interpreter lock in Python. How it came to be, why it can't be removed. He explained things in a very beginner-friendly way (simple example of how refcount without the GIL could go bananas).</p>
<h6 id="keynotesoihaveallthesedockercontainersnowwhat">Keynote: So, I have all these Docker containers, now what?</h6>
<p>This keynote was given by a Google engineer. The first part was about <a href="http://research.google.com/pubs/pub43438.html">Borg</a>, which is some crazy smart technology for managing clusters and executing code. The second part was about <a href="http://kubernetes.io/">kubernetes</a>, a lighter, open source, version of Borg aimed at Linux containers.</p>
<p>The general idea is that if you pack all your processes in containers, you can then easily and efficiently scale by using a tool like Kubernetes. Because everything is containerized, resource usage can be monitored and containers can be distributed on different machines in a way that makes sense (e.g. place a CPU intensive, low memory container near a low CPU, memory intensive container).</p>
<h6 id="arresteddevelopmentsurvivingtheawkwardadolescenceofamicroservicesbasedapplication">Arrested Development - surviving the awkward adolescence of a microservices-based application</h6>
<p>This was the 2nd Yelp talk, on the issues they had while and since migrating to microservices. Most people only talk about the bright side, the Yelp guys were honest enough to talk about the problems as well.</p>
<ul>
<li>API complexity increased</li>
<li>coupling came back (services had to know how to call other services)</li>
<li>interactions between services are harder to keep track of (different processes, different machines etc.)</li>
</ul>
<p>Protips: use something like <a href="http://swagger.io/">Swagger</a> - writing a thorough Swagger is lots of work but it sure is worth it. You get automatically generated client SDKs and clear documentation. Writing the spec makes developers think about their API. Everything becomes <em>intentional</em>, <em>explicit</em>. Another tip - use something like the <a href="https://www.elastic.co/products">ELK</a> stack. Going through logs when you have tens of services on tens of machines is not easy. Switching to ELK made it easier for them to be aware of issues and debug them. Also using <a href="https://github.com/Yelp/elastalert">elastalert</a> for alerts on top of elasticsearch.</p>
<h6 id="howyoucanbenefitfromtypehints">How you can benefit from type hints</h6>
<p>This talk was from another Jetbrains developer, on how the new type hints can benefit tooling. Learned about <a href="https://www.python.org/dev/peps/pep-0484/#stub-files">stub files</a>. TL;DR autocompletion and code insights in PyCharm will be even better once type hints become used.</p>
<h6 id="preparingappsfordynamicscaling">Preparing Apps for Dynamic Scaling</h6>
<p>This was mostly a sales pitch talk for a service that offers dynamic vertical scaling. The main point was that horizontal scaling takes work because you need distributed data (e.g. sessions for users). <a href="http://www.slideshare.net/RoySimkes/preparing-applications-for-dynamic-scaling">Slides</a>.</p>
<h6 id="tuningpythonapplicationscandramaticallyincreaseperformance">Tuning Python applications can dramatically increase performance</h6>
<p>The talk was given by an Intel engineer and it started with a wall of text legal disclaimer. #corporateWorldFTW</p>
<p>There was a comparison of different kinds of profilers (cprofile, line-based and sampling). Then, the speaker showed a demo of a working prototype for a sampling Python profiler in <a href="https://software.intel.com/en-us/intel-vtune-amplifier-xe">vTune</a>.</p>
<p>The demo profiled two functions that created strings - one kept concatenating, the other one used a mutable buffer. What was interesting was that under the line profiler, the slow code (concatenating) ended up being quicker than the faster code (mutable buffer). Turns out overhead is really important when profiling.</p>
<h6 id="pypyandthefutureofthepythonecosystem">PyPy and the future of the Python ecosystem</h6>
<p><a href="http://pypy.org/">PyPy</a> is an alternative Python implementation that is really fast, thanks to its JIT. The speaker is a 4 year contributor.</p>
<p>Dynamic languages are getting faster and faster (alternative) implementations. A bit of trolling:</p>
<blockquote>
<p>If PHP can do it, so can we!</p>
</blockquote>
<p>Again, an explanation on why CPython can't be changed. It's all about the C extensions which have low level access into the interpreter's memory management. And C extensions are really important to the Python community.</p>
<p>To kind of have the best of both worlds, the speaker developed <a href="https://github.com/rguillebert/pymetabiosis">pymetabiosis</a>, a bridge which allows importing CPython modules within PyPy. Really meta, and it works! There was a demo of plotting stuff using matplotlib from PyPy.</p>
<h6 id="statictypecheckingisdeadlonglivestatictypecheckinginpython">Static type-checking is dead, long live static type-checking in Python!</h6>
<p>In case you couldn't tell by now, type hints and friends were a big subject at this year's EuroPython. This talk showed a bit of how static type checking works and how tools such as QuickCheck can be used to make Python code safer.</p>
<p>Found out about <a href="http://goto.ucsd.edu/quark/">Quark</a>, a web browser with a formally verified kernel.</p>
<h6 id="lightningtalks">Lightning talks</h6>
<p><a href="http://swampdragon.net/">Swamp dragon</a> based demo similar to <a href="http://www.twitch.tv/twitchplayspokemon">Twitch plays Pokemon</a>. Left side of the room vs right side of the room.</p>
<p><a href="http://conda.pydata.org/docs/">Conda</a> 101.</p>
<p><a href="https://github.com/Blosc/bcolz">Bcolz</a> - data storage faster than memory. Turns out on certain CPUs, compressing data makes things faster, because decompression is quicker than transferring more data. Who would've thought?!</p>
<p>Deepish learning - using computer vision and deep learning to read emotions from pictures and then use those emotions in Python conditionals. E.g. <code>if sad(): stuff</code>.</p>
<p>Making <code>super</code> safe: <a href="https://pypi.python.org/pypi/cooper/0.1.0">cooper</a>, a Python library.</p>
<p>Ending talk - some numbers: 1094 attendees. 170 talks (tons of tracks).</p>
<h6 id="bonusgooglesreclassroom">Bonus: Google SRE Classroom</h6>
<p>This was an optional workshop that you had to apply for. We split in ~7 person teams and each team had a "mentor" from the Google SRE team. We had to solve a system design problem - given some infrastructure and a set of constraints, propose a solution for a given problem. There was no coding involved, just back of the envelope calculations and architecture ideas. It was definitely challenging and pretty fun!</p>
<h5 id="summingup">Summing up</h5>
<p>There's a lot of stuff happening around Python 3. Asyncio and type hints are the main things.</p>
<p>Python is a great language for education and for getting people into programming. The Django girls <a href="http://tutorial.djangogirls.org/">tutorial</a> is really awesome.</p>
<p>C extensions make it such that CPython will probably never get over the GIL and its inferior threading model. A lot of great work is being done around alternative implementations such as Nuitka and PyPy, but until C extensions are ported, they will only be targeting a niche market.</p>
<p>That being said, Python is in no way "too slow". It is simply a matter of using the right tool for the right job. For example, doing IO is just fine. If you need to crunch some numbers, turn to something like NumPy and you'll be fine.</p>
<hr/>
<p>That is all, sorry for the MVP-ish structure of the text. If you are curious to get more details about any of the above, feel free to ping me on <a href="https://twitter.com/mihneadb">Twitter</a>.</p>
</section>
</div></body></html>