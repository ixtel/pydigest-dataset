<html><body><div><div id="content">

            

            
        


            <div class="section">
              <h1>py3njection 1.4</h1>

              


<p>A simple dependency injection module using python 3 annotations</p>








<a href="https://travis-ci.org/Aigrefin/py3njection" rel="nofollow"><img src="https://travis-ci.org/Aigrefin/py3njection.svg"/>
</a>
<a href="https://codecov.io/github/Aigrefin/py3njection?branch=master" rel="nofollow"><img src="https://codecov.io/github/Aigrefin/py3njection/coverage.svg?branch=master"/></a>
<a href="http://py3njection.readthedocs.org/en/latest/?badge=latest" rel="nofollow"><img src="https://readthedocs.org/projects/py3njection/badge/?version=latest"/></a>
<a href="https://gitter.im/Aigrefin/py3njection?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" rel="nofollow"><img src="https://badges.gitter.im/Join%20Chat.svg"/>
</a>
<div id="how-to-use">
<h2>How to use</h2>
<pre><span class="kn">from</span> <span class="nn">py3njection</span> <span class="kn">import</span> <span class="n">inject</span>
<span class="kn">from</span> <span class="nn">some_package</span> <span class="kn">import</span> <span class="n">ClassToInject</span>

<span class="k">class</span> <span class="nc">Demo</span><span class="p">:</span>
    <span class="nd">@inject</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_to_use</span><span class="p">:</span> <span class="n">ClassToInject</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dependency</span> <span class="o">=</span> <span class="n">object_to_use</span>

<span class="n">demo</span> <span class="o">=</span> <span class="n">Demo</span><span class="p">()</span>
</pre>
</div>
<div id="how-does-it-work">
<h2>How does it work ?</h2>
<p>The decorator <em>@inject</em> looks for any annotated method/function parameters (<em>return</em> annotation excluded).</p>
<p>It creates a <strong>new</strong> object from the specified class <strong>if no</strong> object is already provided.</p>
</div>
<div id="what-if-i-want-a-singleton">
<h2>What if I want a singleton ?</h2>
<pre><span class="nd">@singleton</span>
<span class="k">class</span> <span class="nc">ClassToInject</span><span class="p">:</span>
    <span class="k">pass</span>
</pre>
<p>That’s it ! When <em>@inject</em> sees a class with this decorator, it <strong>always</strong> uses the <strong>same</strong> instance.</p>
</div>



<div id="some-notes">
<h2>Some Notes</h2>
<ul>
<li>Unit tests come easy to set up (unless you have too many dependencies, but that would be a code smell, right ?). Juste specify mock instances at your object creation. Examples will come later.</li>
<li>This also means the injected object could also have some of its members injected too at their initialization !</li>
</ul>
</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>24</span> downloads in the last week
  </li>
  <li>
    <span>274</span> downloads in the last month
  </li>
</ul>









            </div>


          </div>
          </div></body></html>