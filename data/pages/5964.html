<html><body><div><div id="content">

            

            
        


            <div class="section">
              <h1>aioavast 1.0.1</h1>

              


<p>Asyncio library for Avast antivirus</p>








<p>asyncio (PEP 3156) Avast Linux support</p>
<div id="features">
<h2>Features</h2>
<ul>
<li>Scanning files and/or directories.</li>
<li>Checking URLs.</li>
<li>Exclude files from the scanning.</li>
<li>Get and set the list of enabled or disabled pack and flags.</li>
</ul>
</div>

<div id="license">
<h2>License</h2>
<p><tt>aioavast</tt> is offered under the MIT license.</p>
</div>

<div id="getting-started">
<h2>Getting started</h2>
<div id="scanning">
<h3>Scanning</h3>
<p>Scan a file and prints its output:</p>
<pre><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">aioavast</span> <span class="kn">import</span> <span class="n">Avast</span>

<span class="nd">@asyncio.coroutine</span>
<span class="k">def</span> <span class="nf">scan</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
    <span class="n">av</span> <span class="o">=</span> <span class="n">Avast</span><span class="p">()</span>
    <span class="k">yield from</span> <span class="n">av</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">(</span><span class="k">yield from</span> <span class="n">av</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">scan</span><span class="p">(</span><span class="s1">'/bin/ls'</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre>
<p>You can check an url too:</p>
<pre><span class="k">return</span> <span class="p">(</span><span class="k">yield from</span> <span class="n">av</span><span class="o">.</span><span class="n">checkurl</span><span class="p">(</span><span class="s1">'http://python.org'</span><span class="p">))</span>
</pre>
</div>
<div id="exclude-items">
<h3>Exclude items</h3>
<p>There is also a possibility to exclude certain files from being scanned.</p>
<pre><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">aioavast</span> <span class="kn">import</span> <span class="n">Avast</span>

<span class="nd">@asyncio.coroutine</span>
<span class="k">def</span> <span class="nf">dont_scan</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
    <span class="n">av</span> <span class="o">=</span> <span class="n">Avast</span><span class="p">()</span>
    <span class="k">yield from</span> <span class="n">av</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
    <span class="k">yield from</span> <span class="n">av</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="k">yield from</span> <span class="n">av</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">scan</span><span class="p">(</span><span class="s1">'/bin/ls'</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre>
<p>You can retrieve excluded items by:</p>
<pre><span class="n">excluded</span> <span class="o">=</span> <span class="k">yield from</span> <span class="n">av</span><span class="o">.</span><span class="n">exclude</span><span class="p">()</span>
</pre>
</div>
<div id="other-methods">
<h3>Other methods</h3>
<p>You could modify Flags and Packs too.</p>
<pre><span class="n">flags</span> <span class="o">=</span> <span class="k">yield from</span> <span class="n">av</span><span class="o">.</span><span class="n">flags</span><span class="p">()</span>
<span class="k">yield from</span> <span class="n">av</span><span class="o">.</span><span class="n">flags</span><span class="p">(</span><span class="s2">"-allfiles"</span><span class="p">)</span>

<span class="n">packs</span> <span class="o">=</span> <span class="k">yield from</span> <span class="n">av</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="k">yield from</span> <span class="n">av</span><span class="o">.</span><span class="n">flags</span><span class="p">(</span><span class="s2">"-ole"</span><span class="p">)</span>
</pre>
</div>
</div>


<a name="downloads">Â </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>23</span> downloads in the last week
  </li>
  <li>
    <span>163</span> downloads in the last month
  </li>
</ul>









            </div>


          </div>
          </div></body></html>