<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-flask-profiler" class="anchor" href="#flask-profiler" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Flask-profiler</h1>

<p><a href="https://travis-ci.org/muatik/flask-profiler"><img src="https://camo.githubusercontent.com/2ddc53de7d405b81448d4e00e58531f12dbc0b4d/68747470733a2f2f7472617669732d63692e6f72672f6d756174696b2f666c61736b2d70726f66696c65722e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/muatik/flask-profiler.svg?branch=master"/></a></p>

<h5><a id="user-content-flask-profiler-measures-endpoints-defined-in-your-flask-application-and-provides-you-fine-grained-report-through-a-web-interface" class="anchor" href="#flask-profiler-measures-endpoints-defined-in-your-flask-application-and-provides-you-fine-grained-report-through-a-web-interface" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Flask-profiler measures endpoints defined in your flask application; and provides you fine-grained report through a web interface.</h5>

<p>It gives answer to these questions:</p>

<ul>
<li>Where are the bottlenecks in my application?</li>
<li>Which endpoints are the slowest in my application?</li>
<li>Which are the most frequently called endpoints?</li>
<li>What causes my slow endpoints? In which context, with what args and kwargs are they slow?</li>
<li>How much time did a specific request take?</li>
</ul>

<p>In short, if you are curious about what your endpoints are doing and what requests they are receiving, give a try to flask-profiler.</p>

<p>With flask-profiler's web interface, you can monitor all your endpoints' performance and investigate endpoints and received requests by drilling down through filters.</p>

<h2><a id="user-content-screenshots" class="anchor" href="#screenshots" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Screenshots</h2>

<p>Dashboard view displays a summary.
<a href="/muatik/flask-profiler/blob/master/resources/dashboard_screen.png?raw=true" target="_blank"><img src="/muatik/flask-profiler/raw/master/resources/dashboard_screen.png?raw=true" alt="Alt text" title="Dashboard view"/></a></p>

<p>You can create filters to investigate certain type requests.
<a href="/muatik/flask-profiler/blob/master/resources/filtering_all_screen%20.png?raw=true" target="_blank"><img src="/muatik/flask-profiler/raw/master/resources/filtering_all_screen%20.png?raw=true" alt="Alt text" title="Filtering by endpoint"/></a></p>

<p><a href="/muatik/flask-profiler/blob/master/resources/filtering_method_screen.png?raw=true" target="_blank"><img src="/muatik/flask-profiler/raw/master/resources/filtering_method_screen.png?raw=true" alt="Alt text" title="Filtering by method"/></a></p>

<p>You can see all the details of a request.
<a href="/muatik/flask-profiler/blob/master/resources/filtering_detail_screen.png?raw=true" target="_blank"><img src="/muatik/flask-profiler/raw/master/resources/filtering_detail_screen.png?raw=true" alt="Alt text" title="Request detail"/></a></p>

<h2><a id="user-content-quick-start" class="anchor" href="#quick-start" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Quick Start</h2>

<p>It is easy to understand flask-profiler going through an example. Let's dive in.</p>

<p>Install flask-profiler by pip.</p>

<div class="highlight highlight-source-shell"><pre>pip install flask_profiler</pre></div>

<p>Edit your code where you are creating Flask app.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c"># your app.py</span>
<span class="pl-k">from</span> flask <span class="pl-k">import</span> Flask
<span class="pl-k">import</span> flask_profiler

app <span class="pl-k">=</span> Flask(<span class="pl-c1">__name__</span>)
app.config[<span class="pl-s"><span class="pl-pds">"</span>DEBUG<span class="pl-pds">"</span></span>] <span class="pl-k">=</span> <span class="pl-c1">True</span>

<span class="pl-c"># You need to declare necessary configuration to initialize</span>
<span class="pl-c"># flask-profiler as follows:</span>
app.config[<span class="pl-s"><span class="pl-pds">"</span>flask_profiler<span class="pl-pds">"</span></span>] <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span>: app.config[<span class="pl-s"><span class="pl-pds">"</span>DEBUG<span class="pl-pds">"</span></span>],
    <span class="pl-s"><span class="pl-pds">"</span>storage<span class="pl-pds">"</span></span>: {
        <span class="pl-s"><span class="pl-pds">"</span>engine<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>sqlite<span class="pl-pds">"</span></span>
    },
    <span class="pl-s"><span class="pl-pds">"</span>basicAuth<span class="pl-pds">"</span></span>:{
        <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span>: <span class="pl-c1">True</span>,
        <span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>admin<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>admin<span class="pl-pds">"</span></span>
    }
}


<span class="pl-en">@app.route</span>(<span class="pl-s"><span class="pl-pds">'</span>/product/&lt;id&gt;<span class="pl-pds">'</span></span>, <span class="pl-v">methods</span><span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">'</span>GET<span class="pl-pds">'</span></span>])
<span class="pl-k">def</span> <span class="pl-en">getProduct</span>(<span class="pl-smi">id</span>):
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>product id is <span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-c1">str</span>(<span class="pl-c1">id</span>)


<span class="pl-en">@app.route</span>(<span class="pl-s"><span class="pl-pds">'</span>/product/&lt;id&gt;<span class="pl-pds">'</span></span>, <span class="pl-v">methods</span><span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">'</span>PUT<span class="pl-pds">'</span></span>])
<span class="pl-k">def</span> <span class="pl-en">updateProduct</span>(<span class="pl-smi">id</span>):
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>product <span class="pl-c1">{}</span> is being updated<span class="pl-pds">"</span></span>.format(<span class="pl-c1">id</span>)


<span class="pl-en">@app.route</span>(<span class="pl-s"><span class="pl-pds">'</span>/products<span class="pl-pds">'</span></span>, <span class="pl-v">methods</span><span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">'</span>GET<span class="pl-pds">'</span></span>])
<span class="pl-k">def</span> <span class="pl-en">listProducts</span>():
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>suppose I send you product list...<span class="pl-pds">"</span></span>

<span class="pl-c"># In order to active flask-profiler, you have to pass flask</span>
<span class="pl-c"># app as an argument to flask-profiler.</span>
<span class="pl-c"># All the endpoints declared so far will be tracked by flask-profiler.</span>
flask_profiler.init_app(app)


<span class="pl-c"># endpoint declarations after flask_profiler.init_app() will be</span>
<span class="pl-c"># hidden to flask_profiler.</span>
<span class="pl-en">@app.route</span>(<span class="pl-s"><span class="pl-pds">'</span>/doSomething<span class="pl-pds">'</span></span>, <span class="pl-v">methods</span><span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">'</span>GET<span class="pl-pds">'</span></span>])
<span class="pl-k">def</span> <span class="pl-en">doSomething</span>():
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>flask-profiler will not measure this.<span class="pl-pds">"</span></span>


<span class="pl-c"># But in case you want an endpoint to be measured by flask-profiler,</span>
<span class="pl-c"># you can specify this explicitly by using profile() decorator</span>
<span class="pl-en">@app.route</span>(<span class="pl-s"><span class="pl-pds">'</span>/doSomething<span class="pl-pds">'</span></span>, <span class="pl-v">methods</span><span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">'</span>GET<span class="pl-pds">'</span></span>])
<span class="pl-en">@flask_profiler.profile</span>()
<span class="pl-k">def</span> <span class="pl-en">doSomethingImportant</span>():
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>flask-profiler will measure this request.<span class="pl-pds">"</span></span>

<span class="pl-k">if</span> <span class="pl-c1">__name__</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>__main__<span class="pl-pds">'</span></span>:
    app.run(<span class="pl-v">host</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>127.0.0.1<span class="pl-pds">"</span></span>, <span class="pl-v">port</span><span class="pl-k">=</span><span class="pl-c1">5000</span>)

</pre></div>

<p>Now run your <code>app.py</code></p>

<pre><code>python app.py
</code></pre>

<p>And make some requests like:</p>

<div class="highlight highlight-source-shell"><pre>curl http://127.0.0.1:5000/products
curl http://127.0.0.1:5000/product/123
curl -X PUT -d arg1=val1 http://127.0.0.1:5000/product/123</pre></div>

<p>If everything is okay, Flask-profiler will measure these requests. You can see the result heading to <a href="http://127.0.0.1:5000/flask-profiler/">http://127.0.0.1:5000/flask-profiler/</a> or get results as json <a href="http://127.0.0.1:5000/flask-profiler/api/measurements?sort=elapsed,desc">http://127.0.0.1:5000/flask-profiler/api/measurements?sort=elapsed,desc</a></p>

<h2><a id="user-content-using-with-different-database-system" class="anchor" href="#using-with-different-database-system" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Using with different database system</h2>

<p>Currently <strong>Sqlite</strong> and <strong>Mongodb</strong> database systems are supported. However, it is easy to support other database systems. If you would like to have others, please go to contribution documentation. (It is really easy.)</p>

<h3><a id="user-content-sqlite" class="anchor" href="#sqlite" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Sqlite</h3>

<p>In order to use Sqlite, just specify it as the value of <code>storage.engine</code> directive as follows.</p>

<div class="highlight highlight-source-json"><pre>app.config[<span class="pl-s"><span class="pl-pds">"</span>flask_profiler<span class="pl-pds">"</span></span>] = {
    <span class="pl-s"><span class="pl-pds">"</span>storage<span class="pl-pds">"</span></span>: {
        <span class="pl-s"><span class="pl-pds">"</span>engine<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>sqlite<span class="pl-pds">"</span></span>,
    }
}</pre></div>

<p>Below the other options are listed.</p>

<table><thead>
<tr>
<th>Filter key</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>storage.FILE</td>
<td>sqlite database file name</td>
<td>flask_profiler.sql</td>
</tr>
<tr>
<td>storage.TABLE</td>
<td>table name in which profiling data will reside</td>
<td>measurements</td>
</tr>
</tbody></table>

<h3><a id="user-content-mongodb" class="anchor" href="#mongodb" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Mongodb</h3>

<p>In order to use Mongodb, just specify it as the value of <code>storage.engine</code> directive as follows.</p>

<div class="highlight highlight-source-json"><pre>app.config[<span class="pl-s"><span class="pl-pds">"</span>flask_profiler<span class="pl-pds">"</span></span>] = {
    <span class="pl-s"><span class="pl-pds">"</span>storage<span class="pl-pds">"</span></span>: {
        <span class="pl-s"><span class="pl-pds">"</span>engine<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>mongodb<span class="pl-pds">"</span></span>,
    }
}</pre></div>

<p>Below the other options are listed.</p>

<table><thead>
<tr>
<th>Filter key</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>storage.MONGO_URL</td>
<td>mongodb connection string</td>
<td>mongodb://localhost</td>
</tr>
<tr>
<td>storage.DATABASE</td>
<td>database name</td>
<td>flask_profiler</td>
</tr>
<tr>
<td>storage.COLLECTION</td>
<td>collection name</td>
<td>measurements</td>
</tr>
</tbody></table>

<h2><a id="user-content-contributing" class="anchor" href="#contributing" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Contributing</h2>

<p>Contributions are welcome!</p>

<p>Review the <a href="https://github.com/muatik/flask-profiler/wiki/Development">Contributing Guidelines</a> for details on how to:</p>

<ul>
<li>Submit issues</li>
<li>Add solutions to existing challenges</li>
<li>Add new challenges</li>
</ul>

<h2><a id="user-content-authors" class="anchor" href="#authors" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Authors</h2>



<h2><a id="user-content-license" class="anchor" href="#license" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>License</h2>

<p>MIT</p>
</article>
  </div></body></html>