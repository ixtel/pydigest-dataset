<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-django-linguist" class="anchor" href="#django-linguist" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>django-linguist</h1>
<a href="http://travis-ci.org/ulule/django-linguist"><img alt="Build Status" src="https://camo.githubusercontent.com/ec9e81c2aed394e67397a24764e1f686df4c66b2/68747470733a2f2f7365637572652e7472617669732d63692e6f72672f756c756c652f646a616e676f2d6c696e67756973742e706e673f6272616e63683d6d6173746572" data-canonical-src="https://secure.travis-ci.org/ulule/django-linguist.png?branch=master"/></a>
<p><a href="https://github.com/ulule/django-linguist">django-linguist</a> is a <a href="http://djangoproject.com">Django</a> application for flexible model translations.</p>
<p>Here a few principles that define this application in comparaison to others applications:</p>
<ul>
<li>Translations are stored in single one table and you can also use a different one per model</li>
<li>No "one i18n table per model", say "goodbye" to nightmares :)</li>
<li>No more painful migrations</li>
<li>Not tied to model class names, you are free to use your own identifiers</li>
<li>No ORM query hacks, it does not patch anything and it will be easier for you to upgrade your Django</li>
<li>No magic, it uses metaclasses and mixins and everything is explicit</li>
<li>Dead simple to plug in an existing project</li>
<li>Django admin ready</li>
</ul>
<p>If you are looking for a "one-i18n-table-per-model" way, <a href="https://github.com/edoburu/django-parler">django-parler</a> is
an awesome alternative.</p>
<a name="user-content-installation"/>
<h2><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h2>
<div class="highlight highlight-source-shell"><pre>$ pip install django-linguist</pre></div>
<p>In your <code>settings.py</code>, add <code>linguist</code> to <code>INSTALLED_APPS</code>:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-c1">INSTALLED_APPS</span> <span class="pl-k">=</span> (
    <span class="pl-c"># Your other apps here</span>
    <span class="pl-s"><span class="pl-pds">'</span>linguist<span class="pl-pds">'</span></span>,
)</pre></div>
<p>Then synchronize database:</p>
<div class="highlight highlight-source-shell"><pre><span class="pl-c"># &gt;= Django 1.7</span>
$ python manage.py migrate linguist

<span class="pl-c"># &lt; Django 1.7</span>
$ python manage.py syncdb</pre></div>
<p>That's all.</p>
<a name="user-content-configuration"/>
<h2><a id="user-content-configuration" class="anchor" href="#configuration" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Configuration</h2>
<a name="user-content-models"/>
<h3><a id="user-content-models" class="anchor" href="#models" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Models</h3>
<p>In three steps:</p>
<ol>
<li>Add <code>linguist.metaclasses.ModelMeta</code> to your model as metaclass</li>
<li>Add <code>linguist.mixins.ManagerMixin</code> to your model manager</li>
<li>Add <code>linguist</code> settings in your model's Meta</li>
</ol>
<p>Don't worry, it's fairly simple:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> django.db <span class="pl-k">import</span> models
<span class="pl-k">from</span> django.utils.six <span class="pl-k">import</span> with_metaclass
<span class="pl-k">from</span> django.utils.translation <span class="pl-k">import</span> ugettext_lazy <span class="pl-k">as</span> _

<span class="pl-k">from</span> linguist.metaclasses <span class="pl-k">import</span> ModelMeta <span class="pl-k">as</span> LinguistMeta
<span class="pl-k">from</span> linguist.mixins <span class="pl-k">import</span> ManagerMixin <span class="pl-k">as</span> LinguistManagerMixin


<span class="pl-k">class</span> <span class="pl-en">PostManager</span>(<span class="pl-e">LinguistManagerMixin</span>, <span class="pl-e">models</span>.<span class="pl-e">Manager</span>):
    <span class="pl-k">pass</span>


<span class="pl-k">class</span> <span class="pl-en">Post</span>(<span class="pl-e">with_metaclass</span>(LinguistMeta, models.Model)):
    title <span class="pl-k">=</span> models.CharField(<span class="pl-v">max_length</span><span class="pl-k">=</span><span class="pl-c1">255</span>)
    body <span class="pl-k">=</span> models.TextField()
    created_at <span class="pl-k">=</span> models.DateTimeField(<span class="pl-v">auto_now_add</span><span class="pl-k">=</span><span class="pl-c1">True</span>)
    objects <span class="pl-k">=</span> PostManager()

    <span class="pl-k">class</span> <span class="pl-en">Meta</span>:
        verbose_name <span class="pl-k">=</span> _(<span class="pl-s"><span class="pl-pds">'</span>post<span class="pl-pds">'</span></span>)
        verbose_name_plural <span class="pl-k">=</span> _(<span class="pl-s"><span class="pl-pds">'</span>posts<span class="pl-pds">'</span></span>)
        linguist <span class="pl-k">=</span> {
            <span class="pl-s"><span class="pl-pds">'</span>identifier<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>can-be-anything-you-want<span class="pl-pds">'</span></span>,
            <span class="pl-s"><span class="pl-pds">'</span>fields<span class="pl-pds">'</span></span>: (<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>body<span class="pl-pds">'</span></span>),
            <span class="pl-s"><span class="pl-pds">'</span>default_language<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>fr<span class="pl-pds">'</span></span>,
        }</pre></div>
<p>The <code>linguist</code> meta requires:</p>
<ul>
<li><code>identifier</code>: a unique identifier for your model (can be anything you want)</li>
<li><code>fields</code>: list or tuple of model fields to translate</li>
</ul>
<p>And optionally requires:</p>
<ul>
<li><code>default_language</code>: the default language to use</li>
<li><code>default_language_field</code>: the field that contains the default language to use (see below)</li>
<li><code>decider</code>: the translation model to use instead of the default one (see below)</li>
</ul>
<p>That's all. You're ready.</p>
<a name="user-content-default-language-per-instance"/>
<h3><a id="user-content-default-language-per-instance" class="anchor" href="#default-language-per-instance" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Default language per instance</h3>
<p>Sometimes, you need to define default language at instance level. Linguist
supports this feature via the <code>default_language_field</code> option. Add a field
in your model that will store the default language then simply give the field
name to Linguist.</p>
<p>Let's take an example:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> django.db <span class="pl-k">import</span> models
<span class="pl-k">from</span> django.utils.six <span class="pl-k">import</span> with_metaclass
<span class="pl-k">from</span> django.utils.translation <span class="pl-k">import</span> ugettext_lazy <span class="pl-k">as</span> _

<span class="pl-k">from</span> linguist.metaclasses <span class="pl-k">import</span> ModelMeta <span class="pl-k">as</span> LinguistMeta
<span class="pl-k">from</span> linguist.mixins <span class="pl-k">import</span> ManagerMixin <span class="pl-k">as</span> LinguistManagerMixin


<span class="pl-k">class</span> <span class="pl-en">PostManager</span>(<span class="pl-e">LinguistManagerMixin</span>, <span class="pl-e">models</span>.<span class="pl-e">Manager</span>):
    <span class="pl-k">pass</span>


<span class="pl-k">class</span> <span class="pl-en">Post</span>(<span class="pl-e">with_metaclass</span>(LinguistMeta, models.Model)):
    title <span class="pl-k">=</span> models.CharField(<span class="pl-v">max_length</span><span class="pl-k">=</span><span class="pl-c1">255</span>)
    body <span class="pl-k">=</span> models.TextField()
    created_at <span class="pl-k">=</span> models.DateTimeField(<span class="pl-v">auto_now_add</span><span class="pl-k">=</span><span class="pl-c1">True</span>)
    lang <span class="pl-k">=</span> models.CharField(<span class="pl-v">max_length</span><span class="pl-k">=</span><span class="pl-c1">5</span>, <span class="pl-v">default</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>en<span class="pl-pds">'</span></span>)
    objects <span class="pl-k">=</span> PostManager()

    <span class="pl-k">class</span> <span class="pl-en">Meta</span>:
        verbose_name <span class="pl-k">=</span> _(<span class="pl-s"><span class="pl-pds">'</span>post<span class="pl-pds">'</span></span>)
        verbose_name_plural <span class="pl-k">=</span> _(<span class="pl-s"><span class="pl-pds">'</span>posts<span class="pl-pds">'</span></span>)
        linguist <span class="pl-k">=</span> {
            <span class="pl-s"><span class="pl-pds">'</span>identifier<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>can-be-anything-you-want<span class="pl-pds">'</span></span>,
            <span class="pl-s"><span class="pl-pds">'</span>fields<span class="pl-pds">'</span></span>: (<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>body<span class="pl-pds">'</span></span>),
            <span class="pl-s"><span class="pl-pds">'</span>default_language<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>en<span class="pl-pds">'</span></span>,
            <span class="pl-s"><span class="pl-pds">'</span>default_language_field<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>lang<span class="pl-pds">'</span></span>,
        }</pre></div>
<a name="user-content-custom-table-for-translations"/>
<h3><a id="user-content-custom-table-for-translations" class="anchor" href="#custom-table-for-translations" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Custom table for translations</h3>
<p>By default, Linguist stores translations into <code>linguist.models.Translation</code>
table. So in a single one table. If you need to use another table for a specific
model, Linguist provides a way to override this behavior: use <em>deciders</em>.</p>
<p>That's really easy to implement.</p>
<p>You can do it in three steps:</p>
<ul>
<li>Create a model that inherits from <code>linguist.models.base.Translation</code></li>
<li>Don't forget to define it as concrete (<code>abstract = False</code> in Meta)</li>
<li>Give this model to Linguist meta <code>decider</code> option</li>
</ul>
<p>This example will show you the light:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> django.db <span class="pl-k">import</span> models
<span class="pl-k">from</span> django.utils.six <span class="pl-k">import</span> with_metaclass
<span class="pl-k">from</span> django.utils.translation <span class="pl-k">import</span> ugettext_lazy <span class="pl-k">as</span> _

<span class="pl-k">from</span> linguist.metaclasses <span class="pl-k">import</span> ModelMeta <span class="pl-k">as</span> LinguistMeta
<span class="pl-k">from</span> linguist.mixins <span class="pl-k">import</span> ManagerMixin <span class="pl-k">as</span> LinguistManagerMixin
<span class="pl-k">from</span> linguist.models.base <span class="pl-k">import</span> Translation


<span class="pl-c"># Our Post model decider</span>
<span class="pl-k">class</span> <span class="pl-en">PostTranslation</span>(<span class="pl-e">Translation</span>):
    <span class="pl-k">class</span> <span class="pl-en">Meta</span>:
        abstract <span class="pl-k">=</span> <span class="pl-c1">False</span>


<span class="pl-k">class</span> <span class="pl-en">PostManager</span>(<span class="pl-e">LinguistManagerMixin</span>, <span class="pl-e">models</span>.<span class="pl-e">Manager</span>):
    <span class="pl-k">pass</span>


<span class="pl-k">class</span> <span class="pl-en">Post</span>(<span class="pl-e">with_metaclass</span>(LinguistMeta, models.Model)):
    title <span class="pl-k">=</span> models.CharField(<span class="pl-v">max_length</span><span class="pl-k">=</span><span class="pl-c1">255</span>)
    body <span class="pl-k">=</span> models.TextField()
    created_at <span class="pl-k">=</span> models.DateTimeField(<span class="pl-v">auto_now_add</span><span class="pl-k">=</span><span class="pl-c1">True</span>)
    objects <span class="pl-k">=</span> PostManager()

    <span class="pl-k">class</span> <span class="pl-en">Meta</span>:
        verbose_name <span class="pl-k">=</span> _(<span class="pl-s"><span class="pl-pds">'</span>post<span class="pl-pds">'</span></span>)
        verbose_name_plural <span class="pl-k">=</span> _(<span class="pl-s"><span class="pl-pds">'</span>posts<span class="pl-pds">'</span></span>)
        linguist <span class="pl-k">=</span> {
            <span class="pl-s"><span class="pl-pds">'</span>identifier<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>can-be-anything-you-want<span class="pl-pds">'</span></span>,
            <span class="pl-s"><span class="pl-pds">'</span>fields<span class="pl-pds">'</span></span>: (<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>body<span class="pl-pds">'</span></span>),
            <span class="pl-s"><span class="pl-pds">'</span>default_language<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>fr<span class="pl-pds">'</span></span>,
            <span class="pl-s"><span class="pl-pds">'</span>decider<span class="pl-pds">'</span></span>: PostTranslation,
        }</pre></div>
<a name="user-content-django-contrib-admin"/>
<h3><a id="user-content-djangocontribadmin" class="anchor" href="#djangocontribadmin" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>django.contrib.admin</h3>
<p>Simply use <code>linguist.admin.TranslatableModelAdmin</code> class:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> django.contrib <span class="pl-k">import</span> admin
<span class="pl-k">from</span> linguist.admin <span class="pl-k">import</span> TranslatableModelAdmin
<span class="pl-k">from</span> .models <span class="pl-k">import</span> Post


<span class="pl-k">class</span> <span class="pl-en">PostAdmin</span>(<span class="pl-e">TranslatableModelAdmin</span>):
    list_display <span class="pl-k">=</span> (<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>body<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>created_at<span class="pl-pds">'</span></span>)

admin.site.register(Post, PostAdmin)</pre></div>
<p>Bonus! You can display instance's languages in <code>list_display</code> via the
<code>languages_column</code> property provided by the admin class:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> django.contrib <span class="pl-k">import</span> admin
<span class="pl-k">from</span> linguist.admin <span class="pl-k">import</span> TranslatableModelAdmin
<span class="pl-k">from</span> .models <span class="pl-k">import</span> Post


<span class="pl-k">class</span> <span class="pl-en">PostAdmin</span>(<span class="pl-e">TranslatableModelAdmin</span>):
    list_display <span class="pl-k">=</span> (<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>body<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>languages_column<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>created_at<span class="pl-pds">'</span></span>)

admin.site.register(Post, PostAdmin)</pre></div>
<a name="user-content-how-it-works"/>
<h2><a id="user-content-how-it-works" class="anchor" href="#how-it-works" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>How it works</h2>
<p>Linguist adds virtual language fields to your models. For the example above, if
we have <code>en</code>, <code>fr</code> and <code>it</code> in <code>settings.LANGUAGES</code>, it
dynamically adds the following fields in <code>Post</code> model:</p>
<ul>
<li><code>Post.title_en</code></li>
<li><code>Post.title_fr</code></li>
<li><code>Post.title_it</code></li>
<li><code>Post.body_en</code></li>
<li><code>Post.body_fr</code></li>
<li><code>Post.body_it</code></li>
</ul>
<p>These fields are virtuals. They don't exist in <code>Post</code> table. There are
wrappers around <code>linguist.Translation</code> model. All translations will be stored
in this table.</p>
<p>When you set/get <code>post.title</code>, Linguist will use the current active language
and will set/get the correct field for this language. For example, if your
default language is English (<code>en</code>), then <code>Post.title</code> will refer to <code>post.title_en</code>.</p>
<p>The <code>ModelMixin</code> enhance your model with the following properties and methods:</p>
<dl>
<dt><code>instance.linguist_identifier</code> (<em>read-only</em> property)</dt>
<dd>Your model identifier defined in the related translation class.
Shortcut pointing on <code>instance._linguist.identifier</code>.</dd>
<dt><code>instance.default_language</code> (<em>read-write</em> property)</dt>
<dd>The default language to use.
Shortcut pointing on <code>instance._linguist.default_language</code>.</dd>
<dt><code>instance.translatable_fields</code> (<em>read-only</em> property)</dt>
<dd>Translatable fields defined in the related translation class.
Shorcut pointing on <code>instance._linguist.fields</code>.</dd>
<dt><code>instance.available_languages</code> (<em>read-only</em> property)</dt>
<dd>Available languages for this instance (content translated in these languages).</dd>
<dt><code>instance.cached_translations_count</code> (<em>read-only</em> property)</dt>
<dd>Returns the number of cached translations. Each time you set a new language
and set content on translatable fields, a cache is created for each language
and field. It will be used to create <code>Translation</code> objets at instance saving.</dd>
<dt><code>instance.active_language()</code></dt>
<dd>Set the current active language for the instance.</dd>
<dt><code>instance.clear_translations_cache()</code></dt>
<dd>Remove all cached translations. Be aware, any content you set will be dropped.
So no translation will be created/updated at saving.</dd>
</dl>
<div class="highlight highlight-source-python"><pre><span class="pl-c"># Let's create a new Post</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post <span class="pl-k">=</span> Post()

<span class="pl-c"># Set English content</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post.activate_language(<span class="pl-s"><span class="pl-pds">'</span>en<span class="pl-pds">'</span></span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post.title <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Hello<span class="pl-pds">'</span></span>

<span class="pl-c"># Now set French content</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post.activate_language(<span class="pl-s"><span class="pl-pds">'</span>fr<span class="pl-pds">'</span></span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post.title <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Bonjour<span class="pl-pds">'</span></span>

<span class="pl-c"># Be sure everything works as expected for English</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post.activate_language(<span class="pl-s"><span class="pl-pds">'</span>en<span class="pl-pds">'</span></span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post.title
Hello

<span class="pl-c"># And now for French</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post.activate_language(<span class="pl-s"><span class="pl-pds">'</span>fr<span class="pl-pds">'</span></span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post.title
Bonjour

<span class="pl-c"># Sweet! Save translations!</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post.save()</pre></div>
<a name="user-content-preloading"/>
<h2><a id="user-content-preloading" class="anchor" href="#preloading" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Preloading</h2>
<p>To improve performances, you can preload/prefetch translations.</p>
<p>For a queryset (your queryset must inherit from Linguist manager/queryset):</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Post.objects.with_translations()</pre></div>
<p>For a list of objects (all your objects must inherit from Linguist model):</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> linguist.helpers <span class="pl-k">import</span> prefetch_translations
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> posts <span class="pl-k">=</span> <span class="pl-c1">list</span>(Post.objects.all())
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> prefetch_translations(posts)</pre></div>
<p>For an instance (it must inherit from Linguist model):</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post <span class="pl-k">=</span> Post.objects.first()
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post.prefetch_translations()</pre></div>
<p>All translations will be cached in instances. Database won't be hit anymore.</p>
<p>This preloading system takes three parameters:</p>
<ul>
<li><code>field_names</code>: list of translatable field names to filter on</li>
<li><code>languages</code>: list of languages to filter on</li>
<li><code>populate_missing</code>: boolean if you want to populate cache for missing translations (defaults to <code>True</code>)</li>
<li><code>chunks_length</code>: chunk limit for SELECT IN ids for translations</li>
</ul>
<p>For example, we only want to prefetch post titles in English without populating missing
translations with an empty string:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Post.objects.with_translations(<span class="pl-v">field_names</span><span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>], <span class="pl-v">languages</span><span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">'</span>en<span class="pl-pds">'</span></span>], <span class="pl-v">populate_missing</span><span class="pl-k">=</span><span class="pl-c1">False</span>)</pre></div>
<p>It works the same for:</p>
<ul>
<li>QuerySet <code>with_translations()</code></li>
<li>Helper <code>prefetch_translations()</code></li>
<li>Instance method <code>prefetch_translations()</code></li>
</ul>
<p><strong>What does "populating missing translations" mean?</strong></p>
<p>Simple. By default, when you prefetch translations, instances cache will be populated
with empty strings for all supported languages (see  <code>settings</code>). For example, if
you have <code>en</code>, <code>fr</code> and <code>it</code> as supported languages and only have English
translations, if you try to access other languages, an empty string will be returned
without any database hit:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Post.objects.with_translations()
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post.title_fr <span class="pl-c"># no database hit here because</span>
<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span></pre></div>
<p>Now, if you explicitly set <code>populate_missing</code> to <code>False</code>, if a translation
is not found, it will be fetched from database.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> Post.objects.with_translations(<span class="pl-v">populate_missing</span><span class="pl-k">=</span><span class="pl-c1">False</span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> post.title_fr <span class="pl-c"># database hit here</span>
<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span></pre></div>
<a name="user-content-development"/>
<h2><a id="user-content-development" class="anchor" href="#development" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Development</h2>
<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Don't have pip?</span>
$ sudo easy_install pip

<span class="pl-c"># Don't already have virtualenv?</span>
$ sudo pip install virtualenv

<span class="pl-c"># Clone and install dependencies</span>
$ git clone https://github.com/ulule/django-linguist.git
$ <span class="pl-c1">cd</span> django-linguist
$ make devenv

<span class="pl-c"># Enable virtual environment.</span>
$ <span class="pl-c1">source</span> .venv/bin/activate

<span class="pl-c"># Launch tests</span>
$ make <span class="pl-c1">test</span>

<span class="pl-c"># Launch example project</span>
$ make serve</pre></div>
<a name="user-content-compatibility"/>
<h2><a id="user-content-compatibility" class="anchor" href="#compatibility" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Compatibility</h2>
<ul>
<li>python 2.7: Django 1.8, 1.9</li>
<li>Python 3.4: Django 1.8, 1.9</li>
</ul>

</article>
  </div></body></html>