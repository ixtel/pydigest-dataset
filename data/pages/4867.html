<html><body><div><div class="post-text" itemprop="text">
<p>Django stores <code>unicode</code> string using code points and identifies the string as unicode for further processing. 
UTF-8 uses four 8-bit bytes encoding, so the <code>unicode</code> string that's being used by Django needs to be decoded or interpreted from code point notation to its UTF-8 notation at some point. 
In the case of Åland Islands, what seems to be happening is that it's taking the UTF-8 byte encoding and interpret it as code points to convert the string. </p>

<p>The string django_countries returns is most likely <code>u'\xc5land Islands'</code> where <code>\xc5</code> is the UTF code point notation of Å. In UTF-8 byte notation <code>\xc5</code> becomes <code>\xc3\x85</code> where each number <code>\xc3</code> and <code>\x85</code> is a 8-bit byte. See:
<a href="http://www.ltg.ed.ac.uk/~richard/utf-8.cgi?input=xc5&amp;mode=hex" rel="nofollow">http://www.ltg.ed.ac.uk/~richard/utf-8.cgi?input=xc5&amp;mode=hex</a></p>

<p>Or you can use country_label = fields.Country(form.cleaned_data.get('country')[0:2]).name.encode('utf-8') to go from <code>u'\xc5land Islands'</code> to <code>'\xc3\x85land Islands'</code></p>

<p>If you take then each byte and use them as code points, you'll see it'll give you these characters: <code>Ã…</code>
See: <a href="http://www.ltg.ed.ac.uk/~richard/utf-8.cgi?input=xc3&amp;mode=hex" rel="nofollow">http://www.ltg.ed.ac.uk/~richard/utf-8.cgi?input=xc3&amp;mode=hex</a>
And: <a href="http://www.ltg.ed.ac.uk/~richard/utf-8.cgi?input=x85&amp;mode=hex" rel="nofollow">http://www.ltg.ed.ac.uk/~richard/utf-8.cgi?input=x85&amp;mode=hex</a></p>

<p>See code snippet with html notation of these characters.</p>

<p/><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;div id="test"&gt;&amp;#xC3;&amp;#x85;&amp;#xC5;&lt;/div&gt;</code></pre>
</div>
</div>


<p>So I'm guessing you have 2 different encodings in you application. One way to get from <code>u'\xc5land Islands'</code> to <code>u'\xc3\x85land Islands'</code> would be to in an utf-8 environment encode to UTF-8 which would convert <code>u'\xc5'</code> to <code>'\xc3\x85'</code> and then decode to <code>unicode</code> from <code>iso-8859</code> which would give <code>u'\xc3\x85land Islands'</code>. But since it's not in the code you're providing, I'm guessing it's happening somewhere between the moment you set <code>country_label</code> and the moment your output isn't displayed properly. Either automatically because of encodings settings, or through an explicit assignation somewhere.</p>

<p><strong>FIRST EDIT</strong>:</p>

<p>To set encoding for you app, add <code># -*- coding: utf-8 -*-</code> at the top of your py file and <code>&lt;meta charset="UTF-8"&gt;</code> in  of your template. 
And to get unicode string from a django.utils.functional.<strong>proxy</strong> object you can call <code>unicode()</code>. Like this: </p>

<pre><code>country_label = unicode(fields.Country(form.cleaned_data.get('country')[0:2]).name)
</code></pre>

<p><strong>SECOND EDIT</strong>:</p>

<p>One other way to figure out where the problem is would be to use <code>force_bytes</code> (<a href="https://docs.djangoproject.com/en/1.8/ref/utils/#module-django.utils.encoding" rel="nofollow">https://docs.djangoproject.com/en/1.8/ref/utils/#module-django.utils.encoding</a>) Like this:</p>

<pre><code>from django.utils.encoding import force_bytes
country_label = fields.Country(form.cleaned_data.get('country')[0:2]).name
forced_country_label = force_bytes(country_label, encoding='utf-8', strings_only=False, errors='strict') 
</code></pre>

<p>But since you already tried many conversions without success, maybe the problem is more complex. Can you share your version of <code>django_countries</code>, <code>Python</code> and your django app language settings? 
What you can do also is go see directly in your <code>djano_countries</code> package (that should be in your python directory), find the file data.py and open it to see what it looks like. Maybe the data itself is corrupted.</p>
    </div>
    </div></body></html>