<html><body><div><div id="content">

            

            
        


            <div class="section">
              <h1>psycopg-postgis 0.1.1</h1>

              


<p>Pyscopg helpers to work with PostGIS.</p>








<p>[![Circle CI](<a href="https://circleci.com/gh/yohanboniface/psycopg-postgis.svg?style=svg)](https://circleci.com/gh/yohanboniface/psycopg-postgis" rel="nofollow">https://circleci.com/gh/yohanboniface/psycopg-postgis.svg?style=svg)](https://circleci.com/gh/yohanboniface/psycopg-postgis</a>)</p>
<p># psycopg-postgis</p>
<p>PostGIS helpers for psycopg2.</p>
<p>## Install</p>
<p>Not pypi release yet:</p>
<blockquote>
pip install git+https://github.com/yohanboniface/psycopg-postgis</blockquote>
<p>You can first install cython to have a compiled version:</p>
<blockquote>
pip install cython</blockquote>
<p>## Usage</p>
<p>You need to register the extension:</p>
<blockquote>
&gt; import postgis
&gt; postgis.register(mydatabase.get_cursor())</blockquote>
<p>Then you can pass python geometries instance to psycopg:</p>
<blockquote>
&gt; cursor.execute(‘INSERT INTO table (geom) VALUES (%s)’, [Point(x=1, y=2, srid=4326)])</blockquote>
<p>And retrieve data as python geometries instances:</p>
<blockquote>
&gt; cursor.execute(‘SELECT geom FROM points LIMIT 1’)
&gt; geom = cursor.fetchone()[0]
&gt; geom
&lt;Point POINT(1.0 2.0)&gt;</blockquote>
<p>## Example</p>
<blockquote>
&gt; import psycopg2
&gt; from postgis import register, LineString
&gt; db = psycopg2.connect(dbname=”test”)
&gt; cursor = db.cursor()
&gt; register(cursor)
&gt; cursor.execute(‘CREATE TABLE IF NOT EXISTS mytable (“geom” geometry(LineString) NOT NULL)’)
&gt; cursor.execute(‘INSERT INTO mytable (geom) VALUES (%s)’, [LineString([(1, 2), (3, 4)], srid=4326)])
&gt; cursor.execute(‘SELECT geom FROM mytable LIMIT 1’)
&gt; geom = cursor.fetchone()[0]
&gt; geom
&lt;LineString LINESTRING(1.0 2.0, 3.0 4.0)&gt;
&gt; geom[0]
&lt;Point POINT(1.0 2.0)&gt;
&gt; geom.coords
((1.0, 2.0), (3.0, 4.0))
&gt; geom.geojson
{‘coordinates’: ((1.0, 2.0), (3.0, 4.0)), ‘type’: ‘LineString’}
&gt; str(geom.geojson)
‘{“type”: “LineString”, “coordinates”: [[1, 2], [3, 4]]}’</blockquote>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>17</span> downloads in the last week
  </li>
  <li>
    <span>184</span> downloads in the last month
  </li>
</ul>









            </div>


          </div>
          </div></body></html>