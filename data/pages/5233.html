<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-animator5d" class="anchor" href="#animator5d" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Animator5D</h1>

<p>Very simple-to-use framework for rendering 5-dimensional animations (x, y, z, time, some color value) as an animated gif. This requires ImageMagick to combine the frames, but you can still render them without having it installed and just combine them with some online gif maker.</p>

<h2><a id="user-content-example-rendering" class="anchor" href="#example-rendering" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Example rendering</h2>

<p>Below is a rendering made using this package.
<a href="https://camo.githubusercontent.com/82c5e8c9e316c98c2afe47fad17706249b71830f/687474703a2f2f6769616e742e6766796361742e636f6d2f4669636b6c654861756e74696e674861697273747265616b2e676966" target="_blank"><img src="https://camo.githubusercontent.com/82c5e8c9e316c98c2afe47fad17706249b71830f/687474703a2f2f6769616e742e6766796361742e636f6d2f4669636b6c654861756e74696e674861697273747265616b2e676966" alt="EM shower in the CMS HGcal" data-canonical-src="http://giant.gfycat.com/FickleHauntingHairstreak.gif"/></a></p>

<h2><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h2>

<p>I'm working on getting this package on pip for easy installation. For the moment though, download this repository in a zip file, unzip it, and copy the Animator5D folder to the same directory as the program calling it. You can delete the SampleData folder if you want, as well, though it's nice to play around with. :P</p>

<p>Additionally, this package requires ImageMagick to render the frames into a single gif. Installation instructions (it's easy, I promise) can be found <a href="http://www.imagemagick.org/script/binary-releases.php">here</a>. If you don't have/want to install ImageMagick, you can still render the frames and combine them with some online gif maker using <code>animate(data, renderframes=False)</code>.</p>

<h2><a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Usage</h2>

<p>This package is designed to be very easy to use, but also to allow you a full range of customization options. At the very least, you can simply use:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> Animator5D <span class="pl-k">import</span> animate
animate(data)</pre></div>

<p>Literally, that's it. 
The package will automatically calculate all of the needed quantitites simply from this statement. However, if you care about customizing the plot a bit more, you can configure the options with almost the same degrees of freedom as if you had coded the entire package yourself. Below is a list of the available options you can configure.</p>

<h2><a id="user-content-data-structure" class="anchor" href="#data-structure" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Data structure</h2>

<p>This code uses structured numpy arrays (<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.recarray.html">numpy.recarray</a>) as the data input. They are basically dictionaries with lists as their values, and I find them a very convenient way to work with complex data sets, rather than having to remember what order x, y, z, t, and w are in and enter them in that order. It is very easy to convert standard numpy arrays to numpy recarrays, by using <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.core.records.fromarrays.html">numpy.core.records.fromarrays</a>.</p>

<p>In general, the data should consist of n number of "samples" containing an x, y, z, t, and w property each (you can configure what properties these go to). For example, a valid data set could be:</p>

<div class="highlight highlight-source-python"><pre>array([ (<span class="pl-c1">49.29</span>, <span class="pl-k">-</span><span class="pl-c1">20.74</span>, <span class="pl-c1">339.42</span>, <span class="pl-c1">1.14</span>, <span class="pl-c1">1.05</span>, <span class="pl-c1">12.67</span>, <span class="pl-c1">1</span>),
        (<span class="pl-c1">49.06</span>, <span class="pl-k">-</span><span class="pl-c1">20.06</span>, <span class="pl-c1">340.49</span>, <span class="pl-c1">1.19</span>, <span class="pl-c1">1.05</span>, <span class="pl-c1">12.73</span>, <span class="pl-c1">1</span>)],
      <span class="pl-v">dtype</span><span class="pl-k">=</span>[(<span class="pl-s"><span class="pl-pds">'</span>x<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;f8<span class="pl-pds">'</span></span>), (<span class="pl-s"><span class="pl-pds">'</span>y<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;f8<span class="pl-pds">'</span></span>), (<span class="pl-s"><span class="pl-pds">'</span>z<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;f8<span class="pl-pds">'</span></span>), (<span class="pl-s"><span class="pl-pds">'</span>RandomProperty1<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;f8<span class="pl-pds">'</span></span>), 
            (<span class="pl-s"><span class="pl-pds">'</span>t<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;f8<span class="pl-pds">'</span></span>), (<span class="pl-s"><span class="pl-pds">'</span>w<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>&lt;f8<span class="pl-pds">'</span></span>), (<span class="pl-s"><span class="pl-pds">'</span>RandomProperty2<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;i8<span class="pl-pds">'</span></span>)])</pre></div>

<p>In this case, at most two frames could be plotted (two events), and it would use the variables x, y, z, t, and w in the plot, discarding <code>RandomProperty1</code> and <code>RandomProperty2</code>. You can also have different names for x, y, etc. by specifying <code>xname=&lt;name&gt;</code> in the <code>animate()</code> call.</p>

<p>In the program's <code>if __name__ == "__main__"</code> block, I've included two examples and their associated sample data files, with minimum and near maximum usage verbosity. Play around with them if you want.</p>

<h2><a id="user-content-documentation" class="anchor" href="#documentation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Documentation</h2>

<p>Full list of parameters and usage (some non-boolean functions are initialized to a boolean value to indicate they should be automatically calculated):</p>

<pre><code>Usage:  Min. complexity:    animate(data)
        Max. complexity:    animate(data, title="Animator5D", path="Animator5D Rendering", tstep=False, 
                                xname='x', yname='y', zname='z', wname='w', tname='t', 
                                xlim=False, ylim=False, zlim=False, wlim=False, tlim=False, 
                                xlabel='x', ylabel='y', zlabel='z', wlabel='w', tlabel='units', 
                                projections=True, transparency=False, delete=False, quiet=False, 
                                scalesize=True, msize=100, marker=",", renderframes=True)

Arguments:      data    np.recarray: structured array containing x, y, z, t, w data labeled with
                                'x', 'y', 'z', 't', 'w'. (You can easily modify this to just be  
                                a list that takes these quantities in order if you don't want to
                                use structured arrays though.)

Optnl Params:   title   String: Title of the plot. Default: "Animator5D"
                path    String: relative path frames and animation are saved to. 
                                Default: "Animator5D Rendering/"
                tstep   Float:  Time step for t. Defaults such that 50 frames are animated.
                xname   String: Name of x-data entry in data. Default: "x"
                yname   String: Name of y-data entry in data. Default: "y"
                zname   String: Name of z-data entry in data. Default: "z"
                wname   String: Name of w-data entry in data. Default: "w"
                tname   String: Name of t-data entry in data. Default: "t"
                xlim    List or tuple: sets the x-limit of the plot. Default: Automatic
                ylim    List or tuple: sets the y-limit of the plot. Default: Automatic
                zlim    List or tuple: sets the z-limit of the plot. Default: Automatic 
                wlim    List or tuple: sets the w-limit of the plot. Default: Automatic 
                tlim    List or tuple: sets the time interval to animate. Default: Automatic
                xlabel  String: label to set x axis to. Default: "x"
                ylabel  String: label to set y axis to. Default: "y"
                zlabel  String: label to set z axis to. Default: "z"
                wlabel  String: label to set w (color bar) axis to. Default: "w"
                tlabel  String: determines units of time counter in upper left. Default: "units"
                marker  String: marker type in matplotlib syntax. Default: ","
                msize   Int:    marker size for matplotlib use. Default: 100

Options:        delete          Bool: delete frames when finished. Defualt: False
                quiet           Bool: do not print statuses in terminal. Default: False
                projections     Bool: include "shadow" projections of data to xy xz and yz 
                                      planes. Default: True
                transparency    Bool: use matplotlib's default auto-transparency in 3D plots in 
                                      plotting the data. Default: False 
                scalesize       Bool: scale marker size per point with that point's w value. 
                                      Default: True 
                renderframes    Bool: whether or not to use render the frames to a single
                                      animated gif. Requires ImageMagick to render frames.
                                      Default: True
</code></pre>
</article>
  </div></body></html>