<html><body><div><div class="entry-content">
      <p>I've been using AngularJS for a few projects lately and I like it a lot! However, in combination with Django you may run into the following issues:</p>
<ul>
<li>AngularJS and Django both use {{}} for template interpolation</li>
<li>AngularJS has to support Django's CSRF protection when sending POST data</li>
<li>AngularJS encodes POST data differently, and Django has problems decoding this.</li>
</ul>
<p>By now I have some standard boilerplate that resolves these issues. It will configure &lt;[ ]&gt; as template interpolation symbols for AngularJS, it will configure AngularJS' CSRF support and it will rewrite POST data:</p>
<p> </p>
<pre> 
app = angular.module('myapp', [.. deps ..],<br/> <strong>// Change interpolation symbols</strong>
 function ($interpolateProvider) {
    $interpolateProvider.startSymbol('&lt;[');
    $interpolateProvider.endSymbol(']&gt;');
});

app.config(['$httpProvider', function($httpProvider) {<br/>    <strong>// setup CSRF support</strong>
    $httpProvider.defaults.xsrfCookieName = 'csrftoken';
    $httpProvider.defaults.xsrfHeaderName = 'X-CSRFToken';

    // http://victorblog.com/2012/12/20/make-angularjs-http-service-behave-like-jquery-ajax/
    <strong>// Rewrite POST body data</strong>
    $httpProvider.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=utf-8';
    // Override $http service's default transformRequest
    $httpProvider.defaults.transformRequest = [function(data)
    {
      /**
       * The workhorse; converts an object to x-www-form-urlencoded serialization.
       * @param {Object} obj
       * @return {String}
       */ 
      var param = function(obj)
      {
        var query = '';
        var name, value, fullSubName, subName, subValue, innerObj, i;
        
        for(name in obj)
        {
          value = obj[name];
          
          if(value instanceof Array)
          {
            for(i=0; i&lt;value.length; ++i)
            {
              subValue = value[i];
              fullSubName = name + '[' + i + ']';
              innerObj = {};
              innerObj[fullSubName] = subValue;
              query += param(innerObj) + '&amp;';
            }
          }
          else if(value instanceof Object)
          {
            for(subName in value)
            {
              subValue = value[subName];
              fullSubName = name + '[' + subName + ']';
              innerObj = {};
              innerObj[fullSubName] = subValue;
              query += param(innerObj) + '&amp;';
            }
          }
          else if(value !== undefined &amp;&amp; value !== null)
          {
            query += encodeURIComponent(name) + '=' + encodeURIComponent(value) + '&amp;';
          }
        }
        
        return query.length ? query.substr(0, query.length - 1) : query;
      };
      
      return angular.isObject(data) &amp;&amp; String(data) !== '[object File]' ? param(data) : data;
    }];
  }
]);

</pre>
    </div>
  </div></body></html>