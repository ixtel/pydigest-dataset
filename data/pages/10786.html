<html><body><div><div class="section">
              <h1>ak-websockify 0.6.0.1</h1>

              


<p>Appknox forn of Websockify.</p><p>








## websockify: WebSockets support for any application/server</p><p>websockify was formerly named wsproxy and was part of the</p><p>[noVNC](https://github.com/kanaka/noVNC) project.</p><p>At the most basic level, websockify just translates WebSockets traffic</p><p>to normal socket traffic. Websockify accepts the WebSockets handshake,</p><p>parses it, and then begins forwarding traffic between the client and</p><p>the target in both directions.</p><p>### News/help/contact</p><p>Notable commits, announcements and news are posted to</p><p>&lt;a href="http://www.twitter.com/noVNC"&gt;@noVNC&lt;/a&gt;</p><p>If you are a websockify developer/integrator/user (or want to be)</p><p>please join the &lt;a&lt;br&gt;href="https://groups.google.com/forum/?fromgroups#!forum/novnc"&gt;noVNC/websockify</p><p>discussion group&lt;/a&gt;</p><p>Bugs and feature requests can be submitted via [github</p><p>issues](https://github.com/kanaka/websockify/issues)</p><p>If you want to show appreciation for websockify you could donate to a great</p><p>non-profits such as: [Compassion</p><p>International](http://www.compassion.com/) [SIL](http://www.sil.org),</p><p>[Habitat for Humanity](http://www.habitat.org), [Electronic Frontier</p><p>Foundation](https://www.eff.org/) [Against Malaria</p><p>Foundation](http://www.againstmalaria.com/) [Nothing But</p><p>Nets](http://www.nothingbutnets.net/) etc. Please tweet &lt;a&lt;br&gt;href="http://www.twitter.com/noVNC"&gt;@noVNC if you do.</p><p>### WebSockets binary data</p><p>Starting with websockify 0.5.0, only the HyBi / IETF</p><p>6455 WebSocket protocol is supported.</p><p>Websockify negotiates whether to base64 encode traffic to and from the</p><p>client via the subprotocol header (Sec-WebSocket-Protocol). The valid</p><p>subprotocol values are 'binary' and 'base64' and if the client sends</p><p>both then the server (the python implementation) will prefer 'binary'.</p><p>The 'binary' subprotocol indicates that the data will be sent raw</p><p>using binary WebSocket frames. Some HyBi clients (such as the Flash</p><p>fallback and older Chrome and iOS versions) do not support binary data</p><p>which is why the negotiation is necessary.</p><p>### Encrypted WebSocket connections (wss://)</p><p>To encrypt the traffic using the WebSocket 'wss://' URI scheme you</p><p>need to generate a certificate for websockify to load. By default websockify</p><p>loads a certificate file name `self.pem` but the `--cert=CERT` option can</p><p>override the file name. You can generate a self-signed certificate using</p><p>openssl. When asked for the common name, use the hostname of the server where</p><p>the proxy will be running:</p><p>```</p><p>openssl req -new -x509 -days 365 -nodes -out self.pem -keyout self.pem</p><p>```</p><p>### Websock Javascript library</p><p>The `include/websock.js` Javascript library library provides a Websock</p><p>object that is similar to the standard WebSocket object but Websock</p><p>enables communication with raw TCP sockets (i.e. the binary stream)</p><p>via websockify. This is accomplished by base64 encoding the data</p><p>stream between Websock and websockify.</p><p>Websock has built-in receive queue buffering; the message event</p><p>does not contain actual data but is simply a notification that</p><p>there is new data available. Several rQ* methods are available to</p><p>read binary data off of the receive queue.</p><p>The Websock API is documented on the [websock.js API wiki page](https://github.com/kanaka/websockify/wiki/websock.js)</p><p>See the "Wrap a Program" section below for an example of using Websock</p><p>and websockify as a browser telnet client (`wstelnet.html`).</p><p>### Additional websockify features</p><p>These are not necessary for the basic operation.</p><p>* Daemonizing: When the `-D` option is specified, websockify runs</p><p>  in the background as a daemon process.</p><p>* SSL (the wss:// WebSockets URI): This is detected automatically by</p><p>  websockify by sniffing the first byte sent from the client and then</p><p>  wrapping the socket if the data starts with '\x16' or '\x80'</p><p>  (indicating SSL).</p><p>* Flash security policy: websockify detects flash security policy</p><p>  requests (again by sniffing the first packet) and answers with an</p><p>  appropriate flash security policy response (and then closes the</p><p>  port). This means no separate flash security policy server is needed</p><p>  for supporting the flash WebSockets fallback emulator.</p><p>* Session recording: This feature that allows recording of the traffic</p><p>  sent and received from the client to a file using the `--record`</p><p>  option.</p><p>* Mini-webserver: websockify can detect and respond to normal web</p><p>  requests on the same port as the WebSockets proxy and Flash security</p><p>  policy. This functionality is activate with the `--web DIR` option</p><p>  where DIR is the root of the web directory to serve.</p><p>* Wrap a program: see the "Wrap a Program" section below.</p><p>### Implementations of websockify</p><p>The primary implementation of websockify is in python. There are</p><p>several alternate implementations in other languages (C, Node.js,</p><p>Clojure, Ruby) in the `other/` subdirectory (with varying levels of</p><p>functionality).</p><p>In addition there are several other external projects that implement</p><p>the websockify "protocol". See the alternate implementation [Feature</p><p>Matrix](https://github.com/kanaka/websockify/wiki/Feature_Matrix) for</p><p>more information.</p><p>### Wrap a Program</p><p>In addition to proxying from a source address to a target address</p><p>(which may be on a different system), websockify has the ability to</p><p>launch a program on the local system and proxy WebSockets traffic to</p><p>a normal TCP port owned/bound by the program.</p><p>The is accomplished with a small LD_PRELOAD library (`rebind.so`)</p><p>which intercepts bind() system calls by the program. The specified</p><p>port is moved to a new localhost/loopback free high port. websockify</p><p>then proxies WebSockets traffic directed to the original port to the</p><p>new (moved) port of the program.</p><p>The program wrap mode is invoked by replacing the target with `--`</p><p>followed by the program command line to wrap.</p><p>    `./run 2023 -- PROGRAM ARGS`</p><p>The `--wrap-mode` option can be used to indicate what action to take</p><p>when the wrapped program exits or daemonizes.</p><p>Here is an example of using websockify to wrap the vncserver command</p><p>(which backgrounds itself) for use with</p><p>[noVNC](https://github.com/kanaka/noVNC):</p><p>    `./run 5901 --wrap-mode=ignore -- vncserver -geometry 1024x768 :1`</p><p>Here is an example of wrapping telnetd (from krb5-telnetd). telnetd</p><p>exits after the connection closes so the wrap mode is set to respawn</p><p>the command:</p><p>    `sudo ./run 2023 --wrap-mode=respawn -- telnetd -debug 2023`</p><p>The `wstelnet.html` page demonstrates a simple WebSockets based telnet</p><p>client (use 'localhost' and '2023' for the host and port</p><p>respectively).</p><p>### Building the Python ssl module (for python 2.5 and older)</p><p>* Install the build dependencies. On Ubuntu use this command:</p><p>    `sudo aptitude install python-dev bluetooth-dev`</p><p>* At the top level of the websockify repostory, download, build and</p><p>  symlink the ssl module:</p><p>    `wget --no-check-certificate http://pypi.python.org/packages/source/s/ssl/ssl-1.15.tar.gz`</p><p>    `tar xvzf ssl-1.15.tar.gz`</p><p>    `cd ssl-1.15`</p><p>    `make`</p><p>    `cd ../`</p><p>    `ln -sf ssl-1.15/build/lib.linux-*/ssl ssl`</p><p>Changes</p><p>=======</p><p>0.6.0 - Feb 18, 2014</p><p>--------------------</p><p>* **NOTE** : 0.6.0 will break existing code that sub-classes WebsocketProxy</p><p>* Refactor to use standard SocketServer RequestHandler design</p><p>* Fix zombie process bug on certain systems when using multiprocessing</p><p>* Add better unit tests</p><p>* Log information via python `logging` module</p><p>0.5.1 - Jun 27, 2013</p><p>--------------------</p><p> * use upstream einaros/ws (&gt;=0.4.27) with websockify.js</p><p> * file_only and no_parent security options for WSRequestHandler</p><p> * Update build of web-socket-js (c0855c6cae)</p><p> * add include/web-socket-js-project submodule to gimite/web-socket-js</p><p>   for DSFG compliance.</p><p> * drop Hixie protocol support</p><p>0.4.1 - Mar 12, 2013</p><p>--------------------</p><p> * ***NOTE*** : 0.5.0 will drop Hixie protocol support</p><p> * add include/ directory and remove some dev files from source</p><p>   distribution.</p><p>0.4.0 - Mar 12, 2013</p><p>--------------------</p><p> * ***NOTE*** : 0.5.0 will drop Hixie protocol support</p><p> * use Buffer base64 support in Node.js implementation</p><p>0.3.0 - Jan 15, 2013</p><p>--------------------</p><p> * refactor into modules: websocket, websocketproxy</p><p> * switch to web-socket-js that uses IETF 6455</p><p> * change to MPL 2.0 license for include/*.js</p><p> * fix session recording</p><p>0.2.1 - Oct 15, 2012</p><p>--------------------</p><p> * re-released with updated version number</p><p>0.2.0 - Sep 17, 2012</p><p>--------------------</p><p> * Binary data support in websock.js</p><p> * Target config file/dir and multiple targets with token selector</p><p> * IPv6 fixes</p><p> * SSL target support</p><p> * Proxy to/from unix socket</p><p>0.1.0 - May 11, 2012</p><p>--------------------</p><p> * Initial versioned release.

</p><a name="downloads">Â </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>360</span> downloads in the last week
  </li>
  <li>
    <span>360</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>