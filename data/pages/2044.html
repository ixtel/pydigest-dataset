<html><body><div><div class="section">
              <h1>pytest-regtest 0.4.0</h1>

              


<p>py.test plugin for regression tests</p>



<p>
<strong>Latest Version: </strong><a title="Latest Version URL" href="https://pypi.python.org/pypi/pytest-regtest/0.8.3">
<span>0.8.3</span>
</a>
</p>




<p>This <em>pytest</em>-plugin allows capturing of output of test functions which can be compared
to the captured output from former runs.
This is a common technique to start <a href="http://en.wikipedia.org/wiki/Test-driven_development" rel="nofollow">TDD</a>
if you have to refactor legacy code which ships without tests.</p>
<p>To install and activate this plugin you have to run:</p>
<pre>$ pip install pytest-regtest
</pre>
<p>from your command line.</p>
<p>This <em>py.test</em> plugin provides a fixture named <em>regtest</em> for recording data by writing to this
fixture, which behaves like an output stream:</p>
<pre>def test_squares_up_to_ten(regtest):

    result = [i*i for i in range(10)]

    # one way to record output:
    print &gt;&gt; regtest, result

    # alternative method to record output:
    regtest.write("done")
</pre>
<p>We can redirect stdout to this stream using the <em>regtest_redirect</em> fixture:</p>
<pre>def test_squares_up_to_ten(regtest_redirect):

    result = [i*i for i in range(10)]

    with regtest_redirect():
        print result
</pre>
<p>For recording the <em>approved</em> output, you run <em>py.test</em> with the <em>–reset-regtest</em> flag:</p>
<pre>$ py.test --regtest-reset
</pre>
<p>The recorded output is written to text files in the subfolder <tt>_regtest_outputs</tt> next to your
test scripts.</p>
<p>You can reset recorded output of files and functions individually as:</p>
<pre>$ py.test --regtest-reset tests/test_00.py
$ py.test --regtest-reset tests/test_00.py::test_squares_up_to_ten
</pre>
<p>If you want to check that the testing function still produces the same output, you ommit the flag
and run you tests as usual:</p>
<pre>$ py.test
</pre>
<p>This shows diffs for the tests failing because the current and recorded output deviate.</p>
<p>To supress the diff and only see the stats use:</p>
<pre>$ py.test --regtest-nodiff
</pre>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>71</span> downloads in the last week
  </li>
  <li>
    <span>670</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>