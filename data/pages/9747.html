<html><body><div><div class="section">
              <h1>zappa 0.11.2</h1>

              


<p>Serverless WSGI With AWS Lambda + API Gateway</p>








<p><img src="http://i.imgur.com/vLflpND.gif"/> # Zappa <a href="https://travis-ci.org/Miserlou/Zappa" rel="nofollow"><img src="https://travis-ci.org/Miserlou/Zappa.svg"/>
</a> <a href="https://slackautoinviter.herokuapp.com/" rel="nofollow"><img src="https://img.shields.io/badge/chat-slack-ff69b4.svg"/>
</a> #### Serverless WSGI
with AWS Lambda + API Gateway</p>
<p>Zappa makes it super easy to deploy all Python WSGI applications on AWS
Lambda + API Gateway. Think of it as “serverless” web hosting for your
Python web apps.</p>
<p>That means:</p>
<ul>
<li><strong>No more</strong> tedious web server configuration!</li>
<li><strong>No more</strong> paying for 24/7 server uptime!</li>
<li><strong>No more</strong> worrying about load balancing / scalability!</li>
<li><strong>No more</strong> worrying about keeping servers online!</li>
</ul>
<p><strong>Awesome!</strong></p>
<p>This project is for the Zappa core library, which can be used by any
WSGI-compatible web framework (which is pretty much all of them.) This
library also handles:</p>
<ul>
<li>Packaging projects into Lambda-ready zip files and uploading them to
S3</li>
<li>Correctly setting up IAM roles and permissions</li>
<li>Automatically configuring API Gateway routes, methods and integration
responses</li>
<li>Deploying the API to various stages of readiness</li>
</ul>
<p>If you are looking for the version for your favorite web frameworks, you
should probably try here:</p>
<ul>
<li><strong>`django-zappa &lt;https://github.com/Miserlou/django-zappa&gt;`__</strong></li>
<li><strong>`flask-zappa &lt;https://github.com/Miserlou/flask-zappa&gt;`__</strong></li>
<li><strong>pyramid-zappa</strong> (Coming.. maybe?)</li>
</ul>
<div id="usage">
<h2>Usage</h2>
<p>If you just want to use Zappa to deploy your web application, you’ll
probably want to use a client library like
<a href="https://github.com/Miserlou/django-zappa" rel="nofollow">django-zappa</a> instead.
But, if you want to create a new client library or use Zappa directly,
you can follow the steps below.</p>
<p>You can install Zappa through pip:</p>
<pre>$ pip install zappa
</pre>
<p>Then, you’ll want to call its main capabilities in order:</p>
<pre><span class="c1"># Set your configuration</span>
<span class="n">project_name</span> <span class="o">=</span> <span class="s2">"MyProject"</span>
<span class="n">api_stage</span> <span class="o">=</span> <span class="s2">"Production"</span>
<span class="n">s3_bucket_name</span> <span class="o">=</span> <span class="s1">'MyLambdaBucket'</span>

<span class="c1"># Make your Zappa object</span>
<span class="n">zappa</span> <span class="o">=</span> <span class="n">Zappa</span><span class="p">()</span>

<span class="c1"># Load your AWS credentials from ~/.aws/credentials</span>
<span class="n">zappa</span><span class="o">.</span><span class="n">load_credentials</span><span class="p">()</span>

<span class="c1"># Make sure the necessary IAM execution roles are available</span>
<span class="n">zappa</span><span class="o">.</span><span class="n">create_iam_roles</span><span class="p">()</span>

<span class="c1"># Create the Lambda zip package (includes project and virtualenvironment)</span>
<span class="n">zip_path</span> <span class="o">=</span> <span class="n">zappa</span><span class="o">.</span><span class="n">create_lambda_zip</span><span class="p">(</span><span class="n">project_name</span><span class="p">)</span>

<span class="c1"># Upload it to S3</span>
<span class="n">zip_arn</span> <span class="o">=</span> <span class="n">zappa</span><span class="o">.</span><span class="n">upload_to_s3</span><span class="p">(</span><span class="n">zip_path</span><span class="p">,</span> <span class="n">s3_bucket_name</span><span class="p">)</span>

<span class="c1"># Register the Lambda function with that zip as the source</span>
<span class="c1"># You'll also need to define the path to your lambda_handler code.</span>
<span class="n">lambda_arn</span> <span class="o">=</span> <span class="n">zappa</span><span class="o">.</span><span class="n">create_lambda_function</span><span class="p">(</span><span class="n">s3_bucket_name</span><span class="p">,</span> <span class="n">zip_path</span><span class="p">,</span> <span class="n">project_name</span><span class="p">,</span> <span class="s1">'runme.lambda_handler'</span><span class="p">)</span>

<span class="c1"># Create and configure the API Gateway</span>
<span class="n">api_id</span> <span class="o">=</span> <span class="n">zappa</span><span class="o">.</span><span class="n">create_api_gateway_routes</span><span class="p">(</span><span class="n">lambda_arn</span><span class="p">)</span>

<span class="c1"># Deploy the API!</span>
<span class="n">endpoint_url</span> <span class="o">=</span> <span class="n">zappa</span><span class="o">.</span><span class="n">deploy_api_gateway</span><span class="p">(</span><span class="n">api_id</span><span class="p">,</span> <span class="n">api_stage</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s2">"Your Zappa deployment is live!: "</span> <span class="o">+</span> <span class="n">endpoint_url</span><span class="p">)</span>
</pre>
<p>And your application is
<a href="https://7k6anj0k99.execute-api.us-east-1.amazonaws.com/prod" rel="nofollow">live</a>!</p>
</div>
<div id="hacks">
<h2>Hacks</h2>
<p>Zappa goes quite far beyond what Lambda and API Gateway were ever
intended to handle. As a result, there are quite a few hacks in here
that allow it to work. Some of those include, but aren’t limited to..</p>
<ul>
<li>Using VTL to map body, headers, method, params and query strings into
JSON, and then turning that into valid WSGI.</li>
<li>Attaching response codes to response bodies, Base64 encoding the
whole thing, using that as a regex to route the response code,
decoding the body in VTL, and mapping the response body to that.</li>
<li>Packing and <em>Base58</em> encoding multiple cookies into a single cookie
because we can only map one kind.</li>
<li>Turning cookie-setting 301/302 responses into 200 responses with HTML
redirects, because we have no way to set headers on redirects.</li>
</ul>
</div>
<div id="sites-using-zappa">
<h2>Sites Using Zappa</h2>
<ul>
<li><a href="https://zappa.gun.io" rel="nofollow">zappa.gun.io</a> - A Zappa “Hello, World”
(real homepage coming.. soon..)</li>
<li><a href="https://spheres.gun.io" rel="nofollow">spheres.gun.io</a> - Spheres, a photosphere
host and viewer</li>
<li>Your site here?</li>
</ul>
</div>
<div id="todo">
<h2>TODO</h2>
<p>This project is very young, so there is still plenty to be done.
Contributions are more than welcome! Please file tickets before
submitting patches, and submit your patches to the ‘dev’ branch.</p>
<p>Things that need work right now:</p>
<ul>
<li>Testing</li>
<li>Clients for frameworks besides Django</li>
<li>Feedback</li>
<li>Real documentation / website!</li>
</ul>
</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>967</span> downloads in the last week
  </li>
  <li>
    <span>5575</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>