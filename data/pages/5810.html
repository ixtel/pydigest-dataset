<html><body><div><div id="content">

            

            
        


            <div class="section">
              <h1>kabutopy 1.0.0</h1>

              


<p>client for the kabuto service</p>








<div id="example-usage">
<h2>Example usage</h2>
<pre>import time
from kabutopy.client import Client

# make a client instance with the base url of the kabuto service
client = Client("http://localhost:5000")

# registering a user
client.register("user", "password", "email@email.com")

# loging in with a user, the client keeps track of the cookies
client.login("user", "password")

# creating an image
# name: string
# dockerfile: raw string / open file / path to a file
# repo_url: string
# nocache: boolean
image = client.create_image("my_image", dockerfile="some file", repo_url=None, nocache=False)

# requesting the image status and image id will poll the server
# if the id is still empty, or is the status is PENDING
# it will update id, state and output if the state is SUCCESS
# it will update state, error and output if the state is FAIL

while image.status == 'PENDING':
    sleep(1)

# creating a pipeline
# name: string
pipeline = client.create_pipeline("my_pipeline")

# creating a job
# command: string
# image: Image / int / string that is castable to int
# attachment: open file / path to a file (a list of these things also works when multiple files need to be uploaded)
# pipeline: Pipeline / int / string that is castable to int
job = client.create_job(command, image, attachments, pipeline)

# getting logs
# job: Job / int / string that is castable to int
# job_id: int / string that is castable to int
# you are able to get the logs trough the client
logs = client.get_job_logs(job)

# trough the job itself
# job_id: int / string that is castable to int
logs = job.get_logs()

# getting results
# job: Job / int / string that is castable to int
# trough the client
# will return None if the job has not yet started, is still running or has failed
result = client.get_job_results(job)

# trough the job itself
result = job.get_results()
</pre>
</div>
<div id="classes-and-methods">
<h2>Classes and Methods</h2>
<div id="client">
<h3>Client:</h3>
<blockquote>
<ul>
<li>register(user, password, email)</li>
<li>login(user, password)</li>
<li>create_image(name, dockerfile=None, repo_url=None, nocache=False) returns Image</li>
<li>create_pipeline(name) returns Pipeline</li>
<li>create_job(command, image, attachments, pipeline) returns Job</li>
<li>submit_pipeline(pipeline)</li>
<li>get_job_logs(job, log_id=None) returns Log</li>
<li>get_job_results(job, pipeline=None) returns None or ByteIO</li>
<li>load_image(self, eid) returns loaded Image</li>
<li>load_pipeline(self, eid) returns loaded Pipeline</li>
<li>load_job(self, eid, pipeline) returns loaded Job</li>
</ul>
</blockquote>
</div>
<div id="image">
<h3>Image:</h3>
<blockquote>
<ul>
<li>classmethod:load(eid) returns loaded image</li>
</ul>
</blockquote>
</div>
<div id="pipeline">
<h3>Pipeline:</h3>
<blockquote>
<ul>
<li>submit()</li>
<li>classmethod:load(eid) returns loaded pipeline</li>
</ul>
</blockquote>
</div>
<div id="job">
<h3>Job:</h3>
<blockquote>
<ul>
<li>get_logs(log_id=None) returns Log</li>
<li>get_results() returns None or ByteIO</li>
<li>classmethod:load(eid, pipeline) returns loaded job</li>
</ul>
</blockquote>
</div>
<div id="log">
<h3>Log:</h3>
<blockquote>
<ul>
<li>readlines(raw=True) returns lines or (line_id, line) if raw is False</li>
<li>refresh()</li>
</ul>
</blockquote>
</div>
</div>


<a name="downloads">Â </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>6</span> downloads in the last week
  </li>
  <li>
    <span>65</span> downloads in the last month
  </li>
</ul>









            </div>


          </div>
          </div></body></html>