<html><body><div><div class="post-content"><p><img src="toro.png" alt="Toro" title="toro.png" border="0"/></p>
<p>I've just released version 0.7 of Toro. Toro provides semaphores, locks, events, conditions, and queues for Tornado coroutines. It enables advanced coordination among coroutines, similar to what you do in a multithreaded application. Get the latest version with "pip install --upgrade toro". Toro's <a href="https://toro.readthedocs.org/">documentation, with plenty of examples, is on ReadTheDocs</a>.</p>
<p>There is one bugfix in this release. <a href="https://toro.readthedocs.org/en/stable/classes.html#toro.Semaphore.wait">Semaphore.wait()</a> is supposed to wait until the semaphore can be acquired again:</p>
<div class="codehilite"><pre><span>@gen.coroutine</span>
<span>def</span> <span>coro</span>():
    sem <span>=</span> toro<span>.</span>Semaphore(<span>1</span>)
    <span>assert</span> <span>not</span> sem<span>.</span>locked()

    <span># A semaphore with initial value of 1 can be acquired once,</span>
    <span># then it's locked.</span>
    sem<span>.</span>acquire()
    <span>assert</span> sem<span>.</span>locked()

    <span># Wait for another coroutine to release the semaphore.</span>
    <span>yield</span> sem<span>.</span>wait()
</pre></div>


<p>... however, there was a bug and the semaphore didn't mark itself "locked" when it was acquired, so "wait" always returned immediately. I'm grateful to <a href="https://github.com/DanielBlack">"abing"</a> on GitHub for noticing the bug and contributing a fix.</p></div>

  </div></body></html>