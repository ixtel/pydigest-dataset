<html><body><div><div class="section" id="create-archive-source-target-none-interpreter-none-main-none">
     
     <p>
      Create an application archive from
      <em>
       source
      </em>
      .  The source can be any
of the following:
     </p>
     <ul class="simple">
      <li>
       The name of a directory, in which case a new application archive
will be created from the content of that directory.
      </li>
      <li>
       The name of an existing application archive file, in which case the
file is copied to the target.  The file name should include the
       <tt class="docutils literal">
        .pyz
       </tt>
       or
       <tt class="docutils literal">
        .pyzw
       </tt>
       extension, if required.
      </li>
      <li>
       A file object open for reading in bytes mode.  The content of the
file should be an application archive, and the file object is
assumed to be positioned at the start of the archive.
      </li>
     </ul>
     <p>
      The
      <em>
       target
      </em>
      argument determines where the resulting archive will be
written:
     </p>
     <ul class="simple">
      <li>
       If it is the name of a file, the archive will be written to that
file.
      </li>
      <li>
       If it is an open file object, the archive will be written to that
file object, which must be open for writing in bytes mode.
      </li>
      <li>
       If the target is omitted (or None), the source must be a directory
and the target will be a file with the same name as the source, with
a
       <tt class="docutils literal">
        .pyz
       </tt>
       extension added.
      </li>
     </ul>
     <p>
      The
      <em>
       interpreter
      </em>
      argument specifies the name of the Python
interpreter with which the archive will be executed.  It is written as
a "shebang" line at the start of the archive.  On Unix, this will be
interpreted by the OS, and on Windows it will be handled by the Python
launcher.  Omitting the
      <em>
       interpreter
      </em>
      results in no shebang line being
written.  If an interpreter is specified, and the target is a
filename, the executable bit of the target file will be set.
     </p>
     <p>
      The
      <em>
       main
      </em>
      argument specifies the name of a callable which will be
used as the main program for the archive.  It can only be specified if
the source is a directory, and the source does not already contain a
      <tt class="docutils literal">
       __main__.py
      </tt>
      file.  The
      <em>
       main
      </em>
      argument should take the form
"pkg.module:callable" and the archive will be run by importing
"pkg.module" and executing the given callable with no arguments.  It
is an error to omit
      <em>
       main
      </em>
      if the source is a directory and does not
contain a
      <tt class="docutils literal">
       __main__.py
      </tt>
      file, as otherwise the resulting archive
would not be executable.
     </p>
     <p>
      If a file object is specified for
      <em>
       source
      </em>
      or
      <em>
       target
      </em>
      , it is the
caller's responsibility to close it after calling create_archive.
     </p>
     <p>
      When copying an existing archive, file objects supplied only need
      <tt class="docutils literal">
       read
      </tt>
      and
      <tt class="docutils literal">
       readline
      </tt>
      , or
      <tt class="docutils literal">
       write
      </tt>
      methods.  When creating an
archive from a directory, if the target is a file object it will be
passed to the
      <tt class="docutils literal">
       zipfile.ZipFile
      </tt>
      class, and must supply the methods
needed by that class.
     </p>
    </div>
    </div></body></html>