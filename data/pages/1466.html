<html><body><div><div class="tabItem" id="content">
                            <p class="last">
                                                                    Shipping Python Projects by Docker Wei-Ting Kuo <br/><br/>                                                                    Outline • Introduction to Docker • deﬁne our sample web app • Build/Run Docker Images • Docker Index • Deploy to AWS <br/><br/>                                                                    The Challenge <br/><br/>                                                                    The Matrix From Hell <br/><br/>                                                                    Cargo Transport Pre-1960 <br/><br/>                                                                    The Matrix From Hell <br/><br/>                                                                    Solution:   Intermodal Shipping Container <br/><br/>                                                                    Docker is a shipping container system for code <br/><br/>                                                                    Docker eliminates the matrix from hell <br/><br/>                                                                    VMs vs Containers <br/><br/>                                                                    Installation (Ubuntu14.04) • $ sudo apt-get update • $ sudo apt-get install docker.io • $ sudo ln -sf /usr/bin/docker.io /usr/local/bin/docker <br/><br/>                                                                    Pull a Base Image • docker pull ubuntu <br/><br/>                                                                    List Docker Images • docker images REPOSITORY TAG IMAGE ID CREATED VIRTUAL SIZE ubuntu 13.10 5e019ab7bf6d 3 weeks ago 180 MB ubuntu saucy 5e019ab7bf6d 3 weeks ago 180 MB ubuntu 12.04 74fe38d11401 3 weeks ago 209.6 MB ubuntu precise 74fe38d11401 3 weeks ago 209.6 MB ubuntu 12.10 a7cf8ae4e998 3 weeks ago 171.3 MB ubuntu quantal a7cf8ae4e998 3 weeks ago 171.3 MB ubuntu 14.04 99ec81b80c55 3 weeks ago 266 MB ubuntu latest 99ec81b80c55 3 weeks ago 266 MB ubuntu trusty 99ec81b80c55 3 weeks ago 266 MB ubuntu raring 316b678ddf48 3 weeks ago 169.4 MB ubuntu 13.04 316b678ddf48 3 weeks ago 169.4 MB <br/><br/>                                                                    Run Something • docker run &lt;image&gt; &lt;command … &gt; • docker run ubuntu ls -l /root drwxr-xr-x 2 root root 12288 Apr 16 20:36 bin drwxr-xr-x 2 root root 4096 Apr 10 22:12 games drwxr-xr-x 2 root root 4096 Apr 16 20:36 include drwxr-xr-x 26 root root 4096 Apr 16 20:36 lib drwxr-xr-x 10 root root 4096 Apr 16 20:35 local drwxr-xr-x 2 root root 4096 Apr 24 16:17 sbin drwxr-xr-x 52 root root 4096 Apr 16 20:36 share drwxr-xr-x 2 root root 4096 Apr 10 22:12 src <br/><br/>                                                                    Simple Flask App • https://github.com/waitingkuo/ﬂask-sample • ﬂask-sample  - app.py  - requirements.txt  - Dockerﬁle <br/><br/>                                                                    app.py from flask import Flask app = Flask(__name__) ! @app.route("/") def hello(): return "Hello World!" ! if __name__ == "__main__": app.run(‘0.0.0.0’, port=5000) <br/><br/>                                                                    Requirements.txt flask <br/><br/>                                                                    Install and Run   ﬂask-sample Locally • sudo apt-get install -y python-setuptools • sudo easy_install pip • sudo pip install -r requirements.txt • python app.py  * Running on http://0.0.0.0:5000/ <br/><br/>                                                                    How to build a   Docker Image • Dockerﬁle  http://docs.docker.io/reference/builder/ <br/><br/>                                                                    Dockerﬁle FROM ubuntu ! # Install Python Setuptools RUN apt-get install -y python-setuptools ! # Install pip RUN easy_install pip ! # Install requirements.txt ADD requirements.txt /src/requirements.txt RUN cd /src; pip install -r requirements.txt ! # Add the Flask App ADD . /src ! # EXPOSE PORT EXPOSE 5000 ! # Run the Flask APP CMD python src/app.py <br/><br/>                                                                    Build a Image • docker build -t &lt;image name&gt; &lt;Dockerﬁle PATH&gt; • docker build -t myapp . Uploading context 76.29 kB Uploading context Step 0 : FROM ubuntu ---&gt; 99ec81b80c55 Step 1 : RUN apt-get install -y python-setuptools ---&gt; Using cache ---&gt; d651a6cb230c Step 2 : RUN easy_install pip ---&gt; Using cache ---&gt; ecf1474da849 Step 3 : ADD requirements.txt /src/requirements.txt ---&gt; Using cache ---&gt; 274c84b5415e ! … (ignore) … ! Successfully built b4c78de4abc1 <br/><br/>                                                                    Check Your new Image • docker images REPOSITORY TAG IMAGE ID CREATED VIRTUAL SIZE myapp latest b4c78de4abc1 2 minutes ago 302.7 MB ubuntu 13.10 5e019ab7bf6d 3 weeks ago 180 MB ubuntu saucy 5e019ab7bf6d 3 weeks ago 180 MB ubuntu 12.04 74fe38d11401 3 weeks ago 209.6 MB ubuntu precise 74fe38d11401 3 weeks ago 209.6 MB ubuntu 12.10 a7cf8ae4e998 3 weeks ago 171.3 MB ubuntu quantal a7cf8ae4e998 3 weeks ago 171.3 MB ubuntu 14.04 99ec81b80c55 3 weeks ago 266 MB ubuntu latest 99ec81b80c55 3 weeks ago 266 MB ubuntu trusty 99ec81b80c55 3 weeks ago 266 MB ubuntu raring 316b678ddf48 3 weeks ago 169.4 MB ubuntu 13.04 316b678ddf48 3 weeks ago 169.4 MB <br/><br/>                                                                    Run It! • docker run -d -p 5000:5000 myapp    -d detached mode  -p port forwarding <br/><br/>                                                                    How to check the   Running Docker Process? • docker ps CONTAINER ID IMAGE COMMAND … PORTS 6294c5a5e9be myapp:latest /bin/sh -c 'python s … 0.0.0.0:5000-&gt;5000/tcp • To kill the process, use  docker kill &lt;CONTAINER ID&gt; <br/><br/>                                                                    Docker Index • https://index.docker.io/ • You might think it as the GitHub For Docker Image • You can pull mysql, mongodb, hadoop, … etc • You can hook your docker index repository on to your own repository on GitHub!!!    -&gt; Build images automatically once you push something to Github <br/><br/>                                                                    The Repository for our   ﬂask-sample • https://index.docker.io/u/waitingkuo/ﬂask-sample/ <br/><br/>                                                                    Deploy! • Use whatever you want to login to your production server (ssh, fabric, capistrano, chef, puppet, ….) • docker pull waitingkuo/ﬂask-sample • docker run -d -p 5000:5000 waitingkuo/ﬂask- sample <br/><br/>                                                                    • Thank you :) <br/><br/>                                                                                                                                 </p>
                        </div>
                                    </div></body></html>