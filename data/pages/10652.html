<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-what-is-lifter" class="anchor" href="#what-is-lifter" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>What is lifter?</h1>
<a href="https://pypi.python.org/pypi/lifter"><img src="https://camo.githubusercontent.com/f8bf2af49efaf8aeb4be66d583cf98aca5dba14d/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6c69667465722e737667" data-canonical-src="https://img.shields.io/pypi/v/lifter.svg"/>
</a>
<a href="http://lifter.readthedocs.org/en/latest/?badge=latest"><img alt="https://readthedocs.org/projects/lifter/badge/?version=latest" src="https://camo.githubusercontent.com/f2b6c0daa1a635cb806ebd296d7504869c66f94b/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f6c69667465722f62616467652f3f76657273696f6e3d6c6174657374" data-canonical-src="https://readthedocs.org/projects/lifter/badge/?version=latest"/></a>
<a href="https://travis-ci.org/EliotBerriot/lifter"><img alt="https://travis-ci.org/EliotBerriot/lifter.svg?branch=master" src="https://camo.githubusercontent.com/8f3714e252c5fcd801a1adedb90833819ae6262b/68747470733a2f2f7472617669732d63692e6f72672f456c696f7442657272696f742f6c69667465722e7376673f6272616e63683d6d6173746572" data-canonical-src="https://travis-ci.org/EliotBerriot/lifter.svg?branch=master"/></a>
<a href="https://travis-ci.org/EliotBerriot/lifter"><img alt="https://travis-ci.org/EliotBerriot/lifter.svg?branch=develop" src="https://camo.githubusercontent.com/2865640911104e6dfff5608eedf163da58a007c0/68747470733a2f2f7472617669732d63692e6f72672f456c696f7442657272696f742f6c69667465722e7376673f6272616e63683d646576656c6f70" data-canonical-src="https://travis-ci.org/EliotBerriot/lifter.svg?branch=develop"/></a>
<p>Lifter is a lightweight query engine for Python iterables, inspired by Django ORM.</p>
<p>If you find if painful to gather data from collections of Python objects or dictionaries, such as API results, lifter is for you!</p>
<p><strong>Warning</strong>: This package is still in alpha state and a lot of work is still needed to make queries faster and efficient.
Contributions are welcome :)</p>
<p>Useful links:</p>

<a name="user-content-features"/>
<h2><a id="user-content-features" class="anchor" href="#features" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Features</h2>
<ul>
<li>Operates on plain objects or mapping (such as dictionaries)</li>
<li>API similar to Django <a href="https://docs.djangoproject.com/en/1.9/ref/models/querysets/">querysets</a> and <a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/tutorial.html#common-filter-operators">SQLAlchemy</a></li>
<li>Lazy querysets</li>
<li>Composable queries</li>
<li>Lightweight: absolutely no dependencies</li>
<li>Tested and working on Python 2.7 to Python 3.5</li>
</ul>
<a name="user-content-example-usage"/>
<h2><a id="user-content-example-usage" class="anchor" href="#example-usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Example usage</h2>
<p>Consider the following list of users, returned from a REST API endpoint:</p>
<div class="highlight highlight-source-python"><pre>users <span class="pl-k">=</span> [
    {
        <span class="pl-s"><span class="pl-pds">"</span>is_active<span class="pl-pds">"</span></span>: <span class="pl-c1">True</span>,
        <span class="pl-s"><span class="pl-pds">"</span>age<span class="pl-pds">"</span></span>: <span class="pl-c1">35</span>,
        <span class="pl-s"><span class="pl-pds">"</span>eye_color<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>brown<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Bernard<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>gender<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>male<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>email<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>bernard@blackbooks.com<span class="pl-pds">"</span></span>,
    },
    {
        <span class="pl-s"><span class="pl-pds">"</span>is_active<span class="pl-pds">"</span></span>: <span class="pl-c1">True</span>,
        <span class="pl-s"><span class="pl-pds">"</span>age<span class="pl-pds">"</span></span>: <span class="pl-c1">34</span>,
        <span class="pl-s"><span class="pl-pds">"</span>eye_color<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>brown<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Manny<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>gender<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>male<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>email<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>manny@blackbooks.com<span class="pl-pds">"</span></span>,
    },
    {
        <span class="pl-s"><span class="pl-pds">"</span>is_active<span class="pl-pds">"</span></span>: <span class="pl-c1">True</span>,
        <span class="pl-s"><span class="pl-pds">"</span>age<span class="pl-pds">"</span></span>: <span class="pl-c1">35</span>,
        <span class="pl-s"><span class="pl-pds">"</span>eye_color<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>brown<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Fran<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>gender<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>female<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>email<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>fran@blackbooks.com<span class="pl-pds">"</span></span>,
    },
    <span class="pl-c"># And so on ...</span>
]</pre></div>
<p>Now, imagine you have to extract data from this list. Let's compare how you can do this using regular Python
and lifter.</p>
<p>To use lifter in your project, you'll only need the following instructions:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> lifter

User <span class="pl-k">=</span> lifter.models.Model(<span class="pl-s"><span class="pl-pds">'</span>User<span class="pl-pds">'</span></span>)
manager <span class="pl-k">=</span> User.load(users)</pre></div>
<p>Getting getting all active 26 years old users:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-c"># vanilla Python</span>
results <span class="pl-k">=</span> [
    user <span class="pl-k">for</span> user <span class="pl-k">in</span> users
    <span class="pl-k">if</span> user[<span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>] <span class="pl-k">==</span> <span class="pl-c1">26</span> <span class="pl-k">and</span> user[<span class="pl-s"><span class="pl-pds">'</span>is_active<span class="pl-pds">'</span></span>]
]

<span class="pl-c"># lifter</span>
results <span class="pl-k">=</span> manager.filter(User.age <span class="pl-k">==</span> <span class="pl-c1">26</span>, User.is_active <span class="pl-k">==</span> <span class="pl-c1">True</span>)</pre></div>
<p>Getting names and emails of inactive users under 56:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-c"># vanilla Python</span>
results <span class="pl-k">=</span> [
    (user[<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>], user[<span class="pl-s"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span>]) <span class="pl-k">for</span> user <span class="pl-k">in</span> users
    <span class="pl-k">if</span> <span class="pl-k">not</span> user[<span class="pl-s"><span class="pl-pds">'</span>is_active<span class="pl-pds">'</span></span>] <span class="pl-k">and</span> user[<span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>] <span class="pl-k">&lt;</span> <span class="pl-c1">56</span>
]

<span class="pl-c"># lifter</span>
results <span class="pl-k">=</span> manager.filter(User.is_active <span class="pl-k">==</span> <span class="pl-c1">False</span>, User.age <span class="pl-k">&lt;</span> <span class="pl-c1">56</span>)\
                 .values_list(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span>)</pre></div>
<p>Getting all active users except the one with brown eyes and sort them by age:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-c"># vanilla Python</span>
raw_results <span class="pl-k">=</span> [
    user <span class="pl-k">for</span> user <span class="pl-k">in</span> users
    <span class="pl-k">if</span> user[<span class="pl-s"><span class="pl-pds">'</span>is_active<span class="pl-pds">'</span></span>] <span class="pl-k">and</span> <span class="pl-k">not</span> user[<span class="pl-s"><span class="pl-pds">'</span>eye_color<span class="pl-pds">'</span></span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>brown<span class="pl-pds">'</span></span>
]
results <span class="pl-k">=</span> <span class="pl-c1">sorted</span>(raw_results, <span class="pl-v">key</span><span class="pl-k">=</span><span class="pl-k">lambda</span> <span class="pl-smi">v</span>: v[<span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>])

<span class="pl-c"># lifter</span>
results <span class="pl-k">=</span> manager.filter(User.is_active <span class="pl-k">==</span> <span class="pl-c1">True</span>)\
                 .exclude(User.eye_color <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>brown<span class="pl-pds">'</span></span>)\
                 .order_by(<span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>)</pre></div>
<p>Getting minimum and average women age:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-c"># vanilla Python</span>
<span class="pl-k">from</span> statistics <span class="pl-k">import</span> mean <span class="pl-c"># Only in Python &gt;=3.4</span>
women_ages <span class="pl-k">=</span> [
    user[<span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>] <span class="pl-k">for</span> user <span class="pl-k">in</span> users
    <span class="pl-k">if</span> user[<span class="pl-s"><span class="pl-pds">'</span>gender<span class="pl-pds">'</span></span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>female<span class="pl-pds">'</span></span>
]
women_average_age <span class="pl-k">=</span> mean(women_ages)
minimum_woman_age <span class="pl-k">=</span> <span class="pl-c1">min</span>(women_ages)

<span class="pl-c"># lifter</span>
results <span class="pl-k">=</span> manager.filter(User.gender<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>female<span class="pl-pds">'</span></span>)\
                 .aggregate((User.age, mean), (User.age, <span class="pl-c1">min</span>))</pre></div>
<p>As you can see, lifter's version is shorter and more readable than vanilla Python.
It's also less error prone, especially if you're writing really complex queries,
and quite familiar if you've already used an ORM.</p>
<p>Wanna know more? Have a look at the <a href="http://lifter.readthedocs.org">documentation</a>!</p>

</article>
  </div></body></html>