<html><body><div><div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">tests</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">subparts</span><span class="p">(</span><span class="s1">'^it$'</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">'^'</span><span class="p">,</span> <span class="s1">'i'</span><span class="p">,</span> <span class="s1">'t'</span><span class="p">,</span> <span class="s1">'$'</span><span class="p">,</span> <span class="s1">'^i'</span><span class="p">,</span> <span class="s1">'it'</span><span class="p">,</span> <span class="s1">'t$'</span><span class="p">,</span> <span class="s1">'^it'</span><span class="p">,</span> <span class="s1">'it$'</span><span class="p">,</span> <span class="s1">'^it$'</span><span class="p">}</span>
    <span class="k">assert</span> <span class="n">subparts</span><span class="p">(</span><span class="s1">'this'</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">'t'</span><span class="p">,</span> <span class="s1">'h'</span><span class="p">,</span> <span class="s1">'i'</span><span class="p">,</span> <span class="s1">'s'</span><span class="p">,</span> <span class="s1">'th'</span><span class="p">,</span> <span class="s1">'hi'</span><span class="p">,</span> <span class="s1">'is'</span><span class="p">,</span> <span class="s1">'thi'</span><span class="p">,</span> <span class="s1">'his'</span><span class="p">,</span> <span class="s1">'this'</span><span class="p">}</span>
    <span class="n">subparts</span><span class="p">(</span><span class="s1">'banana'</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'an'</span><span class="p">,</span> <span class="s1">'ana'</span><span class="p">,</span> <span class="s1">'anan'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'ba'</span><span class="p">,</span> <span class="s1">'ban'</span><span class="p">,</span> <span class="s1">'bana'</span><span class="p">,</span> 
                           <span class="s1">'n'</span><span class="p">,</span> <span class="s1">'na'</span><span class="p">,</span> <span class="s1">'nan'</span><span class="p">,</span> <span class="s1">'nana'</span><span class="p">}</span>
    
    <span class="k">assert</span> <span class="n">dotify</span><span class="p">(</span><span class="s1">'it'</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">'it'</span><span class="p">,</span> <span class="s1">'i.'</span><span class="p">,</span> <span class="s1">'.t'</span><span class="p">,</span> <span class="s1">'..'</span><span class="p">}</span>
    <span class="k">assert</span> <span class="n">dotify</span><span class="p">(</span><span class="s1">'^it$'</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">'^it$'</span><span class="p">,</span> <span class="s1">'^i.$'</span><span class="p">,</span> <span class="s1">'^.t$'</span><span class="p">,</span> <span class="s1">'^..$'</span><span class="p">}</span>
    <span class="k">assert</span> <span class="n">dotify</span><span class="p">(</span><span class="s1">'this'</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">'this'</span><span class="p">,</span> <span class="s1">'thi.'</span><span class="p">,</span> <span class="s1">'th.s'</span><span class="p">,</span> <span class="s1">'th..'</span><span class="p">,</span> <span class="s1">'t.is'</span><span class="p">,</span> <span class="s1">'t.i.'</span><span class="p">,</span> <span class="s1">'t..s'</span><span class="p">,</span> <span class="s1">'t...'</span><span class="p">,</span>
                              <span class="s1">'.his'</span><span class="p">,</span> <span class="s1">'.hi.'</span><span class="p">,</span> <span class="s1">'.h.s'</span><span class="p">,</span> <span class="s1">'.h..'</span><span class="p">,</span> <span class="s1">'..is'</span><span class="p">,</span> <span class="s1">'..i.'</span><span class="p">,</span> <span class="s1">'...s'</span><span class="p">,</span> <span class="s1">'....'</span><span class="p">}</span>
    <span class="k">assert</span> <span class="n">regex_parts</span><span class="p">({</span><span class="s1">'win'</span><span class="p">},</span> <span class="p">{</span><span class="s1">'losers'</span><span class="p">,</span> <span class="s1">'bin'</span><span class="p">,</span> <span class="s1">'won'</span><span class="p">})</span> <span class="o">==</span> <span class="p">{</span>
        <span class="s1">'^win$'</span><span class="p">,</span> <span class="s1">'^win'</span><span class="p">,</span> <span class="s1">'^wi.'</span><span class="p">,</span> <span class="s1">'wi.'</span><span class="p">,</span>  <span class="s1">'wi'</span><span class="p">,</span> <span class="s1">'^wi'</span><span class="p">,</span> <span class="s1">'win$'</span><span class="p">,</span> <span class="s1">'win'</span><span class="p">,</span> <span class="s1">'wi.$'</span><span class="p">}</span>
    <span class="k">assert</span> <span class="n">regex_parts</span><span class="p">({</span><span class="s1">'win'</span><span class="p">},</span> <span class="p">{</span><span class="s1">'bin'</span><span class="p">,</span> <span class="s1">'won'</span><span class="p">,</span> <span class="s1">'wine'</span><span class="p">,</span> <span class="s1">'wit'</span><span class="p">})</span> <span class="o">==</span> <span class="p">{</span><span class="s1">'^win$'</span><span class="p">,</span> <span class="s1">'win$'</span><span class="p">}</span>
    <span class="n">regex_parts</span><span class="p">({</span><span class="s1">'boy'</span><span class="p">,</span> <span class="s1">'coy'</span><span class="p">},</span> 
                <span class="p">{</span><span class="s1">'ahoy'</span><span class="p">,</span> <span class="s1">'toy'</span><span class="p">,</span> <span class="s1">'book'</span><span class="p">,</span> <span class="s1">'cook'</span><span class="p">,</span> <span class="s1">'boycott'</span><span class="p">,</span> <span class="s1">'cowboy'</span><span class="p">,</span> <span class="s1">'cod'</span><span class="p">,</span> <span class="s1">'buy'</span><span class="p">,</span> <span class="s1">'oy'</span><span class="p">,</span> 
                 <span class="s1">'foil'</span><span class="p">,</span> <span class="s1">'coyote'</span><span class="p">})</span> <span class="o">==</span> <span class="p">{</span><span class="s1">'^boy$'</span><span class="p">,</span> <span class="s1">'^coy$'</span><span class="p">,</span> <span class="s1">'c.y$'</span><span class="p">,</span> <span class="s1">'coy$'</span><span class="p">}</span>
    
    <span class="k">assert</span> <span class="n">matches</span><span class="p">(</span><span class="s1">'a|b|c'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">,</span> <span class="s1">'e'</span><span class="p">})</span> <span class="o">==</span> <span class="p">{</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">}</span>
    <span class="k">assert</span> <span class="n">matches</span><span class="p">(</span><span class="s1">'a|b|c'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'any'</span><span class="p">,</span> <span class="s1">'bee'</span><span class="p">,</span> <span class="s1">'succeed'</span><span class="p">,</span> <span class="s1">'dee'</span><span class="p">,</span> <span class="s1">'eee!'</span><span class="p">})</span> <span class="o">==</span> <span class="p">{</span>
        <span class="s1">'any'</span><span class="p">,</span> <span class="s1">'bee'</span><span class="p">,</span> <span class="s1">'succeed'</span><span class="p">}</span>
    
    <span class="k">assert</span> <span class="n">OR</span><span class="p">([</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'a|b|c'</span>
    <span class="k">assert</span> <span class="n">OR</span><span class="p">([</span><span class="s1">'a'</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'a'</span>
    
    <span class="k">assert</span> <span class="n">words</span><span class="p">(</span><span class="s1">'this is a test this is'</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">'this'</span><span class="p">,</span> <span class="s1">'is'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">,</span> <span class="s1">'test'</span><span class="p">}</span>
    
    <span class="k">assert</span> <span class="n">findregex</span><span class="p">({</span><span class="s2">"ahahah"</span><span class="p">,</span> <span class="s2">"ciao"</span><span class="p">},</span>  <span class="p">{</span><span class="s2">"ahaha"</span><span class="p">,</span> <span class="s2">"bye"</span><span class="p">})</span> <span class="o">==</span> <span class="s1">'a.$'</span>
    <span class="k">assert</span> <span class="n">findregex</span><span class="p">({</span><span class="s2">"this"</span><span class="p">,</span> <span class="s2">"that"</span><span class="p">,</span> <span class="s2">"the other"</span><span class="p">},</span> <span class="p">{</span><span class="s2">"one"</span><span class="p">,</span> <span class="s2">"two"</span><span class="p">,</span> <span class="s2">"here"</span><span class="p">,</span> <span class="s2">"there"</span><span class="p">})</span> <span class="o">==</span> <span class="s1">'h..$'</span>
    <span class="k">assert</span> <span class="n">findregex</span><span class="p">({</span><span class="s1">'boy'</span><span class="p">,</span> <span class="s1">'coy'</span><span class="p">,</span> <span class="s1">'toy'</span><span class="p">,</span> <span class="s1">'joy'</span><span class="p">},</span> <span class="p">{</span><span class="s1">'ahoy'</span><span class="p">,</span> <span class="s1">'buy'</span><span class="p">,</span> <span class="s1">'oy'</span><span class="p">,</span> <span class="s1">'foil'</span><span class="p">})</span> <span class="o">==</span> <span class="s1">'^.oy'</span>
    
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">mistakes</span><span class="p">(</span><span class="s1">'a|b|c'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'ahoy'</span><span class="p">,</span> <span class="s1">'boy'</span><span class="p">,</span> <span class="s1">'coy'</span><span class="p">},</span> <span class="p">{</span><span class="s1">'joy'</span><span class="p">,</span> <span class="s1">'toy'</span><span class="p">})</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">mistakes</span><span class="p">(</span><span class="s1">'^a|^b|^c'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'ahoy'</span><span class="p">,</span> <span class="s1">'boy'</span><span class="p">,</span> <span class="s1">'coy'</span><span class="p">},</span> <span class="p">{</span><span class="s1">'joy'</span><span class="p">,</span> <span class="s1">'toy'</span><span class="p">,</span> <span class="s1">'kickback'</span><span class="p">})</span>
    <span class="k">assert</span> <span class="n">mistakes</span><span class="p">(</span><span class="s1">'^.oy'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'ahoy'</span><span class="p">,</span> <span class="s1">'boy'</span><span class="p">,</span> <span class="s1">'coy'</span><span class="p">},</span> <span class="p">{</span><span class="s1">'joy'</span><span class="p">,</span> <span class="s1">'ploy'</span><span class="p">})</span> <span class="o">==</span> <span class="p">{</span>
        <span class="s2">"Should have matched: ahoy"</span><span class="p">,</span> 
        <span class="s2">"Should not have matched: joy"</span><span class="p">}</span>
    <span class="k">return</span> <span class="s1">'tests pass'</span>

<span class="n">tests</span><span class="p">()</span>
</pre></div>

</div></body></html>