<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-hacker-scripts" class="anchor" href="#hacker-scripts" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Hacker Scripts</h1>

<p>Based on a <em><a href="https://www.jitbit.com/alexblog/249-now-thats-what-i-call-a-hacker/">true
story</a></em>:</p>

<blockquote>
<p>xxx: OK, so, our build engineer has left for another company. The dude was literally living inside the terminal. You know, that type of a guy who loves Vim, creates diagrams in Dot and writes wiki-posts in Markdown... If something - anything - requires more than 90 seconds of his time, he writes a script to automate that.</p>

<p>xxx: So we're sitting here, looking through his, uhm, "legacy"</p>

<p>xxx: You're gonna love this</p>

<p>xxx: <a href="https://github.com/NARKOZ/hacker-scripts/blob/master/smack-my-bitch-up.sh"><code>smack-my-bitch-up.sh</code></a> - sends a text message "late at work" to his wife (apparently). Automatically picks reasons from an array of strings, randomly. Runs inside a cron-job. The job fires if there are active SSH-sessions on the server after 9pm with his login.</p>

<p>xxx: <a href="https://github.com/NARKOZ/hacker-scripts/blob/master/kumar-asshole.sh"><code>kumar-asshole.sh</code></a> - scans the inbox for emails from "Kumar" (a DBA at our clients). Looks for keywords like "help", "trouble", "sorry" etc. If keywords are found - the script SSHes into the clients server and rolls back the staging database to the latest backup. Then sends a reply "no worries mate, be careful next time".</p>

<p>xxx: <a href="https://github.com/NARKOZ/hacker-scripts/blob/master/hangover.sh"><code>hangover.sh</code></a> - another cron-job that is set to specific dates. Sends automated emails like "not feeling well/gonna work from home" etc. Adds a random "reason" from another predefined array of strings. Fires if there are no interactive sessions on the server at 8:45am.</p>

<p>xxx: (and the oscar goes to) <a href="https://github.com/NARKOZ/hacker-scripts/blob/master/fucking-coffee.sh"><code>fucking-coffee.sh</code></a> - this one waits exactly 17 seconds (!), then opens a telnet session to our coffee-machine (we had no frikin idea the coffee machine is on the network, runs linux and has a TCP socket up and running) and sends something like <code>sys brew</code>. Turns out this thing starts brewing a mid-sized half-caf latte and waits another 24 (!) seconds before pouring it into a cup. The timing is exactly how long it takes to walk to the machine from the dudes desk.</p>

<p>xxx: holy sh*t I'm keeping those</p>
</blockquote>

<p>Original: <a href="http://bash.im/quote/436725">http://bash.im/quote/436725</a> (in Russian)<br/>
Pull requests with other implementations (Python, Perl, Shell, etc) are welcome.</p>

<h2><a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Usage</h2>

<p>You need these environment variables:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># used in `smack-my-bitch-up` and `hangover` scripts</span>
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy

<span class="pl-c"># used in `kumar_asshole` script</span>
GMAIL_USERNAME=admin@example.org
GMAIL_PASSWORD=password</pre></div>

<p>For Ruby scripts you need to install gems:
<code>gem install dotenv twilio-ruby gmail</code></p>

<h2><a id="user-content-cron-jobs" class="anchor" href="#cron-jobs" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Cron jobs</h2>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Runs `smack-my-bitch-up.sh` monday to friday at 9:20 pm.</span>
20 21 <span class="pl-k">*</span> <span class="pl-k">*</span> 1-5 /path/to/scripts/smack-my-bitch-up.sh <span class="pl-k">&gt;&gt;</span> /path/to/smack-my-bitch-up.log <span class="pl-k">2&gt;&amp;1</span>

<span class="pl-c"># Runs `hangover.sh` monday to friday at 8:45 am.</span>
45 8 <span class="pl-k">*</span> <span class="pl-k">*</span> 1-5 /path/to/scripts/hangover.sh <span class="pl-k">&gt;&gt;</span> /path/to/hangover.log <span class="pl-k">2&gt;&amp;1</span>

<span class="pl-c"># Runs `kumar-asshole.sh` every 10 minutes.</span>
<span class="pl-k">*</span>/10 <span class="pl-k">*</span> <span class="pl-k">*</span> <span class="pl-k">*</span> <span class="pl-k">*</span> /path/to/scripts/kumar-asshole.sh

<span class="pl-c"># Runs `fucking-coffee.sh` hourly from 9am to 6pm on weekdays.</span>
0 9-18 <span class="pl-k">*</span> <span class="pl-k">*</span> 1-5 /path/to/scripts/fucking-coffee.sh</pre></div>

<hr/>

<p>Code is released under WTFPL.</p>
</article>
  </div></body></html>