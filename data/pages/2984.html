<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-micropygps" class="anchor" href="#micropygps" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>micropyGPS</h1>

<h2><a id="user-content-overview" class="anchor" href="#overview" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Overview</h2>

<p>micropyGPS is a full featured GPS NMEA sentence parser for use with <a href="https://micropython.org/">MicroPython</a> and the PyBoard embedded
platform. It's also fully compatible with Python 3.x</p>

<p>Features:</p>

<ul>
<li>Parses and verifies most of the important <a href="http://aprs.gids.nl/nmea/">NMEA-0183</a> output messages into easily handled data structures</li>
<li>Provides helper methods to interpret, present, log, and manipulate the GPS data</li>
<li>Written in pure Python 3.x using only the standard libraries available in Micropython</li>
<li>Implemented as a single class within a single file for easy integration into an embedded project</li>
<li>Parser written with a serial UART data source in mind; works on a single character at a time with
robust error handling for noisy embedded environments</li>
<li>Modeled after the great <a href="http://arduiniana.org/libraries/tinygps/">TinyGPS</a> Arduino library</li>
</ul>

<h2><a id="user-content-basic-usage" class="anchor" href="#basic-usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Basic Usage</h2>

<p>micropyGPS is easy to use: copy micropyGPS.py into your project directory and import the MicropyGPS class into your script. From
there, just create a new GPS object and start feeding it data using the <code>update()</code> method. After you've feed it an entire valid sentence, it will return the sentence type and the internal values will be updated. The example below shows the parsing of an RMC sentence and the object return a tuple with the current latitude data</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">&gt;&gt;&gt;</span> from micropyGPS import MicropyGPS
<span class="pl-k">&gt;&gt;&gt;</span> my_gps = <span class="pl-en">MicropyGPS</span>()
<span class="pl-k">&gt;&gt;&gt;</span> my_sentence = <span class="pl-s"><span class="pl-pds">'</span>$GPRMC,081836,A,3751.65,S,14507.36,E,000.0,360.0,130998,011.3,E*62<span class="pl-pds">'</span></span>
<span class="pl-k">&gt;&gt;&gt;</span> <span class="pl-k">for</span> <span class="pl-smi">x</span> <span class="pl-k">in</span> my_sentence:
...     my_gps.update(x)
...
<span class="pl-s"><span class="pl-pds">'</span>GPRMC<span class="pl-pds">'</span></span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.latitude
(37, 51.65, <span class="pl-s"><span class="pl-pds">'</span>S<span class="pl-pds">'</span></span>)</pre></div>

<p>The object will continue to accept new characters and parse sentences for as long as it exists. Running the script standalone will parse a number of example sentences and print the results demonstrating the variety of data tracked by the object</p>



<h3><a id="user-content-currently-supported-sentences" class="anchor" href="#currently-supported-sentences" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Currently Supported Sentences</h3>

<ul>
<li>GPRMC</li>
<li>GPGLL</li>
<li>GPGGA</li>
<li>GPVTG</li>
<li>GPGSA</li>
<li>GPGSV</li>
</ul>

<h3><a id="user-content-position-data" class="anchor" href="#position-data" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Position Data</h3>

<p>Data successfully parsed from valid sentences is stored in easily accessible object variables. Data with multiple components (like latitude and longitude) is stored in tuples.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c">## Latitude is 37° 51.65' S</span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.latitude
(37, 51.65, <span class="pl-s"><span class="pl-pds">'</span>S<span class="pl-pds">'</span></span>)
<span class="pl-c"># Longitude is 145° 7.36' E</span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.longitude
(145, 7.36, <span class="pl-s"><span class="pl-pds">'</span>E<span class="pl-pds">'</span></span>)
<span class="pl-c"># Course is 54.7°</span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.course
54.7
<span class="pl-c"># Altitude is 280.2 meters</span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.altitude
280.2
<span class="pl-c"># Distance from ideal geoid is -34 meters</span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.geoid_height
-34.0</pre></div>

<p>Current speed is stored in a tuple of values representing knots, miles per hours and kilometers per hour</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">&gt;&gt;&gt;</span> my_gps.speed
(5.5, 6.3305, 10.186)</pre></div>

<h3><a id="user-content-time-and-date" class="anchor" href="#time-and-date" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Time and Date</h3>

<p>The current UTC time is stored (hours,minutes,seconds)</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">&gt;&gt;&gt;</span> my_gps.timestamp
(8, 18, 36.0)
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.date
(22, 9, 05)</pre></div>

<p>The timezone can be automatically adjusted for using the by setting the <code>local_offset</code> when you create the object or anytime after. Setting it to <code>-5</code> means you are on Eastern Standard time in the United States.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">&gt;&gt;&gt;</span> my_gps = MicropyGPS(-5)
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.local_offset
-5
<span class="pl-c"># Update With Timestamp Sentence Data...</span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.timestamp
(3, 18, 36.0)</pre></div>

<p>The current UTC date is stored (day,month,year). <strong>NOTE:</strong> The date is not currently adjusted to match the timezone set in <code>local_offset</code>. </p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">&gt;&gt;&gt;</span> my_gps.date
(22, 9, 05)</pre></div>

<h3><a id="user-content-satellite-data" class="anchor" href="#satellite-data" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Satellite Data</h3>

<p>Signal quality and individual satellite information is collected from GSV, GSA, and GGA sentences and made available in the following variables.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">&gt;&gt;&gt;</span> my_gps.satellites_in_use
7
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.satellites_used
[7, 2, 26, 27, 9, 4, 15]
<span class="pl-c"># Fix types can be: 1 = no fix, 2 = 2D fix, 3 = 3D fix</span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.fix_type
3
<span class="pl-c"># Dilution of Precision (DOP) values close to 1.0 indicate excellent quality position data</span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.hdop  
1.0
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.vdop
1.5
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.pdop
1.8</pre></div>

<p>The <code>satellite_data_updated()</code> method should be check to be <code>True</code> before trying to read out individual satellite data. This ensures all related GSV sentences are parsed and satellite info is complete</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">&gt;&gt;&gt;</span> <span class="pl-en">my_gps.satellite_data_updated</span>()
True
<span class="pl-c"># Satellite data is a dict where the key is the satellite number and the value pair is a tuple containing (Elevation, Azimuth, SNR (if available))</span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.satellite_data 
{19: (5, 273, None), 32: (5, 303, None), 4: (22, 312, 26), 11: (9, 315, 16), 12: (19, 88, 23), 14: (64, 296, 22), 15: (2, 73, None), 18: (54, 114, 21), 51: (40, 212, None), 21: (16, 175, None), 22: (81, 349, 25), 24: (30, 47, 22), 25: (17, 127, 18), 31: (22, 204, None)}
<span class="pl-c"># Returns just the satellite PRNs visible</span>
<span class="pl-k">&gt;&gt;&gt;</span> <span class="pl-en">my_gps.satellites_visible</span>()
[19, 32, 4, 11, 12, 14, 15, 18, 51, 21, 22, 24, 25, 31]</pre></div>

<h3><a id="user-content-gps-statistics" class="anchor" href="#gps-statistics" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>GPS Statistics</h3>

<p>While parsing sentences, the MicropyGPS object tracks the number of number of parsed sentences as well as the number of CRC failures. <code>parsed_sentences</code> are those sentences that passed the base sentence catcher with clean CRCs. <code>clean_sentences</code> refers to the number of sentences parsed by their specific function successfully.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">&gt;&gt;&gt;</span> my_gps.parsed_sentences
14
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.clean_sentences
14
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.crc_fails
0</pre></div>

<p>The amount of real time passed since the last sentence with valid fix data was parse is also made available. <strong>NOTE:</strong> On the pyBoard, this value is returned in milliseconds while on Unix/Windows it is returned in seconds.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Assume running on pyBoard</span>
<span class="pl-k">&gt;&gt;&gt;</span> <span class="pl-en">my_gps.time_since_fix</span>()
3456</pre></div>

<h3><a id="user-content-logging" class="anchor" href="#logging" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Logging</h3>

<p>micropyGPS currently can do very basic automatic logging of raw NMEA sentence data to a file. Any valid ASCII character passed into the parser, while the logging is enabled, is logged to a target file.  This is useful if processing GPS sentences, but want to save the collected data for archive or further analysis. Due to the relative size of the log files, it's highly recommended to use an SD card as your storage medium as opposed to the emulated memory on the STM32 micro. All logging methods return a boolean if the operation succeeded or not.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Logging can be started at any time with the start_logging()</span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.start_logging(<span class="pl-s"><span class="pl-pds">'</span>log.txt<span class="pl-pds">'</span></span>)
True
<span class="pl-c"># Arbitrary strings can be written into the log file with write_log() method</span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.write_log(<span class="pl-s"><span class="pl-pds">'</span>Some note for the log file<span class="pl-pds">'</span></span>)
True
<span class="pl-c"># Stop logging and close the log file with stop_logging()</span>
<span class="pl-k">&gt;&gt;&gt;</span> <span class="pl-en">my_gps.stop_logging</span>()
True</pre></div>

<h3><a id="user-content-prettier-printing" class="anchor" href="#prettier-printing" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Prettier Printing</h3>

<p>Several functions are included that allow for GPS data to be expressed in nicer formats than tuples and ints.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">&gt;&gt;&gt;</span> <span class="pl-en">my_gps.latitude_string</span>()
<span class="pl-s"><span class="pl-pds">"</span>41° 24.8963' N<span class="pl-pds">"</span></span>
<span class="pl-k">&gt;&gt;&gt;</span> <span class="pl-en">my_gps.longitude_string</span>()
<span class="pl-s"><span class="pl-pds">"</span>81° 51.6838' W<span class="pl-pds">"</span></span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.speed_string(<span class="pl-s"><span class="pl-pds">'</span>kph<span class="pl-pds">'</span></span>)
<span class="pl-s"><span class="pl-pds">'</span>10.186 km/h<span class="pl-pds">'</span></span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.speed_string(<span class="pl-s"><span class="pl-pds">'</span>mph<span class="pl-pds">'</span></span>)
<span class="pl-s"><span class="pl-pds">'</span>6.3305 mph<span class="pl-pds">'</span></span>
my_gps.speed_string(<span class="pl-s"><span class="pl-pds">'</span>knot<span class="pl-pds">'</span></span>)
<span class="pl-s"><span class="pl-pds">'</span>5.5 knots<span class="pl-pds">'</span></span>
<span class="pl-c"># Nearest compass point based on current course</span>
<span class="pl-en">my_gps.compass_direction</span>()
<span class="pl-s"><span class="pl-pds">'</span>NE<span class="pl-pds">'</span></span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.date_string(<span class="pl-s"><span class="pl-pds">'</span>long<span class="pl-pds">'</span></span>)
<span class="pl-s"><span class="pl-pds">'</span>September 13th, 2098<span class="pl-pds">'</span></span>
<span class="pl-c"># Note the correct century should be provided for GPS data taken in the 1900s</span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.date_string(<span class="pl-s"><span class="pl-pds">'</span>long<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>19<span class="pl-pds">'</span></span>)
<span class="pl-s"><span class="pl-pds">'</span>September 13th, 1998<span class="pl-pds">'</span></span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.date_string(<span class="pl-s"><span class="pl-pds">'</span>s_mdy<span class="pl-pds">'</span></span>)
<span class="pl-s"><span class="pl-pds">'</span>09/13/98<span class="pl-pds">'</span></span>
<span class="pl-k">&gt;&gt;&gt;</span> my_gps.date_string(<span class="pl-s"><span class="pl-pds">'</span>s_dmy<span class="pl-pds">'</span></span>)
<span class="pl-s"><span class="pl-pds">'</span>13/09/98<span class="pl-pds">'</span></span></pre></div>

<h2><a id="user-content-pyboard-usage" class="anchor" href="#pyboard-usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Pyboard Usage</h2>

<p>Test scripts are included to help get started with using micropyGPS on the <a href="http://docs.micropython.org/en/latest/quickref.html">pyboard</a> platform. These scripts can be copied over to the pyboards internal memory or placed on the SD Card. Make sure, when running them on the pyboard, to rename script you're using to <strong>main.py</strong> or update <strong>boot.py</strong> with the name of script you wish to run.</p>

<ul>
<li><strong>uart_test.py</strong> is a simple UART echo program to test if both your GPS is hooked up and UART is configured correctly. Some of the standard NMEA sentences should print out once a second (or faster depending on your GPS update rate) if everything is OK</li>
<li><strong>sentence_test.py</strong> will try and parse all incoming characters from the UART. This script requires micropyGPS.py be present in the same area of storage (SD Card or internal). Whenever a set of characters comprising a valid sentence is received and parsed, the script will print the type of sentence.</li>
<li><strong>GPIO_interrupt_updater.py</strong> is an example of how to use external interrupt to trigger an update of GPS data. In this case, a periodic signal (1Hz GPS output) is attached to pin X8 causing a mass parsing event every second.</li>
</ul>

<p>Adjusting the baud rate and update rate of the receiver can be easily accomplished with my companion <a href="https://github.com/inmcm/MTK_commands">MTK_command</a> script</p>

<p>An example of how to hookup the pyboard to the Adafruit <a href="/inmcm/micropyGPS/blob/master/minus%20the%20PPS%20signal%20needed%20in%20the%20external%20interrupt%20example">Ultimate GPS Breakout</a> is shown below. </p>

<p><a href="https://camo.githubusercontent.com/343a77365c88210ad5596361316d8a4a2383338b/687474703a2f2f692e696d6775722e636f6d2f7964344d6a6b612e6a70673f31" target="_blank"><img src="https://camo.githubusercontent.com/343a77365c88210ad5596361316d8a4a2383338b/687474703a2f2f692e696d6775722e636f6d2f7964344d6a6b612e6a70673f31" alt="hookup" data-canonical-src="http://i.imgur.com/yd4Mjka.jpg?1"/></a> </p>

<h2><a id="user-content-other-platforms" class="anchor" href="#other-platforms" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Other Platforms</h2>

<p>As mentioned above, micropyGPS also runs on Python3.x (that's where most of the development was done!). This is useful for testing code or just parsing existing log files. </p>

<p>Beyond the pyBoard, micropyGPS should run on other embedded platforms that have an Python3 interpreter such as the Raspberry Pi and BeagleBone boards. These other devices are currently untested.</p>
</article>
  </div></body></html>