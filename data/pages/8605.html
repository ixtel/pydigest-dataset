<html><body><div><p>rawdatx is a Python 2.7, 3.4, 3.5 converter that generates Excel xlsx files
from TOA5 comma-separated text files produced by Campbell Scientific LoggerNet.
Sensor input, processing instructions, and output structure are specified
in a single XML Definition File that also serves as documentation.</p>
<div id="installation">
<h2>Installation</h2>
<p>The following prerequisites need to be installed:</p>
<ul>
<li>Python 2.7, 3.4, or 3.5</li>
<li>numpy 1.9 or higher</li>
<li>xlsxwriter</li>
</ul>
<p>optionally (recommended):</p>

<p>The easiest way to install rawdatx is through pip:
<tt>pip install rawdatx</tt></p>
<p>Alternatively, download the latest version from the repository
<a href="https://github.com/cpetrich/rawdatx" rel="nofollow">https://github.com/cpetrich/rawdatx</a> and install with
<tt>python setup.py install</tt>.</p>
</div>
<div id="usage">
<h2>Usage</h2>
<p>To convert a TOA5 file to XLSX, run the following script:</p>
<pre>import rawdatx.read_TOA5 as read_raw_data
import rawdatx.process_XML as process_XML

config = './config.cfg'
read_raw_data.main(config)
process_XML.main(config)
</pre>
<p>Input and output files are specified in an UTF-8 encoded
configuration file <tt>config.cfg</tt>:</p>
<pre><span class="k">[RawData]</span>
<span class="na">raw_data_path</span>       <span class="o">=</span> <span class="s">./raw-data/</span>
<span class="na">mask</span>                <span class="o">=</span> <span class="s">CR1000_*.dat</span>
<span class="na">logger_time_zone</span>    <span class="o">=</span> <span class="s">UTC+1</span>

<span class="k">[Metadata]</span>
<span class="na">Project</span>      <span class="o">=</span> <span class="s">My project name</span>

<span class="k">[Files]</span>
<span class="na">xml_map_path</span>        <span class="o">=</span> <span class="s">./</span>
<span class="na">xml_map</span>             <span class="o">=</span> <span class="s">data_map.xml</span>
<span class="na">data_path</span>           <span class="o">=</span> <span class="s">./</span>
<span class="na">processed_data_xlsx</span> <span class="o">=</span> <span class="s">processed_data.xlsx</span>
<span class="na">xml_dtd_out</span>         <span class="o">=</span> <span class="s">data_map.dtd</span>
<span class="na">raw_data</span>            <span class="o">=</span> <span class="s">consolidated_raw_data.npy</span>
<span class="na">processed_data_npy</span>  <span class="o">=</span> <span class="s">processed_data.npy</span>
</pre>
<p>The <tt>[RawData]</tt> section specifies the location of the logger input files,
the <tt>[Metadata]</tt> section defines metadata entries copied into the
XLSX file, and the <tt>[Files]</tt> section specifies path and file names of
output and intermediate files (<tt>data_path</tt>) and input
XML Definition File (<tt>xml_map_path</tt> and <tt>xml_map</tt>).</p>
<p>The XML Definition File (<tt>data_map.xml</tt>) may look like this:</p>
<pre><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="nt">&lt;measurements</span> <span class="na">from=</span><span class="s">"2015/05/03 11:45"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">"Logger"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;map</span> <span class="na">name=</span><span class="s">"Battery Voltage"</span> <span class="na">unit=</span><span class="s">"V"</span> <span class="na">src=</span><span class="s">"Batt_V"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;map</span> <span class="na">name=</span><span class="s">"Internal Temperature"</span> <span class="na">unit=</span><span class="s">"°C"</span> <span class="na">src=</span><span class="s">"T_panel"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/group&gt;</span>
    <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">"Weather"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;map</span> <span class="na">name=</span><span class="s">"Air Temperature"</span> <span class="na">unit=</span><span class="s">"°C"</span> <span class="na">src=</span><span class="s">"T_air"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;map</span> <span class="na">name=</span><span class="s">"Relative Humidity"</span> <span class="na">unit=</span><span class="s">"%"</span> <span class="na">src=</span><span class="s">"RH"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;map</span> <span class="na">name=</span><span class="s">"Wind Speed"</span> <span class="na">unit=</span><span class="s">"m/s"</span> <span class="na">src=</span><span class="s">"Wind_speed"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;map</span> <span class="na">name=</span><span class="s">"Wind Direction"</span> <span class="na">unit=</span><span class="s">"°"</span> <span class="na">src=</span><span class="s">"Wind_direction"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/group&gt;</span>
<span class="nt">&lt;/measurements&gt;</span>
</pre>
<p>See also examples and test files in the repository at
<a href="https://github.com/cpetrich/rawdatx" rel="nofollow">https://github.com/cpetrich/rawdatx</a>.</p>
</div>


</div></body></html>