<html><body><div><div class="entry-content">
		<p><a href="https://onemorelineofcode.wordpress.com/2014/01/03/who-am-i-a-facebook-game-part-2/" title="Who Am I – A Facebook Game, Part 2"><strong>UPDATE</strong> Part 2 in now published!</a><br/>
<a href="https://onemorelineofcode.wordpress.com/2014/01/14/who-am-i-a-facebook-game-part-3/" title="Who Am I – A Facebook Game, Part 3"><strong>UPDATE</strong> Part 3 in now published!</a></p>
<p>Who Am I is a simple Facebook game built with Python and Flask.</p>
<p><span>In this and following posts I will introduce the game and develop it step by step. I will use the following stuff to develop the game:</span></p>
<ul>
<li>Python (you need basic skill in Python)</li>
<li>Flask – a web framework for Python</li>
<li>HTML + CSS + Javascript – and the ubiquitous jQuery library</li>
<li>Facebook APIs – GraphAPI mostly</li>
</ul>
<p>You probably need some experience in programming and web applications in order to follow along. If you ever programmed using a web framework (in any language) you will have easier time understanding the concepts.</p>
<p><span id="more-32"/></p>
<h1>The Idea Behind the Game – Johari Window</h1>
<p>The game is a simple one and it is loosely based on the <a title="Johari Window in Wikipedia" href="http://en.wikipedia.org/wiki/Johari_window">Johari Window technique</a> by Joseph Luft and Harrington Ingham (a more detailed explanation of the theory can be found <a title="Johari Window Technique" href="http://jyotikalash.net/tow_12082012.php">here</a>).</p>
<p>In the Johari Window technique, a person defines himself by selecting adjectives from a list of 56 items. The same list is given to people who know this person and they also pick adjectives that they think describe him.</p>
<p>Using these sets of adjectives, we can define 3 groups of attributes this person has:</p>
<ul>
<li>Open – adjectives that were selected by the person and others. This is the part of ourselves that is known to us and to the world</li>
<li>Hidden – adjectives selected by the person but not others. These are the behaviors and motives we keep inside, hidden from other people, either intentionally or not</li>
<li>Blind – adjectives others selected but the person did not. These represent information others can see in us but we are blind to it</li>
</ul>
<p>A fourth group exists in each person – the Unknown group which is the stuff which no one (including us) know about us.</p>
<p>The 4 groups are usually pictured in a window diagram and hence its name Johari Window (<strong>Jo</strong>seph-<strong>Harri</strong>ngton <strong>Window</strong>):</p>
<div data-shortcode="caption" id="attachment_33" class="wp-caption alignnone"><a href="https://onemorelineofcode.files.wordpress.com/2013/11/johari-window.png"><img class=" wp-image-33 " alt="Johari Window Diagram" src="https://onemorelineofcode.files.wordpress.com/2013/11/johari-window.png?w=512&amp;h=384"/></a><p class="wp-caption-text">Johari Window</p></div>
<p>A lot of stuff can be done with these groups – increase one’s personal awareness, give feedback to a person about his blind spots or to help him open hidden things with his friends.</p>
<h1>The Game</h1>
<p>The game is implemented as a Facebook game running inside the Facebook site.</p>
<p>In the basic game, the player, Susan, is first asked to select which adjectives describes her – for example Happy, Loving and Childish. Susan then invites her friends to also select the adjectives that describe her. When her friends accept the invitation, they are taken to a page where they can select the adjectives for Susan. Once they submit their selection they can play for themselves by filling out their own form and inviting their friends.</p>
<p>Susan can check out her “Personal Assessment” page to see what’s her open, hidden and blind behaviors are.</p>
<h1>Types of Facebook Applications</h1>
<p>A Facebook application is an application that uses the Facebook API in order to identify users and enrich the application’s social interactions through the Facebook platform.</p>
<p>To integrate Facebook in our game we have several options:</p>
<ol>
<li>A Facebook application displaying inside the Facebook site</li>
<li>A web application running in its own page but interacting with the Facebook API</li>
<li>A mobile application interacting with the Facebook API</li>
</ol>
<p>We’re going to develop a Facebook Application which means the application itself is hosted on your server but its UI is displayed in an iFrame inside the regular Facebook page.</p>
<p>Farmville is an example of such an application:</p>
<div data-shortcode="caption" id="attachment_47" class="wp-caption alignnone"><a href="https://onemorelineofcode.files.wordpress.com/2013/11/screen-shot-2013-11-28-at-3-06-20-pm.png"><img class="size-large wp-image-47" alt="Farmville on Facebook" src="https://onemorelineofcode.files.wordpress.com/2013/11/screen-shot-2013-11-28-at-3-06-20-pm.png?w=646&amp;h=490"/></a><p class="wp-caption-text">Farmville on Facebook</p></div>
<p>Notice the facebook.com URL in the address bar and Facebook’s nav bar on top and feed bar on the right side. The Farmville application is a Flash application running in an iFrame inside the Facebook page.</p>
<h1><a id="python"/>Python</h1>
<p>We’re gonna use <a title="Python Offficial Site" href="http://www.python.org/">Python 2.7</a> to develop the server side of the game.</p>
<p>I decided to use Python because <a title="Why Learn Python? Because It’s FUN!" href="https://onemorelineofcode.wordpress.com/2013/11/28/why-learn-python-because-its-fun/">I wanted to learn Python</a>. You need to have basic knowledge of Python. If you are new to programming I recommend the <a href="http://shop.oreilly.com/product/0636920028154.do">Learning Python</a> book. It is very comprehensible and does not assume any prior programming knowledge. It explains Python and also basic programming concepts such as variables, loops, control structures, etc. As an experienced programmer I found <a href="http://www.diveintopython.net/">Dive Into Python</a> to be a great book which jumps right into teaching the language using real world examples. And it’s also free!</p>
<p>So go ahead, install Python 2.7 (if you’re using linux or OSX it is probably already installed. Check this by running <span><code>python --version</code></span> at the command prompt.)</p>
<p>If you don’t know how to install python, check out the python <a href="https://wiki.python.org/moin/BeginnersGuide">Beginners Page</a>.</p>
<h1><a id="flask"/>Flask</h1>
<p>Flask is micro framework for writing web applications. If you’re asking yourself what does ‘micro’ mean then you are right to ask because Flask is not micro at all. It is a very comprehensive framework. It allows you to easily write a full blown web application from scratch. But it’s micro when you compare it to frameworks such as Django or CakePHP.</p>
<p>So what Flask does for you (in the context of our game)?</p>
<ul>
<li>Flask will let you write methods that accept HTTP requests and return HTTP responses.</li>
<li>Flask provides easy ways to define which method to run in response to what requests.</li>
<li>Flask provides easy way to get data from the HTTP request.</li>
<li>Flask comes with the Jinja2 template engine which basically means you will have an easy way of writing dynamic HTML pages.</li>
</ul>
<p>What Flask won’t do for you?</p>
<p>Well, it won’t make you coffee. But it also doesn’t provide some features that other ‘non micro’ web frameworks do provide such as:</p>
<ul>
<li>ORM – (Object Relational Mapping). It won’t help you work with the database</li>
<li>Form Validation – Flask does not know the structure of your models so it won’t help validate data</li>
<li>Access Management</li>
<li>And more…</li>
</ul>
<p>Basically Flask does not care about the model of your application, it only provides the tools needed to write it’s web client tier.</p>
<p>So why use it? Because it’s small it is also very easy to learn, especially as I’m trying to grasp Python, Flask, Facebook, CSS and Javascript all together.</p>
<p>Most of the time our application will consist of a single python script. Only later when we want to enhance it we will split it to multiple files.</p>
<p>We don’t need to know a lot about Flask to start programming with it. We can start using the basic functionality right away and learn new features only when we need them.</p>
<p>Go to the <a title="Flask" href="http://flask.pocoo.org/">Flask website</a>, download Flask and install it. You can also go over the tutorial in the Flask website.</p>
<h1>Hello World</h1>
<p>Let’s test if Python and Flask are installed correctly. Run the python interpreter by running <span><code>python</code></span> in the command line, and type <span><code>import flask</code></span>. The command should work without throwing any errors. You can then write <span><code>print flask</code></span> and it will print some information about the flask module. The whole session should look similar to this:<br/>
<a href="https://onemorelineofcode.files.wordpress.com/2013/11/screen-shot-2013-11-29-at-11-10-45-am.png"><img class="alignnone size-full wp-image-54" alt="import flask in interpreter" src="https://onemorelineofcode.files.wordpress.com/2013/11/screen-shot-2013-11-29-at-11-10-45-am.png?w=646"/></a></p>
<p>Python prints the location of the flask module.</p>
<p>Great, Python and Flask are installed, we can start writing our game!</p>
<h1>Who Am I v0.1 – A Basic Game</h1>
<p>In this post will write a simple version of the game. We will use only Python, Flask and basic HTML and CSS.</p>
<p>The game will have 3 views:</p>
<ol>
<li>Home View – The player can see her Johari window in this view and invites from her friends. She can also invite other friends to play from this view.</li>
<li>Who Am I View – In this view the player can select which attributes she thinks describe her</li>
<li>Friend View – In this view the player can fill out the quiz for a friend.</li>
</ol>
<p>When the player browses the application she is taken to the Who Am I page where she can submit her view of herself. She is then taken to the Home view to see her Johari window.</p>
<p>Once other players help her by filling out the quiz about her, she will start seeing meaningful information in the Personality view.</p>
<p>That’s it, simple and straightforward.</p>
<h1>A Basic App</h1>
<p>We will start with creating a simple one page web application using Python and Flask.</p>
<p>Create a folder for your application, e.g. <span><code>~/whoami</code></span>. If you’re working on Windows it will be something like <span><code>C:\whoami</code></span>.</p>
<p>Create a new file called <span><code>whoami.py</code></span> inside the <span><code>whoami</code></span> folder.</p>
<p>Write or copy-paste the following code into the file:</p>
<pre class="brush: python; title: ; notranslate" title="">
from flask import Flask

app = Flask(__name__)

@app.route('/')
def main():
    return show_personality()

@app.route('/personality')
def show_personality():
    return 'You are an amazing person'

if __name__ == '__main__':
    app.run()
</pre>
<p>This code creates a Flask object. It then defines 2 methods, <span><code>main()</code></span> and <span><code>show_personality()</code></span>. The methods are decorated with the <span><code>app.route()</code></span> decorator. This decorator “binds” the method to the url path specified in the parameter.<br/>
For example:</p>
<pre class="brush: python; title: ; notranslate" title="">
@app.route('/')
def main():
</pre>
<p>This code binds the <span><code>main()</code></span> method to the root url <span><code>/</code></span>. Whenever someone browses to <span><code><a href="http://127.0.0.1:5000/" rel="nofollow">http://127.0.0.1:5000/</a></code></span> Flask will call the <span><code>main()</code></span> method and send back whatever it returns.</p>
<p>We defined 2 methods. The <span><code>main()</code></span> method will be used to redirect users to the page that they need to see based on their status. For example, if the player did not fill in their Who Am I page yet, they will be redirected there. Otherwise they will be taken to their personality page. Right now we always take the player to the personality page. Later this method will handle more cases.</p>
<p>Save the file and run it:</p>
<pre class="brush: bash; title: ; notranslate" title="">

$ python whoami.py
 * Running on http://127.0.0.1:5000/

</pre>
<p>You’ll see an information message from Flask telling you that your web app is running at port 5000 on your local host.</p>
<p>Let’s check it – fire up your browser and browse to <a href="http://127.0.0.1:5000" rel="nofollow">http://127.0.0.1:5000</a>. You should see something like this:</p>
<p><a href="https://onemorelineofcode.files.wordpress.com/2013/12/screen-shot-2013-12-10-at-1-13-01-pm.png"><img class="size-full wp-image-64 alignnone" alt="Browser" src="https://onemorelineofcode.files.wordpress.com/2013/12/screen-shot-2013-12-10-at-1-13-01-pm.png?w=646"/></a></p>
<p>OK! We have a skeleton application and in the next post we’ll see how to extend it with all the functionality we want.</p>
<h1>Summary</h1>
<p>In this post we introduced the idea to a simple Facebook game called Who Am I.</p>
<p>We briefly reviewed the technologies we’re going to use to develop the game – Python, Flask and a general explanation of the various types of Facebook apps.</p>
<p>We then created a very simple web application using Python and Flask. Due to Flask’s awesomeness we were able to see something in the browser with only a few lines of code.</p>
<p>But our application doesn’t do much yet. In the next part we will add more functionality to the game using HTML templates and db persistence.<br/>
<a href="https://onemorelineofcode.wordpress.com/2014/01/03/who-am-i-a-facebook-game-part-2/" title="Who Am I – A Facebook Game, Part 2">[UPDATE] Part 2 in now published!</a></p>
		<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" id="like-post-wrapper-28093761-32-56d5b2ead9463" data-src="//widgets.wp.com/likes/#blog_id=28093761&amp;post_id=32&amp;origin=onemorelineofcode.wordpress.com&amp;obj_id=28093761-32-56d5b2ead9463" data-name="like-post-frame-28093761-32-56d5b2ead9463"><h3 class="sd-title">Like this:</h3><p class="likes-widget-placeholder post-likes-widget-placeholder"><span class="button"><span>Like</span></span> <span class="loading">Loading...</span></p><span class="sd-text-color"/><a class="sd-link-color"/></div>
<p id="jp-relatedposts" class="jp-relatedposts">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</p></div>			</div>

	</div></body></html>