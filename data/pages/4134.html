<html><body><div><article>
<header>
	
	<p class="meta">16 Apr 2015</p>
</header>
<p>I am a supremely lazy person. With the rise of wrappers like <code>virtualenv</code>,
<code>bundler</code>, <code>foreman</code>, etc, I find the shell commands I need to remember getting
really long. Things like:</p>

<p><strong>Run only unit tests</strong></p>

<pre><code>foreman run python test.py unit
</code></pre>

<p><strong>Run the database migrations</strong></p>

<pre><code>bundle exec rake db:migrate
</code></pre>

<p><strong>Start my java app</strong></p>

<pre><code>java -jar target/my-java-app-0.1.5.jar
</code></pre>

<p>I figure someone else should be remembering those for me. Ideally I should only
need to remember <code>migrate</code> to migrate the db and <code>unit</code> to run the unit tests.</p>



<h2 id="butler">Butler</h2>

<p>The Butler is a small command line tool for reducing the number of keystrokes I
need to make while working.</p>

<p>The code can be found on <a href="https://github.com/michaeldfallen/butler">github</a>.</p>



<h3 id="how-to-use-butler">How to use Butler</h3>

<p>It’s pretty easy to get started. Just install it from brew:</p>

<pre><code>brew install michaeldfallen/formula/butler
</code></pre>

<p>Then create a <code>butlerfile</code> with a command in it:</p>

<pre><code>echo "hello: echo \"Hello, world!\"" &gt;&gt; butlerfile
</code></pre>

<p>Your <code>butlerfile</code> will look like this:</p>

<pre><code>hello: echo "Hello, world!"
</code></pre>

<p>Now you can ask Butler to run the command:</p>

<pre><code>butler hello
</code></pre>

<p>And Butler will execute the script behind it for you.</p>

<h3 id="safety-checks">Safety checks</h3>

<p>Since running commands from a file isn’t entirely safe, especially if teams use
Butler together, you’ll want to be certain that the command is safe.</p>

<p>To do this Butler will show you the script and ask if it’s ok to run the first
time. Any time the script, or the name of the command, changes Butler will ask
again if it’s safe to run. So you won’t get caught by a sneaky <code>rm -rf ~</code>.</p>



<h3 id="tab-completion">Tab-completion</h3>

<p>Any commands in your butlerfile will autocomplete in both Bash and Zsh, just add
this to your <code>~/.zshrc</code> or <code>~/.bashrc</code>:</p>

<pre><code>source "$(butler --init-completion)"
</code></pre>

<p>And you get sexy tab completion:</p>



<h2 id="so-happy">So Happy!</h2>

<p>I’ve been using Butler over the last week and it’s made me so happy. No more
long confusing commands.</p>

<p>One other thing I’ve noticed is that the <code>butlerfile</code> makes for useful
documentation. If anyone asks “How do you run the tests?” I can look in that
projects <code>butlerfile</code> and show them.</p>

<hr/>
<p>This post has been edited on 17/4/2015. You can read the history of this post on <a href="https://github.com/michaeldfallen/michaeldfallen.github.io/commits/master/_posts/2015-04-16-introducing-butler.markdown">github</a>.</p>



</article>
</div></body></html>