<html><body><div><div class="content-body" itemprop="text articleBody">
	<div class="section" id="introduction">
<h2>Introduction</h2>
<p>In the python world, there are multiple options for visualizing your data.
Because of this variety, it can be really challenging to figure out which
one to use when. This article contains a sample of some of the more popular
ones and illustrates how to use them to create a simple bar chart. I will create
examples of plotting data with:</p>

<p>In the examples, I will use pandas to manipulate the data and use it to drive the visualization.
In most cases these tools can be used without pandas but I think the combination of
pandas + visualization tools is so common, it is the best place to start.</p>
</div>
<div class="section" id="what-about-matplotlib">
<h2>What About Matplotlib?</h2>
<p><a class="reference external" href="http://matplotlib.org/">Matplotlib</a> is the grandfather of python visualization packages.
It is extremely powerful but with that power comes complexity. You can typically
do anything you need using matplotlib but it is not always so easy to figure out.
I am not going to walk through a pure Matplotlib example because many
of the tools (especially Pandas and Seaborn) are thin wrappers over matplotlib.
If you would like to read more about it, I went through several
examples in my <a class="reference external" href="http://pbpython.com/simple-graphing-pandas.html">simple graphing</a> article.</p>
<p>My biggest gripe with Matplotlib is that it just takes too much work to get reasonable looking graphs.
In playing around with some of these examples, I found it easier to get nice looking
visualization without a lot of code. For one small example of the verbose nature of matplotlib, look at the
faceting example on this <a class="reference external" href="http://blog.yhathq.com/posts/ggplot-for-python.html">ggplot post</a>.</p>
</div>
<div class="section" id="methodology">
<h2>Methodology</h2>
<p>One quick note on my methodology for this article. I am sure that as soon as people
start reading this, they will point out better ways to use these tools. My goal
was not to create the exact same graph in each example. I wanted to visualize
the data in roughly the same way in each example with roughly the same amount of time
researching the solution.</p>
<p>As I went through this process, the biggest challenge I had was formatting the x and y axes and making the data look
reasonable given some of the large labels. It also took some time to figure out how each
tool wanted the data formatted. Once I figured those parts out, the rest was relatively simple.</p>
<p>Another point to consider is that a bar plot is probably one of the simpler types of graphs to make.
These tools allow you to do many more types of plots with data. My examples focus more on the ease of
formatting than innovative visualization examples. Also, because of the labels, some of the
plots take up a lot of space so I’ve taken the liberty of cutting them off - just to keep
the article length manageable. Finally, I have resized images so any blurriness is an issue of scaling
and not a reflection on the actual output quality.</p>
<p>Finally, I’m approaching this from the mindset of trying to use another tool in lieu of Excel.
I think my examples are more illustrative of displaying in a report, presentation, email or on a static web page.
If you are evaluating tools for real time visualization of data or sharing via some other mechanism;
then some of these tools offer a lot more capability that I don’t go into.</p>
</div>
<div class="section" id="data-set">
<h2>Data Set</h2>
<p>The <a class="reference external" href="http://pbpython.com/web-scraping-mn-budget.html">previous article</a> describes the data we will be working with. I took
the scraping example one layer deeper and determined the detail spending items in each
category. This data set includes 125 line items but I have chosen to focus only
on showing the top 10 to keep it a little simpler. You can find the full data set <a class="reference external" href="http://pbpython.com/extras/mn-budget-detail-2014.csv">here</a>.</p>
</div>
<div class="section" id="pandas">
<h2>Pandas</h2>
<p>I am using a pandas DataFrame as the starting point for all the various plots.
Fortunately, pandas does supply a built in plotting capability for us which is a layer
over matplotlib. I will use that as the baseline.</p>
<p>First, import our modules and read in the data into a budget DataFrame. We also want
to sort the data and limit it to the top 10 items.</p>
<div class="highlight"><pre>budget = pd.read_csv("mn-budget-detail-2014.csv")
budget = budget.sort('amount',ascending=False)[:10]
</pre></div>
<p>We will use the same budget lines for all of our examples. Here is what the top 5 items look like:</p>
<div>
<table border="1" class="table table-condensed">
<thead>
<tr>
<th/>
<th>category</th>
<th>detail</th>
<th>amount</th>
</tr>
</thead>
<tbody>
<tr>
<th>46</th>
<td> <span class="caps">ADMINISTRATION</span></td>
<td>      Capitol Renovation and Restoration Continued</td>
<td> 126300000</td>
</tr>
<tr>
<th>1 </th>
<td> <span class="caps">UNIVERSITY</span> <span class="caps">OF</span> <span class="caps">MINNESOTA</span></td>
<td>           Minneapolis; Tate Laboratory Renovation</td>
<td>  56700000</td>
</tr>
<tr>
<th>78</th>
<td> <span class="caps">HUMAN</span> <span class="caps">SERVICES</span></td>
<td>           Minnesota Security Hospital - St. Peter</td>
<td>  56317000</td>
</tr>
<tr>
<th>0 </th>
<td> <span class="caps">UNIVERSITY</span> <span class="caps">OF</span> <span class="caps">MINNESOTA</span></td>
<td> Higher Education Asset Preservation and Replac…</td>
<td>  42500000</td>
</tr>
<tr>
<th>5 </th>
<td> <span class="caps">MINNESOTA</span> <span class="caps">STATE</span> <span class="caps">COLLEGES</span> <span class="caps">AND</span> <span class="caps">UNIVERSITIES</span></td>
<td> Higher Education Asset Preservation and Replac…</td>
<td>  42500000</td>
</tr>
</tbody>
</table>
</div><p>Now, setup our display to use nicer defaults and create a bar plot:</p>
<div class="highlight"><pre><span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">mpl_style</span> <span class="o">=</span> <span class="s">'default'</span>
<span class="n">budget_plot</span> <span class="o">=</span> <span class="n">budget</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">"bar"</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="n">budget</span><span class="p">[</span><span class="s">"detail"</span><span class="p">],</span>
                          <span class="n">title</span><span class="o">=</span><span class="s">"MN Capital Budget - 2014"</span><span class="p">,</span>
                          <span class="n">legend</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
<p>This does all of the heavy lifting of creating the plot using the “detail” column as
well as displaying the title and removing the legend.</p>
<p>Here is the additional code needed to save the image as a png.</p>
<div class="highlight"><pre><span class="n">fig</span> <span class="o">=</span> <span class="n">budget_plot</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">"2014-mn-capital-budget.png"</span><span class="p">)</span>
</pre></div>
<p>Here is what it looks like (truncated to keep the article length manageable):</p>

<p>The basics look pretty nice. Ideally, I’d like to do some more formatting of
the y-axis but that requires jumping into some matplotlib gymnastics. This is a perfectly
serviceable visualization but it’s not possible to do a whole lot more customization
purely through pandas.</p>
</div>
<div class="section" id="seaborn">
<h2>Seaborn</h2>
<p><a class="reference external" href="http://stanford.edu/~mwaskom/software/seaborn/">Seaborn</a> is a visualization library based on matplotlib. It seeks to make
default data visualizations much more visually appealing. It also has the goal
of making more complicated plots simpler to create. It does integrate well with pandas.</p>
<p>My example does not allow seaborn to significantly differentiate itself. One thing
I like about seaborn is the various built in styles which allows you to quickly
change the color palettes to look a little nicer. Otherwise, seaborn
does not do a lot for us with this simple chart.</p>
<p>Standard imports and read in the data:</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">budget</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"mn-budget-detail-2014.csv"</span><span class="p">)</span>
<span class="n">budget</span> <span class="o">=</span> <span class="n">budget</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s">'amount'</span><span class="p">,</span><span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
<p>One thing I found out is that I explicitly had to set the order of the
items on the x_axis using <code class="code">
x_order</code>
</p>
<p>This section of code sets the order, and styles the plot and bar chart colors:</p>
<div class="highlight"><pre><span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s">"darkgrid"</span><span class="p">)</span>
<span class="n">bar_plot</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">budget</span><span class="p">[</span><span class="s">"detail"</span><span class="p">],</span><span class="n">y</span><span class="o">=</span><span class="n">budget</span><span class="p">[</span><span class="s">"amount"</span><span class="p">],</span>
                        <span class="n">palette</span><span class="o">=</span><span class="s">"muted"</span><span class="p">,</span>
                        <span class="n">x_order</span><span class="o">=</span><span class="n">budget</span><span class="p">[</span><span class="s">"detail"</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

<p>As you can see, I had to use matplotlib to rotate the x axis titles so I could actually read them.
Visually, the display looks nice. Ideally, I’d like to format the ticks on the y-axis but
I couldn’t figure out how to do that without using <code class="code">
plt.yticks</code>
 from matplotlib.</p>
</div>
<div class="section" id="ggplot">
<h2>ggplot</h2>
<p><a class="reference external" href="http://ggplot.yhathq.com/">ggplot</a> is similar to Seaborn in that it builds on top of matplotlib and
aims to improve the visual appeal of matplotlib visualizations in a simple
way. It diverges from seaborn in that it is a port of ggplot2 for R. Given
this goal, some of the <span class="caps">API</span> is non-pythonic but it is a very powerful.</p>
<p>I have not used ggplot in R so there was a bit of a learning curve. However, I
can start to see the appeal of ggplot. The library is being actively developed
and I hope it continues to grow and mature because I think it could be a really
powerful option. I did have a few times in my learning where I struggled to figure out
how to do something. After looking at the code and doing a little googling, I was
able to figure most of it out.</p>
<p>Go ahead and import and read our data:</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">ggplot</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">budget</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"mn-budget-detail-2014.csv"</span><span class="p">)</span>
<span class="n">budget</span> <span class="o">=</span> <span class="n">budget</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s">'amount'</span><span class="p">,</span><span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
<p>Now we construct our plot by chaining together a several ggplot commands:</p>
<div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">budget</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">"detail"</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s">"amount"</span><span class="p">))</span> <span class="o">+</span> \
    <span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="o">=</span><span class="s">"bar"</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">budget</span><span class="p">[</span><span class="s">"detail"</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span> <span class="o">+</span>\
    <span class="n">ggtitle</span><span class="p">(</span><span class="s">"MN Capital Budget - 2014"</span><span class="p">)</span> <span class="o">+</span> \
    <span class="n">xlab</span><span class="p">(</span><span class="s">"Spending Detail"</span><span class="p">)</span> <span class="o">+</span>  \
    <span class="n">ylab</span><span class="p">(</span><span class="s">"Amount"</span><span class="p">)</span> <span class="o">+</span> <span class="n">scale_y_continuous</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="s">'millions'</span><span class="p">)</span> <span class="o">+</span> \
    <span class="n">theme</span><span class="p">(</span><span class="n">axis_text_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">angle</span><span class="o">=</span><span class="mi">90</span><span class="p">))</span>
<span class="k">print</span> <span class="n">p</span>
</pre></div>
<p>This seems a little strange - especially using <code class="code">
print p</code>
 to display
the graph. However, I found it relatively straightforward to figure out.</p>
<p>It did take some digging to figure out how to rotate the text 90 degrees as
well as figure out how to order the labels on the x-axis.</p>
<p>The coolest feature I found was <code class="code">
scale_y_continous</code>
 which makes
the labels come through a lot nicer.</p>
<p>If you want to save the image, it’s easy with <code class="code">
ggsave</code>
:</p>
<div class="highlight"><pre><span class="n">ggsave</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="s">"mn-budget-capital-ggplot.png"</span><span class="p">)</span>
</pre></div>
<p>Here is the final image. I know it’s a lot of grey scale. I could color
it but did not take the time to do so.</p>

</div>
<div class="section" id="bokeh">
<h2>Bokeh</h2>
<p><a class="reference external" href="http://bokeh.pydata.org/">Bokeh</a> is different from the prior 3 libraries in that it does not depend
on matplotlib and is geared toward generating visualizations in modern web browsers. It is meant
to make interactive web visualizations so my example is fairly simplistic.</p>
<p>Import and read in the data:</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">bokeh.charts</span> <span class="kn">import</span> <span class="n">Bar</span>

<span class="n">budget</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"mn-budget-detail-2014.csv"</span><span class="p">)</span>
<span class="n">budget</span> <span class="o">=</span> <span class="n">budget</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s">'amount'</span><span class="p">,</span><span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
<p>One different aspect of bokeh is that I need to explicitly list out the values
we want to plot.</p>
<div class="highlight"><pre><span class="n">details</span> <span class="o">=</span> <span class="n">budget</span><span class="p">[</span><span class="s">"detail"</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">amount</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">budget</span><span class="p">[</span><span class="s">"amount"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
</pre></div>
<p>Now we can plot it. This code causes the browser to display the <span class="caps">HTML</span> page containing
the graph. I was able to save a png copy in case I wanted to use it for other display purposes.</p>
<div class="highlight"><pre><span class="n">bar</span> <span class="o">=</span> <span class="n">Bar</span><span class="p">(</span><span class="n">amount</span><span class="p">,</span> <span class="n">details</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">"bar.html"</span><span class="p">)</span>
<span class="n">bar</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">"MN Capital Budget - 2014"</span><span class="p">)</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">"Detail"</span><span class="p">)</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">"Amount"</span><span class="p">)</span>
<span class="n">bar</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<p>Here is the png image:</p>

<p>As you can see the graph is nice and clean. I did not find a simple way to more easily format
the y-axis. Bokeh has a lot more functionality but I did not dive into in this example.</p>
</div>
<div class="section" id="pygal">
<h2>Pygal</h2>
<p><a class="reference external" href="http://pygal.org/">Pygal</a> is used for creating svg charts. If the proper dependencies are installed, you can
also save a file as a png. The svg files are pretty useful for easily making interactive charts.
I also found that it was pretty easy to create unique looking and visually appealing charts
with this tool.</p>
<p>Do our imports and read in the data:</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">pygal</span>
<span class="kn">from</span> <span class="nn">pygal.style</span> <span class="kn">import</span> <span class="n">LightStyle</span>

<span class="n">budget</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"mn-budget-detail-2014.csv"</span><span class="p">)</span>
<span class="n">budget</span> <span class="o">=</span> <span class="n">budget</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s">'amount'</span><span class="p">,</span><span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
<p>We need to create the type of chart and set some basic settings:</p>
<div class="highlight"><pre><span class="n">bar_chart</span> <span class="o">=</span> <span class="n">pygal</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="n">LightStyle</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
                      <span class="n">legend_at_bottom</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">human_readable</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                      <span class="n">title</span><span class="o">=</span><span class="s">'MN Capital Budget - 2014'</span><span class="p">)</span>
</pre></div>
<p>One interesting note is <code class="code">
human_readable</code>
 which does a nice job of formatting
the data so that it mostly “just works.”</p>
<p>Now we need to add the data to our chart. This is where the integration with
pandas is not very tight but I found it straightforward to do for this small data
set. Performance might be an issue when there are lots of rows.</p>
<div class="highlight"><pre><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">budget</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">bar_chart</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s">"detail"</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s">"amount"</span><span class="p">])</span>
</pre></div>
<p>Now render the file as an svg and png file:</p>
<div class="highlight"><pre><span class="n">bar_chart</span><span class="o">.</span><span class="n">render_to_file</span><span class="p">(</span><span class="s">'budget.svg'</span><span class="p">)</span>
<span class="n">bar_chart</span><span class="o">.</span><span class="n">render_to_png</span><span class="p">(</span><span class="s">'budget.png'</span><span class="p">)</span>
</pre></div>

<p>I think the svg presentation is really nice and I like how the resulting graph
has a unique, visually pleasing style. I also found it relatively easy to figure out
what I could and could not do with the tool. I encourage you to download the
<a class="reference external" href="http://pbpython.com/extras/MN-2014-budget-pygal.svg">svg file</a> and look at it in your browser to see the interactive nature of the graph.</p>
</div>
<div class="section" id="plot-ly">
<h2>Plot.ly</h2>
<p><a class="reference internal" href="#plot-ly">Plot.ly</a> is differentiated by being an online tool for doing analytics and visualization.
It has robust <span class="caps">API</span>’s and includes one for python. Browsing the website, you’ll see that
there are lots of very rich, interactive graphs. Thanks to the excellent <a class="reference external" href="https://plot.ly/python/user-guide/">documentation</a>,
creating the bar chart was relatively simple.</p>
<p>You’ll need to follow the <a class="reference external" href="https://plot.ly/python/getting-started/">docs</a> to get your <span class="caps">API</span> key set up. Once you do, it seems to all
work pretty seamlessly. The one caveat is that everything you are doing is posted on the web so
make sure you are ok with it. There is an option to keep plots private so you do have
control over that aspect.</p>
<p>Plotly integrates pretty seamlessly with pandas. I also will give a shout out to them
for being very responsive to an email question I had. I appreciate their timely reply.</p>
<p>Setup my imports and read in the data</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">plotly.plotly</span> <span class="kn">as</span> <span class="nn">py</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">plotly.graph_objs</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">budget</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"mn-budget-detail-2014.csv"</span><span class="p">)</span>
<span class="n">budget</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s">'amount'</span><span class="p">,</span><span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">budget</span> <span class="o">=</span> <span class="n">budget</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
<p>Setup the data and chart type for plotly.</p>
<div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="n">Data</span><span class="p">([</span>
    <span class="n">Bar</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">budget</span><span class="p">[</span><span class="s">"detail"</span><span class="p">],</span>
        <span class="n">y</span><span class="o">=</span><span class="n">budget</span><span class="p">[</span><span class="s">"amount"</span><span class="p">]</span>
    <span class="p">)</span>
<span class="p">])</span>
</pre></div>
<p>I also decided to add some additional layout information.</p>
<div class="highlight"><pre><span class="n">layout</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s">'2014 MN Capital Budget'</span><span class="p">,</span>
    <span class="n">font</span><span class="o">=</span><span class="n">Font</span><span class="p">(</span>
        <span class="n">family</span><span class="o">=</span><span class="s">'Raleway, sans-serif'</span>
    <span class="p">),</span>
    <span class="n">showlegend</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="n">XAxis</span><span class="p">(</span>
        <span class="n">tickangle</span><span class="o">=-</span><span class="mi">45</span>
    <span class="p">),</span>
    <span class="n">bargap</span><span class="o">=</span><span class="mf">0.05</span>
<span class="p">)</span>
</pre></div>
<p>Finally, plot the data. This will open up a browser and take you to your finished plot.
I originally didn’t see this but you can save a local copy as well, using
<code class="code">
py.image.save_as</code>
. This is a really cool feature. You get the interactivity of a rich
web-based report as well as the ability to save a local copy to for embedding in your documents.</p>
<div class="highlight"><pre><span class="n">fig</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>
<span class="n">plot_url</span> <span class="o">=</span> <span class="n">py</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="s">'MN Capital Budget - 2014'</span><span class="p">)</span>
<span class="n">py</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">save_as</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="s">'mn-14-budget.png'</span><span class="p">)</span>
</pre></div>

<p>Check out the <a class="reference external" href="https://plot.ly/~chris1610/12/">full-interactive version</a> too.
You can see a lot more robust examples on their site.</p>
<p>The out of the box plot is very appealing and highly interactive.
Because of the docs and the python api, getting up and running was pretty easy and
I liked the final product.</p>
</div>
<div class="section" id="summary">
<h2>Summary</h2>
<p>Plotting data in the python ecosystem is a good news/bad news story. The good news
is that there are a lot of options. The bad news is that there are a lot of options.
Trying to figure out which ones works for you will depend on what you’re trying to accomplish.
To some degree, you need to play with the tools to figure out if they will work for you. I
don’t see one clear winner or clear loser.</p>
<p>Here are a few of my closing thoughts:</p>
<ul class="simple">
<li>Pandas is handy for simple plots but you need to be willing to learn matplotlib to customize.</li>
<li>Seaborn can support some more complex visualization approaches but still requires matplotlib knowledge to tweak. The color schemes are a nice bonus.</li>
<li>ggplot has a lot of promise but is still going through growing pains.</li>
<li>bokeh is a robust tool if you want to set up your own visualization server but may be overkill for the simple scenarios.</li>
<li>pygal stands alone by being able to generate interactive svg graphs and png files. It is not as flexible as the matplotlib based solutions.</li>
<li>Plotly generates the most interactive graphs. You can save them offline and create very rich web-based visualizations.</li>
</ul>
<p>As it stands now, I’ll continue to watch progress on the ggplot landscape and use pygal and plotly where interactivity is needed.</p>
<p>Feel free to provide feedback in the comments. I am sure people will have lots of questions and comments
on this topic. If I’ve missed anything or there are other options out there, let me know.</p>
</div>

  </div>
  
</div></body></html>