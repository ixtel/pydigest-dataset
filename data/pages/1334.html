<html><body><div><section class="entry">
<p class="fsb-clear"/><p><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/08/receipt-scanned.jpg"><img class="aligncenter wp-image-1123" src="http://www.pyimagesearch.com/wp-content/uploads/2014/08/receipt-scanned.jpg" alt=""/></a></p>
<p>Remember my friend James from my <a title="Skin Detection: A Step-by-Step Example using Python and OpenCV" href="http://www.pyimagesearch.com/2014/08/18/skin-detection-step-step-example-using-python-opencv/" target="_blank">post on skin detection</a>?</p>
<p>Well, we grabbed a cup of coffee and some groceries yesterday at the local Whole Foods, all while discussing the latest and greatest CVPR papers.</p>
<p>After I checked-out, I whipped out my iPhone and took a picture of the receipt — it’s just something that I like to do so I can easily keep track of where my money is going each month (like spending $20 on bacon, for instance).</p>
<p>Anyway, James asked why I wasn’t using a document scanning app like Genius Scan or TurboScan to scan the receipt into my phone.</p>
<p>Good question.</p>
<p>I honestly hadn’t thought of it.</p>
<p>But then James went too far…</p>
<p>He bet me $100 that I couldn’t build a mobile document scanner app of my own.</p>
<p>Well, the joke is on you, James.</p>
<p>I’ll be collecting my $100 the next time I see you.</p>
<p>Because honestly, document scanning apps are <strong><em>ridiculously easy</em></strong> to build.</p>
<p><a href="https://itunes.apple.com/us/app/genius-scan-pdf-scanner/id377672876?mt=8" target="_blank">Genius Scan</a>. <a href="https://itunes.apple.com/us/app/turboscan-quickly-scan-multipage/id342548956?mt=8" target="_blank">TurboScan</a>. <a href="https://itunes.apple.com/us/app/scanner-pro-by-readdle/id333710667?mt=8" target="_blank">Scanner Pro</a>. You name it — the computer vision algorithms running behind the scenes are dead simple to implement.</p>
<p>I bet that after reading this blog post that you could create an app to compete with the big-boy mobile document scanners as well.</p>
<p>You see, scanning a document using your smartphone can be broken down into three simple steps:</p>
<ul>
<li><strong>Step 1:</strong> Detect edges.</li>
<li><strong>Step 2:</strong> Use the edges in the image to find the contour (outline) representing the piece of paper being scanned.</li>
<li><strong>Step 3:</strong> Apply a perspective transform to obtain the top-down view of the document.</li>
</ul>
<p>Really. That’s it. Only three steps and you’re on your way to submitting your own document scanning app to the App Store.</p>
<p>Sound interesting?</p>
<p>Read on. And unlock the secrets to build a mobile scanner app of your own.</p>

<p><strong>OpenCV and Python versions:</strong><br/>
This example will run on<strong> Python 2.7</strong> and <strong>OpenCV 2.4.X</strong>.</p>
<h1>How To Build a Kick-Ass Mobile Document Scanner in Just 5 Minutes</h1>
<p><iframe src="http://www.youtube.com/embed/yRer1GC2298?feature=oembed" frameborder="0" allowfullscreen="">VIDEO</iframe></p>
<p>Last week I gave you a special treat — my very own 
			<span id="crayon-56d5c7ebef744848914170" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">transform</span><span class="crayon-sy">.</span><span class="crayon-v">py</span></span></span>  module that I use in all my computer vision and image processing projects. <a title="4 Point OpenCV getPerspective Transform Example" href="http://www.pyimagesearch.com/2014/08/25/4-point-opencv-getperspective-transform-example/">You can read more about this module here</a>.</p>
<p>Whenever you need to perform a 4 point perspective transform, you should be using this module.</p>
<p>And you guessed it, we’ll be using it to build our very own document scanner.</p>
<p>So let’s get down to business.</p>
<p>Open up your favorite Python IDE, (I like Sublime Text 2), create a new file, name it 
			<span id="crayon-56d5c7ebef74f714681240" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">scan</span><span class="crayon-sy">.</span><span class="crayon-v">py</span></span></span> , and let’s get started.</p>

		<div id="crayon-56d5c7ebef754508667473" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5c7ebef754508667473-1"><span class="crayon-c"># import the necessary packages</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef754508667473-2"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">pyimagesearch</span><span class="crayon-sy">.</span><span class="crayon-e">transform </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">four_point_transform</span></p><p class="crayon-line" id="crayon-56d5c7ebef754508667473-3"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">pyimagesearch </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">imutils</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef754508667473-4"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">skimage</span><span class="crayon-sy">.</span><span class="crayon-k ">filter</span><span class="crayon-h"> </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">threshold_adaptive</span></p><p class="crayon-line" id="crayon-56d5c7ebef754508667473-5"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">numpy </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-e">np</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef754508667473-6"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">argparse</span></p><p class="crayon-line" id="crayon-56d5c7ebef754508667473-7"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef754508667473-8"> </p><p class="crayon-line" id="crayon-56d5c7ebef754508667473-9"><span class="crayon-c"># construct the argument parser and parse the arguments</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef754508667473-10"><span class="crayon-v">ap</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">argparse</span><span class="crayon-sy">.</span><span class="crayon-e">ArgumentParser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5c7ebef754508667473-11"><span class="crayon-v">ap</span><span class="crayon-sy">.</span><span class="crayon-e">add_argument</span><span class="crayon-sy">(</span><span class="crayon-s">"-i"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"--image"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">required</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef754508667473-12"><span class="crayon-h">	</span><span class="crayon-k ">help</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Path to the image to be scanned"</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5c7ebef754508667473-13"><span class="crayon-v">args</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">vars</span><span class="crayon-sy">(</span><span class="crayon-v">ap</span><span class="crayon-sy">.</span><span class="crayon-e">parse_args</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>Lines 2-7</strong> handle importing the necessary Python packages that we’ll need.</p>
<p>We’ll start by importing our 
			<span id="crayon-56d5c7ebef758220834672" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">four_point_transform</span></span></span>  function <a href="http://www.pyimagesearch.com/2014/08/25/4-point-opencv-getperspective-transform-example/" target="_blank">which I discussed last week.</a></p>
<p>We’ll also be using the 
			<span id="crayon-56d5c7ebef75c513495458" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">imutils</span></span></span>  module, which contains convenience functions for resizing, rotating, and cropping images. You can read more about 
			<span id="crayon-56d5c7ebef75f824816176" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">imutils</span></span></span>  in my <a title="Basic Image Manipulations in Python and OpenCV: Resizing (scaling), Rotating, and Cropping" href="http://www.pyimagesearch.com/2014/01/20/basic-image-manipulations-in-python-and-opencv-resizing-scaling-rotating-and-cropping/" target="_blank">basic image manipulations post</a>.</p>
<p>Next up, let’s import the 
			<span id="crayon-56d5c7ebef763177888631" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">threshold_adaptive</span></span></span>  function from <a href="http://scikit-image.org/" target="_blank">scikit-image</a>. This function will help us obtain the “black and white” feel to our scanned image.</p>
<p>Lastly, we’ll use NumPy for numerical processing, 
			<span id="crayon-56d5c7ebef766867385104" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">argparse</span></span></span>  for parsing command line arguments, and 
			<span id="crayon-56d5c7ebef76a446197619" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">cv2</span></span></span>  for our OpenCV bindings.</p>
<p><strong>Lines 10-13</strong> handle parsing our command line arguments. We’ll need only a single switch image, 
			<span id="crayon-56d5c7ebef76d804886606" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-o">--</span><span class="crayon-v">image</span></span></span> , which is the path to the image that contains the document we want to scan.</p>
<p>Now that we have the path to our image, we can move on to Step 1: Edge Detection.</p>
<h2>Step 1: Edge Detection</h2>
<p>The first step to building our document scanner app using OpenCV is to perform edge detection. Let’s take a look:</p>

		<div id="crayon-56d5c7ebef771840503159" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-56d5c7ebef771840503159-15">15</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef771840503159-16">16</p><p class="crayon-num" data-line="crayon-56d5c7ebef771840503159-17">17</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef771840503159-18">18</p><p class="crayon-num" data-line="crayon-56d5c7ebef771840503159-19">19</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef771840503159-20">20</p><p class="crayon-num" data-line="crayon-56d5c7ebef771840503159-21">21</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef771840503159-22">22</p><p class="crayon-num" data-line="crayon-56d5c7ebef771840503159-23">23</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef771840503159-24">24</p><p class="crayon-num" data-line="crayon-56d5c7ebef771840503159-25">25</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef771840503159-26">26</p><p class="crayon-num" data-line="crayon-56d5c7ebef771840503159-27">27</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef771840503159-28">28</p><p class="crayon-num" data-line="crayon-56d5c7ebef771840503159-29">29</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef771840503159-30">30</p><p class="crayon-num" data-line="crayon-56d5c7ebef771840503159-31">31</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef771840503159-32">32</p><p class="crayon-num" data-line="crayon-56d5c7ebef771840503159-33">33</p></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5c7ebef771840503159-15"><span class="crayon-c"># load the image and compute the ratio of the old height</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef771840503159-16"><span class="crayon-c"># to the new height, clone it, and resize it</span></p><p class="crayon-line" id="crayon-56d5c7ebef771840503159-17"><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imread</span><span class="crayon-sy">(</span><span class="crayon-v">args</span><span class="crayon-sy">[</span><span class="crayon-s">"image"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef771840503159-18"><span class="crayon-v">ratio</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">.</span><span class="crayon-v">shape</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-cn">500.0</span></p><p class="crayon-line" id="crayon-56d5c7ebef771840503159-19"><span class="crayon-v">orig</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">.</span><span class="crayon-k ">copy</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef771840503159-20"><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">imutils</span><span class="crayon-sy">.</span><span class="crayon-e">resize</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">height</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">500</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5c7ebef771840503159-21"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef771840503159-22"><span class="crayon-c"># convert the image to grayscale, blur it, and find edges</span></p><p class="crayon-line" id="crayon-56d5c7ebef771840503159-23"><span class="crayon-c"># in the image</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef771840503159-24"><span class="crayon-v">gray</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">cvtColor</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">COLOR_BGR2GRAY</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5c7ebef771840503159-25"><span class="crayon-v">gray</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">GaussianBlur</span><span class="crayon-sy">(</span><span class="crayon-v">gray</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef771840503159-26"><span class="crayon-v">edged</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">Canny</span><span class="crayon-sy">(</span><span class="crayon-v">gray</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">75</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5c7ebef771840503159-27"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef771840503159-28"><span class="crayon-c"># show the original image and the edge detected image</span></p><p class="crayon-line" id="crayon-56d5c7ebef771840503159-29"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"STEP 1: Edge Detection"</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef771840503159-30"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Image"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5c7ebef771840503159-31"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Edged"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">edged</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef771840503159-32"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5c7ebef771840503159-33"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">destroyAllWindows</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>First, we load our image off disk on <strong>Line 17</strong>.</p>
<p>In order to speedup image processing, as well as make our edge detection step more accurate, we resize our scanned image to have a height of 500 pixels on <strong>Lines 17-20</strong>.</p>
<p>We also take special care to keep track of the 
			<span id="crayon-56d5c7ebef775692060384" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">ratio</span></span></span>  of the original height of the image to the new height (<strong>Line 18</strong>) — this will allow us to perform the scan on the <em>original</em> image rather than the <em>resized</em> image.</p>
<p>From there, we convert the image from RGB to grayscale on <strong>Line 24</strong>, perform Gaussian blurring to remove high frequency noise (aiding in contour detection in Step 2), and perform Canny edge detection on <strong>Line 26</strong>.</p>
<p>The output of Step 1 is then shown on <strong>Lines 29-33</strong>.</p>
<p>Take a look below at the example document:</p>
<div id="attachment_1124" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/08/receipt-edge-detected.jpg"><img class="wp-image-1124" src="http://www.pyimagesearch.com/wp-content/uploads/2014/08/receipt-edge-detected.jpg" alt="Figure 1: The first step of building a document scanning app. On the left we have the original image and on the right we have the edges detected in the image."/></a><p class="wp-caption-text"><strong>Figure 1:</strong> The first step of building a document scanning app. On the <em>left</em> we have the original image and on the <em>right</em> we have the edges detected in the image.</p></div>
<p>On the left you can see my receipt from Whole Foods. Notice how the picture is captured at an angle. It is definitely not a 90-degree, top-down view of the page. Furthermore, there is also my desk in the image. Certainly this is not a “scan” of any means. We have our work cut out for us.</p>
<p>However, on the right you can see the image after performing edge detection. We can clearly see the outline of the receipt.</p>
<p>Not a bad start.</p>
<p>Let’s move on to Step 2.</p>
<h2>Step 2: Finding Contours</h2>
<p>Contour detection doesn’t have to be hard.</p>
<p>In fact, when building a document scanner, you actually have a <em>serious advantage…</em></p>
<p>Take a second to consider what we’re actually building.</p>
<p>A document scanner simply scans in a piece of paper.</p>
<p>A piece of paper is assumed to be a rectangle.</p>
<p>And a rectangle has four edges.</p>
<p>Therefore, we can create a simple heuristic to help us build our document scanner.</p>
<p>The heuristic goes something like this: we’ll assume that the <em>largest contour</em> in the image <em>with exactly four points</em> is our piece of paper to be scanned.</p>
<p>This is also a reasonably safe assumption — the scanner app simply assumes that the document you want to scan is the main focus of our image. And it’s also safe to assume (or at least should be) that the piece of paper has four edges.</p>
<p>And that’s exactly what the code below does:</p>

		<div id="crayon-56d5c7ebef77a117286026" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-56d5c7ebef77a117286026-35">35</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef77a117286026-36">36</p><p class="crayon-num" data-line="crayon-56d5c7ebef77a117286026-37">37</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef77a117286026-38">38</p><p class="crayon-num" data-line="crayon-56d5c7ebef77a117286026-39">39</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef77a117286026-40">40</p><p class="crayon-num" data-line="crayon-56d5c7ebef77a117286026-41">41</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef77a117286026-42">42</p><p class="crayon-num" data-line="crayon-56d5c7ebef77a117286026-43">43</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef77a117286026-44">44</p><p class="crayon-num" data-line="crayon-56d5c7ebef77a117286026-45">45</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef77a117286026-46">46</p><p class="crayon-num" data-line="crayon-56d5c7ebef77a117286026-47">47</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef77a117286026-48">48</p><p class="crayon-num" data-line="crayon-56d5c7ebef77a117286026-49">49</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef77a117286026-50">50</p><p class="crayon-num" data-line="crayon-56d5c7ebef77a117286026-51">51</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef77a117286026-52">52</p><p class="crayon-num" data-line="crayon-56d5c7ebef77a117286026-53">53</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef77a117286026-54">54</p><p class="crayon-num" data-line="crayon-56d5c7ebef77a117286026-55">55</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef77a117286026-56">56</p><p class="crayon-num" data-line="crayon-56d5c7ebef77a117286026-57">57</p></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5c7ebef77a117286026-35"><span class="crayon-p"># find the contours in the edged image, keeping only the</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef77a117286026-36"><span class="crayon-p"># largest ones, and initialize the screen contour</span></p><p class="crayon-line" id="crayon-56d5c7ebef77a117286026-37"><span class="crayon-sy">(</span><span class="crayon-v">cnts</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">_</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">findContours</span><span class="crayon-sy">(</span><span class="crayon-v">edged</span><span class="crayon-sy">.</span><span class="crayon-e">copy</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">RETR_LIST</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">CHAIN_APPROX_SIMPLE</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef77a117286026-38"><span class="crayon-v">cnts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">sorted</span><span class="crayon-sy">(</span><span class="crayon-v">cnts</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">key</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">contourArea</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">reverse</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-cn">5</span><span class="crayon-sy">]</span></p><p class="crayon-line" id="crayon-56d5c7ebef77a117286026-39"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef77a117286026-40"><span class="crayon-p"># loop over the contours</span></p><p class="crayon-line" id="crayon-56d5c7ebef77a117286026-41"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">c</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">cnts</span><span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef77a117286026-42"><span class="crayon-h">	</span><span class="crayon-p"># approximate the contour</span></p><p class="crayon-line" id="crayon-56d5c7ebef77a117286026-43"><span class="crayon-h">	</span><span class="crayon-v">peri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">arcLength</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef77a117286026-44"><span class="crayon-h">	</span><span class="crayon-v">approx</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">approxPolyDP</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.02</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">peri</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5c7ebef77a117286026-45"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef77a117286026-46"><span class="crayon-h">	</span><span class="crayon-p"># if our approximated contour has four points, then we</span></p><p class="crayon-line" id="crayon-56d5c7ebef77a117286026-47"><span class="crayon-h">	</span><span class="crayon-p"># can assume that we have found our screen</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef77a117286026-48"><span class="crayon-h">	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">approx</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-o">:</span></p><p class="crayon-line" id="crayon-56d5c7ebef77a117286026-49"><span class="crayon-h">		</span><span class="crayon-v">screenCnt</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">approx</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef77a117286026-50"><span class="crayon-e">		</span><span class="crayon-st">break</span></p><p class="crayon-line" id="crayon-56d5c7ebef77a117286026-51"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef77a117286026-52"><span class="crayon-p"># show the contour (outline) of the piece of paper</span></p><p class="crayon-line" id="crayon-56d5c7ebef77a117286026-53"><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"STEP 2: Find contours of paper"</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef77a117286026-54"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">drawContours</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">screenCnt</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5c7ebef77a117286026-55"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Outline"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef77a117286026-56"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5c7ebef77a117286026-57"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">destroyAllWindows</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>We start off by finding the contours in our edged image on <strong>Line 37</strong>.</p>
<p>A neat performance hack that I like to do is actually sort the contours by area and keep only the largest ones (<strong>Line 38</strong>). This allows us to only examine the largest of the contours, discarding the rest.</p>
<p>We then start looping over the contours on <strong>Line 41</strong> and approximate the number of points on <strong>Line 43 and 44</strong>.</p>
<p>If the approximated contour has four points (<strong>Line 48</strong>), we assume that we have found the document in the image.</p>
<p>And again, this is a fairly safe assumption. The scanner app will assume that (1) the document to be scanned is the main focus of the image and (2) the document is rectangular, and thus will have four distinct edges.</p>
<p>From there, <strong>Lines 53-57</strong> display the contours of the document we went to scan.</p>
<p>And now let’s take a look at our example image:</p>
<div id="attachment_1125" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/08/receipt-outlined.jpg"><img class="wp-image-1125" src="http://www.pyimagesearch.com/wp-content/uploads/2014/08/receipt-outlined.jpg" alt="Figure 2: The second step of building a document scanning app is to utilize the edges in the image to find the contours of the piece of paper."/></a><p class="wp-caption-text"><strong>Figure 2:</strong> The second step of building a document scanning app is to utilize the edges in the image to find the contours of the piece of paper.</p></div>
<p>As you can see, we have successfully utilized the edge detected image to find the contour (outline) of the document, illustrated by the green rectangle surrounding my receipt.</p>
<p>Lastly, let’s move on to Step 3, which will be a snap using my four_point_transform function.</p>
<h2>Step 3: Apply a Perspective Transform &amp; Threshold</h2>
<p>The last step in building a mobile document scanner is to take the four points representing the outline of the document and apply a perspective transform to obtain a top-down, “birds eye view” of the image.</p>
<p>Let’s take a look:</p>

		<div id="crayon-56d5c7ebef780487824485" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-56d5c7ebef780487824485-59">59</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef780487824485-60">60</p><p class="crayon-num" data-line="crayon-56d5c7ebef780487824485-61">61</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef780487824485-62">62</p><p class="crayon-num" data-line="crayon-56d5c7ebef780487824485-63">63</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef780487824485-64">64</p><p class="crayon-num" data-line="crayon-56d5c7ebef780487824485-65">65</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef780487824485-66">66</p><p class="crayon-num" data-line="crayon-56d5c7ebef780487824485-67">67</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef780487824485-68">68</p><p class="crayon-num" data-line="crayon-56d5c7ebef780487824485-69">69</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef780487824485-70">70</p><p class="crayon-num" data-line="crayon-56d5c7ebef780487824485-71">71</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5c7ebef780487824485-72">72</p><p class="crayon-num" data-line="crayon-56d5c7ebef780487824485-73">73</p></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5c7ebef780487824485-59"><span class="crayon-c"># apply the four point transform to obtain a top-down</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef780487824485-60"><span class="crayon-c"># view of the original image</span></p><p class="crayon-line" id="crayon-56d5c7ebef780487824485-61"><span class="crayon-v">warped</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">four_point_transform</span><span class="crayon-sy">(</span><span class="crayon-v">orig</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">screenCnt</span><span class="crayon-sy">.</span><span class="crayon-e">reshape</span><span class="crayon-sy">(</span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">ratio</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef780487824485-62"> </p><p class="crayon-line" id="crayon-56d5c7ebef780487824485-63"><span class="crayon-c"># convert the warped image to grayscale, then threshold it</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef780487824485-64"><span class="crayon-c"># to give it that 'black and white' paper effect</span></p><p class="crayon-line" id="crayon-56d5c7ebef780487824485-65"><span class="crayon-v">warped</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">cvtColor</span><span class="crayon-sy">(</span><span class="crayon-v">warped</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">COLOR_BGR2GRAY</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef780487824485-66"><span class="crayon-v">warped</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">threshold_adaptive</span><span class="crayon-sy">(</span><span class="crayon-v">warped</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">250</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">offset</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5c7ebef780487824485-67"><span class="crayon-v">warped</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">warped</span><span class="crayon-sy">.</span><span class="crayon-e">astype</span><span class="crayon-sy">(</span><span class="crayon-s">"uint8"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">255</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef780487824485-68"> </p><p class="crayon-line" id="crayon-56d5c7ebef780487824485-69"><span class="crayon-c"># show the original and scanned images</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef780487824485-70"><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"STEP 3: Apply perspective transform"</span></p><p class="crayon-line" id="crayon-56d5c7ebef780487824485-71"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Original"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">imutils</span><span class="crayon-sy">.</span><span class="crayon-e">resize</span><span class="crayon-sy">(</span><span class="crayon-v">orig</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">height</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">650</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5c7ebef780487824485-72"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Scanned"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">imutils</span><span class="crayon-sy">.</span><span class="crayon-e">resize</span><span class="crayon-sy">(</span><span class="crayon-v">warped</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">height</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">650</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5c7ebef780487824485-73"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>Line 61</strong> performs the warping transformation. In fact, all the heavy lifting is handled by the 
			<span id="crayon-56d5c7ebef786521989789" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">four_point_transform</span></span></span>  function. Again, you can read more about this function <a href="http://www.pyimagesearch.com/2014/08/25/4-point-opencv-getperspective-transform-example/" target="_blank">in last week’s post</a>.</p>
<p>We’ll pass two arguments into 
			<span id="crayon-56d5c7ebef78a090415554" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">four_point_transform</span></span></span> : the first is our original image we loaded off disk (<em>not</em> the resized one), and the second argument is the contour representing the document, multiplied by the resized ratio.</p>
<p>So, you may be wondering, why are we multiplying by the resized ratio?</p>
<p>We multiply by the resized ratio because we performed edge detection and found contours on the resized image of <em>height=500</em> pixels.</p>
<p>However, we want to perform the scan on the <em>original </em>image, <strong><em>not</em></strong> the <em>resized</em> image, thus we multiply the contour points by the resized ratio.</p>
<p>To obtain the black and white feel to the image, we then take the warped image, convert it to grayscale and apply adaptive thresholding on <strong>Lines 65-67</strong>.</p>
<p>Finally, we display our output on <strong>Lines 70-73</strong>.</p>
<p>And speaking of output, take a look at our example document:</p>
<div id="attachment_1123" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/08/receipt-scanned.jpg"><img class="wp-image-1123" src="http://www.pyimagesearch.com/wp-content/uploads/2014/08/receipt-scanned.jpg" alt="Figure 3: Applying step 3 of our document scanner, perspective transform. The original image is on the left and the scanned image on the right."/></a><p class="wp-caption-text"><strong>Figure 3:</strong> Applying step 3 of our document scanner, perspective transform. The original image is on the <em>left</em> and the scanned image on the <em>right</em>.</p></div>
<p>On the left we have the original image we loaded off disk. And on the right, we have the scanned image!</p>
<p>Notice how the perspective of the scanned image has changed — we have a top-down, 90-degree view of the image.</p>
<p>And thanks to our adaptive thresholding, we also have a nice, clean black and white feel to the document as well.</p>
<p>We have successfully built our document scanner!</p>
<p>All in less than 5 minutes and under 75 lines of code (most of which are comments anyway).</p>
<h1>More Examples</h1>
<p>The receipt example was all well and good.</p>
<p>But will this approach work for normal pieces of paper?</p>
<p>You bet!</p>
<p>I printed out page 22 of <a title="Practical Python and OpenCV" href="https://www.pyimagesearch.com/practical-python-opencv/"><em>Practical Python and OpenCV</em></a>, a book I wrote to give you a guaranteed quick-start guide to learning computer vision:</p>
<div id="attachment_1126" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/08/page-edge-detected.jpg"><img class="wp-image-1126" src="http://www.pyimagesearch.com/wp-content/uploads/2014/08/page-edge-detected.jpg" alt="Figure 4: Applying edge detection to scan a document using computer vision."/></a><p class="wp-caption-text"><strong>Figure 4:</strong> Applying edge detection to scan a document using computer vision.</p></div>
<p>You can see the original image on the <em>left</em> and the edge detected image on the <em>right</em>.</p>
<p>Now, let’s find the contour of the page:</p>
<div id="attachment_1127" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/08/page-outlined.jpg"><img class="wp-image-1127" src="http://www.pyimagesearch.com/wp-content/uploads/2014/08/page-outlined.jpg" alt="Figure 5: Using the detected images to find the contour and outline of the page to be scanned."/></a><p class="wp-caption-text"><strong>Figure 5:</strong> Using the detected images to find the contour and outline of the page to be scanned.</p></div>
<p>No problem there!</p>
<p>Finally, we’ll apply the perspective transform and threshold the image:</p>
<div id="attachment_1128" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/08/page-scanned.jpg"><img class="wp-image-1128" src="http://www.pyimagesearch.com/wp-content/uploads/2014/08/page-scanned.jpg" alt="Figure 6: On the left we have our original image. And on the right, we can see the scanned version. The scan is successful!"/></a><p class="wp-caption-text"><strong>Figure 6:</strong> On the <em>left</em> we have our original image. And on the <em>right</em>, we can see the scanned version. The scan is successful!</p></div>
<p>Another successful scan!</p>
<h1>Where to Next?</h1>
<p>Now that you have the code to build a mobile document scanner, maybe you want to build an app and submit to the App Store yourself!</p>
<p>In fact, I think you should.</p>
<p>It would be a great learning experience…</p>
<p>Another great “next step” would be to apply OCR to the documents in the image. Not only could you scan the document and generate a PDF, but you would be able to edit the text as well!</p>
<h1>Summary</h1>
<p>In this blog post I showed you how to build a mobile document scanner using OpenCV in 5 minutes and under 75 lines of Python code.</p>
<p>Document scanning can be broken down into three distinct and simple steps.</p>
<p>The <strong>first step</strong> is to apply edge detection.</p>
<p>The <strong>second step </strong>is to find the contours in the image that represent the document we want to scan.</p>
<p>And the <strong>final step</strong> is to apply a perspective transform to obtain a top-down, 90-degree view of the image, just as if we scanned the document.</p>
<p>Optionally, you can also apply thresholding to obtain a nice, clean black and white feel to the piece of paper.</p>
<p>So there you have it.</p>
<p>A mobile document scanner in 5 minutes.</p>
<p>Excuse me while I call James and collect my money…</p>
<h1>Did You Like this Post?</h1>
<p>Hey, did you enjoy this post on building a mobile document scanner?</p>
<p>If so, I think you’ll like my book, <a title="Practical Python and OpenCV" href="https://www.pyimagesearch.com/practical-python-opencv/" target="_blank"><em>Practical Python and OpenCV</em></a>.</p>
<p>When you pick up the Case Studies Bundle you’ll learn how to <strong>detect faces in images</strong>, <strong>recognize handwriting</strong>, and <strong>utilize keypoint detection and the SIFT descriptors</strong> to build a system to recognize the book covers!</p>
<p>Sound interesting?</p>
<p><a title="Practical Python and OpenCV" href="https://www.pyimagesearch.com/practical-python-opencv/" target="_blank">Just click here and pickup a copy.</a></p>
<p>And in a single weekend you’ll unlock the secrets the computer vision pros use…<em>and become a pro yourself!</em></p>
<h1 id="post_downloads">Downloads:</h1>

	</section>
	</div></body></html>