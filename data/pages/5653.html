<html><body><div><div class="section">
              <h1>preprocessor 1.1.3</h1>

              


<p>Preprocessor for files.</p><p>








### Preprocessor</p><p>Suited for simple preprocessing of Python files. The original use case of the package was annoying Cython work to do with data types. Notice that Preprocessor can run on any type of file (e.g. TSV, C++ sources etc.). To avoid clashes with other programming language preprocessor prefix and suffix is fully tunable.</p><p>#### Example</p><p>Here's a small file where we replicate the same Cython code 3 times - once for every of int, float and double datatypes. You can find the code for `typed_expression` function in `sample_utils.py` in this repo.</p><p>```Python</p><p>pyp</p><p>from sample_utils import typed_expression</p><p>ypy</p><p>cdef class Mat:</p><p>    cdef CMat[dtype] matinternal</p><p>    int dtype</p><p>    def sum(Mat self):</p><p>        # Inline preprcoessor expression. Executes a function.</p><p>        # Generally inline expressions should be one line,</p><p>        # But can be extended to multiple where all the data</p><p>        # on second line and following will be captured into</p><p>        # a string argument passed as last positional argument</p><p>        # to a function</p><p>        pypinline typed_expression(pyp, "self.matinternal", "CMat",</p><p>            print('siema')</p><p>            return WrapMat(TYPED_EXPRESSION.sum())</p><p>        ypy</p><p>```</p><p>The output of the preprocessed file looks like this:</p><p>```Python</p><p>cdef class Mat:</p><p>    cdef CMat[dtype] matinternal</p><p>    int dtype</p><p>    def sum(Mat self):</p><p>        # Inline preprcoessor expression. Executes a function.</p><p>        # Generally inline expressions should be one line,</p><p>        # But can be extended to multiple where all the data</p><p>        # on second line and following will be captured into</p><p>        # a string argument passed as last positional argument</p><p>        # to a function</p><p>        if self.dtype == np.int32:</p><p>            print('siema')</p><p>            return WrapMat((&lt;cmat[int]&gt;(self.matinternal)).sum())</p><p>        elif self.dtype == np.float32:</p><p>            print('siema')</p><p>            return WrapMat((&lt;cmat[float]&gt;(self.matinternal)).sum())</p><p>        elif self.dtype == np.float64:</p><p>            print('siema')</p><p>            return WrapMat((&lt;cmat[double]&gt;(self.matinternal)).sum())</p><p>        else:</p><p>            raise ValueError("Invalid dtype:" + self.dtype + " (should be one of int32, float32, float64)")</p><p>```</p><p>#### Command Line Interface</p><p>Preprocessor comes with a command line script, to easily run the preprocessor form environments outside of Python</p><p>```bash</p><p>preprocessor --input sample.py.pre --output sample.py</p><p>```

</p><a name="downloads">Â </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>58</span> downloads in the last week
  </li>
  <li>
    <span>596</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>