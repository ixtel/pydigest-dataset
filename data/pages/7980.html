<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-debacl-density-based-clustering" class="anchor" href="#debacl-density-based-clustering" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>DeBaCl: DEnsity-BAsed CLustering</h1>

<p><a href="https://travis-ci.org/CoAxLab/DeBaCl"><img src="https://camo.githubusercontent.com/c33484de3857ae887d639a591445318b9288c5e4/68747470733a2f2f7472617669732d63692e6f72672f436f41784c61622f44654261436c2e7376673f6272616e63683d646576" alt="Travis CI" data-canonical-src="https://travis-ci.org/CoAxLab/DeBaCl.svg?branch=dev"/></a>
<a href="https://github.com/CoAxLab/DeBaCl/pulls"><img src="https://camo.githubusercontent.com/4109646624e07d9a3baf570acde874ecf4e85d2f/687474703a2f2f6769746875626261646765732e6865726f6b756170702e636f6d2f436f41784c61622f44654261436c2f70756c6c73" alt="Pending Pull-Requests" data-canonical-src="http://githubbadges.herokuapp.com/CoAxLab/DeBaCl/pulls"/></a>
<a href="https://github.com/CoAxLab/DeBaCl/issues"><img src="https://camo.githubusercontent.com/340d6777ffa1f1c0b28ca8a730b11fca558c1616/687474703a2f2f6769746875626261646765732e6865726f6b756170702e636f6d2f436f41784c61622f44654261436c2f697373756573" alt="Github Issues" data-canonical-src="http://githubbadges.herokuapp.com/CoAxLab/DeBaCl/issues"/></a>
<a href="http://opensource.org/licenses/BSD-3-Clause"><img src="https://camo.githubusercontent.com/912eb90731d16ba474b6fa9859f7a4d74170000d/687474703a2f2f696d672e736869656c64732e696f2f3a6c6963656e73652d6273642d626c75652e737667" alt="License" data-canonical-src="http://img.shields.io/:license-bsd-blue.svg"/></a>
<a href="http://debacl.readthedocs.org/en/master/"><img src="https://camo.githubusercontent.com/921e7f9964712ff78802f4132584928857e84ea0/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f64656261636c2f62616467652f3f76657273696f6e3d6d6173746572" alt="Docs" data-canonical-src="https://readthedocs.org/projects/debacl/badge/?version=master"/></a></p>

<p>DeBaCl is a Python library for <strong>density-based clustering</strong> with <strong>level set trees</strong>.</p>

<p>Level set trees are a statistically-principled way to represent the topology of
a probability density function. This representation is particularly useful for
several core tasks in statistics:</p>

<ul>
<li>clustering, especially for data with multi-scale clustering behavior</li>
<li>describing data topology</li>
<li>exploratory data analysis</li>
<li>data visualization</li>
<li>anomaly detection</li>
</ul>

<p>DeBaCl is a Python implementation of the Level Set Tree method, with an
emphasis on computational speed, algorithmic simplicity, and extensibility.</p>

<h2><a id="user-content-license" class="anchor" href="#license" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>License</h2>

<p>DeBaCl is available under the 3-clause BSD license.</p>

<h2><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h2>

<p>DeBaCl is currently compatible with Python 2.7 only. Other versions may work, but <em>caveat emptor</em>; at this time DeBaCl is only officially tested on Python 2.7. The package can be downloaded and installed from the <a href="https://pypi.python.org/pypi/debacl/">Python package installer</a>. From a terminal:</p>



<p>It can also be installed by cloning this GitHub repo. This requires updating the Python path to include the cloned repo. On linux, this looks something like:</p>

<div class="highlight highlight-source-shell"><pre>$ git clone https://github.com/CoAxLab/DeBaCl/
$ <span class="pl-k">export</span> PYTHONPATH=<span class="pl-s"><span class="pl-pds">'</span>DeBaCl<span class="pl-pds">'</span></span></pre></div>

<h2><a id="user-content-dependencies" class="anchor" href="#dependencies" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Dependencies</h2>

<p>All of the dependencies are Python packages that can be installed with either conda or pip. DeBaCl 1.0 no longer depends on igraph, which required tricky manual installation.</p>

<p><strong>Langauges:</strong></p>

<ul>
<li>Python 2.7</li>
<li>(coming soon: Python 3.4)</li>
</ul>

<p><strong>Required packages:</strong></p>

<ul>
<li>numpy</li>
<li>networkx</li>
<li>prettytable</li>
</ul>

<p><strong>Strongly recommended packages</strong></p>



<p><strong>Optional packages</strong></p>



<h2><a id="user-content-quickstart" class="anchor" href="#quickstart" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Quickstart</h2>

<h4><a id="user-content-construct-the-level-set-tree" class="anchor" href="#construct-the-level-set-tree" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Construct the level set tree</h4>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> debacl <span class="pl-k">as</span> dcl
<span class="pl-k">from</span> sklearn.datasets <span class="pl-k">import</span> make_moons

<span class="pl-c1">X</span> <span class="pl-k">=</span> make_moons(<span class="pl-v">n_samples</span><span class="pl-k">=</span><span class="pl-c1">100</span>, <span class="pl-v">noise</span><span class="pl-k">=</span><span class="pl-c1">0.1</span>, <span class="pl-v">random_state</span><span class="pl-k">=</span><span class="pl-c1">19</span>)[<span class="pl-c1">0</span>]

tree <span class="pl-k">=</span> dcl.construct_tree(<span class="pl-c1">X</span>, <span class="pl-v">k</span><span class="pl-k">=</span><span class="pl-c1">10</span>, <span class="pl-v">prune_threshold</span><span class="pl-k">=</span><span class="pl-c1">10</span>)
<span class="pl-c1">print</span> tree</pre></div>

<pre lang="no-highlight"><code>+----+-------------+-----------+------------+----------+------+--------+----------+
| id | start_level | end_level | start_mass | end_mass | size | parent | children |
+----+-------------+-----------+------------+----------+------+--------+----------+
| 0  |    0.000    |   0.196   |   0.000    |  0.220   | 100  |  None  |  [1, 2]  |
| 1  |    0.196    |   0.396   |   0.220    |  0.940   |  37  |   0    |    []    |
| 2  |    0.196    |   0.488   |   0.220    |  1.000   |  41  |   0    |    []    |
+----+-------------+-----------+------------+----------+------+--------+----------+
</code></pre>

<h4><a id="user-content-plot-the-level-set-tree" class="anchor" href="#plot-the-level-set-tree" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Plot the level set tree</h4>

<p>Clusters are represented by the vertical line segments in the dendrogram. In this example the vertical axis is plotted on the <em>density</em> scale, so that the lower endpoint of a cluster's branch is at its <em>start_level</em> and the upper endpoint is at its <em>end_level</em> (see the table above), and the length of the branch is the <em>persistence</em> of the cluster.</p>

<div class="highlight highlight-source-python"><pre>fig <span class="pl-k">=</span> tree.plot(<span class="pl-v">form</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>density<span class="pl-pds">'</span></span>)[<span class="pl-c1">0</span>]
fig.show()</pre></div>



<p><a href="/CoAxLab/DeBaCl/blob/master/docs/readme_tree.png" target="_blank"><img src="/CoAxLab/DeBaCl/raw/master/docs/readme_tree.png"/></a></p>

<h4><a id="user-content-query-the-level-set-tree-for-cluster-labels" class="anchor" href="#query-the-level-set-tree-for-cluster-labels" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Query the level set tree for cluster labels</h4>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> matplotlib.pyplot <span class="pl-k">as</span> plt

labels <span class="pl-k">=</span> tree.get_clusters(<span class="pl-v">method</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>leaf<span class="pl-pds">'</span></span>)  <span class="pl-c"># each leaf node is a cluster</span>
clusters <span class="pl-k">=</span> <span class="pl-c1">X</span>[labels[:, <span class="pl-c1">0</span>], :]

fig, ax <span class="pl-k">=</span> plt.subplots()
ax.scatter(<span class="pl-c1">X</span>[:, <span class="pl-c1">0</span>], <span class="pl-c1">X</span>[:, <span class="pl-c1">1</span>], <span class="pl-v">c</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>black<span class="pl-pds">'</span></span>, <span class="pl-v">s</span><span class="pl-k">=</span><span class="pl-c1">40</span>, <span class="pl-v">alpha</span><span class="pl-k">=</span><span class="pl-c1">0.4</span>)
ax.scatter(clusters[:, <span class="pl-c1">0</span>], clusters[:, <span class="pl-c1">1</span>], <span class="pl-v">c</span><span class="pl-k">=</span>labels[:, <span class="pl-c1">1</span>], <span class="pl-v">s</span><span class="pl-k">=</span><span class="pl-c1">80</span>, <span class="pl-v">alpha</span><span class="pl-k">=</span><span class="pl-c1">0.9</span>,
           <span class="pl-v">cmap</span><span class="pl-k">=</span>plt.cm.winter)
ax.set_xlabel(<span class="pl-s"><span class="pl-pds">'</span>x0<span class="pl-pds">'</span></span>)
ax.set_ylabel(<span class="pl-s"><span class="pl-pds">'</span>x1<span class="pl-pds">'</span></span>, <span class="pl-v">rotation</span><span class="pl-k">=</span><span class="pl-c1">0</span>)
fig.show()</pre></div>



<p><a href="/CoAxLab/DeBaCl/blob/master/docs/readme_clusters.png" target="_blank"><img src="/CoAxLab/DeBaCl/raw/master/docs/readme_clusters.png"/></a></p>

<h2><a id="user-content-documentation" class="anchor" href="#documentation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Documentation</h2>



<h2><a id="user-content-running-unit-tests" class="anchor" href="#running-unit-tests" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Running unit tests</h2>

<p>From the top level of the repo:</p>

<div class="highlight highlight-source-shell"><pre>$ nosetests -s -v debacl/test</pre></div>

<h2><a id="user-content-references" class="anchor" href="#references" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>References</h2>

<ul>
<li><p>Chaudhuri, K., &amp; Dasgupta, S. (2010). <a href="http://www.cse.ucsd.edu/sites/cse/files/cse/assets/research/theory/ChaudhuriDasgupta_2010.pdf">Rates of Convergence for the Cluster<br/>
Tree</a>.
In Advances in Neural Information Processing Systems 23 (pp. 343â€“351). Vancouver, BC.</p></li>
<li><p>Kent, B. P., Rinaldo, A., Yeh, F.-C., &amp; Verstynen, T. (2014). <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0093344#pone-0093344-g009">Mapping
Topographic Structure in White Matter Pathways with Level Set 
Trees</a>.
PLoS ONE.</p></li>
<li><p>Kent, B. P., Rinaldo, A., &amp; Verstynen, T. (2013). <a href="http://arxiv.org/abs/1307.8136">DeBaCl: A Python Package
for Interactive DEnsity-BAsed CLustering</a>.
arXiv preprint:1307.8136.</p></li>
<li><p>Kent, B.P. (2013). <a href="http://www.scribd.com/doc/242026196/Level-Set-Trees-for-Applied-Statistics">Level Set Trees for Applied Statistics</a>.</p></li>
</ul>
</article>
  </div></body></html>