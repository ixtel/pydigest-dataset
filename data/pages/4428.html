<html><body><div><div class="post_content entry-content">
  					<p>
In <a href="http://scottlobdell.me/2015/04/gamifying-test-coverage-project/">my last post</a> I wrote about a concept plus a rough hack for turning test coverage into a game.  The short of it is that tests are generally boring, and a possible way to encourage team members to write more tests is to turn test coverage into a game by simply publicly displaying the top testers (by test coverage).  The overall goal is to increase code quality in your organization.
</p>
<p>
So I ended up packaging my previous code into a public package.  The idea is that you can pip install it, adjust a few settings, run it, and blammo, the results are publicly visible on the internets.
</p>
<p>
I went ahead and <a href="https://www.youtube.com/watch?v=lTaZ4b6l6II">clomed</a> the popular git repository <a href="https://github.com/benoitc/gunicorn">gunicorn</a> and ran the package against it.  Here are what the results look like:
</p>
<p><a href="http://scottlobdell.me/wp-content/uploads/2015/05/Screen-Shot-2015-05-04-at-4.54.17-PM.png"><img src="http://scottlobdell.me/wp-content/uploads/2015/05/Screen-Shot-2015-05-04-at-4.54.17-PM.png" alt="Screen Shot 2015-05-04 at 4.54.17 PM" class="alignnone size-medium wp-image-1385"/></a></p>
<p>
I also installed another popular repo, <a href="https://github.com/nvbn/thefuck">thefuck</a>, and ran tests for that.  Results are as follows:
</p>
<p><a href="http://scottlobdell.me/wp-content/uploads/2015/05/Screen-Shot-2015-05-05-at-8.20.25-AM.png"><img src="http://scottlobdell.me/wp-content/uploads/2015/05/Screen-Shot-2015-05-05-at-8.20.25-AM.png" alt="Screen Shot 2015-05-05 at 8.20.25 AM" class="alignnone size-medium wp-image-1386"/></a></p>
<p>
And finally, the results of the <a href="https://github.com/kennethreitz/requests">requests</a> library:
</p>
<p><a href="http://scottlobdell.me/wp-content/uploads/2015/05/Screen-Shot-2015-05-05-at-8.49.11-AM.png"><img src="http://scottlobdell.me/wp-content/uploads/2015/05/Screen-Shot-2015-05-05-at-8.49.11-AM.png" alt="Screen Shot 2015-05-05 at 8.49.11 AM" class="alignnone size-medium wp-image-1390"/></a></p>
<h2>Line Count</h2>
<p>
I had an interesting dilemma: test coverage percent matters, but 90% test coverage on 100 lines of code is surely different from 80% test coverage on 10,000 lines.  So I ended up only displaying 3 possible states: fewer than 500 lines, fewer than 10,000 lines, or greater than 10,000 lines.  The reason was this project was meant to be a game, and so I didn’t want to incentivize line count.  This is largely accepted to not mean all that much.  However, with the rules set up, it was very easy for an intern who only wrote a little bit of code to rank at the top.  The line counts at least allow you to put the test coverage into some context.
</p>
<h2>The Code</h2>
<p>
Right now you can install the test coverage module with:
</p>
<p>
</p><div>
<pre><span>pip</span> <span>install</span> <span>git+git://github.com/slobdell/test-coverage-game.git</span>
</pre>
</div>
<p>
The rest of the instructions are found on the <a href="https://github.com/slobdell/test-coverage-game">repo’s README</a>
</p>
<p>
Ironically, there is currently no test coverage on the test coverage module.  If you open pull requests, and they are awesome, I will merge them.
</p>
<h2>The Web App</h2>
<p>
Currently, I have a simple web application running at <a href="test-coverage-game.herokuapp.com">test-coverage-game.herokuapp.com</a>.  Also, there’s no landing page for it.  If you’re going to kill me for it that’s fine.  It’s still a work in progress.
</p>
<h2>The End</h2>
  					<p class="clear"/>
 			 </div>	
			 
					   					</div></body></html>