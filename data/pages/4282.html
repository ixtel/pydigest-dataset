<html><body><div><div class="entry-content"><p>Ключевое слово null обычно используется во многих языках программирования, таких как Java, C++, C# и JavaScript. Это значение, которое присваивается переменной.</p><p>Концепция ключевого слова null в том, что она дает переменной нейтральное или "нулевое" поведение.</p><p>А что же в Python?</p><div class="section" id="null-python-none"><h2>Эквивалент null в Python: None</h2><p>Он был разработан таким образом, по двум причинам:</p><p>Многие утверждают, что слово <i>null</i> несколько эзотерично. Это не наиболее дружелюбное слово для новичков. Кроме того, <b>None</b> относится именно к требуемой функциональности - это ничего, и не имеет поведения.</p><p>Присвоить переменной значение None очень просто:</p><pre class="code python3"><span class="n">my_none_variable</span> <span class="o">=</span> <span class="kc">None</span></pre><p>Существует много случаев, когда следует использовать None.</p><p>Часто вы хотите выполнить действие, которое может работать либо завершиться неудачно. Используя None, вы можете проверить успех действия. Вот пример:</p><pre class="code python3"><span class="c1"># Мы хотели бы подключиться к базе данных. Мы не знаем, верны ли логин и пароль</span>
<span class="c1"># Если соединение с базой будет неуспешно, то</span>
<span class="c1"># Он бросит исключение. Обратите внимание, что MyDatabase и DatabaseException</span>
<span class="c1"># НЕ являются реальными классами, мы просто используем их в качестве примеров.</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">MyDatabase</span><span class="p">(</span><span class="n">db_host</span><span class="p">,</span> <span class="n">db_user</span><span class="p">,</span> <span class="n">db_password</span><span class="p">,</span> <span class="n">db_database</span><span class="p">)</span>
    <span class="n">database_connection</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="k">except</span> <span class="n">DatabaseException</span><span class="p">:</span>
    <span class="k">pass</span>

<span class="k">if</span> <span class="n">database_connection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'The database could not connect'</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'The database could connect'</span><span class="p">)</span></pre><p>Python является объектно-ориентированным, и поэтому None - тоже объект, и имеет свой тип.</p><pre class="code pycon literal-block">
<span class="nb"/><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">&lt;class 'NoneType'&gt;</span></pre></div><div class="section" id="none"><h2>Проверка на None</h2><p>Есть (формально) два способа проверить, на равенство None.</p><p>Один из способов - с помощью <a href="http://pythonworld.ru/osnovy/klyuchevye-slova-modul-keyword.html" target="_blank">ключевого слова</a> <b>is</b>.</p><p>Второй - с помощью <b>==</b> (но никогда не пользуйтесь вторым способом, и я попробую объяснить, почему).</p><p>Посмотрим на примеры:</p><pre class="code python3"><span class="n">null_variable</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">not_null_variable</span> <span class="o">=</span> <span class="s1">'Hello There!'</span>

<span class="c1"># The is keyword</span>
<span class="k">if</span> <span class="n">null_variable</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'null_variable is None'</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'null_variable is not None'</span><span class="p">)</span>

<span class="k">if</span> <span class="n">not_null_variable</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'not_null_variable is None'</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'not_null_variable is not None'</span><span class="p">)</span>


<span class="c1"># The == operator</span>
<span class="k">if</span> <span class="n">null_variable</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'null_variable is None'</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'null_variable is not None'</span><span class="p">)</span>

<span class="k">if</span> <span class="n">not_null_variable</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'not_null_variable is None'</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'not_null_variable is not None'</span><span class="p">)</span></pre><p>Данный код выведет:</p><pre class="code python3"><span class="n">null_variable</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="n">not_null_variable</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="n">null_variable</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="n">not_null_variable</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span></pre><p>Отлично так они делают одно и то же! Однако, не совсем. Для встроенных типов - да. Но с пользовательскими классами вы должны быть осторожны. Python предоставляет возможность <a href="http://pythonworld.ru/osnovy/peregruzka-operatorov.html" target="_blank">переопределения</a> операторов сравнения в пользовательских классах. Таким образом, вы можете сравнить классы, например, MyObject == MyOtherObject.</p><pre class="code python3"><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">my_object</span><span class="p">):</span>
        <span class="c1"># Просто вернем True</span>

        <span class="k">return</span> <span class="kc">True</span>

<span class="n">my_class</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>

<span class="k">if</span> <span class="n">my_class</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'my_class is None, using the is keyword'</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'my_class is not None, using the is keyword'</span><span class="p">)</span>

<span class="k">if</span> <span class="n">my_class</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'my_class is None, using the == syntax'</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'my_class is not None, using the == syntax'</span><span class="p">)</span></pre><p>И получаем немного неожиданный результат:</p><pre class="code python3"><span class="n">my_class</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="n">using</span> <span class="n">the</span> <span class="ow">is</span> <span class="n">keyword</span>
<span class="n">my_class</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">,</span> <span class="n">using</span> <span class="n">the</span> <span class="o">==</span> <span class="n">syntax</span></pre><p>Интересно, не правда ли? Вот поэтому нужно проверять на None с помощью ключевого слова is.</p><p>А ещё (для некоторых классов) вызов метода __eq__ может занимать много времени, и is будет просто-напросто быстрее.</p></div></div></div></body></html>