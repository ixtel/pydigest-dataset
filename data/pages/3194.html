<html><body><div><tr><td class="linenos"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">print_board</span><span class="p">(</span><span class="n">board</span><span class="p">):</span>

	<span class="k">print</span> <span class="s">"The board look like this: </span><span class="se">\n</span><span class="s">"</span>

	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">3</span><span class="p">):</span>
		<span class="k">print</span> <span class="s">" "</span><span class="p">,</span>
		<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">3</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mf">3</span><span class="o">+</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mf">1</span><span class="p">:</span>
				<span class="k">print</span> <span class="s">'X'</span><span class="p">,</span>
			<span class="k">elif</span> <span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mf">3</span><span class="o">+</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mf">0</span><span class="p">:</span>
				<span class="k">print</span> <span class="s">'O'</span><span class="p">,</span>	
			<span class="k">elif</span> <span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mf">3</span><span class="o">+</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mf">1</span><span class="p">:</span>
				<span class="k">print</span> <span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mf">3</span><span class="o">+</span><span class="n">j</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="k">print</span> <span class="s">' '</span><span class="p">,</span>
			
			<span class="k">if</span> <span class="n">j</span> <span class="o">!=</span> <span class="mf">2</span><span class="p">:</span>
				<span class="k">print</span> <span class="s">" | "</span><span class="p">,</span>
		<span class="k">print</span>
		
		<span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="mf">2</span><span class="p">:</span>
			<span class="k">print</span> <span class="s">"-----------------"</span>
		<span class="k">else</span><span class="p">:</span> 
			<span class="k">print</span> 
			
<span class="k">def</span> <span class="nf">print_instruction</span><span class="p">():</span>
	<span class="k">print</span> <span class="s">"Please use the following cell numbers to make your move"</span>
	<span class="n">print_board</span><span class="p">([</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">6</span><span class="p">,</span><span class="mf">7</span><span class="p">,</span><span class="mf">8</span><span class="p">,</span><span class="mf">9</span><span class="p">,</span><span class="mf">10</span><span class="p">])</span>


<span class="k">def</span> <span class="nf">get_input</span><span class="p">(</span><span class="n">turn</span><span class="p">):</span>

	<span class="n">valid</span> <span class="o">=</span> <span class="bp">False</span>
	<span class="k">while</span> <span class="ow">not</span> <span class="n">valid</span><span class="p">:</span>
		<span class="k">try</span><span class="p">:</span>
			<span class="n">user</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">"Where would you like to place "</span> <span class="o">+</span> <span class="n">turn</span> <span class="o">+</span> <span class="s">" (1-9)? "</span><span class="p">)</span>
			<span class="n">user</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">user</span> <span class="o">&gt;=</span> <span class="mf">1</span> <span class="ow">and</span> <span class="n">user</span> <span class="o">&lt;=</span> <span class="mf">9</span><span class="p">:</span>
				<span class="k">return</span> <span class="n">user</span><span class="o">-</span><span class="mf">1</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="k">print</span> <span class="s">"That is not a valid move! Please try again.</span><span class="se">\n</span><span class="s">"</span>
				<span class="n">print_instruction</span><span class="p">()</span>
		<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
			<span class="k">print</span> <span class="n">user</span> <span class="o">+</span> <span class="s">" is not a valid move! Please try again.</span><span class="se">\n</span><span class="s">"</span>
		
<span class="k">def</span> <span class="nf">check_win</span><span class="p">(</span><span class="n">board</span><span class="p">):</span>
	<span class="n">win_cond</span> <span class="o">=</span> <span class="p">((</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">),(</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">6</span><span class="p">),(</span><span class="mf">7</span><span class="p">,</span><span class="mf">8</span><span class="p">,</span><span class="mf">9</span><span class="p">),(</span><span class="mf">1</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">7</span><span class="p">),(</span><span class="mf">2</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">8</span><span class="p">),(</span><span class="mf">3</span><span class="p">,</span><span class="mf">6</span><span class="p">,</span><span class="mf">9</span><span class="p">),(</span><span class="mf">1</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">9</span><span class="p">),(</span><span class="mf">3</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">7</span><span class="p">))</span>
	<span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">win_cond</span><span class="p">:</span>
		<span class="k">try</span><span class="p">:</span>
			<span class="k">if</span> <span class="n">board</span><span class="p">[</span><span class="n">each</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">board</span><span class="p">[</span><span class="n">each</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">board</span><span class="p">[</span><span class="n">each</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">board</span><span class="p">[</span><span class="n">each</span><span class="p">[</span><span class="mf">2</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span><span class="p">]:</span>
				<span class="k">return</span> <span class="n">board</span><span class="p">[</span><span class="n">each</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span>
		<span class="k">except</span><span class="p">:</span>
			<span class="k">pass</span>
	<span class="k">return</span> <span class="o">-</span><span class="mf">1</span>

<span class="k">def</span> <span class="nf">quit_game</span><span class="p">(</span><span class="n">board</span><span class="p">,</span><span class="n">msg</span><span class="p">):</span>
	<span class="n">print_board</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
	<span class="k">print</span> <span class="n">msg</span>
	<span class="n">quit</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
	
	<span class="c"># setup game</span>
	<span class="c"># alternate turns</span>
	<span class="c"># check if win or end</span>
	<span class="c"># quit and show the board</span>
	
	<span class="n">print_instruction</span><span class="p">()</span>

	<span class="n">board</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">9</span><span class="p">):</span>
		<span class="n">board</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">-</span><span class="mf">1</span><span class="p">)</span>

	<span class="n">win</span> <span class="o">=</span> <span class="bp">False</span>
	<span class="n">move</span> <span class="o">=</span> <span class="mf">0</span>
	<span class="k">while</span> <span class="ow">not</span> <span class="n">win</span><span class="p">:</span>

		<span class="c"># print board</span>
		<span class="n">print_board</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
		<span class="k">print</span> <span class="s">"Turn number "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">move</span><span class="o">+</span><span class="mf">1</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">move</span> <span class="o">%</span> <span class="mf">2</span> <span class="o">==</span> <span class="mf">0</span><span class="p">:</span>
			<span class="n">turn</span> <span class="o">=</span> <span class="s">'X'</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">turn</span> <span class="o">=</span> <span class="s">'O'</span>

		<span class="c"># get user input</span>
		<span class="n">user</span> <span class="o">=</span> <span class="n">get_input</span><span class="p">(</span><span class="n">turn</span><span class="p">)</span>
		<span class="k">while</span> <span class="n">board</span><span class="p">[</span><span class="n">user</span><span class="p">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mf">1</span><span class="p">:</span>
			<span class="k">print</span> <span class="s">"Invalid move! Cell already taken. Please try again.</span><span class="se">\n</span><span class="s">"</span>
			<span class="n">user</span> <span class="o">=</span> <span class="n">get_input</span><span class="p">(</span><span class="n">turn</span><span class="p">)</span>
		<span class="n">board</span><span class="p">[</span><span class="n">user</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1</span> <span class="k">if</span> <span class="n">turn</span> <span class="o">==</span> <span class="s">'X'</span> <span class="k">else</span> <span class="mf">0</span>

		<span class="c"># advance move and check for end game</span>
		<span class="n">move</span> <span class="o">+=</span> <span class="mf">1</span>
		<span class="k">if</span> <span class="n">move</span> <span class="o">&gt;</span> <span class="mf">4</span><span class="p">:</span>
			<span class="n">winner</span> <span class="o">=</span> <span class="n">check_win</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">winner</span> <span class="o">!=</span> <span class="o">-</span><span class="mf">1</span><span class="p">:</span>
				<span class="n">out</span> <span class="o">=</span> <span class="s">"The winner is "</span> 
				<span class="n">out</span> <span class="o">+=</span> <span class="s">"X"</span> <span class="k">if</span> <span class="n">winner</span> <span class="o">==</span> <span class="mf">1</span> <span class="k">else</span> <span class="s">"O"</span> 
				<span class="n">out</span> <span class="o">+=</span> <span class="s">" :)"</span>
				<span class="n">quit_game</span><span class="p">(</span><span class="n">board</span><span class="p">,</span><span class="n">out</span><span class="p">)</span>
			<span class="k">elif</span> <span class="n">move</span> <span class="o">==</span> <span class="mf">9</span><span class="p">:</span>
				<span class="n">quit_game</span><span class="p">(</span><span class="n">board</span><span class="p">,</span><span class="s">"No winner :("</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
	<span class="n">main</span><span class="p">()</span>
	
</pre></div>
</td></tr></div></body></html>