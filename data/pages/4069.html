<html><body><div><div class="section">
              <h1>pep8radius 0.9.2</h1>

              


<p>PEP8 clean only the parts of the files which you have touched since the last commit, a previous commit or (the merge-base of) a branch.</p>









<div id="requirements">
<h2>Requirements</h2>
<p>pep8radius uses <a href="https://pypi.python.org/pypi/autopep8" rel="nofollow">autopep8</a>,
and in turn <a href="https://pypi.python.org/pypi/pep8" rel="nofollow">pep8</a>. The
docformatter option, to fix docstrings, uses
<a href="https://pypi.python.org/pypi/docformatter" rel="nofollow">docformatter</a>.</p>
<p>You can also use <a href="https://pypi.python.org/pypi/yapf" rel="nofollow">yapf</a> as an
alternative back-end.</p>
</div>
<div id="installation">
<h2>Installation</h2>
<p>From pip:</p>
<pre>$ pip install pep8radius
</pre>
</div>
<div id="usage">
<h2>Usage</h2>
<div>
<img src="https://cloud.githubusercontent.com/assets/1931852/4259885/18a7e75e-3b1a-11e4-9413-d92f9b170b70.gif"/>
<p>Usage gif of pep8radius</p>
</div>
<ul>
<li>Move to project directory</li>
<li>Make some changes to the project</li>
<li>Run <tt>pep8radius <span class="pre">--diff</span>       # view a diff of proposed fixed</tt></li>
<li>Run <tt>pep8radius <span class="pre">--in-place</span>   # apply the fixes</tt></li>
<li>Commit your changes</li>
</ul>
<p>Against a branch you can use the same syntax as with git diff:</p>
<pre>$ pep8radius master   <span class="c1"># branch name to compare against (compares against merge-base)
</span>$ pep8radius c12166f  <span class="c1"># commit hash
</span>
$ pep8radius master --in-place  <span class="c1"># these work with other options too</span>
</pre>
<p>You can also fix docstrings
(<a href="http://legacy.python.org/dev/peps/pep-0257/" rel="nofollow">PEP257</a>) using the
<a href="https://pypi.python.org/pypi/docformatter" rel="nofollow">docformatter</a> option:</p>
<pre>$ pep8radius --docformatter --diff
</pre>
<p><em>Note: can also use “btyfi“ alias for “pep8radius“.</em></p>
<hr class="docutils"/>
<p>It can be nice to pipe the diff to
<a href="https://pypi.python.org/pypi/cdiff" rel="nofollow">cdiff</a> (which makes diffs pretty
and has lots of options):</p>
<pre>$ pep8radius --diff --no-color <span class="p">|</span> cdiff
$ pep8radius --diff --no-color <span class="p">|</span> cdiff --side-by-side
</pre>
<div>
<p>You can get strange results if you don’t use no-color.</p>
<p>I actually use the following git alias (which allows <tt>git rad</tt> and
<tt>git rad <span class="pre">-i</span></tt>):</p>
</div>
<pre><span class="o">[</span>alias<span class="o">]</span>
    <span class="nv">rad</span> <span class="o">=</span> !pep8radius master --diff --no-color <span class="nv">$@</span> <span class="p">|</span> cdiff --side-by-side
</pre>
<p>which outputs the corrections as follows:</p>
<div>
<img src="https://cloud.githubusercontent.com/assets/1931852/4259933/f0589480-3b1c-11e4-89cf-565c28da700a.png"/>
<p>git rad</p>
</div>
<hr class="docutils"/>
<div>
<p>You can pipe in a diff directly, to fix the lines modified in it with
<tt><span class="pre">--from-diff</span></tt> (this is somewhat experimental, please report failing
diffs!).</p>
<p>For example:</p>
</div>
<pre>$ git diff master <span class="p">|</span> pep8radius --diff --from-diff<span class="o">=</span>-
</pre>
</div>
<div id="yapf">
<h2>yapf</h2>
<p>To use <a href="https://pypi.python.org/pypi/yapf" rel="nofollow">yapf</a> as an alternative
back-end, you can pass the <tt><span class="pre">--yapf</span></tt> option:</p>
<pre>$ pep8radius master --diff --yapf

$ pep8radius master --diff --yapf --style=google
</pre>
<p><em>Note: This ignores autopep8 and docformatter specific arguments.</em></p>
</div>
<div id="config-files">
<h2>Config Files</h2>
<p>pep8radius looks for configuration files as described in the <a href="http://pep8.readthedocs.org/en/latest/intro.html#configuration" rel="nofollow">pep8
docs</a>.</p>
<p>At the project level, you may have a <tt>setup.cfg</tt> which includes a pep8
section, you can use this to define defaults for pep8radius and
autopep8:</p>
<pre>[pep8]
rev = master
ignore = E226,E302,E41
max-line-length = 160
</pre>
<p>By default, this will look for a user level default, you can suppress
this by passing a blank to <tt>global_config</tt>:</p>
<pre>[pep8]
rev = staging
global_config =
</pre>
<p>or perhaps you want to use yapf with google style:</p>
<pre>[pep8]
rev = master
yapf = True
style = google
</pre>
<p><em>Note: style can also be a config file, or a dict (see the yapf docs).</em></p>
</div>

<div id="options">
<h2>Options</h2>
<pre>$ pep8radius --help

usage: pep8radius <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--version<span class="o">]</span> <span class="o">[</span>-d<span class="o">]</span> <span class="o">[</span>-i<span class="o">]</span> <span class="o">[</span>--no-color<span class="o">]</span> <span class="o">[</span>-v<span class="o">]</span>
                  <span class="o">[</span>--from-diff DIFF<span class="o">]</span> <span class="o">[</span>-p n<span class="o">]</span> <span class="o">[</span>-a<span class="o">]</span> <span class="o">[</span>--experimental<span class="o">]</span>
                  <span class="o">[</span>--exclude globs<span class="o">]</span> <span class="o">[</span>--list-fixes<span class="o">]</span> <span class="o">[</span>--ignore errors<span class="o">]</span>
                  <span class="o">[</span>--select errors<span class="o">]</span> <span class="o">[</span>--max-line-length n<span class="o">]</span> <span class="o">[</span>--indent-size n<span class="o">]</span>
                  <span class="o">[</span>-f<span class="o">]</span> <span class="o">[</span>--no-blank<span class="o">]</span> <span class="o">[</span>--pre-summary-newline<span class="o">]</span> <span class="o">[</span>--force-wrap<span class="o">]</span>
                  <span class="o">[</span>--global-config GLOBAL_CONFIG<span class="o">]</span> <span class="o">[</span>--ignore-local-config<span class="o">]</span>
                  <span class="o">[</span>rev<span class="o">]</span>

PEP8 clean only the parts of the files which you have touched since the last
commit, a previous commit or <span class="o">(</span>the merge-base of<span class="o">)</span> a branch.

positional arguments:
  rev                   commit or name of branch to compare against

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
  --version             print version number and <span class="nb">exit</span>
  -d, --diff            print the diff of fixed <span class="nb">source</span> vs original
  -i, --in-place        make the fixes in place<span class="p">;</span> modify the files
  --no-color            <span class="k">do</span> not print diffs in color <span class="o">(</span>default is to use color<span class="o">)</span>
  -v, --verbose         print verbose messages<span class="p">;</span> multiple -v result in more
                        verbose messages <span class="o">(</span>one less -v is passed to autopep8<span class="o">)</span>
  --from-diff DIFF      Experimental: rather than calling out to version
                        control, just pass in a diff<span class="p">;</span> the modified lines will
                        be fixed

pep8:
  Pep8 options to pass to autopep8.

  -p n, --pep8-passes n
                        maximum number of additional pep8 passes <span class="o">(</span>default:
                        infinite<span class="o">)</span>
  -a, --aggressive      <span class="nb">enable</span> non-whitespace changes<span class="p">;</span> multiple -a result in
                        more aggressive changes
  --experimental        <span class="nb">enable</span> experimental fixes
  --exclude globs       exclude file/directory names that match these comma-
                        separated globs
  --list-fixes          list codes <span class="k">for</span> fixes and exit<span class="p">;</span> used by --ignore and
                        --select
  --ignore errors       <span class="k">do</span> not fix these errors/warnings <span class="o">(</span>default: E24<span class="o">)</span>
  --select errors       fix only these errors/warnings <span class="o">(</span>e.g. E4,W<span class="o">)</span>
  --max-line-length n   <span class="nb">set</span> maximum allowed line length <span class="o">(</span>default: 79<span class="o">)</span>
  --indent-size n       number of spaces per indent level <span class="o">(</span>default 4<span class="o">)</span>

docformatter:
  Fix docstrings <span class="k">for</span> PEP257.

  -f, --docformatter    Use docformatter
  --no-blank            Do not add blank line after description
  --pre-summary-newline
                        add a newline before the summary of a multi-line
                        docstring
  --force-wrap          force descriptions to be wrapped even <span class="k">if</span> it may result
                        in a mess

config:
  Change default options based on global or <span class="nb">local</span> <span class="o">(</span>project<span class="o">)</span> config files.

  --global-config filename
                        path to global pep8 config file<span class="p">;</span> <span class="k">if</span> this file does not
                        exist <span class="k">then</span> this is ignored <span class="o">(</span>default: ~/.config/pep8<span class="o">)</span>
  --ignore-local-config
                        don<span class="s1">'t look for and apply local config files; if not
                        passed, defaults are updated with any config files in
                        the project'</span>s root dir

yapf:
  Options <span class="k">for</span> yapf, alternative to autopep8. Currently any other options are
  ignored.

  -y, --yapf            Use yapf rather than autopep8. This ignores other
                        arguments outside of this group.
  --style               style either pep8, google, name of file with
                        stylesettings, or a dict

Run before you commit, against a previous commit or branch before merging.
</pre>
<p><em>For more information about these options see
`autopep8 &lt;https://pypi.python.org/pypi/autopep8&gt;`__.</em></p>
</div>
<div id="as-a-module">
<h2>As a module</h2>
<p>Pep8radius also exports lightweight wrappers around autopep8 so that you
can fix line ranges of your code with <tt>fix_code</tt> or <tt>fix_file</tt>.</p>
<p>Here’s the example “bad code” from <a href="https://github.com/hhatto/autopep8/blob/master/README.rst#usage" rel="nofollow">autopep8’s
README</a>:</p>
<pre><span class="kn">import</span> <span class="nn">math</span><span class="o">,</span> <span class="nn">sys</span><span class="p">;</span>

<span class="k">def</span> <span class="nf">example1</span><span class="p">():</span>
    <span class="c1">####This is a long comment. This should be wrapped to fit within 72 characters.</span>
    <span class="n">some_tuple</span><span class="o">=</span><span class="p">(</span>   <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="s1">'a'</span>  <span class="p">);</span>
    <span class="n">some_variable</span><span class="o">=</span><span class="p">{</span><span class="s1">'long'</span><span class="p">:</span><span class="s1">'Long code lines should be wrapped within 79 characters.'</span><span class="p">,</span>
    <span class="s1">'other'</span><span class="p">:[</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="mi">9876543210</span><span class="p">,</span><span class="s1">'This is a long string that goes on'</span><span class="p">],</span>
    <span class="s1">'more'</span><span class="p">:{</span><span class="s1">'inner'</span><span class="p">:</span><span class="s1">'This whole logical line should be wrapped.'</span><span class="p">,</span><span class="n">some_tuple</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">20</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="mi">40000</span><span class="p">,</span><span class="mi">500000000</span><span class="p">,</span><span class="mi">60000000000000000</span><span class="p">]}}</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">some_tuple</span><span class="p">,</span> <span class="n">some_variable</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">example2</span><span class="p">():</span> <span class="k">return</span> <span class="p">{</span><span class="s1">'has_key() is deprecated'</span><span class="p">:</span><span class="bp">True</span><span class="p">}</span><span class="o">.</span><span class="n">has_key</span><span class="p">({</span><span class="s1">'f'</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="s1">''</span><span class="p">));</span>
<span class="k">class</span> <span class="nc">Example3</span><span class="p">(</span>   <span class="nb">object</span> <span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span>    <span class="p">(</span> <span class="bp">self</span><span class="p">,</span> <span class="n">bar</span> <span class="p">):</span>
     <span class="c1">#Comments should have a space after the hash.</span>
     <span class="k">if</span> <span class="n">bar</span> <span class="p">:</span> <span class="n">bar</span><span class="o">+=</span><span class="mi">1</span><span class="p">;</span>  <span class="n">bar</span><span class="o">=</span><span class="n">bar</span><span class="o">*</span> <span class="n">bar</span>   <span class="p">;</span> <span class="k">return</span> <span class="n">bar</span>
     <span class="k">else</span><span class="p">:</span>
                    <span class="n">some_string</span> <span class="o">=</span> <span class="s2">"""
               Indentation in multiline strings should not be touched.
Only actual code should be reindented.
"""</span>
                    <span class="k">return</span> <span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">some_string</span><span class="p">)</span>
</pre>
<p>You can pep8 fix just the line ranges 1-1 (the imports) and 12-21 (the
<tt>Example3</tt>class) with
<tt>pep8radius.fix_code(code, [(1, 1), (12, <span class="pre">21)])</span></tt> (where code is a
string of the above), which returns the code fixed within those ranges:</p>
<pre><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">example1</span><span class="p">():</span>
    <span class="c1">####This is a long comment. This should be wrapped to fit within 72 characters.</span>
    <span class="n">some_tuple</span><span class="o">=</span><span class="p">(</span>   <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="s1">'a'</span>  <span class="p">);</span>
    <span class="n">some_variable</span><span class="o">=</span><span class="p">{</span><span class="s1">'long'</span><span class="p">:</span><span class="s1">'Long code lines should be wrapped within 79 characters.'</span><span class="p">,</span>
    <span class="s1">'other'</span><span class="p">:[</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="mi">9876543210</span><span class="p">,</span><span class="s1">'This is a long string that goes on'</span><span class="p">],</span>
    <span class="s1">'more'</span><span class="p">:{</span><span class="s1">'inner'</span><span class="p">:</span><span class="s1">'This whole logical line should be wrapped.'</span><span class="p">,</span><span class="n">some_tuple</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">20</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="mi">40000</span><span class="p">,</span><span class="mi">500000000</span><span class="p">,</span><span class="mi">60000000000000000</span><span class="p">]}}</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">some_tuple</span><span class="p">,</span> <span class="n">some_variable</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">example2</span><span class="p">():</span> <span class="k">return</span> <span class="p">{</span><span class="s1">'has_key() is deprecated'</span><span class="p">:</span><span class="bp">True</span><span class="p">}</span><span class="o">.</span><span class="n">has_key</span><span class="p">({</span><span class="s1">'f'</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="s1">''</span><span class="p">));</span>


<span class="k">class</span> <span class="nc">Example3</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bar</span><span class="p">):</span>
        <span class="c1"># Comments should have a space after the hash.</span>
        <span class="k">if</span> <span class="n">bar</span><span class="p">:</span>
            <span class="n">bar</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">bar</span> <span class="o">=</span> <span class="n">bar</span> <span class="o">*</span> <span class="n">bar</span>
            <span class="k">return</span> <span class="n">bar</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">some_string</span> <span class="o">=</span> <span class="s2">"""
                       Indentation in multiline strings should not be touched.
Only actual code should be reindented.
"""</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">some_string</span><span class="p">)</span>
</pre>
<p>You can use <tt>fix_file</tt> to do this directly on a file, which gives you
the option of doing this in place.</p>
<pre><span class="n">pep8radius</span><span class="o">.</span><span class="n">fix_code</span><span class="p">(</span><span class="s1">'code.py'</span><span class="p">,</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">21</span><span class="p">)],</span> <span class="n">in_place</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre>
<p>You can also pass the same arguments to pep8radius script itself using
the <tt>parse_args</tt>. For example ignoring long lines (E501) and use the
options from your global config files:</p>
<pre><span class="n">args</span> <span class="o">=</span> <span class="n">pep8radius</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([</span><span class="s1">'--ignore=E501'</span><span class="p">,</span> <span class="s1">'--ignore-local-config'</span><span class="p">],</span>
                             <span class="n">apply_config</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">pep8radius</span><span class="o">.</span><span class="n">fix_code</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">21</span><span class="p">)],</span> <span class="n">options</span><span class="o">=</span><span class="n">args</span><span class="p">)</span>
</pre>
</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>133</span> downloads in the last week
  </li>
  <li>
    <span>960</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>