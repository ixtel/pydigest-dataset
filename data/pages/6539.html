<html><body><div><article class="markdown-body entry-content" itemprop="text"><h3><a id="user-content-learn-to-write-faster-code-by-experimenting-with-this-library" class="anchor" href="#learn-to-write-faster-code-by-experimenting-with-this-library" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Learn to write faster code by experimenting with this library</h3>

<h1><a id="user-content-pip-install-pythonbenchmark" class="anchor" href="#pip-install-pythonbenchmark" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>pip install pythonbenchmark</h1>

<ul>
<li><p>The timeit module that comes with python is only useful for small bits of Python code not for functions.</p></li>
<li><p>This library solves that. It provides an intuitive way to measure the execution time of functions and compare the relative speed of two functions.</p></li>
<li><p>Optimizing your code? Curious how much speed you gained? No problem</p></li>
<li><p>Pythonbenchmark allows this by letting you compare two functions which take the same input and measure which one gets the job done faster.</p></li>
</ul>

<div class="highlight highlight-source-python"><pre>compare(myFunction, myOptimizedFunction, <span class="pl-c1">10</span>)</pre></div>

<ul>
<li>Additionally you can just put a decorator on the functions, pythonbenchmark will measure them and print out the execution time in the console.</li>
</ul>

<div class="highlight highlight-source-python"><pre><span class="pl-en">@measure</span>
<span class="pl-k">def</span> <span class="pl-en">myFunction</span>(<span class="pl-smi">something</span>):
    [x<span class="pl-k">*</span>x <span class="pl-k">for</span> x <span class="pl-k">in</span> <span class="pl-c1">range</span>(<span class="pl-c1">1000000</span>)]</pre></div>

<h3><a id="user-content-how-to" class="anchor" href="#how-to" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>How-To:</h3>

<p>A typical use case is: I have functionX, and optimized functionX. Now I want to know if my modified version is faster and how much.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> pythonbenchmark <span class="pl-k">import</span> compare, measure
<span class="pl-k">import</span> time

a,b,c,d,e <span class="pl-k">=</span> <span class="pl-c1">10</span>,<span class="pl-c1">10</span>,<span class="pl-c1">10</span>,<span class="pl-c1">10</span>,<span class="pl-c1">10</span>
something <span class="pl-k">=</span> [a,b,c,d,e]

<span class="pl-k">def</span> <span class="pl-en">myFunction</span>(<span class="pl-smi">something</span>):
    time.sleep(<span class="pl-c1">0.4</span>)

<span class="pl-k">def</span> <span class="pl-en">myOptimizedFunction</span>(<span class="pl-smi">something</span>):
    time.sleep(<span class="pl-c1">0.2</span>)

<span class="pl-c"># comparing test</span>
compare(myFunction, myOptimizedFunction, <span class="pl-c1">10</span>, <span class="pl-c1">input</span>)
<span class="pl-c"># without input</span>
compare(myFunction, myOptimizedFunction, <span class="pl-c1">100</span>)</pre></div>

<h4><a id="user-content-output" class="anchor" href="#output" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Output</h4>

<p><a href="https://github.com/Karlheinzniebuhr/pythonbenchmark/blob/master/images/test_compare.PNG" target="_blank"><img src="https://github.com/Karlheinzniebuhr/pythonbenchmark/raw/master/images/test_compare.PNG" alt="alt tag"/></a></p>

<p>Measuring execution time with the @measure decorator</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> pythonbenchmark <span class="pl-k">import</span> compare, measure
<span class="pl-k">import</span> time

a,b,c,d,e <span class="pl-k">=</span> <span class="pl-c1">10</span>,<span class="pl-c1">10</span>,<span class="pl-c1">10</span>,<span class="pl-c1">10</span>,<span class="pl-c1">10</span>
something <span class="pl-k">=</span> [a,b,c,d,e]

<span class="pl-en">@measure</span>
<span class="pl-k">def</span> <span class="pl-en">myFunction</span>(<span class="pl-smi">something</span>):
    time.sleep(<span class="pl-c1">0.4</span>)

<span class="pl-en">@measure</span>
<span class="pl-k">def</span> <span class="pl-en">myOptimizedFunction</span>(<span class="pl-smi">something</span>):
    time.sleep(<span class="pl-c1">0.2</span>)

myFunction(<span class="pl-c1">input</span>)
myOptimizedFunction(<span class="pl-c1">input</span>)
</pre></div>

<h4><a id="user-content-output-1" class="anchor" href="#output-1" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Output</h4>

<p><a href="https://github.com/Karlheinzniebuhr/pythonbenchmark/blob/master/images/test_decorator.PNG" target="_blank"><img src="https://github.com/Karlheinzniebuhr/pythonbenchmark/raw/master/images/test_decorator.PNG" alt="alt tag"/></a></p>

<hr/>

<p>Do experiments, have fun!<br/>
Make incremental changes to your high performance code and see how much speed improvement you gain with each modification. This will give you an enormous intuition about how to write fast code :)  </p>

<p>A spanish article about how I came up with this library is on my  <a href="http://karlheinzniebuhr.github.io/es/2015/05/10/de-CS101-a-una-libreria-python.html">Blog.</a></p>
</article>
  </div></body></html>