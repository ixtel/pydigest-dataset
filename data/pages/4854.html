<html><body><div><div class="post-text" itemprop="text">

<p><strong>What I'm trying to do:</strong></p>

<p>I am trying to build a RESTful Flask application on Google App Engine with Angular handling the routing and view logic while Flask handles back end logic and resources. </p>

<p><strong>The Problem:</strong> </p>

<p>When I start the development server for GAE, the first page loads perfectly. The problem is that when I click the Referrals link at the top of the page the template being loaded doesn't change. </p>

<p><strong>What I've done so far</strong></p>

<p>While it seems like I pasted a lot of code below, most of it is markup and there isn't really any complex app logic in there so skimming is enough</p>

<p>I was planning on building the front end first, then the back end (although I have some of the backend setup already). The app does not rely on the flask app as of this moment (it doesn't have any app logic and doesn't have any request handlers)</p>

<p>Here is my app.js file, all I've done so far is routing, no logic:</p>

<pre><code>// app.js, only angular code in project and only does routing
var rcsApp = angular.module('rcsApp', [
    'ngRoute'
]);

rcsApp.config(['$routeProvider',
    function($routeProvider) {
        $routeProvider.
            when('/', {
                templateUrl: 'templates/welcome-page.html'
            }).
            when('/index', {
                templateUrl: 'templates/welcome-page.html'
            }).
            when('/referrals', {
                templateUrl: 'templates/referrals.html'
            }).
            when('/404', {
                templateUrl: 'templates/404.html'
            }).
            otherwise({
                redirectTo: '/404'
            });

}]);
</code></pre>

<p>This is my app.yaml file, this is what I use to serve static pages </p>

<pre><code># This file specifies your Python application's runtime configuration
# including URL routing, versions, static file uploads, etc. See
# https://developers.google.com/appengine/docs/python/config/appconfig
# for details.

# TODO: Enter your application id below. If you have signed up
# using cloud.google.com/console use the "project id" for your application
# id.
application: placeholder
version: 1
runtime: python27
api_version: 1
threadsafe: yes

# Handlers define how to route requests to your application.
handlers:
# App Engine serves and caches static files contained in the listed directories
# (and subdirectories). Uncomment and set the directory as needed.
#- url: /client
#  static_dir: client

- url: /css
  static_dir: static/css

- url: /img
  static_dir: static/img

- url: /js
  static_dir: static/js

- url: /templates
  static_dir: templates

- url: /api/.*  
  script: main.app

- url: .*
  static_files: templates/app-view-wrapper.html
  upload: templates/app-view-wrapper.html

# Third party libraries that are included in the App Engine SDK must be listed
# here if you want to use them.  See
# https://developers.google.com/appengine/docs/python/tools/libraries27 for
# a list of libraries included in the SDK.  Third party libs that are *not* part
# of the App Engine SDK don't need to be listed here, instead add them to your
# project directory, either as a git submodule or as a plain subdirectory.
# TODO: List any other App Engine SDK libs you may need here.
#libraries:
#- name: jinja2
#  version: latest
</code></pre>

<p>This is the base html template for the entire app:</p>

<p>templates/app-view-wrapper.html</p>

<pre><code>&lt;!-- templates/app-view-wrapper.html --&gt;
&lt;!DOCTYPE HTML&gt;

&lt;!--[if IE 9]&gt;&lt;html class="lt-ie10" lang="en" &gt; &lt;![endif]--&gt;
&lt;html class="no-js" lang="en" ng-app="rcsApp"&gt;
    &lt;head&gt;
        &lt;meta charset="utf-8"&gt;
        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
        &lt;link rel="stylesheet" src="//normalize-css.googlecode.com/svn/trunk/normalize.css" /&gt;
        &lt;link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.5.0/slick.css"/&gt;
        &lt;link rel="stylesheet" href="//cdn.jsdelivr.net/foundation/5.5.1/css/foundation.min.css"/&gt;
        &lt;link rel="stylesheet" href="/css/style.css"&gt;
        &lt;script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"&gt;&lt;/script&gt;
        &lt;script src="https://code.angularjs.org/1.3.15/angular.min.js"&gt;&lt;/script&gt;
        &lt;script src="https://code.angularjs.org/1.3.15/angular-route.min.js"&gt;&lt;/script&gt;
        &lt;script src="/js/app.js"&gt;&lt;/script&gt;
        &lt;title&gt;Website Title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;header&gt;
            &lt;div class="row"&gt;
                &lt;div class="large-4 columns"&gt;&lt;img src="/img/website-logo.png" alt="Website logo"&gt;&lt;/div&gt;
                &lt;div class="large-8 columns"&gt;
                        &lt;a href="#" class="button right"&gt;555-555-5555&lt;/a&gt;
                        &lt;a href="#" class=" button right"&gt;Make an Appointment&lt;/a&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="row" id="nav-row"&gt;
                &lt;nav class=" top-bar"&gt;
                    &lt;section class=" top-bar-section"&gt;
                        &lt;ul class="left"&gt;
                            &lt;li&gt;&lt;a href="/"&gt;Home&lt;/a&gt;&lt;/li&gt;
                            &lt;li&gt;&lt;a href="/"&gt;Services&lt;/a&gt;&lt;/li&gt;
                            &lt;li&gt;&lt;a href="/"&gt;Meet the Doctor&lt;/a&gt;&lt;/li&gt;
                            &lt;li&gt;&lt;a href="/"&gt;Patients&lt;/a&gt;&lt;/li&gt;
                            &lt;li&gt;&lt;a href="/referrals"&gt;Referring Doctors&lt;/a&gt;&lt;/li&gt;
                            &lt;li&gt;&lt;a href="/"&gt;Contact Us&lt;/a&gt;&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/section&gt;
                &lt;/nav&gt;
            &lt;/div&gt;
            &lt;div ng-view&gt;&lt;/div&gt;
        &lt;/header&gt;
        &lt;footer class="row"&gt;
            &lt;div class="large-5 columns"&gt;
                &lt;h3&gt;Location&lt;/h3&gt;
                &lt;div&gt;123 ABC STREET&lt;/div&gt;
                &lt;div&gt;Phone Number:  555-5555555&lt;/div&gt;
                &lt;div&gt;Email: email@email.com&lt;/div&gt;

            &lt;/div&gt;
            &lt;div class="large-4  columns"&gt;
                &lt;h3&gt;Quick Contact&lt;/h3&gt;

                &lt;div&gt;Work:  555-5555555&lt;/div&gt;
                &lt;div&gt;Cell:   555-5555555&lt;/div&gt;
                &lt;div&gt;Fax: 555-5555555&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="large-3 columns"&gt;
               Lorem Ipsum Sit Dolor Amet
            &lt;/div&gt;

        &lt;/footer&gt;


        &lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"&gt;&lt;/script&gt;
        &lt;script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/foundation.min.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="//cdn.jsdelivr.net/jquery.slick/1.5.0/slick.min.js"&gt;&lt;/script&gt;
        &lt;script src="/js/script.js"&gt;&lt;/script&gt;
        &lt;script&gt;
            $(document).foundation();
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Below are the three templates:</p>

<p>templates/welcome-page.html</p>

<pre><code>&lt;!-- templates/welcome-page.html --&gt;
&lt;div&gt;&lt;h1&gt;MAIN PAGE&lt;/h1&gt;&lt;/div&gt;
</code></pre>

<p>templates/referrals.html</p>

<pre><code>&lt;!-- templates/referrals.html --&gt;
&lt;div&gt;&lt;h1&gt;REFERRALS PAGE&lt;/h1&gt;&lt;/div&gt;
</code></pre>

<p>templates/404.html</p>

<pre><code>&lt;!-- templates/404.html --&gt;
&lt;div&gt;&lt;h1&gt;404&lt;/h1&gt;&lt;/div&gt;
</code></pre>

<p>The files hierarchy is as follows:</p>

<pre><code>- rcsbackend
  - templates
  - static
    - img
    - js
    - css
  - app.yaml
  - main.py
</code></pre>
    </div>
    </div></body></html>