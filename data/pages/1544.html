<html><body><div><div class="pf-content"><p>I’ve been hearing some buzz about a newish web service called <a href="http://www.twilio.com" target="_blank">Twilio</a> which allows you to send SMS and MMS messages among other things. There’s a handy Python wrapper to their REST API as well. If you sign up with Twilio, they will give you a trial account without even requiring you to provide a credit card, which I appreciated. You will receive a Twilio number that you can use for sending out your messages. Since you are using a trail account, you do have to authorize any phone numbers you want to send messages to before you can actually send a message. Let’s spend some time learning how this works!</p>
<p><span id="more-4240"/></p>
<hr/>
<h3>Getting Started</h3>
<p>
</p><p>To get started, you’ll need to sign up on Twilio and you’ll also need to install the Python twilio wrapper. To install the latter, just do the following:</p>
<p><code><br/>
pip install twilio<br/>
</code></p>
<p>Once that’s installed and you’re signed up, we’ll be ready to continue.</p>
<hr/>
<h3>Using Twilio to Send SMS Messages</h3>
<p>
</p><p>Sending an SMS (Short Message Service) message via Twilio is really easy. You will need to look in your Twilio account to get the sid and authentication token as well as your twilio number. Once you have those three pieces of key information, you can send an SMS message. Let’s see how:</p>
<pre class="python"><span>from</span> twilio.<span>rest</span> <span>import</span> TwilioRestClient
 
 
<span>#----------------------------------------------------------------------</span>
<span>def</span> send_sms<span>(</span>msg, to<span>)</span>:
    <span>""</span><span>""</span><span>""</span>
    sid = <span>"text-random"</span>
    auth_token = <span>"youAreAuthed"</span>
    twilio_number = <span>"123-456-7890"</span>
 
    client = TwilioRestClient<span>(</span>sid, auth_token<span>)</span>
 
    message = client.<span>messages</span>.<span>create</span><span>(</span>body=msg,
                                     from_=twilio_number,
                                     to=to,
                                     <span>)</span>
 
<span>if</span> __name__ == <span>"__main__"</span>:
    msg = <span>"Hello from Python!"</span>
    to = <span>"111-111-1111"</span>
    send_sms<span>(</span>msg, to<span>)</span></pre>
<p>When you run the code above, you will receive a message on your phone that says the following: <strong>Sent from your Twilio trial account – Hello from Python!</strong>. As you can see, that was really easy. All you needed to do was create an instance of <strong>TwilioRestClient</strong> and then create a message. Twilio will do the rest. Sending an MMS (Multimedia Messaging Service) message is almost as easy. Let’s take a look at that in the next example!</p>
<hr/>
<h3>Sending an MMS Message</h3>
<p>
</p><p>Most of the time, you won’t actually want to put your sid, authentication token or Twilio phone number in the code itself. Instead, that would normall be stored in a database or config file. So in this example, we’ll put those pieces of information into a config file and extract them using <a href="https://pypi.python.org/pypi/configobj" target="_blank">ConfigObj</a>. Here’s the contents of my config file:</p>
<pre class="python"><span>[</span>twilio<span>]</span>
sid = <span>"random-text"</span>
auth_token = <span>"youAreAuthed!"</span>
twilio_number = <span>"123-456-7890"</span></pre>
<p>Now let’s write some code to extract this information and send out an MMS message:</p>
<pre class="python"><span>import</span> configobj
<span>from</span> twilio.<span>rest</span> <span>import</span> TwilioRestClient
 
 
<span>#----------------------------------------------------------------------</span>
<span>def</span> send_mms<span>(</span>msg, to, img<span>)</span>:
    <span>""</span><span>""</span><span>""</span>
    cfg = configobj.<span>ConfigObj</span><span>(</span><span>"/path/to/config.ini"</span><span>)</span>
    sid = cfg<span>[</span><span>"twilio"</span><span>]</span><span>[</span><span>"sid"</span><span>]</span>
    auth_token = cfg<span>[</span><span>"twilio"</span><span>]</span><span>[</span><span>"auth_token"</span><span>]</span>
    twilio_number = cfg<span>[</span><span>"twilio"</span><span>]</span><span>[</span><span>"twilio_number"</span><span>]</span>
 
    client = TwilioRestClient<span>(</span>sid, auth_token<span>)</span>
 
    message = client.<span>messages</span>.<span>create</span><span>(</span>body=msg,
                                     from_=twilio_number,
                                     to=to,
                                     MediaUrl=img
                                     <span>)</span>
 
<span>if</span> __name__ == <span>"__main__"</span>:
    msg = <span>"Hello from Python!"</span>
    to = <span>"111-111-1111"</span>
    img = <span>"http://www.website.com/example.jpg"</span>
    send_mms<span>(</span>msg, to=to, img=img<span>)</span></pre>
<p>This code generates the same message as the last one, but it also sends along an image. You will note that Trilio requires you to use either an HTTP or HTTPS URL to attach photos to your MMS message. Otherwise, that was pretty easy to do too!</p>
<hr/>
<h3>Wrapping Up</h3>
<p>
</p><p>What could you use this for in the real world? I’m sure businesses will want to use it to send out coupons or offer codes to new products. This also sounds like something that a band or politician would use to send out messages to their fans, consitutents, etc. I saw one article where someone used it to automate sending themselves sports scores. I found the service easy to use. I don’t know if their pricing is competitive, but the trial account is certainly good enough for testing and certainly worth a try.</p>
<hr/>
<h3>Additional Reading</h3>
<p>
</p>
</div>	</div></body></html>