<html><body><div><section class="entry">
<p class="fsb-clear"/><p><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_gradient_and_detection.jpg"><img class="aligncenter wp-image-1513" src="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_gradient_and_detection.jpg" alt="Detecting Barcodes in Images with Python and OpenCV" srcset="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_gradient_and_detection-300x112.jpg 300w, http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_gradient_and_detection.jpg 1000w" sizes="(max-width: 600px) 100vw, 600px"/></a></p>
<p><strong>UPDATE:</strong> The introduction to this post may seen a little “out there”. For some context, I had just finished watching the <a href="http://southpark.cc.com/full-episodes/s17e07-black-friday" target="blank"><em>South Park Black Friday episodes</em></a> prior to writing this post so I definitely had some inspiration regarding zombie shoppers, Black Friday chaos, and <em>Game of Thrones</em>.</p>
<hr/>
<p>Black Friday is coming.</p>
<p>Hordes of angry shoppers. Stampedes of middle-aged midwestern women, their toothless gums bloodthirsty for 75% off the latest season of <em>Game of Thrones</em> at the local Wal-Mart.</p>
<p>They’ll lineup outside the Wal-Mat doors on Thanksgiving at midnight. They’ll rally, beating at the locked doors with their hands and heads until their bodies are raw and bloody, like zombies from <em>28 Days Later</em>. But instead of human flesh, they crave petty consumer sustenance. Their war cries of discounts and sales will reach the heavens. And their thunderous footsteps will cause earthquakes across the Great Plains.</p>
<p>Of course, the media won’t help — they will sensationalize every last little piece. From frostbitten families camping out all night in the blistering cold, to the little old lady trampled by raging bargain hunters as the doors open, akin to the Gallimimus stampede in <em>Jurassic Park</em>. All of this simply because she wanted to purchase the latest Halo game for Timmy, her little 9 year old grandson, who’s parents passed away this time last year. At a Wal-Mart. During Black Friday.</p>
<p>And I have to ask, is all this chaos and bedlam worth it?</p>
<p><em><strong>Hell. No.</strong></em></p>
<p>Any shopping I do this Black Friday will be from (safely) behind my laptop screen, likely nursing a hangover from the night before with a cup of coffee and a handful of Tylenol.</p>
<p>But if you decide you are going to venture out into the real-world and brave the bargain hunters, <strong><em>you’ll want to download the source code to this blog post first…</em></strong></p>
<p>Imagine how silly you would feel, standing in line, waiting to checkout, only to scan the barcode on the latest season of <em>Game of Thrones</em> only to find out that Target has it for $5 cheaper?</p>
<p>In the rest of this blog post I’ll show you how to detect barcodes in images using nothing but Python and OpenCV.</p>

<p><strong>OpenCV and Python versions:</strong><br/>
This example will run on<strong> Python 2.7</strong> and <strong>OpenCV 2.4.X</strong>.</p>
<h1>Detecting Barcodes in Images using Python and OpenCV</h1>
<p>The goal of this blog post is to demonstrate a basic implementation of barcode detection using computer vision and image processing techniques. My implementation of the algorithm is originally based loosely on <a href="http://stackoverflow.com/questions/9013703/how-to-find-the-location-of-red-region-in-an-image-using-matlab/9014569" target="_blank">this StackOverflow question</a>. I have gone through the code and provided some updates and improvements to the original algorithm.</p>
<p>It’s important to note that this algorithm will not work for <em>all</em> barcodes, but it should give you the basic intuition as to what types of techniques you should be applying.</p>
<p>For this example, we will be detecting the barcode in the following image:</p>
<div id="attachment_1514" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_01.jpg"><img class="size-full wp-image-1514" src="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_01.jpg" alt="Figure 1: Example image containing a barcode that we want to detect." srcset="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_01-300x225.jpg 300w, http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_01.jpg 600w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 1:</strong> Example image containing a barcode that we want to detect.</p></div>
<p>Let’s go ahead and start writing some code. Open up a new file, name it 
			<span id="crayon-56d58ffb43760330435917" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">detect_barcode</span><span class="crayon-sy">.</span><span class="crayon-v">py</span></span></span> , and let’s get coding:</p>

		<div id="crayon-56d58ffb43770271490222" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d58ffb43770271490222-1"><span class="crayon-c"># import the necessary packages</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb43770271490222-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">numpy </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-e">np</span></p><p class="crayon-line" id="crayon-56d58ffb43770271490222-3"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">argparse</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb43770271490222-4"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span></p><p class="crayon-line" id="crayon-56d58ffb43770271490222-5"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb43770271490222-6"><span class="crayon-c"># construct the argument parse and parse the arguments</span></p><p class="crayon-line" id="crayon-56d58ffb43770271490222-7"><span class="crayon-v">ap</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">argparse</span><span class="crayon-sy">.</span><span class="crayon-e">ArgumentParser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb43770271490222-8"><span class="crayon-v">ap</span><span class="crayon-sy">.</span><span class="crayon-e">add_argument</span><span class="crayon-sy">(</span><span class="crayon-s">"-i"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"--image"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">required</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-k ">help</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"path to the image file"</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d58ffb43770271490222-9"><span class="crayon-v">args</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">vars</span><span class="crayon-sy">(</span><span class="crayon-v">ap</span><span class="crayon-sy">.</span><span class="crayon-e">parse_args</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>The first thing we’ll do is import the packages we’ll need. We’ll utilize NumPy for numeric processing, 
			<span id="crayon-56d58ffb43776405053419" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">argparse</span></span></span>  for parsing command line arguments, and 
			<span id="crayon-56d58ffb4377c630827215" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">cv2</span></span></span>  for our OpenCV bindings.</p>
<p>Then we’ll setup our command line arguments. We need just a single switch here, 
			<span id="crayon-56d58ffb43781691465471" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-o">--</span><span class="crayon-v">image</span></span></span> , which is the path to our image that contains a barcode that we want to detect.</p>
<p>Now, time for some actual image processing:</p>

		<div id="crayon-56d58ffb43787891585987" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d58ffb43787891585987-11"><span class="crayon-c"># load the image and convert it to grayscale</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb43787891585987-12"><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imread</span><span class="crayon-sy">(</span><span class="crayon-v">args</span><span class="crayon-sy">[</span><span class="crayon-s">"image"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d58ffb43787891585987-13"><span class="crayon-v">gray</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">cvtColor</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">COLOR_BGR2GRAY</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb43787891585987-14"> </p><p class="crayon-line" id="crayon-56d58ffb43787891585987-15"><span class="crayon-c"># compute the Scharr gradient magnitude representation of the images</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb43787891585987-16"><span class="crayon-c"># in both the x and y direction</span></p><p class="crayon-line" id="crayon-56d58ffb43787891585987-17"><span class="crayon-v">gradX</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">Sobel</span><span class="crayon-sy">(</span><span class="crayon-v">gray</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ddepth</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">cv</span><span class="crayon-sy">.</span><span class="crayon-v">CV_32F</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dx</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dy</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ksize</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb43787891585987-18"><span class="crayon-v">gradY</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">Sobel</span><span class="crayon-sy">(</span><span class="crayon-v">gray</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ddepth</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">cv</span><span class="crayon-sy">.</span><span class="crayon-v">CV_32F</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dx</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dy</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ksize</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d58ffb43787891585987-19"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb43787891585987-20"><span class="crayon-c"># subtract the y-gradient from the x-gradient</span></p><p class="crayon-line" id="crayon-56d58ffb43787891585987-21"><span class="crayon-v">gradient</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">subtract</span><span class="crayon-sy">(</span><span class="crayon-v">gradX</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">gradY</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb43787891585987-22"><span class="crayon-v">gradient</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">convertScaleAbs</span><span class="crayon-sy">(</span><span class="crayon-v">gradient</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>On <strong>Lines 12 and 13</strong> we load our 
			<span id="crayon-56d58ffb4378d162603165" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">image</span></span></span>  off disk and convert it to grayscale.</p>
<p>Then, we use the Scharr operator (specified using 
			<span id="crayon-56d58ffb43792831050110" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">ksize</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span></span></span> ) to construct the gradient magnitude representation of the grayscale image in the horizontal and vertical directions on <strong>Lines 17 and 18</strong>.</p>
<p>From there, we subtract the <em>y</em>-gradient of the Scharr operator from the <em>x</em>-gradient of the Scharr operator on <strong>Lines 21 and 22</strong>. By performing this subtraction we are left with regions of the image that have high horizontal gradients and low vertical gradients.</p>
<p>Our 
			<span id="crayon-56d58ffb43798977051969" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">gradient</span></span></span>  representation of our original image above looks like:</p>
<div id="attachment_1515" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_gradient.jpg"><img class="wp-image-1515" src="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_gradient.jpg" alt="Figure 2: The gradient representation of our barcode image." srcset="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_gradient-300x246.jpg 300w, http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_gradient.jpg 1000w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 2:</strong> The gradient representation of our barcode image.</p></div>
<p><strong>Notice how the barcoded region of the image has been detected by our gradient operations.</strong> The next steps will be to filter out the noise in the image and focus solely on the barcode region.</p>

		<div id="crayon-56d58ffb437a5789283990" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437a5789283990-24"><span class="crayon-c"># blur and threshold the image</span></p><p class="crayon-line" id="crayon-56d58ffb437a5789283990-25"><span class="crayon-v">blurred</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">blur</span><span class="crayon-sy">(</span><span class="crayon-v">gradient</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">9</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">9</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437a5789283990-26"><span class="crayon-sy">(</span><span class="crayon-v">_</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">thresh</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">threshold</span><span class="crayon-sy">(</span><span class="crayon-v">blurred</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">225</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">THRESH_BINARY</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>The first thing we’ll do is apply an average blur on <strong>Line 25</strong> to the gradient image using a <em>9 x 9</em> kernel. This will help smooth out high frequency noise in the gradient representation of the image.</p>
<p>We’ll then threshold the blurred image on <strong>Line 26</strong>. Any pixel in the gradient image that is not greater than 225 is set to 0 (black). Otherwise, the pixel is set to 255 (white).</p>
<p>The output of the blurring and thresholding looks like this:</p>
<div id="attachment_1516" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_threhsold.jpg"><img class="wp-image-1516" src="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_threhsold.jpg" alt="Figure 3: Thresholding the gradient image to obtain a rough approximation to the rectangular barcode region." srcset="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_threhsold-300x246.jpg 300w, http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_threhsold.jpg 1000w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 3:</strong> Thresholding the gradient image to obtain a rough approximation to the rectangular barcode region.</p></div>
<p>However, as you can see in the threshold image above, <em>there are gaps between the vertical bars of the barcode.</em> In order to close these gaps and make it easier for our algorithm to detect the “blob”-like region of the barcode, we’ll need to perform some basic morphological operations:</p>

		<div id="crayon-56d58ffb437ad979456080" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437ad979456080-28"><span class="crayon-c"># construct a closing kernel and apply it to the thresholded image</span></p><p class="crayon-line" id="crayon-56d58ffb437ad979456080-29"><span class="crayon-v">kernel</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">getStructuringElement</span><span class="crayon-sy">(</span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">MORPH_RECT</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">21</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">7</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437ad979456080-30"><span class="crayon-v">closed</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">morphologyEx</span><span class="crayon-sy">(</span><span class="crayon-v">thresh</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">MORPH_CLOSE</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">kernel</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>We’ll start by constructing a rectangular kernel using the 
			<span id="crayon-56d58ffb437b4596658800" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">getStructuringElement</span></span></span>  on <strong>Line 29</strong>. This kernel has a width that is larger than the height, thus allowing us to close the gaps between vertical stripes of the barcode.</p>
<p>We then perform our morphological operation on <strong>Line 30</strong> by applying our kernel to our thresholded image, thus attempting to close the the gaps between the bars.</p>
<p>You can now see that the gaps are substantially more closed, as compared to the thresholded image above:</p>
<div id="attachment_1517" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_closing.jpg"><img class="wp-image-1517" src="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_closing.jpg" alt="Figure 4: Applying closing morphological operations to close the gap between barcode stripes." srcset="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_closing-300x246.jpg 300w, http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_closing.jpg 1000w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 4:</strong> Applying closing morphological operations to close the gap between barcode stripes.</p></div>
<p>Of course, now we have small blobs in the image that are not part of the actual barcode, but may interfere with our contour detection.</p>
<p>Let’s go ahead and try to remove these small blobs:</p>

		<div id="crayon-56d58ffb437bb323795644" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437bb323795644-32"><span class="crayon-c"># perform a series of erosions and dilations</span></p><p class="crayon-line" id="crayon-56d58ffb437bb323795644-33"><span class="crayon-v">closed</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">erode</span><span class="crayon-sy">(</span><span class="crayon-v">closed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">None</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">iterations</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437bb323795644-34"><span class="crayon-v">closed</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">dilate</span><span class="crayon-sy">(</span><span class="crayon-v">closed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">None</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">iterations</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>All we are doing here is performing 4 iterations of erosions, followed by 4 iterations of dilations. An erosion will “erode” the white pixels in the image, thus removing the small blobs, whereas a dilation will “dilate” the remaining white pixels and grow the white regions back out.</p>
<p>Provided that the small blobs were removed during the erosion, they will not reappear during the dilation.</p>
<p>After our series of erosions and dilations you can see that the small blobs have been successfully removed and we are left with the barcode region:</p>
<div id="attachment_1518" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_erosion_and_dilation.jpg"><img class="wp-image-1518" src="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_erosion_and_dilation.jpg" alt="Figure 5: Removing small, irrelevant blobs by applying a series of erosions and dilations." srcset="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_erosion_and_dilation-300x246.jpg 300w, http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_erosion_and_dilation-1024x840.jpg 1024w, http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_erosion_and_dilation.jpg 1428w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 5:</strong> Removing small, irrelevant blobs by applying a series of erosions and dilations.</p></div>
<p>Finally, let’s find the contours of the barcoded region of the image:</p>

		<div id="crayon-56d58ffb437c2160959567" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content"><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ffb437c2160959567-36">36</p><p class="crayon-num" data-line="crayon-56d58ffb437c2160959567-37">37</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ffb437c2160959567-38">38</p><p class="crayon-num" data-line="crayon-56d58ffb437c2160959567-39">39</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ffb437c2160959567-40">40</p><p class="crayon-num" data-line="crayon-56d58ffb437c2160959567-41">41</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ffb437c2160959567-42">42</p><p class="crayon-num" data-line="crayon-56d58ffb437c2160959567-43">43</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ffb437c2160959567-44">44</p><p class="crayon-num" data-line="crayon-56d58ffb437c2160959567-45">45</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ffb437c2160959567-46">46</p><p class="crayon-num" data-line="crayon-56d58ffb437c2160959567-47">47</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ffb437c2160959567-48">48</p><p class="crayon-num" data-line="crayon-56d58ffb437c2160959567-49">49</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d58ffb437c2160959567-50">50</p></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437c2160959567-36"><span class="crayon-c"># find the contours in the thresholded image, then sort the contours</span></p><p class="crayon-line" id="crayon-56d58ffb437c2160959567-37"><span class="crayon-c"># by their area, keeping only the largest one</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437c2160959567-38"><span class="crayon-sy">(</span><span class="crayon-v">cnts</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">_</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">findContours</span><span class="crayon-sy">(</span><span class="crayon-v">closed</span><span class="crayon-sy">.</span><span class="crayon-k ">copy</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">RETR_EXTERNAL</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-56d58ffb437c2160959567-39"><span class="crayon-h">	</span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">CHAIN_APPROX_SIMPLE</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437c2160959567-40"><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">sorted</span><span class="crayon-sy">(</span><span class="crayon-v">cnts</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">key</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">contourArea</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">reverse</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span></p><p class="crayon-line" id="crayon-56d58ffb437c2160959567-41"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437c2160959567-42"><span class="crayon-c"># compute the rotated bounding box of the largest contour</span></p><p class="crayon-line" id="crayon-56d58ffb437c2160959567-43"><span class="crayon-v">rect</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">minAreaRect</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437c2160959567-44"><span class="crayon-v">box</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">np</span><span class="crayon-sy">.</span><span class="crayon-e">int0</span><span class="crayon-sy">(</span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">cv</span><span class="crayon-sy">.</span><span class="crayon-e">BoxPoints</span><span class="crayon-sy">(</span><span class="crayon-v">rect</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d58ffb437c2160959567-45"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437c2160959567-46"><span class="crayon-c"># draw a bounding box arounded the detected barcode and display the</span></p><p class="crayon-line" id="crayon-56d58ffb437c2160959567-47"><span class="crayon-c"># image</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437c2160959567-48"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">drawContours</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">box</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d58ffb437c2160959567-49"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Image"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d58ffb437c2160959567-50"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Luckily, this is the easy part. On <strong>Lines 38-40</strong> we simply find the largest contour in the image, which if we have done our image processing steps correctly, should correspond to the barcoded region.</p>
<p>We then determine the minimum bounding box for the largest contour on <strong>Lines 43 and 44</strong> and finally display the detected barcode on <strong>Lines 48-50</strong>.</p>
<p>As you can see in the following image, we have successfully detected the barcode:</p>
<div id="attachment_1519" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_01.jpg"><img class="wp-image-1519" src="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_01.jpg" alt="Figure 6: Successfully detecting the barcode in our example image." srcset="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_01-300x246.jpg 300w, http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_01.jpg 1000w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 6:</strong> Successfully detecting the barcode in our example image.</p></div>
<p>In the next section we’ll try a few more images.</p>
<h1>Successful Barcode Detections</h1>
<p>To follow along with these results, use the form at the bottom of this post to download the source code and accompanying images for this blog post.</p>
<p>Once you have the code and images, open up a terminal and execute the following command:</p>

		<div id="crayon-56d58ffb437cb779958827" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d58ffb437cb779958827-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">python </span><span class="crayon-v">detect_barcode</span><span class="crayon-e">.py</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">image </span><span class="crayon-v">images</span><span class="crayon-o">/</span><span class="crayon-v">barcode_02</span><span class="crayon-e">.jpg</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p/><div id="attachment_1520" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_02.jpg"><img class="wp-image-1520" src="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_02.jpg" alt="Figure 7: Using OpenCV to detect a barcode in an image." srcset="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_02-784x1024.jpg 784w, http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_02.jpg 1000w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 7:</strong> Using OpenCV to detect a barcode in an image.</p></div>
<p>No problem detecting the barcode on that jar of coconut oil!</p>
<p>Let’s try another image:</p>

		<div id="crayon-56d58ffb437d1192686931" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d58ffb437d1192686931-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">python </span><span class="crayon-v">detect_barcode</span><span class="crayon-e">.py</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">image </span><span class="crayon-v">images</span><span class="crayon-o">/</span><span class="crayon-v">barcode_03</span><span class="crayon-e">.jpg</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p/><div id="attachment_1521" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_03.jpg"><img class="wp-image-1521" src="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_03.jpg" alt="Figure 8: Using computer vision to detect a barcode in an image." srcset="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_03-784x1024.jpg 784w, http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_03.jpg 1000w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 8:</strong> Using computer vision to detect a barcode in an image.</p></div>
<p>We were able to find the barcode in that image too!</p>
<p>But enough of the food products, what about the barcode on a book:</p>

		<div id="crayon-56d58ffb437d7253555403" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d58ffb437d7253555403-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">python </span><span class="crayon-v">detect_barcode</span><span class="crayon-e">.py</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">image </span><span class="crayon-v">images</span><span class="crayon-o">/</span><span class="crayon-v">barcode_04</span><span class="crayon-e">.jpg</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p/><div id="attachment_1522" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_04.jpg"><img class="wp-image-1522" src="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_04.jpg" alt="Figure 9: Detecting a barcode on a book using Python and OpenCV." srcset="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_04-784x1024.jpg 784w, http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_04.jpg 1000w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 9:</strong> Detecting a barcode on a book using Python and OpenCV.</p></div>
<p>Again, no problem!</p>
<p>How about the tracking code on a package?</p>

		<div id="crayon-56d58ffb437dd953397910" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d58ffb437dd953397910-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">python </span><span class="crayon-v">detect_barcode</span><span class="crayon-e">.py</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">image </span><span class="crayon-v">images</span><span class="crayon-o">/</span><span class="crayon-v">barcode_05</span><span class="crayon-e">.jpg</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p/><div id="attachment_1523" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_05.jpg"><img class="wp-image-1523" src="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_05.jpg" alt="Figure 10: Detecting the barcode on a package using computer vision and image processing." srcset="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_05-784x1024.jpg 784w, http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_05.jpg 1000w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 10:</strong> Detecting the barcode on a package using computer vision and image processing.</p></div>
<p>Again, our algorithm is able to successfully detect the barcode.</p>
<p>Finally, let’s try one more image This one is of my favorite pasta sauce, Rao’s Homemade Vodka Sauce:</p>

		<div id="crayon-56d58ffb437e3760181352" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d58ffb437e3760181352-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">python </span><span class="crayon-v">detect_barcode</span><span class="crayon-e">.py</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">image </span><span class="crayon-v">images</span><span class="crayon-o">/</span><span class="crayon-v">barcode_06</span><span class="crayon-e">.jpg</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p/><div id="attachment_1524" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_06.jpg"><img class="wp-image-1524" src="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_06.jpg" alt="Figure 12: Barcode detection is easy using Python and OpenCV!" srcset="http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_06-784x1024.jpg 784w, http://www.pyimagesearch.com/wp-content/uploads/2014/11/barcode_results_06.jpg 1000w" sizes="(max-width: 600px) 100vw, 600px"/></a><p class="wp-caption-text"><strong>Figure 11:</strong> Barcode detection is easy using Python and OpenCV!</p></div>
<p>We were once again able to detect the barcode!</p>
<h1>Summary</h1>
<p>In this blog post we reviewed the steps necessary to detect barcodes in images using computer vision techniques. We implemented our algorithm using the Python programming language and the OpenCV library.</p>
<p>The general outline of the algorithm is to:</p>
<ol>
<li>Compute the Scharr gradient magnitude representations in both the <em>x </em>and <em>y</em> direction.</li>
<li>Subtract the <em>y</em>-gradient from the <em>x</em>-gradient to reveal the barcoded region.</li>
<li>Blur and threshold the image.</li>
<li>Apply a closing kernel to the thresholded image.</li>
<li>Perform a series of dilations and erosions.</li>
<li>Find the largest contour in the image, which is now presumably the barcode.</li>
</ol>
<p>It is important to note that since this method makes assumptions regarding the gradient representations of the image, and thus will only work for horizontal barcodes.</p>
<p>If you wanted to implement a more robust barcode detection algorithm, you would need to take the orientation of the image into consideration, or better yet, apply machine learning techniques such as Haar cascades or HOG + Linear SVM to “scan” the image for barcoded regions.</p>
<h1 id="post_downloads">Downloads:</h1>

	</section>
	</div></body></html>