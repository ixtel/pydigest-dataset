<html><body><div><div class="post-text" itemprop="text">

<p>I am currently working on a Python application which i have started to write from scratch.
What is already there is:</p>

<ol>
<li>A Thread running in the background collects data from a server and writes to a file.</li>
<li>In the main thread i have opened up a matplotlib graph GUI which plots live data from this file which i mentioned in point 1.</li>
</ol>

<p>So things are super fine and working as per what i have explained above.
But when matplotlib is plotting the live data, the graph is moving dynamically when the new points are being added to the back-end file which it is referring.
I am not sure if I expressed my problem well here. What I mean to say is, when the live graph is getting updated the graph screen is literally moving forward (from left to right) and the old graph (old points) is becoming invisible (as the screen moved) and lost. If I try to scroll to the left (using the scroll tool given by the default matplotlib tool) then there is just blank space.
What I want is:</p>

<ol>
<li>The screen should not move.</li>
<li>The old points should be visible without scrolling to the left.</li>
<li>Only new points should be added and the old points should not get cleared or moved (hidden).</li>
</ol>

<p>Here is my code:</p>

<pre><code>#import modules
import Tkinter as tk


import MasterWindow
import matplotlib.pyplot as plt
import matplotlib.animation as animation
from threading import Thread
from datetime import *
import matplotlib.dates as dates


from fabfile import connect
import time
from fabric.api import env

LARGE_FONT= ("Verdana", 12)

env.host_string = 'nms@10.0.0.70'
env.password = "nms"

class StartPage(tk.Frame):

    def __init__(self, parent, controller):
        tk.Frame.__init__(self,parent)      
        label = tk.Label(self, text="Graphy-Home", font=LARGE_FONT)     
        label.pack(pady=10,padx=10)     
        Command = tk.Label(self, text="Enter Command")      
        pickCommand = tk.Entry(self)        
        pickCommand.pack(pady=10)           
        Command.pack()  
        button1 = tk.Button(self, text="Submit Command", command=lambda: submit())      
        button1.pack()

        fig = plt.figure()
        ax1 = fig.add_subplot(1,1,1)
        def submit():       
            t1=Thread(target=FileWriter)
            t1.start()
            ani = animation.FuncAnimation(fig, animate, interval=1000)
            plt.show()
            print("done")

        def FileWriter():
            f=open('F:\\home\\WorkSpace\\FIrstPyProject\\TestModules\\sampleText.txt','w',0)
            k=0
            cmd=pickCommand.get()
            while (k &lt; 40):
                print("inside while")
                p=connect(cmd)
                f.write(p.stdout)
                f.write('\n')
                print("wrote data")
                k += 1

        def animate(i):
            print("inside animate")
            pullData = open("sampleText.txt","r").read()
            dataArray = pullData.split('\n')
            xar = []
            yar = []
            for eachLine in dataArray:
                if len(eachLine)&gt;1:
                    x,y = eachLine.split(',')
                    timeX=datetime.strptime(x, "%H:%M:%S")
                    xar.append(timeX.strftime("%H:%M:%S"))
                    yar.append(float(y))


            #ax1.plot(timeStamps,yar)
            plt.plot_date(dates.datestr2num(xar), yar,'b-')

class PageOne(tk.Frame):

    def __init__(self, parent, controller):
        tk.Frame.__init__(self, parent)
        label = tk.Label(self, text="Page One!!!", font=LARGE_FONT)
        label.pack(pady=10,padx=10)

        button1 = tk.Button(self, text="Back to Home",
                            command=lambda: controller.show_frame(StartPage))
        button1.pack()

        button2 = tk.Button(self, text="Page Two",
                            command=lambda: controller.show_frame(PageTwo))
        button2.pack()


class PageTwo(tk.Frame):

    def __init__(self, parent, controller):
        tk.Frame.__init__(self, parent)
        label = tk.Label(self, text="Page Two!!!", font=LARGE_FONT)
        label.pack(pady=10,padx=10)

        button1 = tk.Button(self, text="Back to Home",
                            command=lambda: controller.show_frame(StartPage))
        button1.pack()

        button2 = tk.Button(self, text="Page One",
                            command=lambda: controller.show_frame(PageOne))
        button2.pack()

app = MasterWindow.MasterWindow(StartPage, PageOne, PageTwo)
app.mainloop()
</code></pre>

<p>Just to give a heads up, the animate function is the one running in main loop and the FileWriter function is running in a seperate thread to collect data.</p>

<p>I hope my problem is explained in a way it can be understood! If anything is unclear please let me know.</p>
    </div>
    </div></body></html>