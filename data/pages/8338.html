<html><body><div><div class="post-text" itemprop="text">

<p>A great greetings community</p>

<p>My question is related with the kind of manage users and the schema users in Django, In beginning I ask to you apologize just in case that my questions can will be too "newbies" or without sense, I am starting to related me with the Django Users schemas and their different possibilities of work in the projects.</p>

<p>I have the following situation.</p>

<p>I am building an application in which I will have three differents user types:</p>

<ul>
<li>Medical </li>
<li>Patient </li>
<li>Physiotherapist</li>
</ul>

<p>I am using the default Django authentication scheme (django.contrib.auth).</p>

<p>Initially, I did think in this scheme of entities in which the User table is the <code>auth_user</code> table in where Django save the users created:</p>

<p><a href="http://i.stack.imgur.com/vexac.png" rel="nofollow"><img src="http://i.stack.imgur.com/vexac.png" alt="Schema thinked (bad  - ?)"/></a></p>

<p>I have the <code>is_patient</code>, <code>is_medical</code> and <code>is_physiotherapist</code> fields like boolean attributes in the User table. </p>

<p>Like a particular detail I understand that in the Django default model User is not possible modify or add attributes or fields. </p>

<p>This is an important and powerful reason to I cannot add the  <code>is_patient</code>, <code>is_medical</code> and <code>is_physiotherapist</code> boolean fields in User table.</p>

<p>A classic recommendation is extend the User model with a Userprofile table in which I add fields or attributes to User Model through of OneToOne relationship. A basic sample is such as follow:</p>

<p><a href="http://i.stack.imgur.com/Lckec.png" rel="nofollow"><img src="http://i.stack.imgur.com/Lckec.png" alt="Extending Django users model"/></a></p>

<p>Is of this way that I get that my users in Django can have the field photo and upload one in a given moment ...  </p>

<p>Taking advantage of the previous, 
The following schema can be suited or can be an alternative for manage user roles (<code>patient</code>, <code>medical</code> and <code>physiotherapist</code> user types) ?</p>

<p><a href="http://i.stack.imgur.com/YvcH9.png" rel="nofollow"><img src="http://i.stack.imgur.com/YvcH9.png" alt="Other schema thinked"/></a></p>

<p>I will have relationships between: </p>



<p>and so between them and other tables ...</p>

<p>With this approach these relationships don't will be affected? </p>

<p>The different users will be saved between the Users and UserProfile table.
Is this a good practice in the scalability sense? My tables could be crash or my database?</p>

<hr/>

<p>In addition, I also have seen other alternatives such as:</p>

<ol>
<li>Role Table/Model</li>
</ol>

<p>I will have a role table/model independent or separate and that this can be related with the Django User model (One User can will have many roles by example) 
This approach can be useful when I want store exclusive information about of a role in specia?</p>

<ol start="2">
<li><a href="https://docs.djangoproject.com/en/1.8/topics/auth/default/#topic-authorization" rel="nofollow">Django Permissions and Authorization</a></li>
</ol>

<p>I ignore or unknown the granularity grade that let will me work. Of a single way I have been see that the permissions and authorizations system let will me work with create and edit and remove operations ....</p>

<p>Here, can I see the groups creation?
For example a medical group and allocate them permissions and linked this permissions to the users that compose the group ? Is this another good alternative?
This option seem more single  although I don't know if an user could make some operations according to the group privileges that have ... I don't know if this thinking is correct/right</p>

<ol start="3">
<li>AUTH_USER_MODEL <a href="https://docs.djangoproject.com/en/1.8/topics/auth/customizing/#substituting-a-custom-user-model" rel="nofollow">Creating a Custom User model</a></li>
</ol>

<p>My requirements for patient, medical and physiotherapist users, require build a custom user model? </p>
    </div>
    </div></body></html>