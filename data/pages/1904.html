<html><body><div><div class="post-body entry-content">
<p/><p>By </p><a href="http://www.dancingbison.com">Vasudev Ram</a><p/><p>In a recent post, titled </p><a href="http://jugad2.blogspot.in/2014/10/pdf-in-net-with-netius-pure-python_31.html">PDF in a Net, with <b>Netius, a pure Python network library</b></a><p>, I had shown how to use </p><a href="http://netius.hive.pt/">Netius</a><p>, to </p><b>serve a PDF</b><p> to a client. I had shown the </p><b>server side</b><p> of that app and said that I would show the </p><b>client side</b><p> in a future post. This is that post.
</p><p>
Though the documentation has examples of using netius to create clients as well as servers, I chose not to use it for this example; instead I just used the </p><a href="http://docs.python-requests.org/">requests HTTP library</a><p> for Python. There was nothing in my code that required the extra features of a Netius client.
</p><p>
Here is my client for the Netius PDF server:
</p><pre># netius_pdf_client.py

import requests

resp = requests.get('http://localhost:8080')
if resp.status_code != 200:
    print "get PDF failed"
else:
    with open('output.pdf', 'wb') as pdf_fil:
        pdf_fil.write(resp.content)
    print "PDF created in output.pdf"
</pre><p>As you can see, it's quite short. That's partly due to the fact that the output PDF name is hard-coded, so no need to pick it from a command-line argument, and also because I kept the code as simple as possible, for clarity.
</p><p>
The client uses the </p><b>requests library</b><p> to do an </p><a href="http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol"><b>HTTP GET call</b></a><p> to the </p><b>endpoint localhost:8080</b><p> (on which the server is running).
</p><p>
The server then returns the PDF to the client, in a response with the </p><b>Content-Type 'application/pdf'</b><p> - see the server code in the previous post.
</p><p>
The client then writes the response content to disk, in the file 'output.pdf', with binary file mode - the 'wb' argument to open() - since the PDF is a binary file, not text).
</p><p>
Run the server (see the server code in the previous post linked to near the top of this post):
</p><pre>$ python netius_pdf_server.py
2014-11-04 22:00:45,733 [INFO] Booting netius 1.4.3 (CPython 2.7.8.final win32)
...
2014-11-04 22:00:45,795 [INFO] Serving 'WSGIServer' service on 127.0.0.1:8080 ..
.
2014-11-04 22:00:45,796 [INFO] Starting HTTP server with 'plain' encoding ...
</pre><p>(I renamed the server program from test_netius_wsgi_server.py (as shown in the server post) to netius_pdf_server.py.)
</p><p>
Then run the client in another terminal window:
</p><pre>$ python netius_pdf_client.py
</pre><p>The PDF file fetched from the server gets created on disk. Here's a  screenshot of it, as shown in Foxit PDF Reader:

</p>
<a href=""/><p/><p>- </p><a href="http://jugad2.blogspot.in/2013/03/dancing-bison-enterprises-profile.html">Vasudev Ram - Dancing Bison Enterprises</a><p/><p/><p/><b><a href="mailto:vasudevram@gmail.com?subject=Email%20me%20about%20your%20new%20products%20and%20services">Signup for email about new products from me.</a></b> <p/><p/><a href="http://www.dancingbison.com/contact.html">Contact Page</a>

   
<p/>
</div>
</div></body></html>