<html><body><div><div class="all_external_links">
          <p>After writing my post on <a href="http://www.snarky.ca/why-python-3-exists">why Python 3 exists</a> which included an explanation about the most common question/complaint about why Python 3 forced textual and binary data into separate types, I heard from people about the second most common question/complaint about Python 3: why did we make <code>print</code> a function?</p>

<h1 id="toc_0">Who can do what?</h1>



<p>In its most basic form, <code>print A</code> is the equivalent of <code>sys.stdout.write(str(A) + '\n')</code>. If you pass extra arguments separated by commas then they will also be passed to <code>str()</code> and be printed with a space between each argument. For example, <code>print A, B, C</code> is equivalent to <code>sys.stdout.write(' '.join(map(str, [A, B, C])) + '\n')</code>. If there is a trailing comma then the added newline is left off, e.g. <code>print A,</code> is the same as <code>sys.stdout.write(str(A))</code>.</p>

<p><a href="https://docs.python.org/3/whatsnew/2.0.html#minor-language-changes">Introduced in Python 2.0</a>, the <code>print</code> chevron can be used to redirect where the <code>print</code> statement writes the final string. For instance, <code>print &gt;&gt; output, A</code> is the same as <code>output.write(str(A) + '\n')</code>.</p>



<p>The equivalent definition of the <code>print</code> function is:</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="o">*</span><span class="n">objects</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">"""A Python translation of the C code for builtins.print().</span>


<span class="sd">"""</span>
    <span class="k">if</span> <span class="n">sep</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">sep</span> <span class="o">=</span> <span class="s">' '</span>
    <span class="k">if</span> <span class="n">end</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">end</span> <span class="o">=</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span>
    <span class="k">if</span> <span class="nb">file</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="nb">file</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>
    <span class="nb">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">sep</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">objects</span><span class="p">))</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flush</span><span class="p">:</span>
        <span class="nb">file</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</pre></div>
<p>As you may have noticed, all the features of the <code>print</code> statement are covered by the <code>print</code> function.</p>

<ul>
<li><code>print A</code> == <code>print(A)</code></li>
<li><code>print A, B, C</code> == <code>print(A, B, C)</code></li>
<li><code>print A,</code> == <code>print(A, end='')</code></li>
<li><code>print &gt;&gt; output, A</code> == <code>print(A, file=output)</code></li>
</ul>

<p>The obvious thing the <code>print</code> function gets you that the above examples implicitly demonstrate is the ability to specify a different separator and end string compared to the syntactic <code>print</code> statement.</p>

<h1 id="toc_3">It's all about flexibility</h1>

<p>But the real key to the <code>print</code> function is somewhat subtle and it all has to do with flexibility, both for the users and the Python development team. For users, making <code>print</code> a function lets you use <code>print</code> as an <a href="https://docs.python.org/3/reference/expressions.html">expression</a>, unlike the <code>print</code> statement which can only be used as a <a href="https://docs.python.org/3/reference/simple_stmts.html">statement</a>. As an example, let's say you wanted to print an ellipsis after every line to indicate that more work was to be done. With the <code>print</code> statement you would have two options:</p>
<div class="highlight"><pre><span class="c"># Manually ...</span>
<span class="k">print</span> <span class="n">A</span><span class="p">,</span> <span class="s">'...'</span>

<span class="c"># For a reusable solution (which also works with a functional print) ...</span>
<span class="k">def</span> <span class="nf">ellipsis_print</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">arg</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span>
    <span class="k">print</span> <span class="s">'...'</span>
</pre></div>
<p>But for Python 3, you have much better solutions:</p>
<div class="highlight"><pre><span class="c"># Manually ...</span>
<span class="k">print</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">'...</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>

<span class="c"># Multiple reusable solutions that won't work with a syntactic print...</span>
<span class="n">ellipsis_print</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">'...</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
<span class="c"># Or ...</span>
<span class="kn">import</span> <span class="nn">functools</span>
<span class="n">ellipsis_print</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="k">print</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">'...</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
</pre></div>
<p>In other words, with <code>print</code> as a function it becomes composable while as a statement it isn't. Heck, you can even override the <code>print</code> function by assigning to <code>builtins.print</code> while you can't do that with a statement.</p>

<p>The flexibility that the Python development team gains is being unshackled from having to make the features of <code>print</code> work in a syntactic fashion. For instance, if you wanted to add the same flexibility of being able to specify what string to use as the separator in the <code>print</code> statement, how would you do it? It's a rather tough design problem to solve. But with a function, you just add a new argument and you're done. The richness of Python's function parameters give a greater amount of flexibility than syntax does.</p>

<p>It should also be mentioned that as a general guideline, syntax is reserved for things that are either impossible to do otherwise or there is a clear readability benefit to the syntax. In the case of <code>print</code>, the difference between <code>print A</code> and <code>print(A)</code> is negligible and thus there is no loss in readability. And since we were able to completely replace <code>print</code> with a function there was no loss in functionality, hence why we reduced the amount of syntax in Python 3 by making <code>print</code> a function (along with <a href="https://docs.python.org/3/whatsnew/3.0.html#removed-syntax">removing a bunch of other bits of syntax</a>).</p>

        </div>
        <div class="suggested-article-lists">
      <p> You might also be interested in these articles... </p>
      
    </div>

        </div></body></html>