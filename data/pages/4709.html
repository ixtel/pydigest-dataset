<html><body><div><div class="field-item even" property="schema:articleBody content:encoded"><p>As the number of applications and APIs connected in a cloud-driven world rises dramatically, it becomes a challenge to integrate them in an elegant way that will scale in terms of the clarity of architecture, run-time performance, complexity of processes the systems take part in, and the level of maintenance required to keep integrated environments operational.</p>
<p>Organizations whose applications grow organically with time tend to get entangled in a cobweb of unmanageable dependencies, unidentified requirements, and hidden flows of information that cannot be touched lest seemingly unrelated parts suddenly stop functioning. This can happen to everyone, and is actually to be expected to some extent.</p>
<p>It's natural to think that one can easily manage just a couple of APIs here and there.</p>
<p><img src="https://opensource.com/sites/default/files/articles/suchojad_f1.png" alt="It's natural to think that one can easily manage just a couple of APIs here and there ." title="" class="media-element file-default" info="%7B%22fid%22:%22281501%22,%22view_mode%22:%22default%22,%22fields%22:%7B%22format%22:%22default%22,%22field_file_image_alt_text%5Bund%5D%5B0%5D%5Bvalue%5D%22:%22It's%20natural%20to%20think%20that%20one%20can%20easily%20manage%20just%20a%20couple%20of%20APIs%20here%20and%20there%20.%22,%22field_file_image_title_text%5Bund%5D%5B0%5D%5Bvalue%5D%22:%22%22,%22field_file_image_caption%5Bund%5D%5B0%5D%5Bvalue%5D%22:%22%22,%22field_file_image_caption%5Bund%5D%5B0%5D%5Bformat%5D%22:%22panopoly_html_text%22,%22field_folder%5Bund%5D%22:%229403%22%7D,%22type%22:%22media%22%7D"/></p>
<p>Yet, what starts out as just a few calls to one system or another has an intriguing characteristic of inevitably turning into a closely coupled network of actors whose further usage or development becomes next to impossible:</p>
<p><img src="https://opensource.com/sites/default/files/articles/suchojad_f2.png" alt="A couple of APIs turns into a closely coupled network of actors " title="" class="media-element file-default" info="%7B%22fid%22:%22281506%22,%22view_mode%22:%22default%22,%22fields%22:%7B%22format%22:%22default%22,%22field_file_image_alt_text%5Bund%5D%5B0%5D%5Bvalue%5D%22:%22A%20couple%20of%20APIs%20turns%20into%20a%20closely%20coupled%20network%20of%20actors%20%22,%22field_file_image_title_text%5Bund%5D%5B0%5D%5Bvalue%5D%22:%22%22,%22field_file_image_caption%5Bund%5D%5B0%5D%5Bvalue%5D%22:%22%22,%22field_file_image_caption%5Bund%5D%5B0%5D%5Bformat%5D%22:%22panopoly_html_text%22,%22field_folder%5Bund%5D%22:%229403%22%7D,%22type%22:%22media%22%7D"/></p>
<p>This has become particularly evident in the today's always-connected landscape of online APIs that grow in importance on a huge scale.</p>
<h2>Introducing IRA services</h2>
<p>To deal with demand and introduce order one can look to software such as the <a href="https://www.python.org/" target="_blank">Python</a>-based <a href="https://zato.io/docs/" target="_blank">Zato</a> integration platform, released under LGPL and freely available both from <a href="https://github.com/zatosource" target="_blank">GitHub</a> as well as a set of <a href="https://zato.io/docs/admin/guide/install-zato.html" target="_blank">OS-specific packages</a>.</p>
<p>Zato promotes clear separation of systems and APIs being integrated and emphasizes architecting integrations out of <a href="https://zato.io/docs/intro/esb-soa.html" target="_blank">IRA services</a> that substitute point-to-point communication.</p>
<p>An IRA service is a piece of functionality running in a distributed and clustered environment with the attributes of being:</p>
<ul>
<li>Interesting</li>
<li>Reusable</li>
<li>Atomic</li>
</ul>
<p>This, in fact, is nothing else than the <a href="https://en.wikipedia.org/wiki/UNIX_philosophy" target="_blank">Unix philosophy</a> taken onto a much higher level of composing processes out of applications and APIs rather than individual system programs.</p>
<p>Different settings three decades after the philosophy has been originally postulated yet the principles stay the same—be composable instead of tying everything into a monolith.</p>
<p>While designing software as reusable and atomic building blocks is understood, being interesting may raise an obvious question—what does it mean to be interesting?</p>
<p>The answer is a two-fold question again:</p>
<ul>
<li>Would you truly accept to use such a service yourself each and every day for the next 10 years or more?</li>
<li>Can you fully explain the service's purpose to non-technical stakeholders, the people who ultimately sponsor the development, and have them confirm they can clearly understand what values it brings to the equation?</li>
</ul>
<p>If the stakeholders happen to be technical people, the second question can be reworded—would you be able to explain the service's goal in a single Tweet and have half of your technically-minded followers retweet or favorite it?</p>
<p>Looking at it through a Unix philosophy's perspective and command line tools, this is interesting:</p>
<ul>
<li>
<p>Are you OK with using the <strong>ls</strong> command? Or do you strongly feel it's a spawn of <a href="https://en.wikipedia.org/wiki/R%27Lyeh" target="_blank">R'lyeh</a> that needs to be replaced as soon as possible?</p>
</li>
<li>
<p>Would you have any issues with explaining what a purpose of the <strong>mkdir</strong> command is to a person who understands what directories are?</p>
</li>
</ul>
<p>And now, what is not interesting:</p>
<ul>
<li>
<p>Would you be happy if all shell commands had, say, combinations of options expressed in digits only, changed weekly and unique to each host? For instance 'ls -21' instead of 'ls -la' but 'ls -975' for 'ls -latrh'? I know, one could get used to everything, but would you <strong>truly</strong> condone it with a straight face?</p>
</li>
<li>
<p>How would you explain without any shame the very existence of such a version of <strong>ls</strong> to a newcomer to Linux?</p>
</li>
</ul>
<p>Same goes for integrating APIs and systems—if you follow the IRA principles you'll be asking yourself the same sort of questions. Add reusability and atomicity on top of it and you've got a recipe for a nice approach to connecting otherwise disconnected participants.</p>
<p>Such a service can also be called a <a href="/resources/what-are-microservices" target="_blank">microservice</a>.</p>
<h2>Implementing IRA services</h2>
<p>Now let's suppose there's an application using OpenStack Swift to store information regarding new customers and it all needs to be distributed to various parties. Here's how to approach it while taking IRA into account:</p>
<ul>
<li>Have the producer store everything in Swift containers</li>
<li>Use <a href="https://zato.io/docs/" target="_blank">Zato</a>'s notifications to periodically download latest sets of data</li>
<li>Have Zato distribute the information to intended recipients using given recipient's chosen protocols</li>
</ul>
<p>All of the IRA postulates are fulfilled here:</p>
<ul>
<li>
<p>Producer simply produces output and is not concerned with who really consumes it—if there are more recipients with time, nothing really changes because it's Zato that will know of it, not the producer</p>
</li>
<li>
<p>Likewise, recipients can conveniently assume the fact they are being invoked means new data is ready. If there's a new producer with time, it's all good, they will just accept the payload from Zato.</p>
</li>
<li>
<p>It's Zato that translates information between various formats or protocols such as XML, JSON, SOAP, REST, AMQP or any other</p>
</li>
<li>
<p>Hence, the service of notifying of new customers is:</p>
<ul>
<li>Interesting—easy to explain</li>
<li>Re-usable—can be plugged into various producers or consumers</li>
<li>Atomic—it does one thing only and does it well</li>
</ul>
</li>
</ul>
<pre>from zato.server.service import Service

class CreateCustomer(Service):
    def handle(self):

        # Synchronously call REST recipients as defined in Redis
        for conn_name in self.kvdb.conn.smembers('new.customer'):
            conn = self.outgoing.plain_http[conn_name].conn
            conn.send(self.cid, self.request.raw_request)

        # Async notify all pub/sub recipients
        self.pubsub.publish(self.request.raw_request, '/newcust')
</pre><p>This is yet another example of using IRA in practice because Zato's own architecture lets one develop services that are not bothered with details of where their input comes from—most of the code above can be re-used in different contexts as well, the code itself won't change.</p>
<p>The rest is only a matter of filling out a few forms and clicking OK to propagate the changes throughout the whole Zato cluster.</p>
<p><img src="https://opensource.com/sites/default/files/articles/suchojad_f3.png" alt="The rest is a matter of filling out forms" title="" class="media-element file-default" info="%7B%22fid%22:%22281511%22,%22view_mode%22:%22default%22,%22fields%22:%7B%22format%22:%22default%22,%22field_file_image_alt_text%5Bund%5D%5B0%5D%5Bvalue%5D%22:%22The%20rest%20is%20a%20matter%20of%20filling%20out%20forms%22,%22field_file_image_title_text%5Bund%5D%5B0%5D%5Bvalue%5D%22:%22%22,%22field_file_image_caption%5Bund%5D%5B0%5D%5Bvalue%5D%22:%22%22,%22field_file_image_caption%5Bund%5D%5B0%5D%5Bformat%5D%22:%22panopoly_html_text%22,%22field_folder%5Bund%5D%22:%229403%22%7D,%22type%22:%22media%22%7D"/></p>
<p><img src="https://opensource.com/sites/default/files/articles/suchojad_f4.png" alt="Filling out forms" title="" class="media-element file-default" info="%7B%22fid%22:%22281516%22,%22view_mode%22:%22default%22,%22fields%22:%7B%22format%22:%22default%22,%22field_file_image_alt_text%5Bund%5D%5B0%5D%5Bvalue%5D%22:%22Filling%20out%20forms%22,%22field_file_image_title_text%5Bund%5D%5B0%5D%5Bvalue%5D%22:%22%22,%22field_file_image_caption%5Bund%5D%5B0%5D%5Bvalue%5D%22:%22%22,%22field_file_image_caption%5Bund%5D%5B0%5D%5Bformat%5D%22:%22panopoly_html_text%22,%22field_folder%5Bund%5D%22:%229403%22%7D,%22type%22:%22media%22%7D"/></p>
<p>That code + a few GUI clicks alone suffices for Swift notifications be distributed among all the parties interested though on top of it there is also <a href="https://zato.io/docs/admin/cli/index.html">command line interface</a> and the platform's own <a href="https://zato.io/docs/public-api/intro.html">public admin API</a>.</p>
<p>And here it is, an IRA service confirming to IRA principles:</p>
<ul>
<li>Interesting—strikes as something that will come in handy in multiple situations</li>
<li>Reusable—can be used in many situations</li>
<li>Atomic—does its own job and excels at it</li>
</ul>
<p>Such services can now form higher-level business processes, all of them again interesting, reusable and atomic—the approach is scalable from lowest to highest levels.</p>
<p>To get in touch with the Zato project, you can drop by <a href="https://mailman-mail5.webfaction.com/listinfo/zato-discuss" target="_blank">the mailing list</a>, <a href="https://webchat.freenode.net/?channels=zato" target="_blank">IRC</a>, <a href="https://twitter.com/zatosource" target="_blank">Twitter</a> or the <a href="https://www.linkedin.com/groups?gid=5015554" target="_blank">LinkedIn group</a>.</p>
<p>Everyone is strongly encouraged to share their thoughts, ideas or code on how to best integrate modern APIs in a way that guarantees flexibility and ease of use.</p>
</div></div></body></html>