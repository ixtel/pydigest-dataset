<html><body><div><div id="content_left"><p id="ie_msg"/>
		
	<div class="paste_box_frame">
		
		
		<div class="paste_box_info">
			<p class="paste_box_line1" title="PiSD_Manager"><h1>PiSD_Manager</h1></p>
			<div class="paste_box_line2">
				<img src="/i/t.gif" class="img_line t_us" alt=""/><p> a guest 
				</p><img src="/i/t.gif" class="img_line t_da" alt=""/> <span title="Saturday 29th of November 2014 07:48:55 PM CDT">Nov 29th, 2014</span>
				<img src="/i/t.gif" class="img_line t_vi" alt="" title="Unique visits to this paste"/><p> 304
				</p><img src="/i/t.gif" class="img_line t_ex" alt="" title="When this paste gets automatically deleted"/><p> Never
			</p></div>
		</div>
	</div>
	<p id="abrpm"/>
			<p class="banner_728">
				
				
			</p>
			<p class="layout_clear"/>
	<div id="code_frame2">
		<div id="code_frame">
			
			<div id="selectable">
				<div class="python"><ol><li class="li1"><p class="de1"><span class="co1">#!/usr/bin/env python3</span></p></li>
<li class="li2"><p class="de2"><span class="kw1">import</span> <span class="kw3">subprocess</span></p></li>
<li class="li1"><p class="de1"><span class="kw1">from</span> tkinter <span class="kw1">import</span> *</p></li>
<li class="li2"><p class="de2"><span class="kw1">from</span> tkinter <span class="kw1">import</span> ttk</p></li>
<li class="li1"><p class="de1"><span class="kw1">class</span> PiSD_Manager:</p></li>
<li class="li2"><p class="de2">        </p></li>
<li class="li1"><p class="de1">    <span class="kw1">def</span> actbkup<span class="br0">(</span><span class="kw2">self</span><span class="br0">)</span>:</p></li>
<li class="li2"><p class="de2">        <span class="kw1">print</span><span class="br0">(</span><span class="st0">'Starting BackUp...'</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        <span class="kw3">subprocess</span>.<span class="me1">check_output</span><span class="br0">(</span><span class="st0">"gksudo dd bs=1M if="</span>+<span class="kw2">self</span>.<span class="me1">Device</span>.<span class="me1">getvar</span><span class="br0">(</span>name<span class="sy0">=</span><span class="st0">'theDevice'</span><span class="br0">)</span>+<span class="st0">" | gzip &gt; "</span>+<span class="kw2">self</span>.<span class="me1">File</span>.<span class="me1">getvar</span><span class="br0">(</span>name<span class="sy0">=</span><span class="st0">'theFile'</span><span class="br0">)</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        messagebox.<span class="me1">showinfo</span><span class="br0">(</span>title<span class="sy0">=</span><span class="st0">'PiSD Manager'</span><span class="sy0">,</span> message<span class="sy0">=</span><span class="st0">'BackUp Complete!'</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">    <span class="kw1">def</span> actres<span class="br0">(</span><span class="kw2">self</span><span class="br0">)</span>:</p></li>
<li class="li2"><p class="de2">        <span class="kw1">print</span><span class="br0">(</span><span class="st0">'Sarting Restore...'</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        <span class="kw3">subprocess</span>.<span class="me1">check_output</span><span class="br0">(</span><span class="st0">"gzip -dc "</span>+<span class="kw2">self</span>.<span class="me1">File</span>.<span class="me1">getvar</span><span class="br0">(</span>name<span class="sy0">=</span><span class="st0">'theFile'</span><span class="br0">)</span>+</p></li>
<li class="li2"><p class="de2">                                <span class="st0">" | gksudo dd bs=1M of="</span>+<span class="kw2">self</span>.<span class="me1">Device</span>.<span class="me1">getvar</span><span class="br0">(</span>name<span class="sy0">=</span><span class="st0">'theDevice'</span><span class="br0">)</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        messagebox.<span class="me1">showinfo</span><span class="br0">(</span>title<span class="sy0">=</span><span class="st0">'PiSD Manager'</span><span class="sy0">,</span> message<span class="sy0">=</span><span class="st0">'Restore Complete!'</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">    <span class="kw1">def</span> restore<span class="br0">(</span><span class="kw2">self</span><span class="br0">)</span>:</p></li>
<li class="li1"><p class="de1">        <span class="kw2">self</span>.<span class="me1">gui</span>.<span class="me1">destroy</span><span class="br0">(</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">rgui</span> <span class="sy0">=</span> Tk<span class="br0">(</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        <span class="kw2">self</span>.<span class="me1">rgui</span>.<span class="me1">title</span><span class="br0">(</span><span class="st0">'PiSD Manager'</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">rgui</span>.<span class="me1">resizable</span><span class="br0">(</span>width<span class="sy0">=</span><span class="kw2">False</span><span class="sy0">,</span>height<span class="sy0">=</span><span class="kw2">False</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        FileLbl <span class="sy0">=</span> ttk.<span class="me1">Label</span><span class="br0">(</span><span class="kw2">self</span>.<span class="me1">rgui</span><span class="sy0">,</span>text<span class="sy0">=</span><span class="st0">'File To Restore:'</span><span class="br0">)</span>.<span class="me1">grid</span><span class="br0">(</span>row<span class="sy0">=</span><span class="nu0">0</span><span class="sy0">,</span>column<span class="sy0">=</span><span class="nu0">0</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">File</span> <span class="sy0">=</span> Entry<span class="br0">(</span><span class="kw2">self</span>.<span class="me1">rgui</span><span class="sy0">,</span>textvariable<span class="sy0">=</span><span class="st0">'theFile'</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        <span class="kw2">self</span>.<span class="me1">File</span>.<span class="me1">grid</span><span class="br0">(</span>row<span class="sy0">=</span><span class="nu0">1</span><span class="sy0">,</span>column<span class="sy0">=</span><span class="nu0">0</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        DevLbl <span class="sy0">=</span> ttk.<span class="me1">Label</span><span class="br0">(</span><span class="kw2">self</span>.<span class="me1">rgui</span><span class="sy0">,</span>text<span class="sy0">=</span><span class="st0">'Device (IE: /dev/mmcblk0 |OR| /dev/sdX)'</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        DevLbl.<span class="me1">grid</span><span class="br0">(</span>row<span class="sy0">=</span><span class="nu0">2</span><span class="sy0">,</span>column<span class="sy0">=</span><span class="nu0">0</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">Device</span> <span class="sy0">=</span> Entry<span class="br0">(</span><span class="kw2">self</span>.<span class="me1">rgui</span><span class="sy0">,</span>textvariable<span class="sy0">=</span><span class="st0">'theDevice'</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        <span class="kw2">self</span>.<span class="me1">Device</span>.<span class="me1">grid</span><span class="br0">(</span>row<span class="sy0">=</span><span class="nu0">3</span><span class="sy0">,</span>column<span class="sy0">=</span><span class="nu0">0</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">act</span> <span class="sy0">=</span> ttk.<span class="me1">Button</span><span class="br0">(</span><span class="kw2">self</span>.<span class="me1">rgui</span><span class="sy0">,</span>command<span class="sy0">=</span><span class="kw2">self</span>.<span class="me1">actres</span><span class="sy0">,</span>text<span class="sy0">=</span><span class="st0">'Restore!'</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        Label<span class="br0">(</span><span class="kw2">self</span>.<span class="me1">rgui</span><span class="br0">)</span>.<span class="me1">grid</span><span class="br0">(</span>row<span class="sy0">=</span><span class="nu0">4</span><span class="sy0">,</span>column<span class="sy0">=</span><span class="nu0">0</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">act</span>.<span class="me1">grid</span><span class="br0">(</span>row<span class="sy0">=</span><span class="nu0">5</span><span class="sy0">,</span>column<span class="sy0">=</span><span class="nu0">0</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">    </p></li>
<li class="li2"><p class="de2">    <span class="kw1">def</span> backup<span class="br0">(</span><span class="kw2">self</span><span class="br0">)</span>:</p></li>
<li class="li1"><p class="de1">        <span class="kw2">self</span>.<span class="me1">gui</span>.<span class="me1">destroy</span><span class="br0">(</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">bgui</span> <span class="sy0">=</span> Tk<span class="br0">(</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        <span class="kw2">self</span>.<span class="me1">bgui</span>.<span class="me1">title</span><span class="br0">(</span><span class="st0">'PiSD Manager'</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">bgui</span>.<span class="me1">resizable</span><span class="br0">(</span>width<span class="sy0">=</span><span class="kw2">False</span><span class="sy0">,</span>height<span class="sy0">=</span><span class="kw2">False</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        FileLbl <span class="sy0">=</span> ttk.<span class="me1">Label</span><span class="br0">(</span><span class="kw2">self</span>.<span class="me1">bgui</span><span class="sy0">,</span>text<span class="sy0">=</span><span class="st0">'BackUp To File:'</span><span class="br0">)</span>.<span class="me1">grid</span><span class="br0">(</span>row<span class="sy0">=</span><span class="nu0">0</span><span class="sy0">,</span>column<span class="sy0">=</span><span class="nu0">0</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">File</span> <span class="sy0">=</span> Entry<span class="br0">(</span><span class="kw2">self</span>.<span class="me1">bgui</span><span class="sy0">,</span>textvariable<span class="sy0">=</span><span class="st0">'theFile'</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        <span class="kw2">self</span>.<span class="me1">File</span>.<span class="me1">grid</span><span class="br0">(</span>row<span class="sy0">=</span><span class="nu0">1</span><span class="sy0">,</span>column<span class="sy0">=</span><span class="nu0">0</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        DevLbl <span class="sy0">=</span> ttk.<span class="me1">Label</span><span class="br0">(</span><span class="kw2">self</span>.<span class="me1">bgui</span><span class="sy0">,</span>text<span class="sy0">=</span><span class="st0">'Device (IE: /dev/mmcblk0 |OR| /dev/sdX)'</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        DevLbl.<span class="me1">grid</span><span class="br0">(</span>row<span class="sy0">=</span><span class="nu0">2</span><span class="sy0">,</span>column<span class="sy0">=</span><span class="nu0">0</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">Device</span> <span class="sy0">=</span> Entry<span class="br0">(</span><span class="kw2">self</span>.<span class="me1">bgui</span><span class="sy0">,</span>textvariable<span class="sy0">=</span><span class="st0">'theDevice'</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        <span class="kw2">self</span>.<span class="me1">Device</span>.<span class="me1">grid</span><span class="br0">(</span>row<span class="sy0">=</span><span class="nu0">3</span><span class="sy0">,</span>column<span class="sy0">=</span><span class="nu0">0</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">act</span> <span class="sy0">=</span> ttk.<span class="me1">Button</span><span class="br0">(</span><span class="kw2">self</span>.<span class="me1">bgui</span><span class="sy0">,</span>command<span class="sy0">=</span><span class="kw2">self</span>.<span class="me1">actbkup</span><span class="sy0">,</span>text<span class="sy0">=</span><span class="st0">'BackUp!'</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        Label<span class="br0">(</span><span class="kw2">self</span>.<span class="me1">bgui</span><span class="br0">)</span>.<span class="me1">grid</span><span class="br0">(</span>row<span class="sy0">=</span><span class="nu0">4</span><span class="sy0">,</span>column<span class="sy0">=</span><span class="nu0">0</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">act</span>.<span class="me1">grid</span><span class="br0">(</span>row<span class="sy0">=</span><span class="nu0">5</span><span class="sy0">,</span>column<span class="sy0">=</span><span class="nu0">0</span><span class="br0">)</span> </p></li>
<li class="li1"><p class="de1">        </p></li>
<li class="li2"><p class="de2">    <span class="kw1">def</span> <span class="kw4">__init__</span><span class="br0">(</span><span class="kw2">self</span><span class="br0">)</span>:</p></li>
<li class="li1"><p class="de1">        <span class="kw2">self</span>.<span class="me1">gui</span> <span class="sy0">=</span> Tk<span class="br0">(</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">gui</span>.<span class="me1">title</span><span class="br0">(</span><span class="st0">'PiSD Manager'</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        <span class="kw2">self</span>.<span class="me1">gui</span>.<span class="me1">resizable</span><span class="br0">(</span>width<span class="sy0">=</span><span class="kw2">False</span><span class="sy0">,</span>height<span class="sy0">=</span><span class="kw2">False</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        restoreBtn <span class="sy0">=</span> ttk.<span class="me1">Button</span><span class="br0">(</span><span class="kw2">self</span>.<span class="me1">gui</span><span class="sy0">,</span>command<span class="sy0">=</span><span class="kw2">self</span>.<span class="me1">restore</span><span class="sy0">,</span>text<span class="sy0">=</span><span class="st0">'Restore Archive To SD'</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        backupBtn <span class="sy0">=</span> ttk.<span class="me1">Button</span><span class="br0">(</span><span class="kw2">self</span>.<span class="me1">gui</span><span class="sy0">,</span>command<span class="sy0">=</span><span class="kw2">self</span>.<span class="me1">backup</span><span class="sy0">,</span>text<span class="sy0">=</span><span class="st0">'Create Archive From SD'</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        restoreBtn.<span class="me1">pack</span><span class="br0">(</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1">        backupBtn.<span class="me1">pack</span><span class="br0">(</span><span class="br0">)</span></p></li>
<li class="li2"><p class="de2">        <span class="kw2">self</span>.<span class="me1">gui</span>.<span class="me1">mainloop</span><span class="br0">(</span><span class="br0">)</span></p></li>
<li class="li1"><p class="de1"> </p></li>
<li class="li2"><p class="de2"><span class="kw1">if</span> __name__<span class="sy0">==</span><span class="st0">'__main__'</span>:</p></li>
<li class="li1"><p class="de1">    sdman <span class="sy0">=</span> PiSD_Manager<span class="br0">(</span><span class="br0">)</span></p></li>
</ol></div>
			</div>
		</div>
	</div>
	<p class="content_title no_border">RAW Paste Data</p>
	<p class="textarea_border">
		
	</p>
			<p>
				
				
			</p>						</div>
					</div></body></html>