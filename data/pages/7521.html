<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-the-best-of-the-best-practices-bobp-guide-for-python" class="anchor" href="#the-best-of-the-best-practices-bobp-guide-for-python" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>The Best of the Best Practices (BOBP) Guide for Python</h1>

<p>A "Best of the Best Practices" (BOBP) guide to developing in Python.</p>

<h2><a id="user-content-in-general" class="anchor" href="#in-general" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>In General</h2>

<h3><a id="user-content-values" class="anchor" href="#values" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Values</h3>

<ul>
<li>"Build tools for others that you want to be built for you." - Kenneth Reitz</li>
<li>"Simplicity is alway better than functionality." - Pieter Hintjens</li>
<li>"Fit the 90% use-case. Ignore the nay sayers." - Kenneth Reitz</li>
<li>"Beautiful is better than ugly." - <a href="http://www.python.org/dev/peps/pep-0020/">PEP 20</a></li>
<li>Build for open source (even for closed source projects).</li>
</ul>

<h3><a id="user-content-general-development-guidelines" class="anchor" href="#general-development-guidelines" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>General Development Guidelines</h3>

<ul>
<li>"Explicit is better than implicit" - <a href="http://www.python.org/dev/peps/pep-0020/">PEP 20</a></li>
<li>"Readability counts." - <a href="http://www.python.org/dev/peps/pep-0020/">PEP 20</a></li>
<li>"Anybody can fix anything." - <a href="https://sites.google.com/a/khanacademy.org/forge/for-developers">Khan Academy Development Docs</a></li>
<li>Fix each <a href="http://www.artima.com/intv/fixit2.html">broken window</a> (bad design, wrong decision, or poor code) <em>as soon as it is discovered</em>.</li>
<li>"Now is better than never." - <a href="http://www.python.org/dev/peps/pep-0020/">PEP 20</a></li>
<li>Test ruthlessly. Write docs for new features.</li>
<li>Even more important that Test-Driven Development--<em>Human-Driven Development</em></li>
<li>These guidelines may--and probably will--change.</li>
</ul>

<h2><a id="user-content-in-particular" class="anchor" href="#in-particular" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>In Particular</h2>

<h3><a id="user-content-style" class="anchor" href="#style" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Style</h3>

<p>Follow <a href="http://www.python.org/dev/peps/pep-0008/">PEP 8</a>, when sensible.</p>

<h4><a id="user-content-naming" class="anchor" href="#naming" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Naming</h4>

<ul>
<li>Variables, functions, methods, packages, modules

<ul>
<li><code>lower_case_with_underscores</code></li>
</ul></li>
<li>Classes and Exceptions

</li>
<li>Protected methods and internal functions

<ul>
<li><code>_single_leading_underscore(self, ...)</code></li>
</ul></li>
<li>Private methods

<ul>
<li><code>__double_leading_underscore(self, ...)</code></li>
</ul></li>
<li>Constants

<ul>
<li><code>ALL_CAPS_WITH_UNDERSCORES</code></li>
</ul></li>
</ul>

<h6><a id="user-content-general-naming-guidelines" class="anchor" href="#general-naming-guidelines" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>General Naming Guidelines</h6>

<p>Avoid one-letter variables (esp. <code>l</code>, <code>O</code>, <code>I</code>). </p>

<p><em>Exception</em>: In very short blocks, when the meaning is clearly visible from the immediate context</p>

<p><strong>Fine</strong></p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">for</span> e <span class="pl-k">in</span> elements:
    e.mutate()</pre></div>

<p>Avoid redundant labeling.</p>

<p><strong>Yes</strong></p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> audio

core <span class="pl-k">=</span> audio.Core()
controller <span class="pl-k">=</span> audio.Controller()</pre></div>

<p><strong>No</strong></p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> audio

core <span class="pl-k">=</span> audio.AudioCore()
controller <span class="pl-k">=</span> audio.AudioController()</pre></div>

<p>Prefer "reverse notation".</p>

<p><strong>Yes</strong></p>

<div class="highlight highlight-source-python"><pre>elements <span class="pl-k">=</span> <span class="pl-c1">...</span>
elements_active <span class="pl-k">=</span> <span class="pl-c1">...</span>
elements_defunct <span class="pl-k">=</span> <span class="pl-c1">...</span></pre></div>

<p><strong>No</strong></p>

<div class="highlight highlight-source-python"><pre>elements <span class="pl-k">=</span> <span class="pl-c1">...</span>
active_elements <span class="pl-k">=</span> <span class="pl-c1">...</span>
defunct_elements <span class="pl-c1">...</span></pre></div>

<p>Avoid getter and setter methods.</p>

<p><strong>Yes</strong></p>



<p><strong>No</strong></p>



<h4><a id="user-content-indentation" class="anchor" href="#indentation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Indentation</h4>

<p>Use 4 spaces--never tabs. Enough said.</p>

<h4><a id="user-content-imports" class="anchor" href="#imports" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Imports</h4>

<p>Import entire modules instead of individual symbols within a module. For example, for a top-level module <code>canteen</code> that has a file <code>canteen/sessions.py</code>,</p>

<p><strong>Yes</strong></p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> canteen
<span class="pl-k">import</span> canteen.sessions
<span class="pl-k">from</span> canteen <span class="pl-k">import</span> sessions</pre></div>

<p><strong>No</strong></p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> canteen <span class="pl-k">import</span> get_user  <span class="pl-c"># Symbol from canteen/__init__.py</span>
<span class="pl-k">from</span> canteen.sessions <span class="pl-k">import</span> get_session  <span class="pl-c"># Symbol from canteen/sessions.py</span></pre></div>

<p><em>Exception</em>: For third-party code where documentation explicitly says to import individual symbols.</p>

<p><em>Rationale</em>: Avoids circular imports. See <a href="https://sites.google.com/a/khanacademy.org/forge/for-developers/styleguide/python#TOC-Imports">here</a>.</p>

<p>Put all imports at the top of the page with three sections, each separated by a blank line, in this order:</p>

<ol>
<li>System imports</li>
<li>Third-party imports</li>
<li>Local source tree imports</li>
</ol>

<p><em>Rationale</em>: Makes it clear where each module is coming from.</p>

<h4><a id="user-content-documentation" class="anchor" href="#documentation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Documentation</h4>

<p>Follow <a href="http://www.python.org/dev/peps/pep-0257/">PEP 257</a>'s docstring guidelines. <a href="http://docutils.sourceforge.net/docs/user/rst/quickref.html">reStructured Text</a> and <a href="http://sphinx-doc.org/">Sphinx</a> can help to enforce these standards.</p>

<p>Use one-line docstrings for obvious functions.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-s"><span class="pl-pds">"""</span>Return the pathname of ``foo``.<span class="pl-pds">"""</span></span></pre></div>

<p>Multiline docstrings should include</p>

<ul>
<li>Summary line</li>
<li>Use case, if appropriate</li>
<li>Args</li>
<li>Return type and semantics, unless <code>None</code> is returned</li>
</ul>

<div class="highlight highlight-source-python"><pre><span class="pl-s"><span class="pl-pds">"""</span>Train a model to classify Foos and Bars.</span>
<span class="pl-s"/>
<span class="pl-s">Usage::</span>
<span class="pl-s"/>
<span class="pl-s">    <span class="pl-k">&gt;&gt;&gt; </span>import klassify</span>
<span class="pl-s">    <span class="pl-k">&gt;&gt;&gt; </span>data = [("green", "foo"), ("orange", "bar")]</span>
<span class="pl-s">    <span class="pl-k">&gt;&gt;&gt; </span>classifier = klassify.train(data)</span>
<span class="pl-s"/>
<span class="pl-s">:param train_data: A list of tuples of the form ``(color, label)``.</span>
<span class="pl-s">:rtype: A :class:`Classifier &lt;Classifier&gt;`</span>
<span class="pl-s"><span class="pl-pds">"""</span></span></pre></div>

<p>Notes</p>

<ul>
<li>Use action words ("Return") rather than descriptions ("Returns").</li>
<li>Document <code>__init__</code> methods in the docstring for the class.</li>
</ul>

<div class="highlight highlight-source-python"><pre><span class="pl-k">class</span> <span class="pl-en">Person</span>(<span class="pl-c1">object</span>):
    <span class="pl-s"><span class="pl-pds">"""</span>A simple representation of a human being.</span>
<span class="pl-s"/>
<span class="pl-s">    :param name: A string, the person's name.</span>
<span class="pl-s">    :param age: An int, the person's age.</span>
<span class="pl-s">    <span class="pl-pds">"""</span></span>
    <span class="pl-k">def</span> <span class="pl-c1">__init__</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">name</span>, <span class="pl-smi">age</span>):
        <span class="pl-v">self</span>.name <span class="pl-k">=</span> name
        <span class="pl-v">self</span>.age <span class="pl-k">=</span> age</pre></div>

<h5><a id="user-content-on-comments" class="anchor" href="#on-comments" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>On comments</h5>

<p>Use them sparingly. Prefer code readability to writing a lot of comments. Often, small methods are more effective than comments.</p>

<p><em>No</em></p>

<div class="highlight highlight-source-python"><pre><span class="pl-c"># If the sign is a stop sign</span>
<span class="pl-k">if</span> sign.color <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>red<span class="pl-pds">'</span></span> <span class="pl-k">and</span> sign.sides <span class="pl-k">==</span> <span class="pl-c1">8</span>:
    stop()</pre></div>

<p><em>Yes</em></p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">is_stop_sign</span>(<span class="pl-smi">sign</span>):
    <span class="pl-k">return</span> sign.color <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>red<span class="pl-pds">'</span></span> <span class="pl-k">and</span> sign.sides <span class="pl-k">==</span> <span class="pl-c1">8</span>

<span class="pl-k">if</span> is_stop_sign(sign):
    stop()</pre></div>

<p>When you do write comments, remember: "Strunk and White apply." - <a href="http://www.python.org/dev/peps/pep-0008/">PEP 8</a></p>

<h4><a id="user-content-line-lengths" class="anchor" href="#line-lengths" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Line lengths</h4>

<p>Don't stress over it. 80-100 characters is fine.</p>

<p>Use parentheses for line continuations.</p>

<div class="highlight highlight-source-python"><pre>wiki <span class="pl-k">=</span> (
    <span class="pl-s"><span class="pl-pds">"</span>The Colt Python is a .357 Magnum caliber revolver formerly manufactured <span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>by Colt's Manufacturing Company of Hartford, Connecticut. It is sometimes <span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">'</span>referred to as a "Combat Magnum". It was first introduced in 1955, the <span class="pl-pds">'</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>same year as Smith &amp; Wesson's M29 .44 Magnum.<span class="pl-pds">"</span></span>
)</pre></div>

<h3><a id="user-content-testing" class="anchor" href="#testing" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Testing</h3>

<p>Strive for 100% code coverage, but don't get obsess over the coverage score.</p>

<h4><a id="user-content-general-testing-guidelines" class="anchor" href="#general-testing-guidelines" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>General testing guidelines</h4>

<ul>
<li>Use long, descriptive names. This often obviates the need for doctrings in test methods.</li>
<li>Tests should be isolated. Don't interact with a real database or network. Use a separate test database that gets torn down or use mock objects.</li>
<li>Prefer <a href="https://github.com/rbarrois/factory_boy">factories</a> to fixtures.</li>
<li>Never let incomplete tests pass, else you run the risk of forgetting about them. Instead, add a placeholder like <code>assert False, "TODO: finish me"</code>.</li>
</ul>

<h4><a id="user-content-unit-tests" class="anchor" href="#unit-tests" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Unit Tests</h4>

<ul>
<li>Focus on one tiny bit of functionality.</li>
<li>Should be fast, but a slow test is better than no test.</li>
<li>It often makes sense to have one testcase class for a single class or model.</li>
</ul>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> unittest
<span class="pl-k">import</span> factories

<span class="pl-k">class</span> <span class="pl-en">PersonTest</span>(<span class="pl-e">unittest</span>.<span class="pl-e">TestCase</span>):
    <span class="pl-k">def</span> <span class="pl-en">setUp</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>):
        <span class="pl-v">self</span>.person <span class="pl-k">=</span> factories.PersonFactory()

    <span class="pl-k">def</span> <span class="pl-en">test_has_age_in_dog_years</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>):
        <span class="pl-v">self</span>.assertEqual(<span class="pl-v">self</span>.person.dog_years, <span class="pl-v">self</span>.person.age <span class="pl-k">/</span> <span class="pl-c1">7</span>)</pre></div>

<h4><a id="user-content-functional-tests" class="anchor" href="#functional-tests" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Functional Tests</h4>

<p>Functional tests are higher level tests that are closer to how an end-user would interact with your application. They are typically used for web and GUI applications.</p>

<ul>
<li>Write tests as scenarios. Testcase and test method names should read like a scenario description.</li>
<li>Use comments to write out stories, <em>before writing the test code</em>.</li>
</ul>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> unittest

<span class="pl-k">class</span> <span class="pl-en">TestAUser</span>(<span class="pl-e">unittest</span>.<span class="pl-e">TestCase</span>):

    <span class="pl-k">def</span> <span class="pl-en">test_can_write_a_blog_post</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>):
        <span class="pl-c"># Goes to the her dashboard</span>
        <span class="pl-c1">...</span>
        <span class="pl-c"># Clicks "New Post"</span>
        <span class="pl-c1">...</span>
        <span class="pl-c"># Fills out the post form</span>
        <span class="pl-c1">...</span>
        <span class="pl-c"># Clicks "Submit"</span>
        <span class="pl-c1">...</span>
        <span class="pl-c"># Can see the new post</span>
        <span class="pl-c1">...</span></pre></div>

<p>Notice how the testcase and test method read together like "Test A User can write a blog post".</p>

<h2><a id="user-content-inspired-by" class="anchor" href="#inspired-by" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Inspired by...</h2>


</article>
  </div></body></html>