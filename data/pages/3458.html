<html><body><div><p class="lead" itemprop="description">Показываем на сайте статически и динамически сформированные блоки в зависимости от текущего URL.</p>
                <div class="py_user"><p>Сегодня выкладываю очередную версию </p><a href="https://pypi.python.org/pypi/django-siteblocks" target="_blank">django-siteblocks</a><p>.</p><p>Это приложение позволяет определить набор блоков с данными, которые будут отображаться пользователям сайта при посещении тех или иных страниц. При этом блоки могут быть двух типов: статические и динамические.</p><p>Динамический блок у нас на pythonz.net используется для вывода изречений из </p><a href="https://github.com/idlesign/pythonz/blob/master/apps/zen.py" target="_blank">Дзена Питона</a><p> (пример на странице «О проекте»).</p><p>Статические блоки можно создавать и редактировать прямо через административный интерфейс Django. Динамические блоки, напротив, создаются в коде приложения. Разумеется, при использовании вторых у вас возникает намного больше возможностей определить логику их показа (вплоть до того, что можно вовсе не связывать блок с URL), зато для создания/изменения первых не нужно уметь программировать.</p><p>Кстати, в новой версии, возможностей у статических блоков стало немного больше. Теперь вы можете ограничить доступность блока: например, разрешить его показ только авторизовавшимся пользователям, либо, наоборот, гостям. Именно эта новая возможность используется здесь на pythonz.net: в блоке «Если вам интересно», выводящемся в правой колонке на страницах с детальной информацией о таких объектах как книги и видео, отображаются одни подсказки для гостей и совсем другие для зарегистрированных пользователей.</p><p>Обращаю ваше внимание на то, что можно создать несколько блоков с разным содержимым, но под одним псевдонимом (alias). В этом случае при каждом посещении целевых страниц конкретный блок для вывода будет выбран из заданного перечня псевдослучайным методом.</p><p>Чтобы определить для каких страниц предназначен блок, можно не только указать конкретный URL, но и задать его регулярным выражением, или использовать его имя (см. документацию по именованию URL-шалонов в Django — </p><a href="https://docs.djangoproject.com/en/dev/topics/http/urls/#naming-url-patterns" target="_blank">https://docs.djangoproject.com/<.../></a><p>Когда блоки определены, остаётся только указать в шаблонах места, где они должны выводиться. Это делается при помощи тега </p><code>{% siteblock "my_block" %}</code><p> он принимает псевдоним блока, а также умеет не выводить содержимое блока, а помещать его в переменную контекста шаблона для последующего использования.</p><p>Вот, пожалуй, и всё, что я хотел рассказать этим осенним днём про </p><b>django-siteblocks</b><p>.</p><p>Спасибо за внимание. Удачи!</p></div>

                

                

                </div></body></html>