<html><body><div><p class="lead" itemprop="description">Давайте в общих чертах обозначим основные пункты, благотворно влияющие на доступность, а значит и популярность приложений с открытым кодом, делая упор на библиотеки — область взаимодействия «разработчик-разработчик».</p>
                <div class="py_user"><b>Документирование</b><p>    Документация — основополагающий фактор. Качество и доступность изложения в документации важны уже потому, что именно с неё зачастую начинается знакомство других разработчиков с кодом вашего приложения (ср. как это отличается от документации для конечного пользователя, часто связанной с описанием доступной посредством пользовательского интерфейса функциональности, к чтению коей прибегают обычно в минуты отчаяния). </p><p>    Если быть точным, то знакомство начинают со </p><i>Введения</i><p> (readme) — файла, где сжато, обзорно описываются основные свойства приложения. Не пытайтесь уместить в этот файл всю документацию: задача этого файла привлечь внимание к приложению, а не полностью описать его. Не наполняйте его информацией, которой там не место: например, список изменений принято оформлять отдельным файлом.</p><p>    Познакомиться с приложением плотнее позволяет </p><i>документация API</i><p>. Цель этой документации не столько описать доступные интерфейсы, сколько предоставить примеры, шаблоны использования приложения, указать на нюансы. Для составления документации можно использовать </p><a href="http://sphinx-doc.org/" target="_blank">Sphinx</a><p>, для обнародования — </p><a href="https://readthedocs.org/" target="_blank">Read The Docs</a><p>.  Не злоупотребляйте автогенерацией документации из исходного кода — часто такой документации недостаточно полноты для восприятия приложения. Документация должна быть доступна хотя бы на одном языке (это язык целевой аудитории, не обязательно английский).    </p><i>Журнал изменений</i><p> (changelog) должен быть неотъемлемой частью вашего приложения. Из него другие разработчики смогут узнать о произошедших в выпуске изменениях (даже автоматизировано, например, используя </p><a href="http://allmychanges.com/" target="_blank">All My Changes</a><p>), чтобы понять к чему готовиться. Выберите формат и придерживайтесь его. Рекомендации по ведению журнала изменений можно почерпнуть из </p><a href="http://keepachangelog.com/" target="_blank">Keep a Changelog</a><p>. Не забывайте указывать в этом файле все значащие события (в т.ч. устаревание и удаление той или иной функциональности).    </p><i>Документирование внутри кода</i><p> (docstrings) — важная вещь, которая даже регламентирована отдельным </p><a href="https://www.python.org/dev/peps/pep-0257/" target="_blank">PEP 257</a><p>. Пожалуй, данное PEP может показаться чересчур, однако, все публичные точки программных интерфейсов должны быть документированы, чтобы другие разработчики понимали как их использовать. Иногда полезно документировать и типы данных на входе/выходе, чтобы помочь среде разработки (IDE), которая, в свою очередь, поможет использующим ваш код.     </p><i>Комментарии внутри кода</i><p> там, где они требуются для понимания происходящего, приветствуются. Не приветствуются комментарии о погоде, сетования на качество кода и т.п.. Перед написанием комментария следует подумать: если нечего сказать — лучше промолчать; если хочешь и можешь сделать лучше, то сделай, а иначе — лучше промолчать. Последнее замечание, в частности, относится к комментариям </p><i>TODO</i><p> и </p><i>FIXME</i><p> относящимся к чужому коду. Кстати, </p><i>TODO</i><p> — читай как «</p><i>Добавить функциональность</i><p>», а </p><i>FIXME</i><p> как «</p><i>Не забудь поправить</i><p>».    </p><i>Предупреждения об устаревании</i><p> (deprecation warnings) тоже отчасти являются формой документирования, поэтому ими тоже не стоит пренебрегать. Неплохо, если в таких предупреждениях указан номер версии, в которой функциональность будет исключена. Замечательно, если предупреждение содержит рекомендацию, какой механизм следует использовать взамен устаревшего — это позволит другим разработчикам более легко мигрировать на новые версии вашего приложения.</p><p>    И помните: </p><i>документация должна находиться в актуальном состоянии.</i><b>Код</b><p>    Важной составляющей успеха является </p><i>стиль оформления кода</i><p>. Основы стиля регламентирует </p><a href="https://www.python.org/dev/peps/pep-0008/" target="_blank">PEP 8</a><p>, однако требования к нему могут быть дополнены/изменены исходя из </p><a href="http://pythonz.net/articles/14/" target="_blank">соглашений</a><p>, принятых для вашего приложения (само собой, если таковые имеются, то они должны быть документированы и доступны для ознакомления всем желающим).</p><p>    При проектировании и написании приложения (особо библиотеки) следует придерживаться </p><i>принципа наименьшей неожиданности</i><p>. Его можно успешно применять сразу ко многим аспектам: к структуре приложения — компонуйте модули и вложенные пакеты выделяя логические единицы, создавайте иерархии; к именованию сущностей — следите, чтобы имена отражали суть вещей, чтобы во </p><i>флакончике</i><p> с надписью «</p><i>кит</i><p>» не оказался </p><i>тетраэдр</i><p>; к последовательности аргументов в однотипных функциях и пр..</p><p>    Недалеко от принципа наименьшей неожиданности стоит </p><i>принцип разумных умолчаний</i><p>. Потратьте немного времени изучая/прогнозируя возможные варианты использования вашего кода и создайте дополнительные инструменты, чтобы упростить часто повторяющихся сценарии. Конечно, приоритет  здесь должен отдаваться наиболее общим, гибким реализациям.</p><p>    Не следует пренебрегать и </p><i>тестами</i><p>. Покрытие тестами — не столько гарантия правильности выполнения кода, сколько гарантия того, что в ходе рефакторинга можно будет получить сходный, а в идеале идентичный, результат. Код, который хоть кем-то используется имеет тенденцию к развитию, тесты позволяют коду развиваться относительно безболезненно. Критичность данного пункта возрастает с увеличением масштабов проекта. При всём при этом очень кстати, если с самого начала вашего проекта тесты будут автоматически запускаться по мере модификаций кода на сервере непрерывной интеграции, например </p><a href="https://travis-ci.org/" target="_blank">Travis CI</a><p>.</p><b>Организационные вопросы</b>    <i>Нумерация версий</i><p> — важное дело. Номер версии позволяет разработчикам, использующим ваше приложение, если хотите, верить в него. Номер — это договорённость, а вежливые люди договорённостей не нарушают. Номер — это визитная карточка вашей программы, по ней люди узнают, что внутри. Номер — важное дело, поэтому важно поддерживать его правильный формат. Необходимость осмысленной нумерации версий вылилась в документ известный под кривеньким для русского языка названием </p><a href="http://semver.org/lang/ru/" target="_blank">Семантическое Версионирование</a><p>. </p><p>    Вопросу </p><i>частоты выпуска версий</i><p> не следует уделять чересчур много внимания. Если ваш проект не имеет чётко регламентируемого графика выхода версий (обычно это коммерческие проекты), то ответом на вопрос «</p><i>когда</i><p>» обычно должно быть «</p><i>когда нельзя больше ждать</i><p>» (для случаев с критическими ошибками, например, касающимися безопасности), «</p><i>когда будет готово</i><p>» (для случаев введения новой функциональности) или «</p><i>когда накопилось</i><p>» (для мелких нововведений и незначительных исправлений).</p><p>    Более важными вопросами являются вопросы </p><i>доступности пакета приложения</i><p> и </p><i>доступности исходного кода</i><p>. После </p><a href="http://pythonz.net/articles/15/" target="_blank">оформления вашего приложения в пакет</a><p> хорошо разместить этот пакет на </p><a href="https://pypi.python.org/" target="_blank">PyPI</a><p>, чтобы желающие могли скачать его оттуда. При этом будет невежливо опубликовать на </p><i>PyPI</i><p> только описание пакета, без возможности получать дистрибутив средствами типа </p><i>pip</i><p> (такая возможность на сайте до сих пор имеется, но пользоваться ею не стоит). Код правильней будет разместить на каком-нибудь общедоступном сервисе репозиториев, например, </p><a href="https://github.com/" target="_blank">GitHub</a><p>. Это позволит другим разработчикам участвовать в процессе разработки приложения и, возможно, продлит ему жизнь.</p><p>    И, наконец, </p><i>поддержка пользователей</i><p>. Если к вам (или просто где-то в этих ваших интернетах) обращаются с вопросом касательно вашего приложения по возможности найдите время ответить. Отлично, если проект имеет трекер инцидентов, или выделенную конференцию, или ветку на форуме, или нечто подобное, где можно задать вопрос и вести обсуждение. Начинайте общение настроенным доброжелательно, попытайтесь вникнуть в суть проблемы. Если сейчас нет времени на какую-то задачу, сориентируйте примерно, когда сможете ею заняться. Если считаете, что задачей заниматься не стоит, объясните почему так думаете и уточните у заявителя, что он думает по этому поводу, предоставьте ему какие-то варианты (в проектах с открытым кодом и лицензией всегда есть возможность ответвить проект и сделать альтернативный).</p><i>Будьте вежливы с пользователями и другими разработчиками.</i><i>Что бы вам не казалось, они тоже люди.</i><p>Видео-запись выступления по мотивам данной статьи: </p><a href="http://pythonz.net/videos/46/" target="_blank">Разработчик разработчику: Азбука вежливости</a></div>

                

                

                </div></body></html>