<html><body><div><div class="post-text" itemprop="text">

<p>Inspired by <a href="https://github.com/Yelp/yelp-api/blob/master/v2/python/sample.py">this Yelp tutorial</a>, I created a script to search for all gyms in a given city. I tweaked the script with <a href="http://www.mfumagalli.com/wp/portfolio/nycbars/">these updates</a> in order to return ALL gyms, not just the first 20. You can find the gist <a href="https://gist.github.com/anonymous/42ffdf5deccde0746fd1">here</a>. The SEARCH_LIMIT is 20.</p>

<p>I'm encountering a Bad Request error. I followed the Yelp Tutorial pretty closely, and am unsure of what it can be coming from -- I'm pretty sure the request is properly encoded, and all my API keys are right.</p>

<p>The print out is below:</p>

<pre><code>Traceback (most recent call last):
  File "YelpSearch.py", line 97, in &lt;module&gt;
    query_api()
  File "YelpSearch.py", line 74, in query_api
    response = search_yelp(offset) 
  File "YelpSearch.py", line 67, in search_yelp
    return request(API_HOST, SEARCH_PATH, url_params=url_params)
  File "YelpSearch.py", line 53, in request
    conn = urllib2.urlopen(signed_url, None)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py", line 127, in urlopen
    return _opener.open(url, data, timeout)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py", line 410, in open
    response = meth(req, response)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py", line 523, in http_response
    'http', request, response, code, msg, hdrs)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py", line 448, in error
    return self._call_chain(*args)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py", line 382, in _call_chain
    result = func(*args)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py", line 531, in http_error_default
    raise HTTPError(req.get_full_url(), code, msg, hdrs, fp)
urllib2.HTTPError: HTTP Error 400: Bad Request
</code></pre>
    </div>
    </div></body></html>