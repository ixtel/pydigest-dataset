<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-pyq" class="anchor" href="#pyq" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>pyq</h1>

<p>A command-line tool to search for Python code using jQuery-like selectors</p>

<p><a href="https://badge.fury.io/py/pyqtool"><img src="https://camo.githubusercontent.com/4cef5ccedf05b75cc6465f80c06f4be6a72bd9f7/68747470733a2f2f62616467652e667572792e696f2f70792f707971746f6f6c2e737667" alt="PyPI version" data-canonical-src="https://badge.fury.io/py/pyqtool.svg"/></a></p>

<h2><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installation</h2>

<pre><code>pip install pyqtool
</code></pre>

<p><strong>Notice:</strong> As the tool is still under heavy development, you may see that some features are not yet available in the version distributed over PyPI. If you want to have a fresh taste, you can get it directly from source:</p>

<pre><code>pip install https://github.com/caioariede/pyq/archive/master.zip -U
</code></pre>

<p>Please report any possible issues, we expect the master branch to be stable.</p>

<h2><a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Usage</h2>

<pre><code>Usage: pyq3 [OPTIONS] SELECTOR [PATH]...

Options:
-l / --files       Only print filenames containing matches.
--ignore-dir TEXT  Ignore directory
-n / --no-recurse  No descending into subdirectories
--help             Show this message and exit.
</code></pre>

<p>The executable name will vary depending on the Python version: <code>pyq2</code> <code>pyq3</code></p>

<h2><a id="user-content-available-selectors" class="anchor" href="#available-selectors" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Available selectors</h2>

<h5><a id="user-content-type-selectors" class="anchor" href="#type-selectors" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Type selectors</h5>

<table><thead>
<tr>
<th>Name</th>
<th>Attributes</th>
<th>Additional notes</th>
</tr>
</thead><tbody>
<tr>
<td>class</td>
<td>class <code>name</code></td>
<td/>
</tr>
<tr>
<td>def</td>
<td>def <code>name</code></td>
<td/>
</tr>
<tr>
<td>import</td>
<td>import <code>name</code><br/>import <code>name</code> as <code>name</code><br/>from <code>from</code> import <code>name</code></td>
<td>It's also possible to match the full import using<br/>the special attribute <code>full</code></td>
</tr>
<tr>
<td>assign</td>
<td><code>name</code> [, <code>name</code> ...] = value</td>
<td/>
</tr>
<tr>
<td>call</td>
<td><code>name</code>(<code>arg</code>, <code>arg</code>, ..., <code>kwarg</code>=, <code>kwarg</code>=, ...)</td>
<td/>
</tr>
<tr>
<td>attr</td>
<td>foo.<code>name</code>.<code>name</code></td>
<td/>
</tr>
</tbody></table>

<h5><a id="user-content-idname-selector" class="anchor" href="#idname-selector" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>ID/Name selector</h5>

<table><thead>
<tr>
<th>Syntax</th>
<th>Applied to</th>
</tr>
</thead><tbody>
<tr>
<td>#<code>name</code></td>
<td><code>class</code>, <code>def</code>, <code>assign</code>, <code>call</code>, <code>attr</code></td>
</tr>
</tbody></table>

<h4><a id="user-content-attribute-selectors" class="anchor" href="#attribute-selectors" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Attribute selectors</h4>

<table><thead>
<tr>
<th>Syntax</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[<code>name</code>=<code>value</code>]</td>
<td>Attribute <code>name</code> is equal to <code>value</code></td>
</tr>
<tr>
<td>[<code>name</code>!=<code>value</code>]</td>
<td>Attribute <code>name</code> is not equal to <code>value</code></td>
</tr>
<tr>
<td>[<code>name</code>*=<code>value</code>]</td>
<td>Attribute <code>name</code> contains <code>value</code></td>
</tr>
<tr>
<td>[<code>name</code>^=<code>value</code>]</td>
<td>Attribute <code>name</code> starts with <code>value</code></td>
</tr>
<tr>
<td>[<code>name</code>$=<code>value</code>]</td>
<td>Attribute <code>name</code> endswith <code>value</code></td>
</tr>
</tbody></table>

<h4><a id="user-content-pseudo-selectors" class="anchor" href="#pseudo-selectors" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Pseudo selectors</h4>

<table><thead>
<tr>
<th>Syntax</th>
<th>Applies to</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:extends(<code>selector</code>)</td>
<td><code>class</code></td>
<td>Selects classes that its bases matches <code>selector</code></td>
</tr>
<tr>
<td>:has(<code>selector</code>)</td>
<td><em>all</em></td>
<td>Selects everything that its body match <code>selector</code></td>
</tr>
<tr>
<td>:not(<code>selector</code>)</td>
<td><em>all</em></td>
<td>Selects everything that do not match <code>selector</code></td>
</tr>
</tbody></table>

<h4><a id="user-content-combinators" class="anchor" href="#combinators" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Combinators</h4>

<table><thead>
<tr>
<th>Syntax</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>parent</code> &gt; <code>child</code></td>
<td>Select direct <code>child</code> from <code>parent</code></td>
</tr>
<tr>
<td><code>parent</code> <code>descendant</code></td>
<td>Selects all <code>descendant</code> from <code>parent</code></td>
</tr>
</tbody></table>

<h2><a id="user-content-examples" class="anchor" href="#examples" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Examples</h2>

<p>Search for classes that extends the <code>IntegerField</code> class:</p>

<div class="highlight highlight-source-python"><pre>❯ pyq3 <span class="pl-s"><span class="pl-pds">'</span>class:extends(#IntegerField)<span class="pl-pds">'</span></span> django<span class="pl-k">/</span>forms
django<span class="pl-k">/</span>forms<span class="pl-k">/</span>fields.py:<span class="pl-c1">278</span> <span class="pl-k">class</span> <span class="pl-en">FloatField</span>(<span class="pl-e">IntegerField</span>):
django<span class="pl-k">/</span>forms<span class="pl-k">/</span>fields.py:<span class="pl-c1">315</span> <span class="pl-k">class</span> <span class="pl-en">DecimalField</span>(<span class="pl-e">IntegerField</span>):</pre></div>

<p>Search for classes with the name <code>FloatField</code>:</p>

<div class="highlight highlight-source-python"><pre>❯ pyq3 <span class="pl-s"><span class="pl-pds">'</span>class[name=FloatField]<span class="pl-pds">'</span></span> django<span class="pl-k">/</span>forms
django<span class="pl-k">/</span>forms<span class="pl-k">/</span>fields.py:<span class="pl-c1">278</span> <span class="pl-k">class</span> <span class="pl-en">FloatField</span>(<span class="pl-e">IntegerField</span>):</pre></div>

<p>Search for methods under the <code>FloatField</code> class:</p>

<div class="highlight highlight-source-python"><pre>❯ pyq3 <span class="pl-s"><span class="pl-pds">'</span>class[name=FloatField] &gt; def<span class="pl-pds">'</span></span> django<span class="pl-k">/</span>forms
django<span class="pl-k">/</span>forms<span class="pl-k">/</span>fields.py:<span class="pl-c1">283</span>     <span class="pl-k">def</span> <span class="pl-en">to_python</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">value</span>):
django<span class="pl-k">/</span>forms<span class="pl-k">/</span>fields.py:<span class="pl-c1">299</span>     <span class="pl-k">def</span> <span class="pl-en">validate</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">value</span>):
django<span class="pl-k">/</span>forms<span class="pl-k">/</span>fields.py:<span class="pl-c1">308</span>     <span class="pl-k">def</span> <span class="pl-en">widget_attrs</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">widget</span>):</pre></div>

<p>Search for methods whose name starts with <code>to</code> under the <code>FloatField</code> class:</p>

<div class="highlight highlight-source-python"><pre>❯ pyq3 <span class="pl-s"><span class="pl-pds">'</span>class[name=FloatField] &gt; def[name^=to]<span class="pl-pds">'</span></span> django<span class="pl-k">/</span>forms
django<span class="pl-k">/</span>forms<span class="pl-k">/</span>fields.py:<span class="pl-c1">283</span>     <span class="pl-k">def</span> <span class="pl-en">to_python</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">value</span>):</pre></div>

<p>Search for import statements importing <code>Counter</code>:</p>

<div class="highlight highlight-source-python"><pre>❯ pyq3 <span class="pl-s"><span class="pl-pds">'</span>import[from=collections][name=Counter]<span class="pl-pds">'</span></span> django<span class="pl-k">/</span>
django<span class="pl-k">/</span>apps<span class="pl-k">/</span>registry.py:<span class="pl-c1">5</span> <span class="pl-k">from</span> collections <span class="pl-k">import</span> Counter, OrderedDict, defaultdict
django<span class="pl-k">/</span>template<span class="pl-k">/</span>utils.py:<span class="pl-c1">3</span> <span class="pl-k">from</span> collections <span class="pl-k">import</span> Counter, OrderedDict
django<span class="pl-k">/</span>test<span class="pl-k">/</span>testcases.py:<span class="pl-c1">14</span> <span class="pl-k">from</span> collections <span class="pl-k">import</span> Counter
<span class="pl-c1">...</span></pre></div>

<p>Search for classes without methods:</p>

<div class="highlight highlight-source-python"><pre>❯ pyq3 <span class="pl-s"><span class="pl-pds">'</span>class:not(:has(&gt; def))<span class="pl-pds">'</span></span> django<span class="pl-k">/</span>core
django<span class="pl-k">/</span>core<span class="pl-k">/</span>exceptions.py:<span class="pl-c1">8</span> <span class="pl-k">class</span> <span class="pl-en">FieldDoesNotExist</span>(<span class="pl-c1">Exception</span>):
django<span class="pl-k">/</span>core<span class="pl-k">/</span>exceptions.py:<span class="pl-c1">13</span> <span class="pl-k">class</span> <span class="pl-en">DjangoRuntimeWarning</span>(<span class="pl-c1">RuntimeWarning</span>):
django<span class="pl-k">/</span>core<span class="pl-k">/</span>exceptions.py:<span class="pl-c1">17</span> <span class="pl-k">class</span> <span class="pl-en">AppRegistryNotReady</span>(<span class="pl-c1">Exception</span>):
<span class="pl-c1">...</span></pre></div>
</article>
  </div></body></html>