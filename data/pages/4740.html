<html><body><div><div class="text-content">
 

<h3>Introduction</h3>
<p>Exploring data sets and developing deep understanding about the data is one of the most important skill every data scientist should possess. People estimate that time spent on these activities can go as high as 80% of the project time in some cases.</p>
<p>Python has been gaining a lot of ground as preferred tool for data scientists lately, and for the right reasons. Ease of learning, powerful libraries with integration of C/C++, production readiness and integration with web stack are some of the main reasons for this move lately.</p>
<p>In this guide, I will use NumPy, Matplotlib, Seaborn and Pandas to perform data exploration. These are powerful libraries to perform data exploration in Python. The idea is to create a ready reference for some of the regular operations required frequently. I am using iPython Notebook to perform data exploration, and would recommend the same for its natural fit for exploratory analysis.</p>
<p>In case you missed it, I would suggest you to refer the baby steps series of Python to understand the basics of python programming.</p>

<h3 class="entry-title"/>
<h3 class="entry-title">Contents – Data Exploration</h3>
<p>Here are the operation I’ll cover in this article (Refer to <a title="Comprehensive guide for Data Exploration in SAS (using Data step and Proc SQL)" href="http://www.analyticsvidhya.com/blog/2015/04/data-exploration-sas-data-step-proc-sql/" target="_blank">this article</a> for similar operations in SAS):</p>
<ol>
<li>

</li>
<li>

</li>
<li>

</li>
<li>

</li>
<li>

</li>
<li>

</li>
<li>

</li>
<p><a name="One"/></p>
<li>

</li>
<li>

</li>
<li>

</li>
<li>

</li>
</ol>
<h4/>
<h3>Part 1: How to load data file(s)?</h3>
<p>Input data sets can be in various formats (.XLS, .TXT, .CSV, JSON ). In Python, it is easy to load data from any source, due to its simple syntax and availability of predefined libraries. Here I will make use of Pandas. It features a number of functions for reading tabular data as a DataFrame object. Below are the common functions that can be used to read data.</p>
<p><a href="http://i2.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_11.png"><img class="aligncenter wp-image-15346 size-full" src="http://i2.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_11.png?resize=562%2C124" alt="Python, read_table, read_csv, read_excel, pandas" srcset="http://i2.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_11.png?resize=300%2C66 300w, http://i2.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_11.png?w=562 562w" sizes="(max-width: 562px) 100vw, 562px" data-recalc-dims="1"/></a></p>
<h4>Loading data from CSV file(s):</h4>
<p><strong><span>Code</span></strong></p>
<pre>import pandas as pd
#Import Library Pandas
df = pd.read_csv("E:/train.csv")  #I am working in Windows environment
#Reading the dataset in a dataframe using Pandas
print df.head(3)  #Print first three observations</pre>
<p><strong><span>Output</span></strong></p>
<h4><img class="aligncenter wp-image-15360 size-full" src="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_22.png?resize=676%2C157" alt="Loading_data_Python_2" srcset="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_22.png?resize=300%2C70 300w, http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_22.png?w=676 676w" sizes="(max-width: 676px) 100vw, 676px" data-recalc-dims="1"/></h4>
<h4>Loading data from excel file(s):</h4>
<pre><strong><span>Code</span></strong>
df=pd.read_excel("E:/EMP.xlsx", "Data") # Load Data sheet of excel file EMP
<strong><span>Output</span></strong>
print df
<a href="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_33.png"><img class="aligncenter wp-image-15361 size-full" src="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_33.png?resize=682%2C175" alt="Loading_data_Python_3" srcset="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_33.png?resize=300%2C77 300w, http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_33.png?w=682 682w" sizes="(max-width: 682px) 100vw, 682px" data-recalc-dims="1"/></a></pre>
<h4>Loading data from txt file(s):</h4>
<p><strong><span>Code<br/>
</span></strong></p>
<p>df=pd.read_csv(“E:/Test.txt”,sep=’\t’) # Load Data from text file having tab ‘\t’ delimeter print df</p>
<p><strong><span>Output</span></strong><br/>
<a name="Two"/></p>
<h3><a href="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_42.png"><img class="aligncenter wp-image-15362 size-full" src="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_42.png?resize=676%2C169" alt="Loading_data_Python_4" srcset="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_42.png?resize=300%2C75 300w, http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Loading_data_Python_42.png?w=676 676w" sizes="(max-width: 676px) 100vw, 676px" data-recalc-dims="1"/></a></h3>
<h3/>
<p> </p>
<h3>Part 2: How to convert a variable to different data type?</h3>
<p>Converting a variable data type to other is important and common procedure we perform after loading data. Let’s look at some of the commands to perform these conversions:</p>
<ul>
<li>
<h4>Convert numeric variables to string variables and vice versa</h4>
</li>
</ul>
<pre>srting_outcome = str(numeric_input) #Converts numeric_input to string_outcome
integer_outcome = int(string_input) #Converts string_input to integer_outcome
float_outcome = float(string_input) #Converts string_input to integer_outcome</pre>
<p>The later operations are especially useful when you input value from user using raw_input(). By default, the values are read at string.</p>
<p> </p>
<ul>
<li>
<h4>Convert character date to Date:</h4>
</li>
</ul>
<p>There are multiple ways to do this. The simplest would be to use datetime library and strptime function. Here is the code:<br/>
<a name="Three"/></p>
<pre>from datetime import datetime
char_date = 'Apr 1 2015 1:20 PM' #creating example character date
date_obj = datetime.strptime(char_date, '%b %d %Y %I:%M%p')
print date_obj</pre>
<p> </p>
<h3>Part 3: How to transpose a Data set?</h3>
<p>Here, I want to transpose Table A into Table B on variable Product. This task can be accomplished by using <strong>dataframe.pivot</strong>.</p>
<p><a href="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/03/Transpose.png"><img class="aligncenter wp-image-15081 size-full" src="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/03/Transpose.png?resize=559%2C155" alt="Transpose, SAS" srcset="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/03/Transpose.png?resize=300%2C83 300w, http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/03/Transpose.png?w=559 559w" sizes="(max-width: 559px) 100vw, 559px" data-recalc-dims="1"/></a></p>
<p><strong><span>Code</span></strong></p>
<p>#Transposing dataframe by a variable</p>
<pre>df=pd.read_excel("E:/transpose.xlsx", "Sheet1") # Load Data sheet of excel file EMP 
print df 
result= df.pivot(index= 'ID', columns='Product', values='Sales') 
result

</pre>
<p><strong><span>Output<br/>
</span></strong></p>
<p><a name="Four"/><br/>
<a href="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Transpose_1.png"><img class="aligncenter wp-image-15363 size-full" src="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Transpose_1.png?resize=676%2C226" alt="Transpose_1" srcset="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Transpose_1.png?resize=300%2C100 300w, http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Transpose_1.png?w=676 676w" sizes="(max-width: 676px) 100vw, 676px" data-recalc-dims="1"/></a></p>
<p> </p>
<p> </p>
<h3>Part 4: How to sort DataFrame?</h3>
<p>Sorting of data can be done using dataframe.sort(). It can be based on multiple variables and ascending or descending both order.</p>
<p><strong><span>Code</span></strong></p>
<pre>#Sorting Dataframe 
df=pd.read_excel("E:/transpose.xlsx", "Sheet1") #Add by variable name(s) to sort
print df.sort(['Product','Sales'], ascending=[True, False])</pre>
<p><a name="Five"/></p>
<p><a href="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Sort.png"><img class="aligncenter wp-image-15112 " src="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Sort.png?resize=547%2C195" alt="Sort, SAS" srcset="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Sort.png?resize=300%2C107 300w, http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Sort.png?w=625 625w" sizes="(max-width: 547px) 100vw, 547px" data-recalc-dims="1"/></a>Above, we have a table with variables ID, Product and Sales. Now, we want to sort it by Product and Sales (in descending order) as shown in table 2.</p>
<h3>Part 5: How to create plots (Histogram, Scatter, Box Plot)?</h3>
<p><a href="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Plot_Data.png"><img class="aligncenter wp-image-15115 size-full" src="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Plot_Data.png?resize=451%2C247" alt="Plot, Histogram, Box Plot, Scatter Plot, Proc SGPLOT, Proc GPLOT, Proc Univariate" srcset="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Plot_Data.png?resize=300%2C164 300w, http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Plot_Data.png?w=451 451w" sizes="(max-width: 451px) 100vw, 451px" data-recalc-dims="1"/></a></p>
<p>Data visualization always helps to understand the data easily. Python has library like <strong>matplotlib</strong> and <strong>seaborn</strong> to create multiple graphs effectively. Let’s look at the some of the visualization to understand below behavior of variable(s) .</p>
<ul>
<li>The distribution of age</li>
<li>Relation between age and sales; and</li>
<li>If sales are normally distributed or not?</li>
</ul>
<h4>Histogram:</h4>
<p><strong><span>Code</span></strong></p>
<pre>#Plot Histogram</pre>
<pre>import matplotlib.pyplot as plt
import pandas as pd</pre>
<pre>df=pd.read_excel("E:/First.xlsx", "Sheet1")</pre>
<pre>#Plots in matplotlib reside within a figure object, use plt.figure to create new figure
fig=plt.figure()</pre>
<pre>#Create one or more subplots using add_subplot, because you can't create blank figure
ax = fig.add_subplot(1,1,1)</pre>
<pre>#Variable
ax.hist(df['Age'],bins = 5)</pre>
<pre>#Labels and Tit
plt.title('Age distribution')
plt.xlabel('Age')
plt.ylabel('#Employee')
plt.show()

</pre>
<p><strong><span>Output<br/>
</span></strong></p>
<p><a href="http://i2.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Histo.png"><img class="aligncenter wp-image-15365 size-full" src="http://i2.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Histo.png?resize=676%2C274" alt="Histo" srcset="http://i2.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Histo.png?resize=300%2C122 300w, http://i2.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Histo.png?w=676 676w" sizes="(max-width: 676px) 100vw, 676px" data-recalc-dims="1"/></a></p>
<h4>Scatter plot:</h4>
<p><strong><span>Code</span></strong></p>
<pre>#Plots in matplotlib reside within a figure object, use plt.figure to create new figure fig=plt.figure()</pre>
<pre>#Create one or more subplots using add_subplot, because you can't create blank figure
ax = fig.add_subplot(1,1,1)</pre>
<pre>#Variable
ax.scatter(df['Age'],df['Sales'])</pre>
<pre>#Labels and Tit
plt.title('Sales and Age distribution')
plt.xlabel('Age')
plt.ylabel('Sales')
plt.show()

</pre>
<p><strong><span>Output<br/>
</span></strong></p>
<p><a href="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Scatter.png"><img class="aligncenter wp-image-15366 size-full" src="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Scatter.png?resize=516%2C283" alt="Scatter" srcset="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Scatter.png?resize=300%2C165 300w, http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Scatter.png?w=516 516w" sizes="(max-width: 516px) 100vw, 516px" data-recalc-dims="1"/></a></p>
<h4>Box-plot:</h4>
<p><strong><span>Code<br/>
</span></strong></p>
<pre>import seaborn as sns 
sns.boxplot(df['Age']) 
sns.despine()

</pre>
<p><strong><span>Output<br/>
</span></strong></p>
<p><a name="Six"/><br/>
<a href="http://i2.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Box.png"><img class="aligncenter wp-image-15367 " src="http://i2.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Box.png?resize=357%2C233" alt="Box" srcset="http://i2.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Box.png?resize=300%2C196 300w, http://i2.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Box.png?w=516 516w" sizes="(max-width: 357px) 100vw, 357px" data-recalc-dims="1"/><br/>
</a></p>
<h3>Part 6: How to generate frequency tables with pandas?</h3>
<p>Frequency Tables can be used to understand the distribution of a categorical variable or n categorical variables using frequency tables.</p>
<p><strong><span>Code</span></strong></p>
<pre>import pandas as pd</pre>
<pre>df=pd.read_excel("E:/First.xlsx", "Sheet1") 
print df</pre>
<pre>test= df.groupby(['Gender','BMI'])
test.size()
</pre>
<p><strong><span>Output<br/>
</span></strong></p>
<p><a name="Seven"/><br/>
<a href="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Frequency.png"><img class="aligncenter wp-image-15368 size-full" src="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Frequency.png?resize=419%2C348" alt="Frequency" srcset="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Frequency.png?resize=300%2C249 300w, http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Frequency.png?w=419 419w" sizes="(max-width: 419px) 100vw, 419px" data-recalc-dims="1"/><br/>
</a></p>
<h3>Part 7: How to do sample Data set in Python?</h3>
<p>To select sample of a data set, we will use library numpy and random. Sampling of data set always helps to understand data quickly.</p>
<p>Let’s say, from EMP table, I want to select random sample of 5 employee.</p>
<p><strong><span>Code</span></strong></p>
<pre>#Create Sample dataframe</pre>
<pre>import numpy as np
import pandas as pd
from random import sample</pre>
<pre># create random index
rindex = np.array(sample(xrange(len(df)), 5))</pre>
<pre># get 5 random rows from df
dfr = df.ix[rindex]
print dfr

</pre>
<p><strong><span>Output<br/>
</span></strong></p>
<p><a name="Eight"/><br/>
<a href="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Sample_1.png"><img class="aligncenter wp-image-15369 size-full" src="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Sample_1.png?resize=419%2C107" alt="Sample_1" srcset="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Sample_1.png?resize=300%2C77 300w, http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Sample_1.png?w=419 419w" sizes="(max-width: 419px) 100vw, 419px" data-recalc-dims="1"/></a></p>
<p> </p>
<p> </p>
<h3>Part 8: How to remove duplicate values of a variable?</h3>
<p>Often, we encounter duplicate observations. To tackle this in python, we can use dataframe.drop_duplicates().</p>
<p><strong><span>Code</span></strong></p>
<pre>#Remove Duplicate Values based on values of variables "Gender" and "BMI"</pre>
<pre>rem_dup=df.drop_duplicates(['Gender', 'BMI'])
print rem_dup

</pre>
<p><strong><span>Output<br/>
</span></strong></p>
<p><a name="Nine"/></p>
<p><a href="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Duplicate_values.png"><img class="aligncenter wp-image-15370 size-full" src="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Duplicate_values.png?resize=419%2C147" alt="Duplicate_values" srcset="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Duplicate_values.png?resize=300%2C105 300w, http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Duplicate_values.png?w=419 419w" sizes="(max-width: 419px) 100vw, 419px" data-recalc-dims="1"/></a></p>
<h3>Part 9: How to group variables in Python to calculate count, average, sum?</h3>
<p>To understand the count, average and sum of variable, I would suggest you to use dataframe.describe() with groupby().</p>
<p>Let’s look at the code:</p>
<p><strong><span>Code</span></strong></p>
<pre>test= df.groupby(['Gender'])
test.describe()

</pre>
<p><strong><span>Output</span></strong></p>
<p><a name="Ten"/></p>
<h3><a href="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Group.png"><img class="aligncenter wp-image-15373 size-full" src="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Group.png?resize=211%2C398" alt="Group" srcset="http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Group.png?resize=159%2C300 159w, http://i1.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Group.png?w=211 211w" sizes="(max-width: 211px) 100vw, 211px" data-recalc-dims="1"/></a></h3>
<h3/>
<h3>Part 10: How to recognize and Treat missing values and outliers?</h3>
<p>To identify missing values , we can use dataframe.isnull(). You can also refer article “<a title="Data Munging in Python (using Pandas) – Baby steps in Python" href="http://www.analyticsvidhya.com/blog/2014/09/data-munging-python-using-pandas-baby-steps-python/">Data Munging in Python (using Pandas)</a>“, here we have done a case study to recognize and treat missing and outlier values.</p>
<p><strong><span>Code</span></strong></p>
<pre><span><span># Identify missing values of dataframe</span>
<span>df.isnull()

</span></span></pre>
<p><strong><span>Output</span></strong></p>
<p><a href="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Missing.png"><img class="aligncenter wp-image-15371 " src="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Missing.png?resize=288%2C265" alt="Missing" srcset="http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Missing.png?resize=300%2C276 300w, http://i0.wp.com/www.analyticsvidhya.com/wp-content/uploads/2015/04/Missing.png?w=427 427w" sizes="(max-width: 288px) 100vw, 288px" data-recalc-dims="1"/></a></p>
<p>To treat missing values, there are various imputation methods available. You can refer these articles for methods to detect <a title="How to detect Outliers in your dataset and treat them?" href="http://www.analyticsvidhya.com/blog/2015/02/outliers-detection-treatment-dataset/">Outlier</a> and <a title="7 Steps of Data Exploration &amp; Preparation – Part 2" href="http://www.analyticsvidhya.com/blog/2015/02/7-steps-data-exploration-preparation-building-model-part-2/">Missing</a> values. Imputation methods for both missing and outlier values are almost similar. Here we will discuss general case imputation methods to replace missing values. Let’s do it using an example:</p>
<p><strong><span>Code:</span></strong><br/>
<a name="Eleven"/></p>
<pre>#Example to impute missing values in Age by the mean
import numpy as np
meanAge = np.mean(df.Age)     #Using numpy mean function to calculate the mean value
df.Age = df.Age.fillna(meanAge) #replacing missing values in the DataFrame</pre>
<p> </p>
<h3>Part 11: How to merge / join data sets?</h3>
<p>Joining / merging is one of the common operation required to integrate datasets from different sources. They can be handled effectively in Pandas using merge:</p>
<p><span><strong>Code:</strong></span></p>
<pre>df_new = pd.merge(df1, df2, how = 'inner', left_index = True, right_index = True) # merges df1 and df2 on index
# By changing how = 'outer', you can do outer join.
# Similarly how = 'left' will do a left join
# You can also specify the columns to join instead of indexes, which are used by default.</pre>
<p> </p>
<h3>End Notes:</h3>
<p>In this comprehensive guide, we looked at the Python codes for various steps in data exploration and munging. We also looked at the python libraries like Pandas, Numpy, Matplotlib and Seaborn to perform these steps. In next article, I will reveal the codes to perform these steps in R.</p>
<p><strong>Also See</strong>: If you have any doubts pertaining to Python, feel free to <a href="discuss.analyticsvidhya.com" target="_blank">discuss</a> with us.</p>
<p>Did you find the article useful? Do let us know your thoughts about this guide in the comments section below.</p>

<p/>
<p id="jp-relatedposts" class="jp-relatedposts">
<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</p>
</div>
</div></body></html>