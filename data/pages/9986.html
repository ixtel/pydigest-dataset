<html><body><div><div class="post-text" itemprop="text">

<p>I saw this post <a href="http://stackoverflow.com/questions/31303120/is-django-corrupting-timezone-aware-datetimefield-when-saving-it-to-the-database">Is Django corrupting timezone-aware DateTimeField when saving it to the Database?</a> but it specifically uses pytz and mysql and what not where I don't use pytz and use SQLite (incase it might have an impact). </p>

<p>I have the following model</p>

<pre><code>class ScheduleItem(models.Model):
    work_date = models.DateTimeField('Work date')
</code></pre>

<p>And I insert data as follows:</p>

<pre><code>from isoweek import Week
from dateutil import parser
from django.utils import timezone

def foo()
    year = 2016 #hardcoded for example purpose
    wknr = 2 #hardcoded for example purpose
    dateObj = parser.parse(Week(year, wknr).day(0).isoformat() + " 00:00:00")
    print(dateObj) # 2016-01-11 00:00:00 as expected
    final = timezone.make_aware(dateObj)
    print(final) # 2016-01-11 00:00:00+01:00 as expected
    return final


workdate = foo()
si = ScheduleItem(work_date=workdate)
si.save()
</code></pre>

<p>The print statements give me the right output, however once I look in the database (SQLite) I see <code>2016-01-10 23:00:00</code></p>

<p>My django settings say</p>

<pre><code>TIME_ZONE = 'CET'
USE_TZ = True
</code></pre>

<p>Retrieving the data I get: </p>

<pre><code>datetime.datetime(2016, 1, 10, 23, 0, tzinfo=&lt;UTC&gt;)
</code></pre>

<p>Why is it storing the data in another format then I specify and why if Django is set to be timezone aware do I get a UTC timezone back? I mean before insertion the datetime object says: <code>datetime.datetime(2016, 1, 11, 0, 0, tzinfo=&lt;DstTzInfo 'CET' CET+1:00:00 STD&gt;)</code></p>

<p><strong>update</strong> - </p>

<p>I found a work around in the meantime by setting <code>TIME_ZONE</code> on the database as described in the Django documentation  <a href="https://docs.djangoproject.com/en/1.9/ref/settings/#std:setting-DATABASE-TIME_ZONE">here</a>. This gives me the right timezone/date in the database, but according to that documentation I shouldn't need it because my DB <em>is</em> managed by Django</p>

<blockquote>
  <p>This allows interacting with third-party databases that store datetimes in local time rather than UTC. To avoid issues around DST changes, you shouldnâ€™t set this option for databases managed by Django.</p>
</blockquote>

<p>It is still unclear to me why Django <em>does</em> convert a datetime object with a CET timezone to UTC when storing it in the database, but isn't smart enough to convert it back to CET when retrieving. </p>
    </div>
    </div></body></html>