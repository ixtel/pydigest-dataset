<html><body><div><div itemprop="articleBody" class="post-content">
			<p><strong>Problem statement:</strong> You have created a proprietary Python module that you would like to release only to folks within your group/company. If you release it to Python PyPi server it will be available to everyone. </p>

<p><strong>Solution:</strong> Stand up your own PyPi server.
<em>Note: I am using <a href="https://virtualenvwrapper.readthedocs.org/en/latest/">virtualenvwrapper</a>  commands below.</em></p>

<ol>
<li>Setup your virtualenv: <code>mkvirtualenv pypi</code>  </li>
<li>Pip install the package: <code>pip install pypiserver</code>  </li>
<li>Create the packages dir: <code>mkdir -p ~/pypi/packages</code>  </li>
<li>Verify that the server starts up: <code>pypi-server -p 7001 ~/pypi/packages</code> (or if you want to start the server in the background: <code>nohup pypi-server -p 7001 ~/pypi/packages &amp;</code></li>
</ol>

<p>That's it. That's the base.  </p>

<h6 id="startandstoppypiserverviasupervisord">Start and stop PyPi server via supervisord:</h6>

<p>The way I have my PyPi server running is via <a href="http://javawithravi.com/installing-and-setting-up-supervisord">supervisord</a>. Supervisord is an awesome service that provides you a simple way to daemonize your process and also provides straightforward commands to start and stop your process (see below).  </p>

<pre><code class="language-ini">[program:pypi-server]
command=python /home/spiderman/.virtualenvs/pypi/bin/pypi-server -p 8080 packages  
directory=/root  
autostart=true  
startretries=3  
redirect_stderr=true  
stdout_logfile=/var/log/supervisor/pypiserver.log  
</code></pre>

<p>Start the <code>supervisord</code> in daemon mode: <code>supervisord -c supervisord.conf</code>. And start and stop your <code>pypi-server</code> process via <code>supervisorctl</code> like so:</p>

<h6 id="startpypiserversupervisorctlstartpypiserver">Start PyPi server: <code>supervisorctl start pypi-server</code></h6>

<h6 id="stoppypiserversupervisorctlstoppypiserver">Stop PyPi server: <code>supervisorctl stop pypi-server</code></h6>

<p>In my <a href="http://javawithravi.com/pip-custom-pypi-server">next post</a>, I show how to reference your pypi server to install your python modules.</p>
			<div class="share-box">
				<div class="share-box-wrap">
					<h3 class="box-title">Thanks for reading!</h3>
				    <span class="box-sub-title">Don't forget to spread the word:</span>
				    
				</div>				
			</div>		
			<footer class="post-footer">              	            
                <div itemprop="author" itemscope="" itemtype="http://schema.org/Person" class="post-author">
                    
                    <div class="post-author-content">
	                    	                    
	                    <p class="author-info">
	                    	
	                    	
	                    </p>	                                        
	                    <p itemprop="description">
	                        	The author didnt add any Information to his profile yet
	                    </p>
                    </div>
                </div>	            
	        </footer>
		</div>		
		</div></body></html>