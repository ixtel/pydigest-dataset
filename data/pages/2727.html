<html><body><div><article class="card post-315 post type-post status-publish format-standard hentry category-cherrypy category-docker category-python tag-cherrypy tag-docker tag-python" id="post-315">

                <h2>Create a docker container for your CherryPy application</h2>
                

                
<p class="topsy_widget_data topsy_theme_blue"/>
<p>In the past year, process isolation through the use of containers has exploded and you can find containers for almost anything these days. So why not creating a container to isolate your <a href="http://www.cherrypy.org/" target="_blank">CherryPy</a> application from the rest of the world?</p>
<p>I will not focus on the right and wrongs in undertaking such a task. This is not the point of this article. On the other hand, this article will guide you through the steps to create a base container image that will support creating per-project images that can be run in containers.</p>
<p>We will be using <a href="https://www.docker.com/" target="_blank">docker</a> for this since it’s the hottest container technology out there. It doesn’t mean it’s the best, just that it’s the most popular which in turns means there is high demand for it. With that being said, once you have decided containers are a relevant feature to you, I encourage you to have a look at <a href="https://github.com/coreos/rocket" target="_blank">other technologies</a> in that field to draw your own conclusion.</p>
<p>Docker uses various Linux kernel assets to isolate a process from the other running processes. In particular, it uses <a href="https://docs.docker.com/introduction/understanding-docker/#control-groups" target="_blank">control groups</a> to constraints the resources used by the process. Docker also makes the most of <a href="https://docs.docker.com/introduction/understanding-docker/#namespaces" target="_blank">namespaces</a> which create an access layer to resources such as network, mounted devices, etc.</p>
<p>Basically, when you use docker, you run an instance of an image and we call this a container. An image is mostly a mille-feuille of read-only layers that are eventually unified into one. When an image is run as a container, an extra read-write layer is added by docker so that you can make changes at runtime from within your container. Those changes are lost everytime you stop the running container unless you <a href="https://docs.docker.com/reference/commandline/cli/#commit" target="_blank">commit</a> it into a new image.</p>
<p>So how to start up with docker?</p>
<h2>Getting started</h2>
<p>First of all, you must install docker. I will not spend much time here explaining how to go about it since the <a href="https://docs.docker.com/installation/" target="_blank">docker documentation</a> does it very well already. However, iI encourage you to:</p>
<ul>
<li>install from the docker repository as it’s more up to date usually than official distribution repositories</li>
<li>ensure you can run docker commands as a non-root user. This will make your daily usage of docker much easier</li>
</ul>
<p>At the time of this writing, docker 1.4.1 is the latest version and this article was written using 1.3.3. Verify your version as follow:</p>

		<div id="crayon-56d5b3bbecb6f790318889" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecb6f790318889-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">version</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecb6f790318889-2"><span class="crayon-e">Client </span><span class="crayon-v">version</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.3.3</span></p><p class="crayon-line" id="crayon-56d5b3bbecb6f790318889-3"><span class="crayon-e">Client </span><span class="crayon-e">API </span><span class="crayon-v">version</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.15</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecb6f790318889-4"><span class="crayon-e">Go </span><span class="crayon-e">version</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">client</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">go1</span><span class="crayon-sy">.</span><span class="crayon-cn">3.3</span></p><p class="crayon-line" id="crayon-56d5b3bbecb6f790318889-5"><span class="crayon-e">Git </span><span class="crayon-e">commit</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">client</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">d344625</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecb6f790318889-6"><span class="crayon-v">OS</span><span class="crayon-o">/</span><span class="crayon-e">Arch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">client</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">linux</span><span class="crayon-o">/</span><span class="crayon-e">amd64</span></p><p class="crayon-line" id="crayon-56d5b3bbecb6f790318889-7"><span class="crayon-e">Server </span><span class="crayon-v">version</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.3.3</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecb6f790318889-8"><span class="crayon-e">Server </span><span class="crayon-e">API </span><span class="crayon-v">version</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.15</span></p><p class="crayon-line" id="crayon-56d5b3bbecb6f790318889-9"><span class="crayon-e">Go </span><span class="crayon-e">version</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">server</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">go1</span><span class="crayon-sy">.</span><span class="crayon-cn">3.3</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecb6f790318889-10"><span class="crayon-e">Git </span><span class="crayon-e">commit</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">server</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">d344625</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p/>
<h2>Docker command interface</h2>
<p>Docker is an application often executed as a daemon. To interact with it you use the command line interface via the <em>docker</em> command. Simply run the following command to see them:</p>

		

<p/>
<h2>Play a little with docker</h2>
<p>Before we move on creating our docker image for a CherryPy application, lets play with docker.</p>
<p>The initial step is to pull an existing image. Indeed, you will likely not create your own OS image from scratch. Instead, you will use a public base image, available on the <a href="https://registry.hub.docker.com" target="_blank">docker public registry</a>. During the course of these articles, we will be using a <a href="https://registry.hub.docker.com/_/ubuntu/" target="_blank">Ubuntu base image</a>. But everything would work the same wth Centos or something else.</p>

		<div id="crayon-56d5b3bbecb97613395170" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecb97613395170-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">pull </span><span class="crayon-e">ubuntu</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecb97613395170-2"><span class="crayon-e">Pulling </span><span class="crayon-e">repository </span><span class="crayon-i">ubuntu</span></p><p class="crayon-line" id="crayon-56d5b3bbecb97613395170-3"><span class="crayon-cn">8eaa4ff06b53</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Download </span><span class="crayon-i">complete</span><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecb97613395170-4"><span class="crayon-cn">511136ea3c5a</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Download </span><span class="crayon-i">complete</span><span class="crayon-h"> </span></p><p class="crayon-line" id="crayon-56d5b3bbecb97613395170-5"><span class="crayon-cn">3b363fd9d7da</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Download </span><span class="crayon-i">complete</span><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecb97613395170-6"><span class="crayon-cn">607c5d1cca71</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Download </span><span class="crayon-e">complete </span></p><p class="crayon-line" id="crayon-56d5b3bbecb97613395170-7"><span class="crayon-v">f62feddc05dc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Download </span><span class="crayon-e">complete </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecb97613395170-8"><span class="crayon-v">Status</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Downloaded </span><span class="crayon-e">newer </span><span class="crayon-e">image </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">ubuntu</span><span class="crayon-o">:</span><span class="crayon-v">latest</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Easy right? The various downloads are those of the intermediary images that were generated by the Ubuntu image maintainers. Interestingly, this means you could start your image from any of those images.</p>
<p>Now that you have an image, you may wish to list all of them on your machine:</p>

		<div id="crayon-56d5b3bbecb9c501284735" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecb9c501284735-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">images</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecb9c501284735-2"><span class="crayon-e">REPOSITORY </span><span class="crayon-e">TAG </span><span class="crayon-e">IMAGE </span><span class="crayon-e">ID </span><span class="crayon-e">CREATED </span><span class="crayon-e">VIRTUAL </span><span class="crayon-e">SIZE</span></p><p class="crayon-line" id="crayon-56d5b3bbecb9c501284735-3"><span class="crayon-e">ubuntu </span><span class="crayon-i">latest</span><span class="crayon-h"> </span><span class="crayon-cn">8eaa4ff06b53</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-e">days </span><span class="crayon-i">ago</span><span class="crayon-h"> </span><span class="crayon-cn">188.3</span><span class="crayon-h"> </span><span class="crayon-v">MB</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Notice that the intermediate images are not listed here. To see them:</p>

		

<p>Note that, in the previous call we didn’t specify any specific version for our docker image. You may wish to do so as follow:</p>

		<div id="crayon-56d5b3bbecba5486492169" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecba5486492169-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">image </span><span class="crayon-v">ubuntu</span><span class="crayon-o">:</span><span class="crayon-cn">14.10</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecba5486492169-2"><span class="crayon-e">Pulling </span><span class="crayon-e">repository </span><span class="crayon-e">ubuntu</span></p><p class="crayon-line" id="crayon-56d5b3bbecba5486492169-3"><span class="crayon-v">bf49414948ac</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Download </span><span class="crayon-i">complete</span><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecba5486492169-4"><span class="crayon-cn">511136ea3c5a</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Download </span><span class="crayon-e">complete </span></p><p class="crayon-line" id="crayon-56d5b3bbecba5486492169-5"><span class="crayon-v">a7cca9443999</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Download </span><span class="crayon-e">complete </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecba5486492169-6"><span class="crayon-v">dbbd544a49e2</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Download </span><span class="crayon-i">complete</span><span class="crayon-h"> </span></p><p class="crayon-line" id="crayon-56d5b3bbecba5486492169-7"><span class="crayon-cn">98b540cf0569</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Download </span><span class="crayon-e">complete </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecba5486492169-8"><span class="crayon-v">Status</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Downloaded </span><span class="crayon-e">newer </span><span class="crayon-e">image </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">ubuntu</span><span class="crayon-o">:</span><span class="crayon-cn">14.10</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Let’s pull a centos image as well for the fun:</p>

		<div id="crayon-56d5b3bbecba9673850577" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecba9673850577-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">pull </span><span class="crayon-v">centos</span><span class="crayon-o">:</span><span class="crayon-cn">7</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecba9673850577-2"><span class="crayon-e">Pulling </span><span class="crayon-e">repository </span><span class="crayon-i">centos</span></p><p class="crayon-line" id="crayon-56d5b3bbecba9673850577-3"><span class="crayon-cn">8efe422e6104</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Download </span><span class="crayon-i">complete</span><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecba9673850577-4"><span class="crayon-cn">511136ea3c5a</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Download </span><span class="crayon-i">complete</span><span class="crayon-h"> </span></p><p class="crayon-line" id="crayon-56d5b3bbecba9673850577-5"><span class="crayon-cn">5b12ef8fd570</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Download </span><span class="crayon-e">complete </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecba9673850577-6"><span class="crayon-v">Status</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Image </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-e">up </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">date </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">centos</span><span class="crayon-o">:</span><span class="crayon-cn">7</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Let’s now run a container and play around with it:</p>

		<div id="crayon-56d5b3bbecbad585314310" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbad585314310-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">rm</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">name </span><span class="crayon-v">playground</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-v">centos</span><span class="crayon-o">:</span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-i">bash</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbad585314310-2"> </p><p class="crayon-line" id="crayon-56d5b3bbecbad585314310-3"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-cn">7d5761d100e4</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-sy">]</span><span class="crayon-p"># ls</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbad585314310-4"><span class="crayon-e">bin </span><span class="crayon-e">dev </span><span class="crayon-e">etc </span><span class="crayon-e">home </span><span class="crayon-e">lib </span><span class="crayon-e">lib64 </span><span class="crayon-v">lost</span><span class="crayon-o">+</span><span class="crayon-e">found </span><span class="crayon-e">media </span><span class="crayon-e">mnt </span><span class="crayon-e">opt </span><span class="crayon-e">proc </span><span class="crayon-e">root </span><span class="crayon-e">run </span><span class="crayon-e">sbin </span><span class="crayon-e">selinux </span><span class="crayon-e">srv </span><span class="crayon-e">sys </span><span class="crayon-e">tmp </span><span class="crayon-e">usr </span><span class="crayon-t">var</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>In the previous command, we start a bash command executed within a container using the Centos image tagged 7. We name the container to make it easy to reference it afterwards. This is not compulsory but is quite handy in certain situations. We also tell docker that it can dispose of that container when we exit it. Otherwise, the container will remain.</p>

		<div id="crayon-56d5b3bbecbb1835735861" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbb1835735861-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-cn">7d5761d100e4</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-sy">]</span><span class="crayon-p"># uname -a</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbb1835735861-2"><span class="crayon-i">Linux</span><span class="crayon-h"> </span><span class="crayon-cn">7d5761d100e4</span><span class="crayon-h"> </span><span class="crayon-cn">3.13.0</span><span class="crayon-o">-</span><span class="crayon-cn">43</span><span class="crayon-o">-</span><span class="crayon-v">generic</span><span class="crayon-h"> </span><span class="crayon-p">#72-Ubuntu SMP Mon Dec 8 19:35:06 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>This is interesting because it shows that, indeed, the container is executed in the host kernel which, in this instance, is my Ubuntu operating system.</p>
<p>Finally below, let’s see the network configuration:</p>

		<div id="crayon-56d5b3bbecbb5402164330" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbb5402164330-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-cn">7d5761d100e4</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-sy">]</span><span class="crayon-p"># ip addr show</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbb5402164330-2"><span class="crayon-cn">1</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">lo</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">LOOPBACK</span><span class="crayon-sy">,</span><span class="crayon-v">UP</span><span class="crayon-sy">,</span><span class="crayon-v">LOWER_UP</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-i">mtu</span><span class="crayon-h"> </span><span class="crayon-cn">65536</span><span class="crayon-h"> </span><span class="crayon-e">qdisc </span><span class="crayon-e">noqueue </span><span class="crayon-e">state </span><span class="crayon-e">UNKNOWN </span></p><p class="crayon-line" id="crayon-56d5b3bbecbb5402164330-3"><span class="crayon-e"> </span><span class="crayon-v">link</span><span class="crayon-o">/</span><span class="crayon-i">loopback</span><span class="crayon-h"> </span><span class="crayon-cn">00</span><span class="crayon-o">:</span><span class="crayon-cn">00</span><span class="crayon-o">:</span><span class="crayon-cn">00</span><span class="crayon-o">:</span><span class="crayon-cn">00</span><span class="crayon-o">:</span><span class="crayon-cn">00</span><span class="crayon-o">:</span><span class="crayon-cn">00</span><span class="crayon-h"> </span><span class="crayon-i">brd</span><span class="crayon-h"> </span><span class="crayon-cn">00</span><span class="crayon-o">:</span><span class="crayon-cn">00</span><span class="crayon-o">:</span><span class="crayon-cn">00</span><span class="crayon-o">:</span><span class="crayon-cn">00</span><span class="crayon-o">:</span><span class="crayon-cn">00</span><span class="crayon-o">:</span><span class="crayon-cn">00</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbb5402164330-4"><span class="crayon-h"> </span><span class="crayon-i">inet</span><span class="crayon-h"> </span><span class="crayon-cn">127.0.0.1</span><span class="crayon-o">/</span><span class="crayon-cn">8</span><span class="crayon-h"> </span><span class="crayon-e">scope </span><span class="crayon-e">host </span><span class="crayon-e">lo</span></p><p class="crayon-line" id="crayon-56d5b3bbecbb5402164330-5"><span class="crayon-e"> </span><span class="crayon-e">valid_lft </span><span class="crayon-e">forever </span><span class="crayon-e">preferred_lft </span><span class="crayon-e">forever</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbb5402164330-6"><span class="crayon-e"> </span><span class="crayon-v">inet6</span><span class="crayon-h"> </span><span class="crayon-o">::</span><span class="crayon-cn">1</span><span class="crayon-o">/</span><span class="crayon-cn">128</span><span class="crayon-h"> </span><span class="crayon-e">scope </span><span class="crayon-e">host </span></p><p class="crayon-line" id="crayon-56d5b3bbecbb5402164330-7"><span class="crayon-e"> </span><span class="crayon-e">valid_lft </span><span class="crayon-e">forever </span><span class="crayon-e">preferred_lft </span><span class="crayon-i">forever</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbb5402164330-8"><span class="crayon-cn">12</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">eth0</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">BROADCAST</span><span class="crayon-sy">,</span><span class="crayon-v">UP</span><span class="crayon-sy">,</span><span class="crayon-v">LOWER_UP</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-i">mtu</span><span class="crayon-h"> </span><span class="crayon-cn">1500</span><span class="crayon-h"> </span><span class="crayon-e">qdisc </span><span class="crayon-e">pfifo_fast </span><span class="crayon-e">state </span><span class="crayon-e">UP </span><span class="crayon-i">qlen</span><span class="crayon-h"> </span><span class="crayon-cn">1000</span></p><p class="crayon-line" id="crayon-56d5b3bbecbb5402164330-9"><span class="crayon-h"> </span><span class="crayon-v">link</span><span class="crayon-o">/</span><span class="crayon-i">ether</span><span class="crayon-h"> </span><span class="crayon-cn">02</span><span class="crayon-o">:</span><span class="crayon-cn">42</span><span class="crayon-o">:</span><span class="crayon-v">ac</span><span class="crayon-o">:</span><span class="crayon-cn">11</span><span class="crayon-o">:</span><span class="crayon-cn">00</span><span class="crayon-o">:</span><span class="crayon-cn">03</span><span class="crayon-h"> </span><span class="crayon-e">brd </span><span class="crayon-v">ff</span><span class="crayon-o">:</span><span class="crayon-v">ff</span><span class="crayon-o">:</span><span class="crayon-v">ff</span><span class="crayon-o">:</span><span class="crayon-v">ff</span><span class="crayon-o">:</span><span class="crayon-v">ff</span><span class="crayon-o">:</span><span class="crayon-e">ff</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbb5402164330-10"><span class="crayon-e"> </span><span class="crayon-i">inet</span><span class="crayon-h"> </span><span class="crayon-cn">172.17.0.3</span><span class="crayon-o">/</span><span class="crayon-cn">16</span><span class="crayon-h"> </span><span class="crayon-e">scope </span><span class="crayon-m">global</span><span class="crayon-h"> </span><span class="crayon-e">eth0</span></p><p class="crayon-line" id="crayon-56d5b3bbecbb5402164330-11"><span class="crayon-e"> </span><span class="crayon-e">valid_lft </span><span class="crayon-e">forever </span><span class="crayon-e">preferred_lft </span><span class="crayon-e">forever</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbb5402164330-12"><span class="crayon-e"> </span><span class="crayon-e">inet6 </span><span class="crayon-v">fe80</span><span class="crayon-o">::</span><span class="crayon-cn">42</span><span class="crayon-o">:</span><span class="crayon-v">acff</span><span class="crayon-o">:</span><span class="crayon-v">fe11</span><span class="crayon-o">:</span><span class="crayon-cn">3</span><span class="crayon-o">/</span><span class="crayon-cn">64</span><span class="crayon-h"> </span><span class="crayon-e">scope </span><span class="crayon-e">link </span></p><p class="crayon-line" id="crayon-56d5b3bbecbb5402164330-13"><span class="crayon-e"> </span><span class="crayon-e">valid_lft </span><span class="crayon-e">forever </span><span class="crayon-e">preferred_lft </span><span class="crayon-v">forever</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Note that the eth0 interface is attached to the bridge the docker daemon created on the host. The docker security scheme means that, by default, nothing can reached that interface from the outside. However the docker may contact the outside world. Docker has an extensive documentation regarding its <a href="https://docs.docker.com/articles/networking/" target="_blank">networking architecture</a>.</p>
<p>Note that you can see containers statuses as follow:</p>

		<div id="crayon-56d5b3bbecbba009543446" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbba009543446-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">ps</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbba009543446-2"><span class="crayon-e">CONTAINER </span><span class="crayon-e">ID </span><span class="crayon-e">IMAGE </span><span class="crayon-e">COMMAND </span><span class="crayon-e">CREATED </span><span class="crayon-e">STATUS </span><span class="crayon-e">PORTS </span><span class="crayon-i">NAMES</span></p><p class="crayon-line" id="crayon-56d5b3bbecbba009543446-3"><span class="crayon-cn">25454ad13219</span><span class="crayon-h"> </span><span class="crayon-v">centos</span><span class="crayon-o">:</span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-s">"bash"</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-h"> </span><span class="crayon-e">minutes </span><span class="crayon-e">ago </span><span class="crayon-i">Up</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-h"> </span><span class="crayon-e">minutes </span><span class="crayon-v">playground</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Exit the container:</p>

		<div id="crayon-56d5b3bbecbbe713849097" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbbe713849097-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-cn">7d5761d100e4</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-sy">]</span><span class="crayon-p"># exit</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Run again the command:</p>

		<div id="crayon-56d5b3bbecbc2293393313" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbc2293393313-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">ps</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbc2293393313-2"><span class="crayon-e">CONTAINER </span><span class="crayon-e">ID </span><span class="crayon-e">IMAGE </span><span class="crayon-e">COMMAND </span><span class="crayon-e">CREATED </span><span class="crayon-e">STATUS </span><span class="crayon-e">PORTS </span><span class="crayon-v">NAMES</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>As we can see the container is indeed gone. Let’s now rewind a little and do not tell docker to automatically remove the container when we exit it:</p>

		<div id="crayon-56d5b3bbecbc6129259859" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbc6129259859-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">name </span><span class="crayon-v">playground</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-v">centos</span><span class="crayon-o">:</span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-i">bash</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbc6129259859-2"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-cn">5960e4445743</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-sy">]</span><span class="crayon-p"># exit</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Let’s see if the container is there:</p>

		<div id="crayon-56d5b3bbecbca100712007" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbca100712007-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">ps</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbca100712007-2"><span class="crayon-e">CONTAINER </span><span class="crayon-e">ID </span><span class="crayon-e">IMAGE </span><span class="crayon-e">COMMAND </span><span class="crayon-e">CREATED </span><span class="crayon-e">STATUS </span><span class="crayon-e">PORTS </span><span class="crayon-v">NAMES</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Nope. So what’s different? Well, try again to start a container using that same name:</p>

		<div id="crayon-56d5b3bbecbce645616212" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbce645616212-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">name </span><span class="crayon-v">playground</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-v">centos</span><span class="crayon-o">:</span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-i">bash</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbce645616212-2"><span class="crayon-cn">2015</span><span class="crayon-o">/</span><span class="crayon-cn">01</span><span class="crayon-o">/</span><span class="crayon-cn">11</span><span class="crayon-h"> </span><span class="crayon-cn">16</span><span class="crayon-o">:</span><span class="crayon-cn">09</span><span class="crayon-o">:</span><span class="crayon-cn">53</span><span class="crayon-h"> </span><span class="crayon-e">Error </span><span class="crayon-e">response </span><span class="crayon-e">from </span><span class="crayon-v">daemon</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Conflict</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">The </span><span class="crayon-e">name </span><span class="crayon-e">playground </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-e">already </span><span class="crayon-e">assigned </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-cn">5960e4445743.</span><span class="crayon-h"> </span><span class="crayon-e">You </span><span class="crayon-e">have </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">delete</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-v">rename</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">that </span><span class="crayon-e">container </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">be </span><span class="crayon-e">able </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">assign </span><span class="crayon-e">playground </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">container </span><span class="crayon-v">again</span><span class="crayon-sy">.</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Ooops. The container is actually still there:</p>

		<div id="crayon-56d5b3bbecbd2447808575" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbd2447808575-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-v">ps</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbd2447808575-2"><span class="crayon-e">CONTAINER </span><span class="crayon-e">ID </span><span class="crayon-e">IMAGE </span><span class="crayon-e">COMMAND </span><span class="crayon-e">CREATED </span><span class="crayon-e">STATUS </span><span class="crayon-e">PORTS </span><span class="crayon-i">NAMES</span></p><p class="crayon-line" id="crayon-56d5b3bbecbd2447808575-3"><span class="crayon-cn">5960e4445743</span><span class="crayon-h"> </span><span class="crayon-v">centos</span><span class="crayon-o">:</span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-s">"bash"</span><span class="crayon-h"> </span><span class="crayon-i">About</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">minute </span><span class="crayon-e">ago </span><span class="crayon-e">Exited</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-cn">57</span><span class="crayon-h"> </span><span class="crayon-e">seconds </span><span class="crayon-v">ago</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>There you go. By default <em>docker ps</em> doesn’t show you the containers in the exit status. You have to remove the container manually using its identifier:</p>

		

<p>I will not go further with using docker as it’s all you really need to start up with</p>
<h3>A word about tags</h3>
<p>Technically speaking, versions do not actually exist in docker images. They are in fact <strong>tags</strong>. A tag is a simple label for an image at a given point.</p>
<p>Images are identified with a hash value. As with IP addresses, you are not expected to recall the hash of the images you wish to use. Docker provides a mechanism to tag images much like you would use domain names instead of IP address.</p>
<p>For instance, <em>14.10</em> above is actually a tag, not a version. Obviously, since tags are meant to be meaningful to human beings, it’s quite sensible for Linux distributions to be tagged following the version of the distributions.</p>
<p>You can easily create tags for any images as we will see later on.</p>
<h3>Let’s talk about registries</h3>
<p>Docker images are hosted and served by a registry. Often as it’s the case in our previous example, the registry used is the public docker registry available at : <a href="https://registry.hub.docker.com/" target="_blank">https://registry.hub.docker.com/</a></p>
<p>Whenever you pull an image from a registry, by default docker pulls from that registry. However, you may query a different registry as follow:</p>

		<div id="crayon-56d5b3bbecbda296087916" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbda296087916-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">pull </span><span class="crayon-v">hostname</span><span class="crayon-o">:</span><span class="crayon-v">port</span><span class="crayon-o">/</span><span class="crayon-v">path</span><span class="crayon-o">/</span><span class="crayon-st">to</span><span class="crayon-o">/</span><span class="crayon-v">image</span><span class="crayon-o">:</span><span class="crayon-v">tag</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Basically, you provide the address of your registry and a path at which the image can be located. It has a similar form to an URI without the scheme.</p>
<p>Note that, as of docker 1.3.1, if the registry isn’t served over HTTPS, the docker client will refuse to download the image. If you need to pull anyway, you must add the following parameter to the docker daemon when it starts up.</p>

		<div id="crayon-56d5b3bbecbdf290337890" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbdf290337890-1"> <span class="crayon-o">--</span><span class="crayon-v">insecure</span><span class="crayon-o">-</span><span class="crayon-i">registry</span> <span class="crayon-v">hostname</span><span class="crayon-o">:</span><span class="crayon-v">port</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Please refer to the <a href="https://docs.docker.com/reference/commandline/cli/#daemon" target="_blank">official documentation</a> to learn more about this.</p>
<h2>A base Linux Python-ready container</h2>
<p>Traditionnaly deploying CherryPy application has been done using a simple approach:</p>
<ul>
<li>Package your application into an archive</li>
<li>Copy that archive onto a server</li>
<li>Configure a database server</li>
<li>Configure a reverse proxy such as nginx</li>
<li>Start the Python process(es) to server your CherryPy application</li>
</ul>
<p>That last operation is usually done by directly calling <em>nohup python mymodule.py &amp;</em>. Alternatively, CherryPy comes with a handy script to run your application in a slightly more convenient fashion:</p>

		<div id="crayon-56d5b3bbecbe3505686399" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbe3505686399-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">cherryd</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">d</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">c</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-o">/</span><span class="crayon-st">to</span><span class="crayon-o">/</span><span class="crayon-v">application</span><span class="crayon-o">/</span><span class="crayon-v">conf</span><span class="crayon-o">/</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">P</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-o">/</span><span class="crayon-st">to</span><span class="crayon-o">/</span><span class="crayon-v">application</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-v">mymodule</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>This runs the Python module <em>mymodule</em> as a daemon using the given configuration file. If the <em>-P</em> flag isn’t provided, the module must be found in <em>PYTHONPATH</em>.</p>
<p>The idea is to create an image that will serve your application using <em>cherryd</em>. Let’s see how to setup an Ubuntu image to run your application.</p>

		<div id="crayon-56d5b3bbecbe7335615884" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbe7335615884-1"><span class="crayon-sy">$</span> <span class="crayon-e">docker </span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">name </span><span class="crayon-v">playground</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-v">ubuntu</span><span class="crayon-o">:</span><span class="crayon-cn">14.10</span><span class="crayon-h"> </span><span class="crayon-e">bash</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbe7335615884-2"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p">#</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>First we create a user which will not have the root permissions. This is a good attitude to follow:</p>

		<div id="crayon-56d5b3bbecbeb392718203" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbeb392718203-1"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># useradd -m -d /home/web web</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbeb392718203-2"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># mkdir /home/web/.venv</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Next, we install a bunch of libraries that are required to deploy some common Python dependencies:</p>

		<div id="crayon-56d5b3bbecbef989850459" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbef989850459-1"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># apt-get update</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbef989850459-2"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># apt-get upgrade -y</span></p><p class="crayon-line" id="crayon-56d5b3bbecbef989850459-3"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># apt-get install -y libc6 libc6-dev libpython2.7-dev libpq-dev libexpat1-dev libffi-dev libssl-dev python2.7-dev python-pip</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbef989850459-4"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># apt-get autoclean -y</span></p><p class="crayon-line" id="crayon-56d5b3bbecbef989850459-5"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># apt-get autoremove -y</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Then we create a virtual environment and install Python packages into it:</p>

		<div id="crayon-56d5b3bbecbf3934101071" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbf3934101071-1"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># pip install virtualenv</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbf3934101071-2"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># virtualenv -p python2.7 /home/web/.venv/default</span></p><p class="crayon-line" id="crayon-56d5b3bbecbf3934101071-3"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># source /home/web/.venv/default/bin/activate</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbf3934101071-4"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># pip install cython</span></p><p class="crayon-line" id="crayon-56d5b3bbecbf3934101071-5"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># pip install cherrypy==3.6.0 pyopenssl mako psycopg2 python-memcached sqlalchemy</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>These are common packages I use. Install whichever you require obviously.</p>
<blockquote><p><span>As indicated by Tony in the comments, it is probably overkill to create a virtual environment in a container since, the whole point of a container is to isolate your process and its dependencies already. I’m so used to using virtual env that I automatically created one. You may skip these steps.</span></p></blockquote>
<p>Those operations were performed as the root user, let’s make the web user those packages owner.</p>

		<div id="crayon-56d5b3bbecbf7210049525" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbf7210049525-1"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># chown -R web.web /home/web/.venv</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Good. Let’s switch to that user now:</p>

		<div id="crayon-56d5b3bbecbfb823239423" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbfb823239423-1"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># sudo su web</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbfb823239423-2"><span class="crayon-v">web</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># cd /home/web</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>At this stage, we have a base image ready to support a CherryPy application. It might be interesting to tag that paricular container as a new image so that we can use it various contexts.</p>

		<div id="crayon-56d5b3bbecbff959947228" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecbff959947228-1"><span class="crayon-v">web</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># docker ps</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbff959947228-2"><span class="crayon-e">CONTAINER </span><span class="crayon-e">ID        </span><span class="crayon-e">IMAGE               </span><span class="crayon-e">COMMAND             </span><span class="crayon-e">CREATED             </span><span class="crayon-e">STATUS              </span><span class="crayon-e">PORTS                    </span><span class="crayon-i">NAMES</span></p><p class="crayon-line" id="crayon-56d5b3bbecbff959947228-3"><span class="crayon-cn">675ad8e8752d</span><span class="crayon-h">        </span><span class="crayon-v">ubuntu</span><span class="crayon-o">:</span><span class="crayon-cn">14.10</span><span class="crayon-h">        </span><span class="crayon-s">"bash"</span><span class="crayon-h">              </span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-e">minutes </span><span class="crayon-e">ago       </span><span class="crayon-i">Up</span><span class="crayon-h"> </span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-i">minutes</span><span class="crayon-h">        </span><span class="crayon-cn">0.0.0.0</span><span class="crayon-o">:</span><span class="crayon-cn">9090</span><span class="crayon-o">-</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-cn">8080</span><span class="crayon-o">/</span><span class="crayon-e">tcp   </span><span class="crayon-e">playground</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbff959947228-4"><span class="crayon-v">web</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># docker commit -m "Base Ubuntu with Python env" 675ad8e8752d</span></p><p class="crayon-line" id="crayon-56d5b3bbecbff959947228-5"><span class="crayon-v">web</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># docker images</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbff959947228-6"><span class="crayon-e">REPOSITORY          </span><span class="crayon-e">TAG                 </span><span class="crayon-e">IMAGE </span><span class="crayon-e">ID            </span><span class="crayon-e">CREATED             </span><span class="crayon-e">VIRTUAL </span><span class="crayon-i">SIZE</span></p><p class="crayon-line" id="crayon-56d5b3bbecbff959947228-7"><span class="crayon-h">                            </span><span class="crayon-cn">78bc8c5c2e3f</span><span class="crayon-h">        </span><span class="crayon-cn">6</span><span class="crayon-h"> </span><span class="crayon-e">seconds </span><span class="crayon-i">ago</span><span class="crayon-h">       </span><span class="crayon-cn">506</span><span class="crayon-h"> </span><span class="crayon-e">MB</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbff959947228-8"><span class="crayon-v">web</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># docker tag 78bc8c5c2e3f lawouach/ubuntu:pythonbase</span></p><p class="crayon-line" id="crayon-56d5b3bbecbff959947228-9"><span class="crayon-v">web</span><span class="crayon-sy">@</span><span class="crayon-v">d91ec7935e33</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># docker images</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecbff959947228-10"><span class="crayon-e">REPOSITORY          </span><span class="crayon-e">TAG                 </span><span class="crayon-e">IMAGE </span><span class="crayon-e">ID            </span><span class="crayon-e">CREATED             </span><span class="crayon-e">VIRTUAL </span><span class="crayon-e">SIZE</span></p><p class="crayon-line" id="crayon-56d5b3bbecbff959947228-11"><span class="crayon-v">lawouach</span><span class="crayon-o">/</span><span class="crayon-e">ubuntu     </span><span class="crayon-i">pythonbase</span><span class="crayon-h">          </span><span class="crayon-cn">78bc8c5c2e3f</span><span class="crayon-h">        </span><span class="crayon-cn">32</span><span class="crayon-h"> </span><span class="crayon-e">seconds </span><span class="crayon-i">ago</span><span class="crayon-h">      </span><span class="crayon-cn">506</span><span class="crayon-h"> </span><span class="crayon-v">MB</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>We take the docker container and we commit it as a new image. We then tag the new created image to make it easy to reuse it later on.</p>
<p>Let’s see if it worked. Exit the container and start a new container from the new image.</p>

		<div id="crayon-56d5b3bbecc04488378269" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecc04488378269-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">name </span><span class="crayon-v">playground</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-v">lawouach</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">:</span><span class="crayon-e">pythonbase </span><span class="crayon-e">bash </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc04488378269-2"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-cn">66c6b2a5bb08</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-p"># sudo su web </span></p><p class="crayon-line" id="crayon-56d5b3bbecc04488378269-3"><span class="crayon-v">web</span><span class="crayon-sy">@</span><span class="crayon-cn">66c6b2a5bb08</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">web</span><span class="crayon-o">/</span><span class="crayon-h"> </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc04488378269-4"><span class="crayon-v">web</span><span class="crayon-sy">@</span><span class="crayon-cn">66c6b2a5bb08</span><span class="crayon-o">:</span><span class="crayon-o">~</span><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-i">source</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-v">venv</span><span class="crayon-o">/</span><span class="crayon-st">default</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-e">activate</span></p><p class="crayon-line" id="crayon-56d5b3bbecc04488378269-5"><span class="crayon-sy">(</span><span class="crayon-st">default</span><span class="crayon-sy">)</span><span class="crayon-v">web</span><span class="crayon-sy">@</span><span class="crayon-cn">66c6b2a5bb08</span><span class="crayon-o">:</span><span class="crayon-o">~</span><span class="crayon-sy">$</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Well. We are ready to play now.</p>
<h2>Run a CherryPy application in a docker container</h2>
<p>For the purpose of this article, here is our simple application:</p>

		<div id="crayon-56d5b3bbecc08422246290" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecc08422246290-1"><span class="crayon-e">import </span><span class="crayon-e">cherrypy</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc08422246290-2"> </p><p class="crayon-line" id="crayon-56d5b3bbecc08422246290-3"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Root</span><span class="crayon-sy">(</span><span class="crayon-t">object</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc08422246290-4"><span class="crayon-h">    </span><span class="crayon-sy">@</span><span class="crayon-v">cherrypy</span><span class="crayon-sy">.</span><span class="crayon-e">expose</span></p><p class="crayon-line" id="crayon-56d5b3bbecc08422246290-5"><span class="crayon-e">    </span><span class="crayon-e">def </span><span class="crayon-e">index</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc08422246290-6"><span class="crayon-h">        </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">"Hello world"</span></p><p class="crayon-line" id="crayon-56d5b3bbecc08422246290-7"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc08422246290-8"><span class="crayon-v">cherrypy</span><span class="crayon-sy">.</span><span class="crayon-v">config</span><span class="crayon-sy">.</span><span class="crayon-e">update</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-s">'server.socket_host'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'0.0.0.0'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b3bbecc08422246290-9"><span class="crayon-v">cherrypy</span><span class="crayon-sy">.</span><span class="crayon-v">tree</span><span class="crayon-sy">.</span><span class="crayon-e">mount</span><span class="crayon-sy">(</span><span class="crayon-e">Root</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Two important points:</p>
<ul>
<li>You must make sure CherryPy listens on the eth0 interface so just make it listen on all the container interfaces. Otherwise, the CherryPy will listen only on 127.0.0.1 which won’t be reachable from outside the container.</li>
<li>Do not start the <a href="http://docs.cherrypy.org/en/latest/extend.html#engine-as-a-pubsub-bus" target="_blank">CherryPy engine</a> yourself, this is done by the cherryd command. You must simply ensure the application is mounted so that CherryPy can serve it.</li>
</ul>
<p>Save this piece of code into your container under the module name:<em> server.py</em>. This could be any name, really. The module will be located in <em>/home/web</em>.</p>
<p>You can manually test the module:</p>

		<div id="crayon-56d5b3bbecc0c440495087" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecc0c440495087-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">name </span><span class="crayon-v">playground</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-cn">9090</span><span class="crayon-o">:</span><span class="crayon-cn">8080</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-v">lawouach</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">:</span><span class="crayon-e">pythonbase </span><span class="crayon-e">bash</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc0c440495087-2"><span class="crayon-sy">(</span><span class="crayon-st">default</span><span class="crayon-sy">)</span><span class="crayon-v">web</span><span class="crayon-sy">@</span><span class="crayon-cn">66c6b2a5bb08</span><span class="crayon-o">:</span><span class="crayon-o">~</span><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">cherryd</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">d</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">P</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">web</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-e">server</span></p><p class="crayon-line" id="crayon-56d5b3bbecc0c440495087-3"><span class="crayon-sy">(</span><span class="crayon-st">default</span><span class="crayon-sy">)</span><span class="crayon-v">web</span><span class="crayon-sy">@</span><span class="crayon-cn">66c6b2a5bb08</span><span class="crayon-o">:</span><span class="crayon-o">~</span><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">ip </span><span class="crayon-e">addr </span><span class="crayon-e">list </span><span class="crayon-v">eth0</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">grep</span><span class="crayon-h"> </span><span class="crayon-s">"inet "</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc0c440495087-4"><span class="crayon-i">inet</span><span class="crayon-h"> </span><span class="crayon-cn">172.17.0.11</span><span class="crayon-o">/</span><span class="crayon-cn">16</span><span class="crayon-h"> </span><span class="crayon-e">scope </span><span class="crayon-m">global</span><span class="crayon-h"> </span><span class="crayon-v">eth0</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>The second line tells us the IPv4 address of this container. Next point your browser to the following URL: <a href="http://localhost:9090/" target="_blank" rel="nofollow">http://localhost:9090/</a></p>
<p>“What is this magic?” I hear you say!</p>
<p>If you look at the command we use to start the container, we provide this bit: <em>-p 9090:8080</em>. This tells docker to map port 9090 on the host to port 8080 on the container alllowing for your application to be reached from the outside.</p>
<p>And voilà!</p>
<h3>Make the process a little more developer friendly</h3>
<p>In the previous section, we saved the application’s code into the container itself. During development, this may not be practical. One approach is to use a volume to share a directory between your host (where you work) and the container.</p>

		<div id="crayon-56d5b3bbecc11361946441" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecc11361946441-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">name </span><span class="crayon-v">playground</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-cn">9090</span><span class="crayon-o">:</span><span class="crayon-cn">8080</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">pwd</span><span class="crayon-sy">`</span><span class="crayon-o">/</span><span class="crayon-v">webapp</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">web</span><span class="crayon-o">/</span><span class="crayon-v">webapp</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-v">lawouach</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">:</span><span class="crayon-e">pythonbase </span><span class="crayon-v">bash</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>You can then work on your application and the container will see those changes immediatly.</p>
<h2>Automate things a bit</h2>
<p>The previous steps have shown in details how to setup an image to run a CherryPy application. Docker provides a simple interface to automate the whole process: Dockerfile.</p>
<p>A Dockerfile is a simple text file containing all the steps to create an image and more. Let’s see it first hand:</p>

		<div id="crayon-56d5b3bbecc15617185689" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-56d5b3bbecc15617185689-1">1</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b3bbecc15617185689-2">2</p><p class="crayon-num" data-line="crayon-56d5b3bbecc15617185689-3">3</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b3bbecc15617185689-4">4</p><p class="crayon-num" data-line="crayon-56d5b3bbecc15617185689-5">5</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b3bbecc15617185689-6">6</p><p class="crayon-num" data-line="crayon-56d5b3bbecc15617185689-7">7</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b3bbecc15617185689-8">8</p><p class="crayon-num" data-line="crayon-56d5b3bbecc15617185689-9">9</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b3bbecc15617185689-10">10</p><p class="crayon-num" data-line="crayon-56d5b3bbecc15617185689-11">11</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b3bbecc15617185689-12">12</p><p class="crayon-num" data-line="crayon-56d5b3bbecc15617185689-13">13</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b3bbecc15617185689-14">14</p><p class="crayon-num" data-line="crayon-56d5b3bbecc15617185689-15">15</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b3bbecc15617185689-16">16</p><p class="crayon-num" data-line="crayon-56d5b3bbecc15617185689-17">17</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b3bbecc15617185689-18">18</p><p class="crayon-num" data-line="crayon-56d5b3bbecc15617185689-19">19</p><p class="crayon-num crayon-striped-num" data-line="crayon-56d5b3bbecc15617185689-20">20</p><p class="crayon-num" data-line="crayon-56d5b3bbecc15617185689-21">21</p></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecc15617185689-1"><span class="crayon-e">FROM </span><span class="crayon-v">ubuntu</span><span class="crayon-o">:</span><span class="crayon-cn">14.10</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc15617185689-2"> </p><p class="crayon-line" id="crayon-56d5b3bbecc15617185689-3"><span class="crayon-e">RUN </span><span class="crayon-v">useradd</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">m</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">d</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-e">web </span><span class="crayon-v">web</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">mkdir</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">web</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">venv</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-sy">\</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc15617185689-4"> </p><p class="crayon-line" id="crayon-56d5b3bbecc15617185689-5"><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-v">update</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">sudo </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-v">upgrade</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc15617185689-6"><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">y</span><span class="crayon-h"> </span><span class="crayon-e">libc6 </span><span class="crayon-v">libc6</span><span class="crayon-o">-</span><span class="crayon-e">dev </span><span class="crayon-v">libpython2</span><span class="crayon-sy">.</span><span class="crayon-cn">7</span><span class="crayon-o">-</span><span class="crayon-e">dev </span><span class="crayon-v">libpq</span><span class="crayon-o">-</span><span class="crayon-e">dev </span><span class="crayon-v">libexpat1</span><span class="crayon-o">-</span><span class="crayon-e">dev </span><span class="crayon-v">libffi</span><span class="crayon-o">-</span><span class="crayon-e">dev </span><span class="crayon-v">libssl</span><span class="crayon-o">-</span><span class="crayon-e">dev </span><span class="crayon-v">python2</span><span class="crayon-sy">.</span><span class="crayon-cn">7</span><span class="crayon-o">-</span><span class="crayon-e">dev </span><span class="crayon-v">python</span><span class="crayon-o">-</span><span class="crayon-v">pip</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></p><p class="crayon-line" id="crayon-56d5b3bbecc15617185689-7"><span class="crayon-e">pip </span><span class="crayon-e">install </span><span class="crayon-v">virtualenv</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc15617185689-8"><span class="crayon-v">virtualenv</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-v">python2</span><span class="crayon-sy">.</span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">web</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">venv</span><span class="crayon-o">/</span><span class="crayon-st">default</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></p><p class="crayon-line" id="crayon-56d5b3bbecc15617185689-9"><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">web</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">venv</span><span class="crayon-o">/</span><span class="crayon-st">default</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-e">pip </span><span class="crayon-e">install </span><span class="crayon-v">cython</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc15617185689-10"><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">web</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">venv</span><span class="crayon-o">/</span><span class="crayon-st">default</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-e">pip </span><span class="crayon-e">install </span><span class="crayon-v">cherrypy</span><span class="crayon-o">==</span><span class="crayon-cn">3.6.0</span><span class="crayon-h"> </span><span class="crayon-e">pyopenssl </span><span class="crayon-e">mako </span><span class="crayon-e">psycopg2 </span><span class="crayon-v">python</span><span class="crayon-o">-</span><span class="crayon-e">memcached </span><span class="crayon-v">sqlalchemy</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></p><p class="crayon-line" id="crayon-56d5b3bbecc15617185689-11"><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-v">autoclean</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc15617185689-12"><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-v">autoremove</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></p><p class="crayon-line" id="crayon-56d5b3bbecc15617185689-13"><span class="crayon-v">chown</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">R</span><span class="crayon-h"> </span><span class="crayon-v">web</span><span class="crayon-sy">.</span><span class="crayon-v">web</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">web</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-e">venv</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc15617185689-14"> </p><p class="crayon-line" id="crayon-56d5b3bbecc15617185689-15"><span class="crayon-e">USER </span><span class="crayon-e">web</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc15617185689-16"><span class="crayon-v">WORKDIR</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-e">web</span></p><p class="crayon-line" id="crayon-56d5b3bbecc15617185689-17"><span class="crayon-e">ENV </span><span class="crayon-v">PYTHONPATH</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">web</span><span class="crayon-o">/</span><span class="crayon-e">webapp</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc15617185689-18"> </p><p class="crayon-line" id="crayon-56d5b3bbecc15617185689-19"><span class="crayon-e">COPY </span><span class="crayon-v">webapp</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">web</span><span class="crayon-o">/</span><span class="crayon-e">webapp</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b3bbecc15617185689-20"> </p><p class="crayon-line" id="crayon-56d5b3bbecc15617185689-21"><span class="crayon-i">ENTRYPOINT</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">"/home/web/.venv/default/bin/cherryd"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"-i"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"server"</span><span class="crayon-sy">]</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Create a directory and save the content above into a file named <em>Dockerfile</em>. Create a subdirectory called <em>webapp</em> and store your <em>server.py</em> module into it.</p>
<p>Now, build the image as follow:</p>

		<div id="crayon-56d5b3bbecc19533446729" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecc19533446729-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-v">build</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-v">lawouach</span><span class="crayon-o">/</span><span class="crayon-v">mywebapp</span><span class="crayon-o">:</span><span class="crayon-i">latest</span><span class="crayon-h"> </span><span class="crayon-sy">.</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Use whatever tag suits you. Then, you can run a container like this:</p>

		<div id="crayon-56d5b3bbecc1d101289319" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b3bbecc1d101289319-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-cn">9090</span><span class="crayon-o">:</span><span class="crayon-cn">8080</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-v">lawouach</span><span class="crayon-o">/</span><span class="crayon-v">mywebapp</span><span class="crayon-o">:</span><span class="crayon-v">latest</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>That’s it! A docker container running your CherryPy application.</p>
<p>In the next articles, I will explore various options to use docker in a web application context. Follow ups will also include an introduction to <a href="http://weave.works/" target="_blank">weave</a> and <a href="https://coreos.com/" target="_blank">coreos</a> to clusterize your CherryPy application.</p>
<p>In the meantime, do enjoy.</p>


                
                                <hr/>
            	
	<h2 class="text-danger" id="comments"><span class="fa fa-comments-ot"/>  
	3 Comments	</h2>
	<hr/>
	<ol class="commentlist">
		
    <li class="comment even thread-even depth-1" id="li-comment-40863">
        
    <ul class="children">

    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-40896">
        
    </li>

    <li class="comment even depth-2" id="li-comment-41098">
        
    </li>
</ul>
</li>
	</ol>
	
 
                

            </article>

    
</div></body></html>