<html><body><div><div class="storycontent">

 <p>Wikipedia describes <a title="Independent Component Analysis" href="http://en.wikipedia.org/wiki/Independent_component_analysis">independent component analysis</a> as “a computational method for separating a <a title="Multivariate" href="http://en.wikipedia.org/wiki/Multivariate">multivariate</a> signal into additive subcomponents supposing the mutual <a title="Statistical independence" href="http://en.wikipedia.org/wiki/Statistical_independence">statistical independence</a> of the non-Gaussian source signals”. (Clearly, this was written as part of their campaign to <a title="Every reasonable attempt should be made to ensure that material is presented in the most widely accessible manner possible. If an article is written in a highly technical manner, but the material permits a more accessible explanation, then editors are strongly encouraged to rewrite it." href="http://en.wikipedia.org/wiki/Wikipedia:Make_technical_articles_accessible">make technical articles accessible</a>.)</p>
<p>In normal people words, ICA is a form of <a title="Blind signal separation, also known as blind source separation, is the separation of a set of signals from a set of mixed signals, without the aid of information (or with very little information) about the source signals or the mixing process." href="http://en.wikipedia.org/wiki/Blind_signal_separation">blind source separation</a> — a method of unmixing signals after they have been mixed together, without knowing exactly how they were mixed. It’s not as bad as Wikipedia makes it sound. It’s just the signal processing equivalent of this:</p>
<p><object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true"/><param name="allowscriptaccess" value="always"/><param name="src" value="http://www.youtube.com/v/p08_KlTKP50&amp;hl=en_US&amp;fs=1&amp;rel=0&amp;color1=0x3a3a3a&amp;color2=0x999999&amp;border=1"/><param name="allowfullscreen" value="true"/><embed type="application/x-shockwave-flash" src="http://www.youtube.com/v/p08_KlTKP50&amp;hl=en_US&amp;fs=1&amp;rel=0&amp;color1=0x3a3a3a&amp;color2=0x999999&amp;border=1" allowfullscreen="true" allowscriptaccess="always"/></object></p>
<p>One of the problems I always have with learning stuff like this is the lack of clear examples. They exist, but they’re not generally very good. (And why do researchers always work with awful noisy 3-second <a href="http://users.groept.be/ko/koen.eneman/site/demo_beam/demo_beam.html">8 kHz</a> recordings?) So, upon getting working results, I wrote up this little example.  This is in Python and requires the <a title="Modular toolkit for Data Processing (MDP) is a Python data processing framework." href="http://mdp-toolkit.sourceforge.net/">MDP</a> (<a href="apt:python-mdp">python-mdp</a> in Ubuntu) and <a title="Audiolab is a python toolbox to read/write audio files from numpy arrays. It gives SciPy the equivalent of Matlab wavread, wavwrite, etc... as well as soundsc on the supported platforms." href="http://www.ar.media.kyoto-u.ac.jp/members/david/softwares/audiolab/">Audiolab</a> packages (<code>sudo easy_install scikits.audiolab</code>).</p>
<p>In order for ICA to work, it requires at least one different recording for each signal you want to unmix. So if you have two musical instruments playing together in a room, and want to unmix them to get separate recordings of each individual instrument, you’ll need two <em>different</em> recordings of the mixture to work with (like a stereo microphone). If you have three instruments playing together, you’ll need three microphones to separate out all three original signals, etc. So, first, create the mix:</p>
<ol>
<li>Find or make two <em>mono</em> sound files. I just used clips of music.</li>
<li>Mix them together to a stereo track, with both sounds mixed into both channels, but with each panned a little differently, so the two channels are not identical. They should sound all jumbled together, but the left channel should sound slightly different from the right.</li>
<li>Save in a format that libsndfile can read, like FLAC or WAV (<a title="Why doesn't libsndfile support MP3? Lots of other Open Source projects support it! " href="http://www.mega-nerd.com/libsndfile/FAQ.html#Q020">not mp3</a>):

</li>
</ol>
<p>Alternatively, just mix them in Python:</p>
<pre class="brush: python; title: ; notranslate" title="">
sig1, fs1, enc1 = wavread('file1.wav')
sig2, fs2, enc2 = wavread('file2.wav')
mixed1 = sig1 + 0.5 * sig2
mixed2 = sig2 + 0.6 * sig1
</pre>
<p>So now you have the mixed signals, and you can pretend you don’t know how they were mixed. To unmix them automatically, run something like this in Python:</p>
<pre class="brush: python; title: ; notranslate" title="">
from mdp import fastica
from scikits.audiolab import flacread, flacwrite
from numpy import abs, max

# Load in the stereo file
recording, fs, enc = flacread('mix.flac')

# Perform FastICA algorithm on the two channels
sources = fastica(recording)

# The output levels of this algorithm are arbitrary, so normalize them to 1.0.
sources /= max(abs(sources), axis = 0)

# Write back to a file
flacwrite(sources, 'sources.flac', fs, enc)
</pre>
<p>The output has each signal in its own channel:</p>

<p>You can hear some crosstalk, but it’s pretty good:</p>
<p class="audioplayer_container"><span id="audioplayer_9">Audio clip: Adobe Flash Player (version 9 or above) is required to play this audio clip. Download the latest version <a href="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash&amp;promoid=BIOW" title="Download Adobe Flash Player">here</a>. You also need to have JavaScript enabled in your browser.</span></p>
<p/>
<p class="audioplayer_container"><span id="audioplayer_10">Audio clip: Adobe Flash Player (version 9 or above) is required to play this audio clip. Download the latest version <a href="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash&amp;promoid=BIOW" title="Download Adobe Flash Player">here</a>. You also need to have JavaScript enabled in your browser.</span></p>
<p/>
<p>For more than two sources, I just read them in separately and combined them in Python:</p>
<pre class="brush: python; title: ; notranslate" title="">
rec1, fs, enc = flacread('Mixdown (1).flac') # Mono file
rec2, fs, enc = flacread('Mixdown (2).flac')
rec3, fs, enc = flacread('Mixdown (3).flac')

sources = fastica(array([rec1,rec2,rec3]).transpose())
</pre>
<p>flacwrite() has no problem writing multi-channel files.</p>
<p>Mixed speech:</p>
<p class="audioplayer_container"><span id="audioplayer_11">Audio clip: Adobe Flash Player (version 9 or above) is required to play this audio clip. Download the latest version <a href="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash&amp;promoid=BIOW" title="Download Adobe Flash Player">here</a>. You also need to have JavaScript enabled in your browser.</span></p>
<p/>
<p>After demixing, there’s very little crosstalk, though the noise floor increases considerably.  This seems to be the case when the mixes are very similar:</p>
<p class="audioplayer_container"><span id="audioplayer_12">Audio clip: Adobe Flash Player (version 9 or above) is required to play this audio clip. Download the latest version <a href="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash&amp;promoid=BIOW" title="Download Adobe Flash Player">here</a>. You also need to have JavaScript enabled in your browser.</span></p>
<p/>
<p class="audioplayer_container"><span id="audioplayer_13">Audio clip: Adobe Flash Player (version 9 or above) is required to play this audio clip. Download the latest version <a href="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash&amp;promoid=BIOW" title="Download Adobe Flash Player">here</a>. You also need to have JavaScript enabled in your browser.</span></p>
<p/>
<p class="audioplayer_container"><span id="audioplayer_14">Audio clip: Adobe Flash Player (version 9 or above) is required to play this audio clip. Download the latest version <a href="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash&amp;promoid=BIOW" title="Download Adobe Flash Player">here</a>. You also need to have JavaScript enabled in your browser.</span></p>
<p/>
<p>Although this method was recommended to me for real-life audio signals and microphones, as I’ve described above, it turns out that ICA <a title="However, instantaneous mixing and unmixing simulations are toy problems and the challenge lies in dealing with real world data." href="http://cnl.salk.edu/%7Etewon/ICA/intro.html">doesn’t actually work well</a> when the signals occur at different delays in the different sensor channels; it assumes instantaneous mixing (that the signals are in perfect sync with each other in all the different recordings).  Delay <em>would</em> happen in a real-life situation with performers and microphones, since each source is a different distance from each microphone. This is exactly the application I had in mind, though, so I don’t really have any further interest in ICA…</p>
	</div>
	
	</div></body></html>