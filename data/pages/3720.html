<html><body><div><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a id="user-content-django-absoluteuri" class="anchor" href="https://github.com/fusionbox/django-absoluteuri/blob/master/#django-absoluteuri" aria-hidden="true"><span class="octicon octicon-link"/></a>django-absoluteuri</h1>
<a href="https://travis-ci.org/fusionbox/django-absoluteuri"><img alt="https://travis-ci.org/fusionbox/django-absoluteuri.png?branch=master" src="https://camo.githubusercontent.com/f1904c21bdb8aa884d45129b087334aa37a14b28/68747470733a2f2f7472617669732d63692e6f72672f667573696f6e626f782f646a616e676f2d6162736f6c7574657572692e706e673f6272616e63683d6d6173746572" data-canonical-src="https://travis-ci.org/fusionbox/django-absoluteuri.png?branch=master"/></a>
<p>Absolute URI functions and template tags for Django.</p>
<a name="user-content-why"/>
<h2>
<a id="user-content-why" class="anchor" href="https://github.com/fusionbox/django-absoluteuri/blob/master/#why" aria-hidden="true"><span class="octicon octicon-link"/></a>Why</h2>
<p>There are times when you need to output an absolute URL (for example, inside an
email), but you don't always have access to the request. These utilities use
the Sites Framework if available in order to create absolute URIs.</p>
<a name="user-content-installation"/>
<h2>
<a id="user-content-installation" class="anchor" href="https://github.com/fusionbox/django-absoluteuri/blob/master/#installation" aria-hidden="true"><span class="octicon octicon-link"/></a>Installation</h2>
<p>Install django-absoluteuri:</p>
<pre>pip install django-absoluteuri
</pre>
<p>Then add it to your <code>INSTALLED_APPS</code>:</p>
<pre>INSTALLED_APPS = (
    # ...
    'django.contrib.sites',
    'absoluteuri',
)
</pre>
<p>django-absoluteuri requires the <a href="https://docs.djangoproject.com/en/dev/ref/contrib/sites/">Sites Framework</a> to be in
<code>INSTALLED_APPS</code> well and configured as well.</p>
<a name="user-content-settings"/>
<h2>
<a id="user-content-settings" class="anchor" href="https://github.com/fusionbox/django-absoluteuri/blob/master/#settings" aria-hidden="true"><span class="octicon octicon-link"/></a>Settings</h2>
<p>The protocol of the uris returned by this library defaults to <code>http</code>.  You
can specify the protocol with the <code>ABSOLUTEURI_PROTOCOL</code> setting.</p>
<div class="highlight highlight-python"><pre><span class="pl-c"># settings.py</span>
ABSOLUTEURI_PROTOCOL <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>https<span class="pl-pds">'</span></span>

<span class="pl-c"># Elsewhere</span>
<span class="pl-k">&gt;&gt;&gt;</span> absoluteuri.build_absolute_uri(<span class="pl-s"><span class="pl-pds">'</span>/some/path/<span class="pl-pds">'</span></span>)
<span class="pl-s"><span class="pl-pds">'</span>https://example.com/some/path/<span class="pl-pds">'</span></span></pre></div>
<a name="user-content-template-tags"/>
<h2>
<a id="user-content-template-tags" class="anchor" href="https://github.com/fusionbox/django-absoluteuri/blob/master/#template-tags" aria-hidden="true"><span class="octicon octicon-link"/></a>Template Tags</h2>
<p>There are two template tags, <code>absoluteuri</code> and <code>absolutize</code>.
<code>absoluteuri</code> works just like the <code>url</code> tag, but that it outputs absolute
URLs.</p>
<div class="highlight highlight-html+django"><pre><span class="pl-e">{%</span> <span class="pl-k">load</span> <span class="pl-s">absoluteuri</span> <span class="pl-e">%}</span>

&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>=<span class="pl-s"><span class="pl-pds">"</span>{% absoluteuri 'my_view' kwarg1='foo' kwarg2='bar' %}<span class="pl-pds">"</span></span>&gt;click here&lt;/<span class="pl-ent">a</span>&gt;</pre></div>
<p><code>absolutize</code> will take a relative URL and return an absolute URL.</p>
<div class="highlight highlight-html+django"><pre><span class="pl-e">{%</span> <span class="pl-k">load</span> <span class="pl-s">absoluteuri</span> <span class="pl-e">%}</span>

&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>=<span class="pl-s"><span class="pl-pds">"</span>{% absolutize url_from_context %}<span class="pl-pds">"</span></span>&gt;click here&lt;/<span class="pl-ent">a</span>&gt;</pre></div>
<a name="user-content-filter"/>
<h2>
<a id="user-content-filter" class="anchor" href="https://github.com/fusionbox/django-absoluteuri/blob/master/#filter" aria-hidden="true"><span class="octicon octicon-link"/></a>Filter</h2>
<p>Sometimes instead of template tags, it's easier to use filters. You can do that
as well.</p>
<div class="highlight highlight-html+django"><pre><span class="pl-e">{%</span> <span class="pl-k">load</span> <span class="pl-s">absoluteuri</span> <span class="pl-e">%}</span>

&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>=<span class="pl-s"><span class="pl-pds">"</span>{{ my_object.get_absolute_url|absolutize }}<span class="pl-pds">"</span></span>&gt;click here&lt;/<span class="pl-ent">a</span>&gt;</pre></div>
<p>But there are situations where tag can not be used but filter can.</p>
<div class="highlight highlight-html+django"><pre><span class="pl-e">{%</span> <span class="pl-k">load</span> <span class="pl-s">absoluteuri</span> <span class="pl-e">%}</span>

<span class="pl-e">{%</span> <span class="pl-k">include</span> <span class="pl-s">"some-other-template.html"</span> <span class="pl-s">with</span> <span class="pl-s">url</span>=<span class="pl-s">my_object</span>.<span class="pl-s">get_absolute_url</span>|<span class="pl-s">absolutize</span> <span class="pl-e">%}</span></pre></div>
<a name="user-content-functions"/>
<h2>
<a id="user-content-functions" class="anchor" href="https://github.com/fusionbox/django-absoluteuri/blob/master/#functions" aria-hidden="true"><span class="octicon octicon-link"/></a>Functions</h2>
<p>There are also two functions that django-absoluteuri provides,
<code>build_absolute_uri</code> and <code>reverse</code>, which are equivalents of
<code>request.build_absolute_url</code> and <code>urlresolvers.reverse</code>.</p>
<div class="highlight highlight-python"><pre><span class="pl-k">&gt;&gt;&gt;</span> <span class="pl-k">import</span> absoluteuri

<span class="pl-k">&gt;&gt;&gt;</span> my_relative_url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>/path/to/somewhere/<span class="pl-pds">'</span></span>
<span class="pl-k">&gt;&gt;&gt;</span> absoluteuri.build_absolute_uri(my_relative_url)
<span class="pl-s"><span class="pl-pds">'</span>http://example.com/path/to/somewhere/<span class="pl-pds">'</span></span>
<span class="pl-k">&gt;&gt;&gt;</span> absoluteuri.reverse(<span class="pl-s"><span class="pl-pds">'</span>viewname<span class="pl-pds">'</span></span>, <span class="pl-smi">kwargs</span><span class="pl-k">=</span>{<span class="pl-s"><span class="pl-pds">'</span>foo<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>bar<span class="pl-pds">'</span></span>})
<span class="pl-s"><span class="pl-pds">'</span>http://example.com/path/to/bar/<span class="pl-pds">'</span></span></pre></div>

</article></div></body></html>