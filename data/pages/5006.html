<html><body><div><div class="entry-content">
		<p><a href="https://impythonist.files.wordpress.com/2015/06/what_is_docker.png"><img class="aligncenter size-full wp-image-1041" src="https://impythonist.files.wordpress.com/2015/06/what_is_docker.png?w=1000" alt="what_is_docker"/></a></p>
<p> </p>
<p> </p>
<h2 id="toc_0">Always use a virtual environment for your software development</h2>
<p>Hello friends. I am a DevOps engineer who deals with development , production , monitoring , configuration management etc of a Software. But for every developer , there will be few  house keeping things which are quite irritating. You are having a single Ubuntu system and for the project’s sake , you will install many database servers and other applications in it. The dependencies for your applications will cause trouble , when  you are installing both your favorite games and working projects in a single system.</p>
<h2 id="toc_0">Why Docker?</h2>
<p>What if something went wrong in your working project and everything in your system is messed up.  So I always  suggest you to separate your work with personal things. In this tutorial, I am going to show you how a developer can run his/her project and its applications in a light-weight virtual environment called container. This container is created by the Docker . We can access docker container from the host system for code editing and view execution. So always use a virtual environment for your software development.</p>
<h2 id="toc_0">What is Docker?</h2>
<p><img class="alignnone" src="https://i2.wp.com/scm.zoomquiet.io/data/20131004215734/docker_container.jpg" alt=""/></p>
<ul>
<li class="fragment roll-in visible">Open platform for developers and sysadmins to build, ship, and run distributed applications.</li>
<li class="fragment roll-in visible">Light weight containers</li>
<li class="fragment roll-in visible">It’s fast , not like a VM</li>
<li class="fragment roll-in visible">Minimal resource usage</li>
<li class="fragment roll-in visible">Run thousands of containers</li>
<li class="fragment roll-in visible">Easy to run your whole production stack locally</li>
</ul>
<p>Docker can create 100 light-weight environments in a single laptop. Unlike a virtual machine , your docker container will launch in one second. It will give an isolated environment for a developer to work with. In this post , I am going to create a docker container and setup a Python Django project and push it to my cloud repository.</p>
<p>Docker achieves its robust application (and therefore, process and resource) containment via <strong><em>Linux Containers</em></strong> (e.g. namespaces and other kernel features). Its further capabilities come from a project’s own parts and components, which extract all the complexity of working with <em>lower-level</em> linux tools/APIs used for system and application management with regards to securely containing processes.</p>
<h3 id="main-docker-parts">Main Docker Parts</h3>
<ol>
<li>docker daemon: used to manage docker (LXC) containers on the host it runs</li>
<li>docker CLI: used to command and communicate with the docker daemon</li>
<li>docker image index: a repository (public or private) for docker images</li>
</ol>
<h3 id="main-docker-elements">Main Docker Elements</h3>
<ol>
<li>docker containers: directories containing everything-your-application</li>
<li>docker images: snapshots of containers or base OS (e.g. Ubuntu) images</li>
<li>Dockerfiles: scripts automating the building process of images</li>
</ol>
<h3 id="installation-instructions-for-ubuntu">Installation Instructions for Ubuntu 14.04</h3>
<pre class="code-pre "/>
<p> </p>
<pre class="code-pre "><code>$ sudo apt-get upgrade
$ sudo apt-get install docker.io
$ sudo service docker.io start
<span class="crayon-v">$ sudo ln</span> <span class="crayon-o">-</span><span class="crayon-v">sf</span> <span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-sy">.</span><span class="crayon-v">io</span> <span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">local</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-e">docker
</span>$ sudo <span class="crayon-v">sed</span> <span class="crayon-o">-</span><span class="crayon-i">i</span> <span class="crayon-s">'$acomplete -F _docker docker'</span> <span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">bash_completion</span><span class="crayon-sy">.</span><span class="crayon-v">d</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-sy">.</span><span class="crayon-v">io</span></code></pre>
<pre class="code-pre "/>
<p> </p>
<h2 id="how-to-use-docker">Using the Docker</h2>
<p><img class="alignnone" src="https://i0.wp.com/www.eweek.com/imagesvr_ce/8781/DockerFacts_3.jpg" alt=""/> Now we use Ubuntu as our base image for creating containers, then modify a freshly created container and commit it.</p>
<pre class="code-pre "><code><span class="crayon-o">$ sudo docker pull ubuntu</span></code></pre>
<p>this pulls the base ubuntu image to your system. After a successful pull we can launch a new container using following command.</p>
<pre class="code-pre "><code><span class="crayon-o">$ sudo docker run -i -t -p 127.0.0.1:8000:8000 ubuntu </span></code></pre>
<p>This creates a new container with container port 8000 forwarded to the host port 8000 . The flags mean this:</p>
<p>-i        attaches stdin and stdout</p>
<p>-t     allocates a terminal or console</p>
<p>-p     forwards ports from container to host</p>
<h2 id="how-to-use-docker">Things a developer needs</h2>
<p>1) Edit Project code from host in your favorite editor.</p>
<p>2) Run project in that virtual container environment</p>
<p>3) See the output through the port that forwarded.</p>
<p>So in-order to edit code you need to access container data in your host. Instead you just mount a host directory in your docker container. Then your project code is in host ,but runs in the container. Cool right?.</p>
<p>So we will modify the command for running the new container as this.</p>
<pre class="code-pre "><code><span class="crayon-o">$ sudo docker run -i -t -p 127.0.0.1:8000:8000 -v /home/hproject:/home/cproject ubuntu </span></code></pre>
<p>Now a docker container will be created and started  with following things.</p>
<p>* port is forwarded on localhost:8000</p>
<p>* Data volume “/home/hproject” of host is mounted as “/home/cproject” in the container. It means the files lies in the /home/hproject of our host system is accessible perfectly from the container at /home/cproject.</p>
<p>These two things are required by a Django developer because , he need to modify code and view output through the browser. Now he don’t care where code is running. But here code is running in isolation. That too in a light-weight docker container. Vagrant has same port forwarding and volume mounting strategy but Vagrant is a VM , Docker is a VE.</p>
<h2 id="how-to-use-docker">Play with the container</h2>
<p>Now we have a container started . It looks like bash with # symbol. So now install following things in it.</p>
<p>* Python</p>
<p>* PIP</p>
<p>* Virtualenv</p>
<p>* Git</p>
<p>* Setup Django ,MySql and your Project</p>
<p>That’s it. You can install any thing that required to the project.But remember after doing stuff , use exit to come out of container.</p>
<pre class="code-pre "><code><span class="crayon-o"># exit
</span></code></pre>
<p>Now if you do not commit the container, all changes you made will be lost. So commit the container first. Before that find out the containerID by typing this command.</p>
<pre class="code-pre "><code><span class="crayon-o">$ sudo docker ps -a </span></code></pre>
<p>and find out the latest container exited. You can give a name to a container while committing</p>
<pre class="code-pre "><code><span class="crayon-o">$ sudo docker commit b03e4fb46172 mycontainer </span></code></pre>
<p>This will commit the latest container we played till now and also gives it a name mycontainer. If once again we wish to launch container for working with our project , then use following commands.</p>
<pre class="code-pre "><code><span class="crayon-o">$ sudo docker start mycontainer
$ sudo docker attach mycontainer</span></code></pre>
<p>That’s it. You will enter into a virtual container where you can run your Django project. If you plan to remove a container just do</p>
<pre class="code-pre "><code><span class="crayon-o">$ sudo docker rm mycontainer</span></code></pre>
<p>If you wish to push your container to the cloud , you should use the Docker hub registry. Don’t forget to commit after coming out of container. You can carry your entire project with environment anywhere. Package your Project (Django ,Flask) + Environ (MySql,PostgreSQL,Redis) to a tar file and export it to any place. That is the magic of Docker. For doing that just export a container to a TAR file.</p>
<h2 id="how-to-use-docker">Exporting the containers</h2>
<pre class="code-pre "><code><span class="crayon-o">$ sudo docker export mycontainer<span class="crayon-o">&gt;</span> <span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/mycontainer</span><span class="crayon-sy">.</span><span class="crayon-v">tar</span></span></code></pre>
<p>Instead you can also save images and carry them over system through FTP and then load it in target node.</p>
<h2 id="how-to-use-docker">Loading and saving the images</h2>
<pre class="code-pre "><code><span class="crayon-o">$ sudo docker save mycontainer <span class="crayon-o">&gt;</span> <span class="crayon-o">/tmp</span><span class="crayon-o">/mycontainer</span><span class="crayon-sy">.</span><span class="crayon-v">tar</span></span></code></pre>
<p>and then load it in target host as</p>
<pre class="code-pre "><code><span class="crayon-o">$ sudo docker load mycontainer &lt; <span class="crayon-o">/tmp</span><span class="crayon-o">/mycontainer</span><span class="crayon-sy">.</span><span class="crayon-v">tar
</span></span></code></pre>
<h2 id="how-to-use-docker">References for dockerizing your mind</h2>
<p><a href="http://www.jamescoyle.net/how-to/1499-installing-docker-on-ubuntu-14-04" rel="nofollow">http://www.jamescoyle.net/how-to/1499-installing-docker-on-ubuntu-14-04</a></p>
<p><a href="http://www.jamescoyle.net/how-to/1503-create-your-first-docker-container" rel="nofollow">http://www.jamescoyle.net/how-to/1503-create-your-first-docker-container</a></p>
<p><a href="http://docs.docker.com/linux/started/" rel="nofollow">http://docs.docker.com/linux/started/</a></p>
<p><a href="https://blog.docker.com/2015/03/docker-tutorial-1-installing-docker/" rel="nofollow">https://blog.docker.com/2015/03/docker-tutorial-1-installing-docker/</a></p>
<p><a href="https://www.digitalocean.com/community/tutorials/docker-explained-how-to-containerize-python-web-applications" rel="nofollow">https://www.digitalocean.com/community/tutorials/docker-explained-how-to-containerize-python-web-applications</a></p>
<p><a href="https://www.digitalocean.com/community/tutorials/docker-explained-how-to-create-docker-containers-running-memcached" rel="nofollow">https://www.digitalocean.com/community/tutorials/docker-explained-how-to-create-docker-containers-running-memcached</a></p>
<p><a href="http://www.slashroot.in/docker-tutorial-how-install-and-use-containers" rel="nofollow">http://www.slashroot.in/docker-tutorial-how-install-and-use-containers</a></p>
<p><a href="http://www.slashroot.in/dockerfile-tutorial-building-docker-images-for-containers" rel="nofollow">http://www.slashroot.in/dockerfile-tutorial-building-docker-images-for-containers</a></p>
<p><a href="https://denibertovic.com/talks/supercharge-development-env-using-docker/#/" rel="nofollow">https://denibertovic.com/talks/supercharge-development-env-using-docker/#/</a></p>
<p><a href="http://opensource.com/business/14/7/guide-docker" rel="nofollow">http://opensource.com/business/14/7/guide-docker</a></p>
<p><a href="https://www.codementor.io/docker/tutorial/try-docker-in-2015-fig-cloud-services-containers" rel="nofollow">https://www.codementor.io/docker/tutorial/try-docker-in-2015-fig-cloud-services-containers</a></p>
<p><a href="https://www.linode.com/docs/applications/containers/linode-lamp-container-docker" rel="nofollow">https://www.linode.com/docs/applications/containers/linode-lamp-container-docker</a></p>
<p><a href="https://realpython.com/blog/python/docker-in-action-fitter-happier-more-productive/" rel="nofollow">https://realpython.com/blog/python/docker-in-action-fitter-happier-more-productive/</a></p>
<p><a href="http://jeff-davis.blogspot.in/2015/02/multi-tier-architecture-tutorial-using.html" rel="nofollow">http://jeff-davis.blogspot.in/2015/02/multi-tier-architecture-tutorial-using.html</a></p>
<p> </p>
<p> </p>
<p> </p>
		<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" id="like-post-wrapper-62549587-1040-56d5a7a1b83b0" data-src="//widgets.wp.com/likes/#blog_id=62549587&amp;post_id=1040&amp;origin=impythonist.wordpress.com&amp;obj_id=62549587-1040-56d5a7a1b83b0" data-name="like-post-frame-62549587-1040-56d5a7a1b83b0"><h3 class="sd-title">Like this:</h3><p class="likes-widget-placeholder post-likes-widget-placeholder"><span class="button"><span>Like</span></span> <span class="loading">Loading...</span></p><span class="sd-text-color"/><a class="sd-link-color"/></div>
<p id="jp-relatedposts" class="jp-relatedposts">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</p></div>					</div>

	</div></body></html>