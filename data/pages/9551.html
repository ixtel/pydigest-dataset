<html><body><div><div class="section">
              <h1>streamexpect 0.2.0</h1>

              


<p>expect-like tools over a Python stream</p>








<div id="streamexpect">
<h2>streamexpect</h2>
<p><a href="https://travis-ci.org/digidotcom/python-streamexpect" rel="nofollow"><img src="https://travis-ci.org/digidotcom/python-streamexpect.svg?branch=master"/></a> <a href="https://coveralls.io/r/digidotcom/python-streamexpect" rel="nofollow"><img src="https://img.shields.io/coveralls/digidotcom/python-streamexpect.svg"/>
</a> <a href="https://codeclimate.com/github/digidotcom/python-streamexpect" rel="nofollow"><img src="https://img.shields.io/codeclimate/github/digidotcom/python-streamexpect.svg"/>
</a> <a href="https://github.com/digidotcom/python-streamexpect/issues" rel="nofollow"><img src="https://img.shields.io/github/issues/digidotcom/python-streamexpect.svg"/>
</a> <a href="https://pypi.python.org/pypi/streamexpect/" rel="nofollow"><img src="https://img.shields.io/pypi/v/streamexpect.svg"/>
</a>
<a href="https://github.com/digidotcom/python-streamexpect/blob/master/LICENSE.txt" rel="nofollow"><img src="https://img.shields.io/badge/license-MPL%202.0-blue.svg"/>
</a></p>
<p>streamexpect is a library providing cross-platform “expect-like”
functionality for generic Python streams and sockets . It is similar to
the <a href="https://pexpect.readthedocs.org" rel="nofollow">Pexpect</a> library, except where
Pexpect explicitly requires an underlying file (usually a TTY),
streamexpect uses duck-typing and requires only a <tt>read</tt> or <tt>recv</tt>
method.</p>
<p><a href="https://digidotcom.github.io/python-streamexpect" rel="nofollow">View the Full
Documentation</a></p>
<p>The original version of streamexpect was generously donated by
<a href="http://www.digi.com" rel="nofollow">Digi</a> <a href="http://www.digi.com/wds" rel="nofollow">Wireless Design
Services</a>. The software is provided as Alpha
software and has not undergone formal testing. It does, however, ship
with extensive unit testing.</p>
<p><a href="https://github.com/digidotcom/python-streamexpect/blob/master/CHANGELOG.md" rel="nofollow">View the
Changelog</a></p>
</div>
<div id="installation">
<h2>Installation</h2>
<p>Installation is performed using pip. The latest released version of
streamexpect can be obtained with the following command:</p>
<pre>$ pip install streamexpect
</pre>
<p>To install the development version from GitHub:</p>
<pre>$ pip install -U -e <span class="s1">'git+https://github.com/digidotcom/python-streamexpect#egg=streamexpect'</span>
</pre>
</div>
<div id="example">
<h2>Example</h2>
<p>The following example shows opening a serial port (on a Windows PC),
sending the <tt>uname</tt> command, and verifying that <em>Linux</em> is in the
returned data.</p>
<pre><span class="kn">import</span> <span class="nn">serial</span>
<span class="kn">import</span> <span class="nn">streamexpect</span>

<span class="c1"># timeout=0 is essential, as streams are required to be non-blocking</span>
<span class="n">ser</span> <span class="o">=</span> <span class="n">serial</span><span class="o">.</span><span class="n">Serial</span><span class="p">(</span><span class="s1">'COM1'</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">115200</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="k">with</span> <span class="n">streamexpect</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">ser</span><span class="p">)</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
  <span class="n">stream</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">'</span><span class="se">\r\n</span><span class="s1">uname -a</span><span class="se">\r\n</span><span class="s1">'</span><span class="p">)</span>
  <span class="n">match</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">expect_bytes</span><span class="p">(</span><span class="s1">'Linux'</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="s1">u'Found Linux at index {}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">))</span>
</pre>
</div>
<div id="design-goals">
<h2>Design Goals</h2>

<p>The library should not depend on any features (besides Python) that
exclude a platform. Yes, that means Windows is a first-class citizen.</p>

<p>When dealing with streams of data, the distinction between when the
stream goes from being a series of binary bytes to a set of encoded
characters can be unclear. The library should be explicit in the
handling of binary versus characters, such that mixing the two types is
not allowed without explicit options to enable encoding and decoding.</p>
<ul>
<li>Common Use Cases Should Be Simple</li>
</ul>
<p>For 95% of users, the <tt>streamexpect.wrap</tt> function should accomplish
the desired goals. Intelligent default options should be used so the
library just “does the right thing”.</p>
<ul>
<li>Complicated Use Cases Should Be Possible</li>
</ul>
<p>The objects returned by the <tt>streamexpect.wrap</tt> function should
themselves be easy to use and extend. Protocol requirements between
classes should be explicit and documented.</p>
</div>
<div id="development">
<h2>Development</h2>
<p>Development of streamexpect takes place in the open on GitHub. Please
use pull requests to submit changes to code and documentation.</p>
<p>The process for building and testing streamexpect has been automated as
much as possible. <a href="https://testrun.org/tox/" rel="nofollow">tox</a> handles building
and testing the code, as well as generating documentation and
automatically testing for code style issues. tox can be installed with
pip:</p>
<pre>pip install tox
</pre>
<p>The generic tox command looks like:</p>
<pre>tox
</pre>
<p>This will attempt to build and test streamexpect against multiple
different versions of Python, and will error on versions not found. To
test against only a single version of Python, specify the version at the
tox command line. For example, to test only Python 2.7:</p>
<pre>tox -e py27
</pre>
<p>Multiple versions may be specified, separated by a comma:</p>
<pre>tox -e py27,py35
</pre>
<p>Documentation generation and code style checking are not performed by
default, and so must be explicitly provided to the tox command.
Documentation generation requires either Python 2.7, or Python 3.3 or
greater.</p>
<pre>tox -e docs,style
</pre>
</div>
<div id="license">
<h2>License</h2>
<p>This software is open-source software. Copyright Digi International,
2015.</p>
<p>This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, you can obtain one at <a href="http://mozilla.org/MPL/2.0/" rel="nofollow">http://mozilla.org/MPL/2.0/</a>.</p>
</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>17</span> downloads in the last week
  </li>
  <li>
    <span>110</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>