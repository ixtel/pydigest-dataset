<html><body><div><div class="post-text" itemprop="text">

<p>I currently have a valid git database with no packfile, but due to a bug in<code>git-pack-objects</code><em>(the process crashes with a stack dump file)</em> I’m unable to perform the<code>git repack</code>command.</p>

<p>I took a look at the error, and it’s linked to the C nature of the official git project <em>(fixing would require changing core<code>struct</code>definitions)</em> so, this will takes a lot of time to fix.</p>

<p>The only alternative I found which don’t use C is gitdb <em>(part of gitpython)</em>. However I wasn’t able to find how to use the<a href="http://gitdb.readthedocs.org/en/latest/api.html#gitdb.pack.PackEntity.write_pack" rel="nofollow"><code>write_pack()</code></a>function.<br/>
Or more exactly, I have no idea on how to build the<a href="http://gitdb.readthedocs.org/en/latest/api.html#gitdb.pack.PackEntity.create" rel="nofollow"><code>object_iter</code></a>parameter from the database path from loose objects.<br/>
I don’t even know the exact class type used in the<a href="http://gitdb.readthedocs.org/en/latest/api.html#gitdb.pack.PackEntity.create" rel="nofollow"><code>object_iter</code></a>list.</p>

<p>So, how to use gitdb for that purpose ?</p>
    </div>
    </div></body></html>