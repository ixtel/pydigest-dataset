<html><body><div><div itemprop="articleBody"><p>One common annoyance with python packaging is the lack of a standard <cite>distribution</cite> naming convention. The <a class="reference external" href="http://pythonhosted.org//setuptools/setuptools.html">distribution</a> is the archive you download from PyPI. The <cite>distribution</cite> contains the actual <a class="reference external" href="https://docs.python.org/3/tutorial/modules.html#packages">packages</a> and/or <a class="reference external" href="https://docs.python.org/3/tutorial/modules.html#modules">modules</a>. So basically the <cite>distribution</cite> name is the <tt class="docutils literal">name</tt> argument in <tt class="docutils literal">setup.py</tt>'s <tt class="docutils literal">setup( ... )</tt> call.</p><p>The naming is a bit confusing, the <cite>package</cite> is not like the <cite>package in your favourite Linux distro</cite> - the <cite>distribution</cite> is. And yes, the title is wrong. Intentionally wrong :)</p><p>Now guess the actual <cite>distribution</cite> name for the most popular mysql client:</p><ul class="simple"><li><tt class="docutils literal">mysqldb</tt> - Makes sense right? <tt class="docutils literal">MySQLdb</tt> is what you would import in your code. But alas, this is not the distribution name.</li><li><tt class="docutils literal">mysql</tt> - Maybe this? Nope.</li><li><tt class="docutils literal"><span class="pre">python-mysqldb</span></tt> - No.</li><li><tt class="docutils literal"><span class="pre">python-mysql</span></tt> - No.</li><li><tt class="docutils literal"><span class="pre">mysqldb-python</span></tt> - No.</li><li><tt class="docutils literal"><span class="pre">mysql-python</span></tt> - It can't be this can it? Surprise, surprise, <a class="reference external" href="https://pypi.python.org/pypi/MySQL-python">it is</a>.</li></ul><p>Now that was an extreme case but there's always this <a class="reference external" href="https://pypi.python.org/pypi?%3Aaction=search&amp;term=python-&amp;submit=search">predilection</a> of prefixing <cite>distributions</cite> with <tt class="docutils literal">python-</tt>.</p><div class="note"><p class="first admonition-title">Note</p><p class="last">Update: there's a <a class="reference external" href="https://pypi.python.org/pypi/pypi-alias">pypi-alias</a> tool you should use instead.</p></div><p>There should be an easy way to create aliases on PyPI. I like to name <cite>distributions</cite> with the actual <cite>package</cite> name (or whatever users would import) and use this script to create a "<tt class="docutils literal"><span class="pre">python-&lt;name&gt;</span></tt>" alias for confused users:</p><div class="highlight"><pre><span/><span class="ch">#!/usr/bin/python</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">tempfile</span>

<span class="n">name</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">([</span><span class="s1">'python'</span><span class="p">,</span> <span class="s1">'setup.py'</span><span class="p">,</span> <span class="s1">'--name'</span><span class="p">])</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">"https://pypi.python.org/pypi/</span><span class="si">%s</span><span class="s2">/"</span> <span class="o">%</span> <span class="n">name</span>
<span class="n">description</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">([</span><span class="s1">'python'</span><span class="p">,</span> <span class="s1">'setup.py'</span><span class="p">,</span> <span class="s1">'--description'</span><span class="p">])</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="k">assert</span> <span class="s1">'python'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">name</span>
<span class="n">alias</span> <span class="o">=</span> <span class="s2">"python-</span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="n">name</span>
<span class="n">author</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">([</span><span class="s1">'python'</span><span class="p">,</span> <span class="s1">'setup.py'</span><span class="p">,</span> <span class="s1">'--author'</span><span class="p">])</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="n">author_email</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">([</span><span class="s1">'python'</span><span class="p">,</span> <span class="s1">'setup.py'</span><span class="p">,</span> <span class="s1">'--author-email'</span><span class="p">])</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
    <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">'setup.py'</span><span class="p">),</span> <span class="s1">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
        <span class="n">fh</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">b</span><span class="s2">"""# encoding: utf8</span>

<span class="s2">from setuptools import setup</span>

<span class="s2">setup(</span>
<span class="s2">    name=</span><span class="si">%(alias)r</span><span class="s2">,</span>
<span class="s2">    version="0.0",</span>
<span class="s2">    url=</span><span class="si">%(url)r</span><span class="s2">,</span>
<span class="s2">    description=</span><span class="si">%(description)r</span><span class="s2">,</span>
<span class="s2">    long_description='''Use `</span><span class="si">%(name)s</span><span class="s2"> &lt;</span><span class="si">%(url)s</span><span class="s2">&gt;`_ instead.''',</span>
<span class="s2">    author=</span><span class="si">%(author)r</span><span class="s2">,</span>
<span class="s2">    platforms=['all'],</span>
<span class="s2">    zip_safe=False,</span>
<span class="s2">    author_email=</span><span class="si">%(author_email)r</span><span class="s2">,</span>
<span class="s2">    install_requires=[</span><span class="si">%(name)r</span><span class="s2">],</span>
<span class="s2">)</span>
<span class="s2">"""</span> <span class="o">%</span> <span class="nb">globals</span><span class="p">())</span>

    <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s1">'python'</span><span class="p">,</span> <span class="s1">'setup.py'</span><span class="p">]</span> <span class="o">+</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</pre></div><p>This assumes your actual <cite>distribution</cite> name is not prefixed with <tt class="docutils literal">python-</tt>. I use it like this:</p><pre class="literal-block">
pypi-link register sdist upload
</pre><p>You could easily change the script to take the alias name as an argument.</p><p>Now back to the original nuisance - should <a class="reference external" href="https://pypi.python.org/pypi/MySQL-python">MySQL-python</a> have aliases or not?</p></div></div></body></html>