<html><body><div><div class="body">
            
  <div class="section" id="welcome-to-the-soupy-documentation">
<h1>Welcome to the Soupy documentation</h1>
<p>Soupy is a wrapper around <a class="reference external" href="http://www.crummy.com/software/BeautifulSoup/">BeautifulSoup</a> that makes it easier to
search through HTML and XML documents.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">soupy</span> <span class="kn">import</span> <span class="n">Soupy</span><span class="p">,</span> <span class="n">Q</span>

<span class="n">html</span> <span class="o">=</span> <span class="s">"""</span>
<span class="s">&lt;div id="main"&gt;</span>
<span class="s">  &lt;div&gt;The web is messy&lt;/div&gt;</span>
<span class="s">  and full of traps</span>
<span class="s">  &lt;div&gt;but Soupy loves you&lt;/div&gt;</span>
<span class="s">&lt;/div&gt;"""</span>

<span class="k">print</span><span class="p">(</span><span class="n">Soupy</span><span class="p">(</span><span class="n">html</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'main'</span><span class="p">)</span><span class="o">.</span><span class="n">children</span>
      <span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="n">Q</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="c"># extract text from each node, trim whitespace</span>
      <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="nb">len</span><span class="p">)</span>          <span class="c"># remove empty strings</span>
      <span class="o">.</span><span class="n">val</span><span class="p">())</span>               <span class="c"># dump out of Soupy</span>
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>[u'The web is messy', u'and full of traps', u'but Soupy loves you']
</pre></div>
</div>
<p>Compare to the same task in BeautifulSoup:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span><span class="p">,</span> <span class="n">NavigableString</span>

<span class="n">html</span> <span class="o">=</span> <span class="s">"""</span>
<span class="s">&lt;div id="main"&gt;</span>
<span class="s">  &lt;div&gt;The web is messy&lt;/div&gt;</span>
<span class="s">  and full of traps</span>
<span class="s">  &lt;div&gt;but Soupy loves you&lt;/div&gt;</span>
<span class="s">&lt;/div&gt;"""</span>

<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'main'</span><span class="p">)</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">NavigableString</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>[u'The web is messy', u'and full of traps', u'but Soupy loves you']
</pre></div>
</div>
<p>Soupy uses BeautifulSoup under the hood and provides a very similar API,
while smoothing over some of the warts in BeautifulSoup. Soupy also
adds a functional interface for chaining together operations,
gracefully dealing with failed searches, and extracting data into
simpler formats.</p>

</div>



          </div>
        </div></body></html>