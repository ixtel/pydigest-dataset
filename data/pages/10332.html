<html><body><div><article class="markdown-body entry-content" itemprop="text"><p><a href="https://camo.githubusercontent.com/56d17038a6926e97c3fcaf895fd64212c505f12f/687474703a2f2f692e696d6775722e636f6d2f764c666c704e442e676966" target="_blank"><img src="https://camo.githubusercontent.com/56d17038a6926e97c3fcaf895fd64212c505f12f/687474703a2f2f692e696d6775722e636f6d2f764c666c704e442e676966" alt="Logo placeholder" data-canonical-src="http://i.imgur.com/vLflpND.gif"/></a></p>

<h1><a id="user-content-zappa---" class="anchor" href="#zappa---" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Zappa <a href="https://travis-ci.org/Miserlou/Zappa"><img src="https://camo.githubusercontent.com/892cb92b479135dfb624dbe1de6923f26e2f3969/68747470733a2f2f7472617669732d63692e6f72672f4d697365726c6f752f5a617070612e737667" alt="Build Status" data-canonical-src="https://travis-ci.org/Miserlou/Zappa.svg"/></a> <a href="https://coveralls.io/github/Miserlou/Zappa"><img src="https://camo.githubusercontent.com/94c964a4b2c3aa111629be10f4fd6a444c1e1bdf/68747470733a2f2f696d672e736869656c64732e696f2f636f766572616c6c732f4d697365726c6f752f5a617070612e737667" alt="Coverage" data-canonical-src="https://img.shields.io/coveralls/Miserlou/Zappa.svg"/></a> <a href="https://slackautoinviter.herokuapp.com/"><img src="https://camo.githubusercontent.com/0260a056b9174f80306bc03554d5d7d7edc23d11/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636861742d736c61636b2d6666363962342e737667" alt="Slack" data-canonical-src="https://img.shields.io/badge/chat-slack-ff69b4.svg"/></a></h1>

<h4><a id="user-content-serverless-wsgi-with-aws-lambda--api-gateway" class="anchor" href="#serverless-wsgi-with-aws-lambda--api-gateway" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Serverless WSGI with AWS Lambda + API Gateway</h4>

<p>Zappa makes it super easy to deploy all Python WSGI applications on AWS Lambda + API Gateway. Think of it as "serverless" web hosting for your Python web apps.</p>

<p>That means:</p>

<ul>
<li><strong>No more</strong> tedious web server configuration!</li>
<li><strong>No more</strong> paying for 24/7 server uptime!</li>
<li><strong>No more</strong> worrying about load balancing / scalability!</li>
<li><strong>No more</strong> worrying about keeping servers online!</li>
</ul>

<p><strong>Awesome!</strong></p>

<p>This project is for the Zappa core library, which can be used by any WSGI-compatible web framework (which is pretty much all of them.) This library also handles:</p>

<ul>
<li>Packaging projects into Lambda-ready zip files and uploading them to S3</li>
<li>Correctly setting up IAM roles and permissions</li>
<li>Automatically configuring API Gateway routes, methods and integration responses</li>
<li>Deploying the API to various stages of readiness</li>
</ul>

<p>If you are looking for the version for your favorite web frameworks, you should probably try here:</p>



<h2><a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Usage</h2>

<p>If you just want to use Zappa to deploy your web application, you'll probably want to use a client library like <a href="https://github.com/Miserlou/django-zappa">django-zappa</a> instead. But, if you want to create a new client library or use Zappa directly, you can follow the steps below.</p>

<p>You can install Zappa through pip:</p>

<pre><code>$ pip install zappa
</code></pre>

<p>Then, you'll want to call its main capabilities in order:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c"># Set your configuration</span>
project_name <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>MyProject<span class="pl-pds">"</span></span>
api_stage <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Production<span class="pl-pds">"</span></span>
s3_bucket_name <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>MyLambdaBucket<span class="pl-pds">'</span></span>

<span class="pl-c"># Make your Zappa object</span>
zappa <span class="pl-k">=</span> Zappa()

<span class="pl-c"># Load your AWS credentials from ~/.aws/credentials</span>
zappa.load_credentials()

<span class="pl-c"># Make sure the necessary IAM execution roles are available</span>
zappa.create_iam_roles()

<span class="pl-c"># Create the Lambda zip package (includes project and virtualenvironment)</span>
zip_path <span class="pl-k">=</span> zappa.create_lambda_zip(project_name)

<span class="pl-c"># Upload it to S3</span>
zip_arn <span class="pl-k">=</span> zappa.upload_to_s3(zip_path, s3_bucket_name)

<span class="pl-c"># Register the Lambda function with that zip as the source</span>
<span class="pl-c"># You'll also need to define the path to your lambda_handler code.</span>
lambda_arn <span class="pl-k">=</span> zappa.create_lambda_function(s3_bucket_name, zip_path, project_name, <span class="pl-s"><span class="pl-pds">'</span>runme.lambda_handler<span class="pl-pds">'</span></span>)

<span class="pl-c"># Create and configure the API Gateway</span>
api_id <span class="pl-k">=</span> zappa.create_api_gateway_routes(lambda_arn)

<span class="pl-c"># Deploy the API!</span>
endpoint_url <span class="pl-k">=</span> zappa.deploy_api_gateway(api_id, api_stage)

<span class="pl-c1">print</span>(<span class="pl-s"><span class="pl-pds">"</span>Your Zappa deployment is live!: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> endpoint_url)</pre></div>

<p>And your application is <a href="https://7k6anj0k99.execute-api.us-east-1.amazonaws.com/prod">live</a>!</p>

<h2><a id="user-content-hacks" class="anchor" href="#hacks" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Hacks</h2>

<p>Zappa goes quite far beyond what Lambda and API Gateway were ever intended to handle. As a result, there are quite a few hacks in here that allow it to work. Some of those include, but aren't limited to..</p>

<ul>
<li>Using VTL to map body, headers, method, params and query strings into JSON, and then turning that into valid WSGI.</li>
<li>Attaching response codes to response bodies, Base64 encoding the whole thing, using that as a regex to route the response code, decoding the body in VTL, and mapping the response body to that.</li>
<li>Packing and <em>Base58</em> encoding multiple cookies into a single cookie because we can only map one kind.</li>
<li>Turning cookie-setting 301/302 responses into 200 responses with HTML redirects, because we have no way to set headers on redirects.</li>
</ul>

<h2><a id="user-content-sites-using-zappa" class="anchor" href="#sites-using-zappa" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Sites Using Zappa</h2>

<ul>
<li><a href="https://zappa.gun.io">zappa.gun.io</a> - A Zappa "Hello, World" (real homepage coming.. soon..)</li>
<li><a href="https://spheres.gun.io">spheres.gun.io</a>  - Spheres, a photosphere host and viewer</li>
<li>Your site here? </li>
</ul>

<h2><a id="user-content-todo" class="anchor" href="#todo" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>TODO</h2>

<p>This project is very young, so there is still plenty to be done. Contributions are more than welcome! Please file tickets before submitting patches, and submit your patches to the 'dev' branch.</p>

<p>Things that need work right now:</p>

<ul>
<li>Testing</li>
<li>Clients for frameworks besides Django</li>
<li>Feedback</li>
<li>Real documentation / website!</li>
</ul>
</article>
  </div></body></html>