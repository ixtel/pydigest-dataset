<html><body><div><p>Simplified event and data formatting and logging.</p>








<p>Simplified event and data formatting and logging.</p>
<p>Kaviar aids developers in need of a convenient way to produce structured
representation of key-value pairs for logging or representation with a
fixed syntax suit suited for later evaluation or just aesthetic reasons.</p>
<div id="example">
<h2>Example</h2>
<p>Logging a certain event:</p>
<pre><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">kaviar</span> <span class="kn">import</span> <span class="n">EventKvLoggerAdapter</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">EventKvLoggerAdapter</span><span class="o">.</span><span class="n">get_logger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">'NEW_CLIENT'</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">peer_name</span><span class="o">=</span><span class="s1">'93.184.216.119'</span><span class="p">)</span>
</pre>
<p>Separating the event definition from actual logging:</p>
<pre><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="kn">from</span> <span class="nn">kaviar</span> <span class="kn">import</span> <span class="n">EventKvLoggerAdapter</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">EventKvLoggerAdapter</span><span class="o">.</span><span class="n">get_logger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="n">log_event</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">logger</span><span class="o">.</span><span class="n">define_logger_func</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span>
                                              <span class="s1">'server peer_name'</span><span class="p">),</span>
                    <span class="s1">'NEW_CLIENT'</span><span class="p">)</span>

<span class="n">log_event</span><span class="p">(</span><span class="s1">'example.org'</span><span class="p">,</span> <span class="s1">'93.184.216.164'</span><span class="p">)</span>
</pre>
</div>


</div></body></html>