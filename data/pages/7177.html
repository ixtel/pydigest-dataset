<html><body><div><div class="post-body entry-content"><p>
By </p><a href="http://jugad2.blogspot.in/p/about-vasudev-ram.html">Vasudev Ram</a><p/><a href=""/>

<p>
While looking at various Python libraries, I remembered </p><a href="https://people.csail.mit.edu/hubert/pyaudio/">PyAudio</a><p>, which I had blogged about here earlier:

</p><a href="http://jugad2.blogspot.in/2011/10/pyaudio-and-portaudio-like-odbc-for.html">PyAudio and PortAudio - like ODBC for sound</a>
<p>
This time I thought of using it to play a list of </p><a href="https://en.wikipedia.org/wiki/WAV">WAV files</a><p>. So I wrote a small Python program for that, adapting one of the PyAudio examples. Here it is, in the file </p><b>pyaudio_play_wav.py</b><p>:
</p><pre>'''
Module to play WAV files using PyAudio.
Author: Vasudev Ram - http://jugad2.blogspot.com
Adapted from the example at:
https://people.csail.mit.edu/hubert/pyaudio/#docs
PyAudio Example: Play a wave file.
'''

import pyaudio
import wave
import sys
import os.path
import time

CHUNK_SIZE = 1024

def play_wav(wav_filename, chunk_size=CHUNK_SIZE):
    '''
    Play (on the attached system sound device) the WAV file
    named wav_filename.
    '''

    try:
        print 'Trying to play file ' + wav_filename
        wf = wave.open(wav_filename, 'rb')
    except IOError as ioe:
        sys.stderr.write('IOError on file ' + wav_filename + '\n' + \
        str(ioe) + '. Skipping.\n')
        return
    except EOFError as eofe:
        sys.stderr.write('EOFError on file ' + wav_filename + '\n' + \
        str(eofe) + '. Skipping.\n')
        return

    # Instantiate PyAudio.
    p = pyaudio.PyAudio()

    # Open stream.
    stream = p.open(format=p.get_format_from_width(wf.getsampwidth()),
        channels=wf.getnchannels(),
        rate=wf.getframerate(),
                    output=True)

    data = wf.readframes(chunk_size)
    while len(data) &gt; 0:
        stream.write(data)
        data = wf.readframes(chunk_size)

    # Stop stream.
    stream.stop_stream()
    stream.close()

    # Close PyAudio.
    p.terminate()

def usage():
    prog_name = os.path.basename(sys.argv[0])
    print "Usage: {} filename.wav".format(prog_name)
    print "or: {} -f wav_file_list.txt".format(prog_name)

def main():
    lsa = len(sys.argv)
    if lsa 
Then I ran it as follows:<p/>$ python pyaudio_play_wav.py chimes.wav<p/>$ python pyaudio_play_wav.py chord.wav<p/>$ python pyaudio_play_wav.py -f wav_file_list.txt<p/>where wav_file_list.txt contained these two lines:
<pre>chimes.wav
chord.wav
</pre>Worked okay and played the specified WAV files.
I also ran it a few times with test cases that should trigger errors - the error cases that the current code handles. This worked okay too.

You can use one or more WAV files to try out the program. Other than modules in the Python stdlib, the only dependency is PyAudio, which you can install with <b>pip</b>.

- Enjoy.

<p/>- <a href="http://jugad2.blogspot.in/p/about-vasudev-ram.html">Vasudev Ram - Online Python training and  programming</a> <p/><b><a href="mailto:vasudevram@gmail.com?subject=Email%20me%20about%20your%20new%20products%20and%20services">Signup to hear about new products and services I create.</a></b> <p/><a href="http://jugad2.blogspot.com/search/label/python">Posts about Python</a>  <a href="http://jugad2.blogspot.com/search/label/xtopdf">Posts about xtopdf</a> <p/><p/><a href="https://code.activestate.com/recipes/users/4173351/">My ActiveState recipes</a> <p/>   
<p/>
</pre></div>
</div></body></html>