<html><body><div><p>static code analyzer wrapper for Clang.</p>








<div id="scan-build">
<h2>scan-build</h2>
<p>A package designed to wrap a build so that all calls to gcc/clang are
intercepted and logged into a [compilation database][1] and/or piped to
the clang static analyzer. Includes intercept-build tool, which logs
the build, as well as scan-build tool, which logs the build and runs
the clang static analyzer on it.</p>
<div id="how-to-get">
<h3>How to get</h3>
<p>It’s available from [the Python Package Index][2].</p>
<blockquote>
$ pip install scan-build</blockquote>
<p>Or check out the sources and add the directory <cite>bin</cite> to your <cite>PATH</cite> environment.</p>
</div>
<div id="portability">
<h3>Portability</h3>
<p>Should be working on UNIX operating systems.</p>
<ul>
<li>It has been tested on FreeBSD, GNU/Linux and OS X.</li>
<li>Prepared to work on windows, but need help to make it.</li>
</ul>
</div>
<div id="prerequisites">
<h3>Prerequisites</h3>
<ol>
<li><strong>clang compiler</strong>, to compile the sources and have the static analyzer.</li>
<li><strong>python</strong> interpreter (version 2.7, 3.2, 3.3, 3.4, 3.5).</li>
</ol>
</div>
<div id="how-to-use">
<h3>How to use</h3>
<p>To run the Clang static analyzer against a project goes like this:</p>
<blockquote>
$ scan-build &lt;your build command&gt;</blockquote>
<p>To generate a compilation database file goes like this:</p>
<blockquote>
$ intercept-build &lt;your build command&gt;</blockquote>
<p>To run the Clang static analyzer against a project with compilation database
goes like this:</p>
<blockquote>
$ analyze-build</blockquote>
<p>Use <cite>–help</cite> to know more about the commands.</p>
</div>
<div id="limitations">
<h3>Limitations</h3>
<p>Generally speaking, the <cite>intercept-build</cite> and <cite>analyze-build</cite> tools together
does the same job as <cite>scan-build</cite> does. So, you can expect the same output
from this line as simple <cite>scan-build</cite> would do:</p>
<blockquote>
$ intercept-build &lt;your build command&gt; &amp;&amp; analyze-build</blockquote>
<p>The major difference is how and when the analyzer is run. The <cite>scan-build</cite>
tool has three distinct model to run the analyzer:</p>
<ol>
<li>Use compiler wrappers to make actions.
The compiler wrappers does run the real compiler and the analyzer.
This is the default behaviour, can be enforced with <cite>–override-compiler</cite>
flag.</li>
<li>Use special library to intercept compiler calls durring the build process.
The analyzer run against each modules after the build finished.
Use <cite>–intercept-first</cite> flag to get this model.</li>
<li>Use compiler wrappers to intercept compiler calls durring the build process.
The analyzer run against each modules after the build finished.
Use <cite>–intercept-first</cite> and <cite>–override-compiler</cite> flags together to get
this model.</li>
</ol>
<p>The 1. and 3. are using compiler wrappers, which works only if the build
process respects the <cite>CC</cite> and <cite>CXX</cite> environment variables. (Some build
process can override these variable as command line parameter only. This case
you need to pass the compiler wrappers manually. eg.: <cite>intercept-build
–override-compiler make CC=intercept-cc CXX=intercept-c++ all</cite> where the
original build command would have been <cite>make all</cite> only.)</p>
<p>The 1. runs the analyzer right after the real compilation. So, if the build
process removes removes intermediate modules (generated sources) the analyzer
output still kept.</p>
<p>The 2. and 3. generate the compilation database first, and filters out those
modules which are not exists. So, it’s suitable for incremental analysis durring
the development.</p>
<p>The 2. mode is available only on FreeBSD, Linux and OSX. Where library preload
is available from the dynamic loader. On OSX System Integrity Protection security
feature enabled prevents library preload, so this method will not work in such
environment.</p>
<p><cite>intercept-build</cite> command uses only the 2. and 3. mode to generate the
compilation database. <cite>analyze-build</cite> does only run the analyzer against the
captured compiler calls.</p>
</div>
<div id="known-problems">
<h3>Known problems</h3>
<p>Because it uses <cite>LD_PRELOAD</cite> or <cite>DYLD_INSERT_LIBRARIES</cite> environment variables,
it does not append to it, but overrides it. So builds which are using these
variables might not work. (I don’t know any build tool which does that, but
please let me know if you do.)</p>
</div>
<div id="problem-reports">
<h3>Problem reports</h3>
<p>If you find a bug in this documentation or elsewhere in the program or would
like to propose an improvement, please use the project’s [issue tracker][3].
Please describing the bug and where you found it. If you have a suggestion
how to fix it, include that as well. Patches are also welcome.</p>
</div>

</div>


</div></body></html>