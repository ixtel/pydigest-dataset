<html><body><div><article class="markdown-body entry-content" itemprop="text"><p><a href="https://travis-ci.org/bamos/python-scripts"><img src="https://camo.githubusercontent.com/86545841e2db34519c0c06d6a6e1408d69b2afdd/68747470733a2f2f7472617669732d63692e6f72672f62616d6f732f707974686f6e2d736372697074732e737667" alt="Build Status" data-canonical-src="https://travis-ci.org/bamos/python-scripts.svg"/></a>
<a href="https://gemnasium.com/bamos/python-scripts"><img src="https://camo.githubusercontent.com/4078a98d77fdca5f0b29dbea931546bcc0cec2a0/68747470733a2f2f67656d6e617369756d2e636f6d2f62616d6f732f707974686f6e2d736372697074732e737667" alt="Dependency Status" data-canonical-src="https://gemnasium.com/bamos/python-scripts.svg"/></a></p>

<p>This is a collection of short Python scripts I use in Linux.
Portions of this README are automatically generated with
<a href="https://github.com/bamos/python-scripts#generate-readmepy">generate-readme.py</a>
to insert the script-level comments as descriptions below.</p>

<h1><a id="user-content-adding-to-your-path" class="anchor" href="#adding-to-your-path" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Adding to your PATH</h1>

<p>I have these added to my <code>PATH</code>
<a href="https://wiki.archlinux.org/index.php/Environment_variables">variable</a>
to run from anywhere.
Clone the repo and add the following
to your <code>bashrc</code> or <code>zshrc</code>, replacing <code>&lt;python-scripts&gt;</code>
with the location of the cloned repository.
See my <a href="https://github.com/bamos/dotfiles">dotfiles</a>
repo for my complete Mac and Linux system configurations.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Add additional directories to the path.</span>
<span class="pl-en">pathadd</span>() {
  [ <span class="pl-k">-d</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$1</span><span class="pl-pds">"</span></span> ] <span class="pl-k">&amp;&amp;</span> [[ <span class="pl-s"><span class="pl-pds">"</span>:<span class="pl-smi">$PATH</span>:<span class="pl-pds">"</span></span> <span class="pl-k">!=</span> <span class="pl-k">*</span><span class="pl-s"><span class="pl-pds">"</span>:<span class="pl-smi">$1</span>:<span class="pl-pds">"</span></span><span class="pl-k">*</span> ]] <span class="pl-k">&amp;&amp;</span> PATH=<span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${PATH<span class="pl-k">:</span>+<span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$PATH</span>:<span class="pl-pds">"</span></span>}</span><span class="pl-smi">$1</span><span class="pl-pds">"</span></span>
}

pathadd <span class="pl-k">&lt;</span>python-scripts<span class="pl-k">&gt;</span>/python2.7
pathadd <span class="pl-k">&lt;</span>python-scripts<span class="pl-k">&gt;</span>/python3</pre></div>

<h1><a id="user-content-dependencies" class="anchor" href="#dependencies" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Dependencies</h1>

<p>These scripts are written in Python 3 except when external
libraries don't support Python 3.
Dependencies for Python 2 and 3 for all scripts are
included in <code>requirements-{2,3}.txt</code> and can be installed
using <code>pip</code> with <code>pip3 install -r requirements-3.txt</code>.</p>

<h1><a id="user-content-travis-ci" class="anchor" href="#travis-ci" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Travis CI</h1>

<p>Continuous integration is provided by Travis CI
<a href="https://travis-ci.org/bamos/python-scripts">here</a>.
<a href="https://github.com/bamos/python-scripts/blob/master/.travis.yml">.travis.yml</a>
calls
<a href="https://github.com/bamos/python-scripts/blob/master/.travis-script-2.sh">.travis-script-2.sh</a>
and
<a href="https://github.com/bamos/python-scripts/blob/master/.travis-script-3.sh">.travis-script-3.sh</a>
to ensure <code>requirements-{2,3}.txt</code> have all of the Python 2 and Python 3 scripts
and that there are no careless errors that cause the scripts to
not execute the help message.
<a href="https://github.com/jcrocholl/pep8">pep8</a> will fail the build
if pep8 styling conventions aren't met.</p>

<h1><a id="user-content-scripts" class="anchor" href="#scripts" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Scripts</h1>

<p>The subheadings link to the script contents on GitHub.</p>





<p>Generates the README for
<a href="https://github.com/bamos/python-scripts">bamos/python-scripts</a>
so that the README and scripts contain synchronized documentation.
Script descriptions are obtained by parsing the docstrings
and inserted directly into the README as markdown.</p>





<p>This script (music-organizer.py) organizes my music collection for
iTunes and <a href="http://mpv.io">mpv</a> using tag information.
The directory structure is <code>&lt;artist&gt;/&lt;track&gt;</code>, where <code>&lt;artist&gt;</code> and <code>&lt;track&gt;</code>
are lower case strings separated by dashes.</p>

<p>See my blog post
<a href="http://bamos.github.io/2014/07/05/music-organizer/">Using Python to organize a music directory</a>
for a more detailed overview of this script.</p>





<p>This script implements the simple
<a href="https://pypi.python.org/pypi/multitail">multitail</a>
example to tail multiple files and append the filename to the beginning
of the output.</p>





<p>This script computes the mean of a directory of images for Caffe.</p>





<p>This script (fix-music-tags.py) mass-removes unwanted music tags.</p>





<p>Produces a Markdown table concisely summarizing a list of GitHub repositories.</p>





<p>Script to be run by crontab to report broken links.</p>

<p>Builds upon linkchecker (Ubuntu: sudo apt-get install linkchecker)
to hide warnings and to send a concise email if bad links are found.</p>

<p><a href="https://raw.githubusercontent.com/bamos/python-scripts/master/link-checker-screenshot.png?raw=true" target="_blank"><img src="https://raw.githubusercontent.com/bamos/python-scripts/master/link-checker-screenshot.png?raw=true" alt="Link checker screenshot"/></a></p>





<p>Obtain the NATO phonetic alphabet representation from short phrases.</p>

<pre><code>$ phonetic.py github
g - golf
i - india
t - tango
h - hotel
u - uniform
b - bravo
</code></pre>





<p><code>rank-writing.py</code> ranks the writing quality of my
blog's Markdown posts and my project's Markdown README files.</p>

<p>The following programs should be on your <code>PATH</code>:</p>



<pre><code>$ rank-writing.py *.md

=== 2013-05-03-scraping-tables-python.md ===
Total: 53
├── aspell: 34
├── diction: 0
└── write-good: 19

...

=== 2013-04-16-pdf-from-plaintext.md ===
Total: 0
├── aspell: 0
├── diction: 0
└── write-good: 0
</code></pre>





<p>This is a Python script that outputs the path of the current
OSX wallpaper.
This is helpful when the desktop wallpaper is randomized
across a large collection of pictures and you want to
delete the current wallpaper.</p>

<h3><a id="user-content-warning" class="anchor" href="#warning" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Warning</h3>

<ul>
<li>This approach doesn't work with multiple monitors or virtual desktops.</li>
</ul>

<h3><a id="user-content-tested-on" class="anchor" href="#tested-on" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Tested On</h3>

<ul>
<li>OSX Yosemite 10.10.2 with a single desktop on a MBP.</li>
</ul>

<h3><a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Usage</h3>

<p>Ensure <code>db_path</code> and <code>wallpaper_dir</code> are correctly set below.</p>

<p>Assuming <code>get-osx-wallpaper.py</code> is on your path,
check the output with the following</p>

<pre><code>$ get-osx-wallpaper.py
/Users/bamos/Pictures/wallpaper/nature/496.jpg
</code></pre>

<p>Please ensure this is correct before trying to remove it!</p>

<p>This can be paired with other commands such as <code>open</code> or <code>rm</code>.
Run <code>killall Dock</code> to refresh the changes after removing the file.
Note that the dock will be restarted and all windows will be
unminimized.</p>

<pre><code>$ open $(get-osx-wallpaper.py)
$ rm $(get-osx-wallpaper.py) &amp;&amp; killall Dock
</code></pre>

<p>Example alias definitions for bash and zsh are available in
<a href="https://github.com/bamos/dotfiles/blob/master/.funcs">https://github.com/bamos/dotfiles/blob/master/.funcs</a>:</p>

<pre><code>alias open-wallpaper='open $(get-osx-wallpaper.py)'
alias rm-wallpaper='rm $(get-osx-wallpaper.py) &amp;&amp; killall Dock'
</code></pre>





<p>The printers in my office print a cover page before every job, and
I don't like printing many cover pages if I want to submit multiple
papers separately so that the papers don't overlap. This script will
merge PDF documents and insert blank pages so that the printed pages
won't overlap documents. The modulo option is helpful to print 2 PDF
pages per physical page side.</p>

<p>The script uses PyPDF2 to merge the documents and to extract the
number of pages in the input documents and ghostscript to create a
blank PDF page.</p>

<pre><code>$ merge-pdfs-printable.py a.pdf b.pdf c.pdf --modulo 4
a.pdf
  + Pages: 6
  + Added 2 blank pages.
b.pdf
  + Pages: 13
  + Added 3 blank pages.
c.pdf
  + Pages: 13
  + Added 3 blank pages.
Merged output is in '/tmp/tmpm2n5g0mh-merge.pdf'.
</code></pre>

<p>Note: Some of my decrypted PDF documents have resulted in
PyPDF2.utils.PdfReadError: file has not been decrypted. My current
workaround solution is to run pdf2ps on the PDF and then ps2pdf on the
PS file.</p>





<p>Detect and remove duplicate images using average hashing.</p>

<p><a href="http://www.hackerfactor.com/blog/index.php?/archives/432-Looks-Like-It.html">http://www.hackerfactor.com/blog/index.php?/archives/432-Looks-Like-It.html</a></p>





<p>Count work frequencies within a file.</p>

<pre><code>$ word-counter.py shakespeare.md --numWords 4 --maxTuples 3

=== Sliding Window: 1 ===
    3473: 'shall'
    2238: 'would'
    2153: 'which'
    2074: 'their'

=== Sliding Window: 2 ===
    248: 'exeunt scene'
    117: 'second lord.'
    105: 'first lord.'
    102: 'queen elizabeth.'

=== Sliding Window: 3 ===
    36: 'william shakespeare dramatis'
    34: 'shakespeare dramatis personae'
    18: 'comes here? enter'
    14: 'duke's palace enter'
</code></pre>





<p>A module to evaluate a mathematical expression using Python's AST.</p>



<p>If you want a command-line expression evaluator, use
<a href="https://github.com/Russell91/pythonpy">Russell91/pythonpy</a>.</p>

<pre><code>$ eval-expr.py '(((4+6)*10)&lt;&lt;2)'
(((4+6)*10)&lt;&lt;2) = 400
</code></pre>





<p>Merges two mutt contact files.</p>

<h1><a id="user-content-similar-projects" class="anchor" href="#similar-projects" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Similar Projects</h1>

<p>There are many potpourri Python script repositories on GitHub.
The following list shows a short sampling of projects,
and I'm happy to merge pull requests of other projects.</p>


</article>
  </div></body></html>