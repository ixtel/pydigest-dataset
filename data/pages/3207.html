<html><body><div><div class="section" id="flask-flatpages">
<h1>Flask-FlatPages</h1>
<p>Flask-FlatPages provides a collection of pages to your <a class="reference external" href="http://flask.pocoo.org/">Flask</a> application.
Pages are built from “flat” text files as opposed to a relational database.</p>


<div class="section" id="configuration">
<h2>Configuration</h2>
<p>To get started all you need to do is to instantiate a <tt class="xref py py-class docutils literal"><span class="pre">FlatPages</span></tt> object
after configuring the application:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask_flatpages</span> <span class="kn">import</span> <span class="n">FlatPages</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_pyfile</span><span class="p">(</span><span class="s">'mysettings.cfg'</span><span class="p">)</span>
<span class="n">pages</span> <span class="o">=</span> <span class="n">FlatPages</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>you can also pass the Flask application object later, by calling
<a class="reference internal" href="#flask_flatpages.FlatPages.init_app" title="flask_flatpages.FlatPages.init_app"><tt class="xref py py-meth docutils literal"><span class="pre">init_app()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pages</span> <span class="o">=</span> <span class="n">FlatPages</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">create_app</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="s">'mysettings.cfg'</span><span class="p">):</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_pyfile</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="n">pages</span><span class="o">.</span><span class="n">init_app</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">app</span>
</pre></div>
</div>
<p>Flask-FlatPages accepts the following configuration values. All of them
are optional.</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">FLATPAGES_ROOT</span></tt></dt>
<dd>Path to the directory where to look for page files. If relative,
interpreted as relative to the application root, next to the <tt class="docutils literal"><span class="pre">static</span></tt> and
<tt class="docutils literal"><span class="pre">templates</span></tt> directories. Defaults to <tt class="docutils literal"><span class="pre">pages</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">FLATPAGES_EXTENSION</span></tt></dt>
<dd><p class="first">Filename extension for pages. Files in the <tt class="docutils literal"><span class="pre">FLATPAGES_ROOT</span></tt> directory
without this suffix are ignored. Defaults to <tt class="docutils literal"><span class="pre">.html</span></tt>.</p>
<div class="last versionchanged">
<p><span class="versionmodified">Changed in version 0.6: </span>Support multiple file extensions via sequences, e.g.:
<tt class="docutils literal"><span class="pre">['.htm',</span> <span class="pre">'.html']</span></tt> or via comma-separated strings: <tt class="docutils literal"><span class="pre">.htm,.html</span></tt>.</p>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">FLATPAGES_ENCODING</span></tt></dt>
<dd>Encoding of the pages files. Defaults to <tt class="docutils literal"><span class="pre">utf8</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">FLATPAGES_HTML_RENDERER</span></tt></dt>
<dd><p class="first">Callable or import string for a callable that takes at least the unicode
body of a page, and return its HTML rendering as a unicode string. Defaults
to <a class="reference internal" href="#flask_flatpages.pygmented_markdown" title="flask_flatpages.pygmented_markdown"><tt class="xref py py-func docutils literal"><span class="pre">pygmented_markdown()</span></tt></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.5: </span>Support for passing the <a class="reference internal" href="#flask_flatpages.FlatPages" title="flask_flatpages.FlatPages"><tt class="xref py py-class docutils literal"><span class="pre">FlatPages</span></tt></a> instance as second
argument.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.6: </span>Support for passing the <a class="reference internal" href="#flask_flatpages.Page" title="flask_flatpages.Page"><tt class="xref py py-class docutils literal"><span class="pre">Page</span></tt></a> instance as third argument.</p>
</div>
<p class="last">Renderer functions need to have at least one argument, the unicode body.
The use of either <tt class="xref py py-class docutils literal"><span class="pre">FlatPages</span></tt> as second argument or
<tt class="xref py py-class docutils literal"><span class="pre">FlatPages</span></tt> and <tt class="xref py py-class docutils literal"><span class="pre">Page</span></tt> as second respective third argument
is optional, and allows for more advanced renderers.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">FLATPAGES_MARKDOWN_EXTENSIONS</span></tt></dt>
<dd>
<p>List of Markdown extensions to use with default HTML renderer. Defaults to
<tt class="docutils literal"><span class="pre">['codehilite']</span></tt>.</p>
<p>For passing additional arguments to Markdown extension, e.g. in case of
using footnotes extension, use next syntax:
<tt class="docutils literal"><span class="pre">['footnotes(UNIQUE_IDS=True)']</span></tt>.</p>
<p class="last">To disable line numbers in CodeHilite extension, which are enabled by
default, use: <tt class="docutils literal"><span class="pre">['codehilite(linenums=False)']</span></tt></p>
</dd>
<dt><tt class="docutils literal"><span class="pre">FLATPAGES_AUTO_RELOAD</span></tt></dt>
<dd>Wether to reload pages at each request. See <a class="reference internal" href="#laziness-and-caching"><em>Laziness and caching</em></a>
for more details.  The default is to reload in <tt class="docutils literal"><span class="pre">DEBUG</span></tt> mode only.</dd>
</dl>
<p>Please note that multiple FlatPages instances can be configured by using a
name for the FlatPages instance at initializaton time:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">flatpages</span> <span class="o">=</span> <span class="n">FlatPages</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"blog"</span><span class="p">)</span>
</pre></div>
</div>
<p>To configure this instance, you must use modified configuration keys, by adding
the uppercase name to the configuration variable names: <tt class="docutils literal"><span class="pre">FLATPAGES_BLOG_*</span></tt></p>
</div>
<div class="section" id="how-it-works">
<h2>How it works</h2>
<p>When first needed (see <a class="reference internal" href="#laziness-and-caching"><em>Laziness and caching</em></a> for more about this),
the extension loads all pages from the filesystem: a <tt class="xref py py-class docutils literal"><span class="pre">Page</span></tt> object is
created for all files in <tt class="docutils literal"><span class="pre">FLATPAGES_ROOT</span></tt> whose name ends with
<tt class="docutils literal"><span class="pre">FLATPAGES_EXTENSION</span></tt>.</p>
<p>Each of these objects is associated to a path:
the slash-separated (whatever the OS) name of the file it was loaded from,
relative to the pages root, and excluding the extension. For example, for
an app in <tt class="docutils literal"><span class="pre">C:\myapp</span></tt> with the default configuration, the path for the
<tt class="docutils literal"><span class="pre">C:\myapp\pages\lorem\ipsum.html</span></tt> is <tt class="docutils literal"><span class="pre">lorem/ipsum</span></tt>.</p>
<p>Each file is made of a <a class="reference external" href="http://www.yaml.org/">YAML</a> mapping of metadata, a blank line, and the
page body:</p>
<div class="highlight-python"><div class="highlight"><pre>title: Hello
published: 2010-12-22

Hello, *World*!

Lorem ipsum dolor sit amet, …
</pre></div>
</div>
<p>The body format defaults to <a class="reference external" href="http://daringfireball.net/projects/markdown/">Markdown</a> with <a class="reference external" href="http://pygments.org/">Pygments</a> baked in if available,
but depends on the <tt class="docutils literal"><span class="pre">FLATPAGES_HTML_RENDERER</span></tt> configuration value.</p>
<p>To use Pygments, you need to include the style declarations separately.
You can get them with <a class="reference internal" href="#flask_flatpages.pygments_style_defs" title="flask_flatpages.pygments_style_defs"><tt class="xref py py-func docutils literal"><span class="pre">pygments_style_defs()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@app.route</span><span class="p">(</span><span class="s">'/pygments.css'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">pygments_css</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">pygments_style_defs</span><span class="p">(</span><span class="s">'tango'</span><span class="p">),</span> <span class="mi">200</span><span class="p">,</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'text/css'</span><span class="p">}</span>
</pre></div>
</div>
<p>and in templates:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">url_for</span><span class="o">(</span><span class="s1">'pygments_css'</span><span class="o">)</span> <span class="cp">}}</span><span class="s">"</span><span class="nt">&gt;</span>
</pre></div>
</div>
<div class="section" id="using-custom-markdown-extensions">
<h3>Using custom Markdown extensions</h3>

<p>By default, Flask-FlatPages renders flatpage body using <a class="reference external" href="http://daringfireball.net/projects/markdown/">Markdown</a> with
<a class="reference external" href="http://pygments.org/">Pygments</a> format. This means passing <tt class="docutils literal"><span class="pre">['codehilite']</span></tt> extensions list to
<tt class="docutils literal"><span class="pre">markdown.markdown</span></tt> function.</p>
<p>But sometimes you need to customize things, like using another extension or
disable default approach, this possible by passing special config.</p>
<p>For example, using another extension:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">FLATPAGES_MARKDOWN_EXTENSIONS</span> <span class="o">=</span> <span class="p">[</span><span class="s">'codehilite'</span><span class="p">,</span> <span class="s">'headerid'</span><span class="p">]</span>
</pre></div>
</div>
<p>Or disabling default approach:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">FLATPAGES_MARKDOWN_EXTENSIONS</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
</div>
<div class="section" id="using-custom-html-renderers">
<h3>Using custom HTML renderers</h3>
<p>As pointed above, by default Flask-FlatPages expects that flatpage body
contains <a class="reference external" href="http://daringfireball.net/projects/markdown/">Markdown</a> markup, so uses <tt class="docutils literal"><span class="pre">markdown.markdown</span></tt> function to render
its content. But due to <tt class="docutils literal"><span class="pre">FLATPAGES_HTML_RENDERER</span></tt> setting you can specify
different approach for rendering flatpage body.</p>
<p>The most common necessity of using custom HTML renderer is modifyings default
Markdown approach (e.g. by pre-rendering Markdown flatpages with Jinja), or
using different markup for rendering flatpage body (e.g. ReStructuredText).
Examples below introduce how to use custom renderers for those needs.</p>
<div class="section" id="pre-rendering-markdown-flatpages-with-jinja">
<h4>Pre-rendering Markdown flatpages with Jinja</h4>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template_string</span>
<span class="kn">from</span> <span class="nn">flask_flatpages</span> <span class="kn">import</span> <span class="n">FlatPages</span>
<span class="kn">from</span> <span class="nn">flask_flatpages.utils</span> <span class="kn">import</span> <span class="n">pygmented_markdown</span>

<span class="k">def</span> <span class="nf">my_renderer</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">prerendered_body</span> <span class="o">=</span> <span class="n">render_template_string</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pygmented_markdown</span><span class="p">(</span><span class="n">prerendered_body</span><span class="p">)</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">'FLATPAGES_HTML_RENDERER'</span><span class="p">]</span> <span class="o">=</span> <span class="n">my_renderer</span>
<span class="n">pages</span> <span class="o">=</span> <span class="n">FlatPages</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="restructuredtext-flatpages">
<h4>ReStructuredText flatpages</h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For rendering ReStructuredText you need to add <a class="reference external" href="http://pypi.python.org/pypi/docutils">docutils</a> to your project requirements.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">docuitls.core</span> <span class="kn">import</span> <span class="n">publish_parts</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask_flatpages</span> <span class="kn">import</span> <span class="n">FlatPages</span>

<span class="k">def</span> <span class="nf">rst_renderer</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">publish_parts</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">writer_name</span><span class="o">=</span><span class="s">'html'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parts</span><span class="p">[</span><span class="s">'fragment'</span><span class="p">]</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">'FLATPAGES_HTML_RENDERER'</span><span class="p">]</span> <span class="o">=</span> <span class="n">rst_renderer</span>
<span class="n">pages</span> <span class="o">=</span> <span class="n">FlatPages</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="laziness-and-caching">
<span id="id1"/><h2>Laziness and caching</h2>
<p><a class="reference internal" href="#flask_flatpages.FlatPages" title="flask_flatpages.FlatPages"><tt class="xref py py-class docutils literal"><span class="pre">FlatPages</span></tt></a> does not hit the filesystem until needed but when it does,
it reads all pages from the disk at once.</p>
<p>Then, pages are not loaded again unless you explicitly ask for it with
<a class="reference internal" href="#flask_flatpages.FlatPages.reload" title="flask_flatpages.FlatPages.reload"><tt class="xref py py-meth docutils literal"><span class="pre">FlatPages.reload()</span></tt></a>, or on new requests depending on the configuration.
(See <tt class="docutils literal"><span class="pre">FLATPAGES_AUTO_RELOAD</span></tt>.)</p>
<p>This design was decided with <a class="reference external" href="http://packages.python.org/Frozen-Flask/">Frozen-Flask</a> in mind but should work even if
you don’t use it: you already restart your production server on code changes,
you just have to do it on page content change too. This can make sense if
the pages are deployed alongside the code in version control.</p>
<p>If you have many pages and loading takes a long time, you can force it at
initialization time so that it’s done by the time the first request is served:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pages</span> <span class="o">=</span> <span class="n">FlatPages</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<span class="n">pages</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'foo'</span><span class="p">)</span>  <span class="c"># Force loading now. foo.html may not even exist.</span>
</pre></div>
</div>
<p>Loading everything every time may seem wasteful, but the impact is mitigated
by caching: if a file’s modification time hasn’t changed, it is not read again
and the previous <a class="reference internal" href="#flask_flatpages.Page" title="flask_flatpages.Page"><tt class="xref py py-class docutils literal"><span class="pre">Page</span></tt></a> object is re-used.</p>
<p>Likewise, the YAML and Markdown parsing is both lazy and cached: not done
until needed, and not done again if the file did not change.</p>
</div>
<div class="section" id="module-flask_flatpages">
<span id="api"/><h2>API</h2>
<dl class="class">
<dt id="flask_flatpages.FlatPages">
<em class="property">class </em><tt class="descclassname">flask_flatpages.</tt><tt class="descname">FlatPages</tt><big>(</big><em>app=None</em>, <em>name=None</em><big>)</big></dt>
<dd><p>A collection of <a class="reference internal" href="#flask_flatpages.Page" title="flask_flatpages.Page"><tt class="xref py py-class docutils literal"><span class="pre">Page</span></tt></a> objects.</p>
<p>Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pages</span> <span class="o">=</span> <span class="n">FlatPages</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="c"># Articles are pages with a publication date</span>
    <span class="n">articles</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pages</span> <span class="k">if</span> <span class="s">'published'</span> <span class="ow">in</span> <span class="n">p</span><span class="o">.</span><span class="n">meta</span><span class="p">)</span>
    <span class="c"># Show the 10 most recent articles, most recent first.</span>
    <span class="n">latest</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">articles</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                    <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s">'published'</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'articles.html'</span><span class="p">,</span> <span class="n">articles</span><span class="o">=</span><span class="n">latest</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">'/&lt;path:path&gt;/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">page</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">pages</span><span class="o">.</span><span class="n">get_or_404</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">template</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'template'</span><span class="p">,</span> <span class="s">'flatpage.html'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="n">template</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="n">page</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="flask_flatpages.FlatPages.__iter__">
<tt class="descname">__iter__</tt><big>(</big><big>)</big></dt>
<dd><p>Iterate on all <a class="reference internal" href="#flask_flatpages.Page" title="flask_flatpages.Page"><tt class="xref py py-class docutils literal"><span class="pre">Page</span></tt></a> objects.</p>
</dd></dl>

<dl class="method">
<dt id="flask_flatpages.FlatPages.get">
<tt class="descname">get</tt><big>(</big><em>path</em>, <em>default=None</em><big>)</big></dt>
<dd><p>Returns the <a class="reference internal" href="#flask_flatpages.Page" title="flask_flatpages.Page"><tt class="xref py py-class docutils literal"><span class="pre">Page</span></tt></a> object at <tt class="docutils literal"><span class="pre">path</span></tt>, or <tt class="docutils literal"><span class="pre">default</span></tt> if
there is no such page.</p>
</dd></dl>

<dl class="method">
<dt id="flask_flatpages.FlatPages.get_or_404">
<tt class="descname">get_or_404</tt><big>(</big><em>path</em><big>)</big></dt>
<dd><p>Returns the <a class="reference internal" href="#flask_flatpages.Page" title="flask_flatpages.Page"><tt class="xref py py-class docutils literal"><span class="pre">Page</span></tt></a> object at <tt class="docutils literal"><span class="pre">path</span></tt>, or raise Flask’s
404 error if there is no such page.</p>
</dd></dl>

<dl class="method">
<dt id="flask_flatpages.FlatPages.init_app">
<tt class="descname">init_app</tt><big>(</big><em>app</em><big>)</big></dt>
<dd><p>Used to initialize an application, useful for passing an app later
and app factory patterns.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>app</strong> (a <a class="reference external" href="http://flask.pocoo.org/docs/api/#flask.Flask" title="(in Flask v1.0-dev)"><tt class="xref py py-class docutils literal"><span class="pre">Flask</span></tt></a> instance) – your application</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flask_flatpages.FlatPages.reload">
<tt class="descname">reload</tt><big>(</big><big>)</big></dt>
<dd><p>Forget all pages.</p>
<p>All pages will be reloaded next time they’re accessed.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask_flatpages.Page">
<em class="property">class </em><tt class="descclassname">flask_flatpages.</tt><tt class="descname">Page</tt></dt>
<dd><p>Simple class to store all necessary information about a flatpage.</p>
<p>Main purpose is to render the page’s content with a <tt class="docutils literal"><span class="pre">html_renderer</span></tt>
function.</p>
<p>With the <tt class="docutils literal"><span class="pre">hello.html</span></tt> page defined earlier:</p>
<div class="highlight-python"><div class="highlight"><pre># hello.html
title: Hello
published: 2010-12-22

Hello, *World*!

Lorem ipsum dolor sit amet, …
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">page</span> <span class="o">=</span> <span class="n">pages</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'hello'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page</span><span class="o">.</span><span class="n">meta</span> <span class="c"># PyYAML converts YYYY-MM-DD to a date object</span>
<span class="go">{'title': u'Hello', 'published': datetime.date(2010, 12, 22)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page</span><span class="p">[</span><span class="s">'title'</span><span class="p">]</span>
<span class="go">u'Hello'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page</span><span class="o">.</span><span class="n">body</span>
<span class="go">u'Hello, *World*!\n\nLorem ipsum dolor sit amet, \u2026'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page</span><span class="o">.</span><span class="n">html</span>
<span class="go">u'&lt;p&gt;Hello, &lt;em&gt;World&lt;/em&gt;!&lt;/p&gt;\n&lt;p&gt;Lorem ipsum dolor sit amet, \u2026&lt;/p&gt;'</span>
</pre></div>
</div>
<dl class="method">
<dt id="flask_flatpages.Page.__getitem__">
<tt class="descname">__getitem__</tt><big>(</big><em>name</em><big>)</big></dt>
<dd><p>Shortcut for accessing metadata.</p>
<p><tt class="docutils literal"><span class="pre">page['title']</span></tt> or, in a template, <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">page.title</span> <span class="pre">}}</span></tt> are
equivalent to <tt class="docutils literal"><span class="pre">page.meta['title']</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="flask_flatpages.Page.__html__">
<tt class="descname">__html__</tt><big>(</big><big>)</big></dt>
<dd><p>In a template, <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">page</span> <span class="pre">}}</span></tt> is equivalent to
<tt class="docutils literal"><span class="pre">{{</span> <span class="pre">page.html|safe</span> <span class="pre">}}</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask_flatpages.Page.html">
<tt class="descname">html</tt></dt>
<dd><p>The content of the page, rendered as HTML by the configured
renderer.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask_flatpages.Page.html_renderer">
<tt class="descname">html_renderer</tt><em class="property"> = None</em></dt>
<dd><p>Renderer function</p>
</dd></dl>

<dl class="attribute">
<dt id="flask_flatpages.Page.meta">
<tt class="descname">meta</tt></dt>
<dd><p>A dict of metadata parsed as YAML from the header of the file.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask_flatpages.Page.path">
<tt class="descname">path</tt><em class="property"> = None</em></dt>
<dd><p>Path this page was obtained from, as in <tt class="docutils literal"><span class="pre">pages.get(path)</span></tt></p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="flask_flatpages.pygmented_markdown">
<tt class="descclassname">flask_flatpages.</tt><tt class="descname">pygmented_markdown</tt><big>(</big><em>text</em>, <em>flatpages=None</em><big>)</big></dt>
<dd><p>Render Markdown text to HTML.</p>
<p>Uses the <a class="reference external" href="http://www.freewisdom.org/projects/python-markdown/CodeHilite">CodeHilite</a> extension only if <a class="reference external" href="http://pygments.org/">Pygments</a> is available. If
<a class="reference external" href="http://pygments.org/">Pygments</a> is not available, “codehilite” is removed from list of
extensions.</p>
<p>If you need other extensions, set them up using the
<tt class="docutils literal"><span class="pre">FLATPAGES_MARKDOWN_EXTENSIONS</span></tt> setting, which should be a sequence
of strings.</p>
</dd></dl>

<dl class="function">
<dt id="flask_flatpages.pygments_style_defs">
<tt class="descclassname">flask_flatpages.</tt><tt class="descname">pygments_style_defs</tt><big>(</big><em>style='default'</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the CSS definitions for the <a class="reference external" href="http://www.freewisdom.org/projects/python-markdown/CodeHilite">CodeHilite</a> Markdown plugin.</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>style</strong> – The Pygments <a class="reference external" href="http://pygments.org/docs/styles/">style</a> to use.</td>
</tr>
</tbody>
</table>
<p>Only available if <a class="reference external" href="http://pygments.org/">Pygments</a> is.</p>
</dd></dl>

</div>
<div class="section" id="changelog">
<h2>Changelog</h2>
<div class="section" id="version-0-6">
<h3>Version 0.6</h3>
<p>Released on 2015-02-09</p>
<ul class="simple">
<li>Python 3 support.</li>
<li>Allow multiple file extensions for FlatPages.</li>
<li>The renderer function now optionally takes a third argument, namely
the <a class="reference internal" href="#flask_flatpages.Page" title="flask_flatpages.Page"><tt class="xref py py-class docutils literal"><span class="pre">Page</span></tt></a> instance.</li>
<li>It is now possible to instantiate multiple instances of <a class="reference internal" href="#flask_flatpages.FlatPages" title="flask_flatpages.FlatPages"><tt class="xref py py-class docutils literal"><span class="pre">FlatPages</span></tt></a>
with different configurations. This is done by specifying an additional
parameter <tt class="docutils literal"><span class="pre">name</span></tt> to the initializer and adding the same name in uppercase
to the respective Flask configuration settings.</li>
</ul>
</div>
<div class="section" id="version-0-5">
<h3>Version 0.5</h3>
<p>Released on 2013-04-02</p>
<ul class="simple">
<li>Change behavior of passing <tt class="docutils literal"><span class="pre">FLATPAGES_MARKDOWN_EXTENSIONS</span></tt> to renderer
function, now the <a class="reference internal" href="#flask_flatpages.FlatPages" title="flask_flatpages.FlatPages"><tt class="xref py py-class docutils literal"><span class="pre">FlatPages</span></tt></a> instance is optionally passed as second
argument. This allows more robust renderer functions.</li>
</ul>
</div>
<div class="section" id="version-0-4">
<h3>Version 0.4</h3>
<p>Released on 2013-04-01</p>
<ul class="simple">
<li>Add <tt class="docutils literal"><span class="pre">FLATPAGES_MARKDOWN_EXTENSIONS</span></tt> config to setup list of Markdown
extensions to use with default HTML renderer.</li>
<li>Fix a bug with non-ASCII filenames.</li>
</ul>
</div>
<div class="section" id="version-0-3">
<h3>Version 0.3</h3>
<p>Released on 2012-07-03</p>
<ul class="simple">
<li>Add <a class="reference internal" href="#flask_flatpages.FlatPages.init_app" title="flask_flatpages.FlatPages.init_app"><tt class="xref py py-meth docutils literal"><span class="pre">FlatPages.init_app()</span></tt></a></li>
<li>Do not use namespace packages anymore: rename the package from
<tt class="docutils literal"><span class="pre">flaskext.flatpages</span></tt> to <tt class="docutils literal"><span class="pre">flask_flatpages</span></tt></li>
<li>Add configuration files for testing with tox and Travis.</li>
</ul>
</div>
<div class="section" id="version-0-2">
<h3>Version 0.2</h3>
<p>Released on 2011-06-02</p>
<p>Bugfix and cosmetic release. Tests are now installed alongside the code.</p>
</div>
<div class="section" id="version-0-1">
<h3>Version 0.1</h3>
<p>Released on 2011-02-06.</p>
<p>First public release.</p>
</div>
</div>
</div>


          </div></body></html>