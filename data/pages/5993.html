<html><body><div><div id="wikitext">
<p/> 

<p class="vspace">Иногда на графиках нужно нарисовать указатель на какую-то особую точку, на которую стоит обратить внимание, или указательные линии с номерами кривых могут служить заменой легенды. Для того, чтобы рисовать такие стрелки и линии, предназначена функция <a class="urllink" href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.annotate"><em>annotate</em></a>. Кроме того,  эту функцию можно использовать для отображения векторов на плоскости.
</p>
<p class="vspace">Функция <em>annotate</em> может принимать большое количество параметров, отвечающих за внешний вид стрелок и отображаемого текста. Строго говоря, обязательными являются только два параметра:
</p>
<p class="vspace"/><ul><li><strong>s</strong> - строка, содержащая выводимый текст;
</li><li><strong>xy</strong> - кортеж из двух элементов, задающие координаты точки, на которую нужно указать. По умолчанию координаты точек задаются в системе координат графика, но это поведение можно менять с помощью параметра <em>xycoords</em>, который в данной статье не рассматривается.
</li></ul><p class="vspace">Однако, если мы ограничимся только этими параметрами, то функция <em>annotate</em> выведет только текст около указанной точки:
</p>
<p class="vspace"/>
<div class="sourceblock " id="sourceblock1">
  <div class="sourceblocktext"><p class="python"><span class="co1"># -*- coding: UTF-8 -*-</span><br/>
<br/>
<span class="kw1">import</span> pylab<br/>
<span class="kw1">import</span> numpy<br/>
<br/>
<br/>
<span class="kw1">if</span> __name__ == <span class="st0">'__main__'</span>:<br/>
    <span class="kw1">def</span> sinc <span class="br0">(</span>x<span class="br0">)</span>:<br/>
        <span class="kw1">return</span> numpy.<span class="me1">sin</span> <span class="br0">(</span>x<span class="br0">)</span> / x<br/>
<br/>
    <span class="co1"># Интервал изменения и шаг переменной по оси X</span><br/>
    xmin = -<span class="nu0">30.0</span><br/>
    xmax = <span class="nu0">30.0</span><br/>
    dx = <span class="nu0">0.01</span><br/>
<br/>
    <span class="co1"># Создадим список координат по осям X и Y на отрезке [-xmin; xmax], включая концы</span><br/>
    x = numpy.<span class="me1">arange</span> <span class="br0">(</span>xmin, xmax, dx<span class="br0">)</span><br/>
    y = sinc<span class="br0">(</span>x<span class="br0">)</span><br/>
<br/>
    <span class="co1"># Нарисуем график</span><br/>
    pylab.<span class="me1">plot</span> <span class="br0">(</span>x, y<span class="br0">)</span><br/>
<br/>
    <span class="co1"># Координаты точки, куда будет указывать стрелка</span><br/>
    selected_x = <span class="nu0">7.7</span><br/>
    selected_y = sinc <span class="br0">(</span>selected_x<span class="br0">)</span><br/>
<br/>
    <span class="co1"># Установим шрифт, который может отображать русские буквы</span><br/>
    pylab.<span class="me1">rc</span><span class="br0">(</span><span class="st0">'font'</span>, family = <span class="st0">'verdana'</span><span class="br0">)</span><br/>
<br/>
    <span class="co1"># !!! Добавление аннотации</span><br/>
    pylab.<span class="me1">annotate</span> <span class="br0">(</span>u<span class="st0">'Очень важная точка'</span>,<br/>
                    xy=<span class="br0">(</span>selected_x, selected_y<span class="br0">)</span><span class="br0">)</span><br/>
<br/>
    <span class="co1"># Покажем окно с нарисованным графиком</span><br/>
    pylab.<span class="me1">show</span><span class="br0">(</span><span class="br0">)</span></p></div>
  
</div>

<p class="vspace">Результат будет напоминать работу функции <a class="urllink" href="http://jenyay.net/Matplotlib/Text">text</a>:
</p>
<p class="vspace"/>
<p class="vspace">Чтобы аннотация выглядела более интересно, добавим два именованных параметра:
</p>
<p class="vspace"/><ul><li><strong>xytext</strong> - кортеж из двух элементов, который задает координаты текста; из этой же точки будет начинаться стрелка указателя;
</li><li><strong>arrowprops</strong> - словарь, который содержит элементы, задающие внешний вид стрелки.
</li></ul><p class="vspace">Чуть позже мы подробнее рассмотрим возможные значения в словаре <em>arrowprops</em>, а пока сделаем так, чтобы у нас отображалась обычная стрелка:
</p>
<p class="vspace"/>
<div class="sourceblock " id="sourceblock2">
  <div class="sourceblocktext"><p class="python"><span class="co1"># -*- coding: UTF-8 -*-</span><br/>
<br/>
<span class="kw1">import</span> pylab<br/>
<span class="kw1">import</span> numpy<br/>
<br/>
<br/>
<span class="kw1">if</span> __name__ == <span class="st0">'__main__'</span>:<br/>
    <span class="kw1">def</span> sinc <span class="br0">(</span>x<span class="br0">)</span>:<br/>
        <span class="kw1">return</span> numpy.<span class="me1">sin</span> <span class="br0">(</span>x<span class="br0">)</span> / x<br/>
<br/>
    <span class="co1"># Интервал изменения и шаг переменной по оси X</span><br/>
    xmin = -<span class="nu0">30.0</span><br/>
    xmax = <span class="nu0">30.0</span><br/>
    dx = <span class="nu0">0.01</span><br/>
<br/>
    <span class="co1"># Создадим список координат по осям X и Y на отрезке [-xmin; xmax], включая концы</span><br/>
    x = numpy.<span class="me1">arange</span> <span class="br0">(</span>xmin, xmax, dx<span class="br0">)</span><br/>
    y = sinc<span class="br0">(</span>x<span class="br0">)</span><br/>
<br/>
    <span class="co1"># Нарисуем график</span><br/>
    pylab.<span class="me1">plot</span> <span class="br0">(</span>x, y<span class="br0">)</span><br/>
<br/>
    <span class="co1"># Координаты точки, куда будет указывать стрелка</span><br/>
    selected_x = <span class="nu0">7.7</span><br/>
    selected_y = sinc <span class="br0">(</span>selected_x<span class="br0">)</span><br/>
<br/>
    pylab.<span class="me1">rc</span><span class="br0">(</span><span class="st0">'font'</span>, family = <span class="st0">'verdana'</span><span class="br0">)</span><br/>
<br/>
    <span class="co1"># !!! Словарь задает внешний вид стрелки</span><br/>
    arrowprops = <span class="br0">{</span><br/>
        <span class="st0">'arrowstyle'</span>: <span class="st0">'-&gt;'</span>,<br/>
    <span class="br0">}</span><br/>
<br/>
    <span class="co1"># !!! Добавление аннотации</span><br/>
    pylab.<span class="me1">annotate</span> <span class="br0">(</span>u<span class="st0">'Очень важная точка'</span>,<br/>
                    xy=<span class="br0">(</span>selected_x, selected_y<span class="br0">)</span>,<br/>
                    xytext = <span class="br0">(</span>selected_x + <span class="nu0">2</span>, selected_y + <span class="nu0">0.1</span><span class="br0">)</span>,<br/>
                    arrowprops = arrowprops<span class="br0">)</span><br/>
<br/>
    <span class="co1"># Покажем окно с нарисованным графиком</span><br/>
    pylab.<span class="me1">show</span><span class="br0">(</span><span class="br0">)</span></p></div>
  
</div>

<p class="vspace">Теперь окно с графиком будет выглядеть следующим образом:
</p>
<p class="vspace"/>
<p class="vspace">Если говорить о внутреннем устройстве Matplotlib, то функция <em>annotate</em> для отображения стрелок использует один из двух классов: <a class="urllink" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.FancyArrowPatch">FancyArrowPatch</a>, если словарь <em>arrowprops</em> содержит ключ <em>"arrowstyle"</em> (как в предыдущем примере), или класс <a class="urllink" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.YAArrow">YAArrow</a>, если такого ключа в словаре нет. На мой взгляд стрелки, которые рисуются с помощью <em>FancyArrowPatch</em>, по умолчанию выглядят более привлекательно.
</p>
<p class="vspace">С помощью элементов словаря <em>arrowprops</em> мы можем передавать множество настроек в класс <em>FancyArrowPatch</em>. Коротко рассмотрим только некоторые из них:
</p>
<p class="vspace"/><ul><li><strong>arrowstyle</strong> - задает стиль стрелок (список возможных значений будет приведен ниже).
</li><li><strong>connectionstyle</strong> - задает способ проведения линии указателя, будет она соединять две точки по прямой, по дуге или нужно, чтобы стрелки состояли из ломанных отрезков, расположенных параллельно координатным осям. С помощью этого параметра можно задавать и другие настройки линии.
</li><li><strong>linewidth</strong> - задает толщину линии.
</li><li><strong>linestyle</strong> - задает стиль линии. Возможные значения - 'solid', 'dashed', 'dashdot', '‘dotted'.
</li><li><strong>mutation_scale</strong> - задает размер "головы" стрелки на конце.
</li></ul><p class="vspace">Если словарь <em>arrowprops</em> не содержит ключ <em>"arrowstyle"</em>, то для отображения стрелки будет использоваться класс <em>YAArrow</em>. Этот класс будет использовать следующие ключи в словаре <em>arrowprops</em>:
</p>
<p class="vspace"/><ul><li><strong>width</strong> - задает ширину линии указателя.
</li><li><strong>frac</strong> - коэффициент, показывающий, какую часть длины указателя будет занимать "голова" стрелки. Например, если <em>frac</em> = 0.5, то стрелка будет занимать половину длины указателя.
</li><li><strong>headwidth</strong> - задает ширину "головы" стрелки.
</li></ul><p class="vspace">Кроме того, независимо от используемого класса <em>FancyArrowPatch</em> / <em>YAArrow</em>, можно задавать следующие параметры:
</p>
<p class="vspace"/><ul><li><strong>color</strong> - задает цвет указателя.
</li><li><strong>alpha</strong> - задает степень прозрачности. 0 - полностью прозрачный, 1 - полностью непрозрачный. 
</li></ul><p class="vspace">Если используется параметр <em>arrowstyle</em>, то он может быть экземпляром класса <a class="urllink" href="http://matplotlib.org/api/patches_api.html?highlight=arrowstyle#matplotlib.patches.ArrowStyle">ArrowStyle</a>, который позволяет очень гибко настраивать внешний вид стрелок, а может быть строкой, описывающей уже предустановленные стили стрелок. В качестве строки <em>arrowstyle</em> может принимать следующие значения: 
</p>
<p class="vspace"/>
<table border="1"><tr><td align="center">'-'</td></tr>
<tr><td align="center">'-&gt;'</td></tr>
<tr><td align="center">'-['</td></tr>
<tr><td align="center">'-|&gt;'</td></tr>
<tr><td align="center">'&lt;-'</td></tr>
<tr><td align="center">'&lt;-&gt;'</td></tr>
<tr><td align="center">'&lt;|-'</td></tr>
<tr><td align="center">'<span class="wikitrail">-</span>'</td></tr>
<tr><td align="center">']-'</td></tr>
<tr><td align="center">']-['</td></tr>
<tr><td align="center">'fancy'</td></tr>
<tr><td align="center">'simple'</td></tr>
<tr><td align="center">'wedge'</td></tr>
<tr><td align="center">'|-|'</td></tr>
</table>
<p class="vspace">Чтобы продемонстрировать, как выглядят эти стили, был написан следующий скрипт:
</p>
<p class="vspace"/>
<div class="sourceblock " id="sourceblock3">
  <div class="sourceblocktext"><p class="python"><span class="co1"># -*- coding: UTF-8 -*-</span><br/>
<br/>
<span class="kw1">import</span> pylab<br/>
<br/>
<br/>
<span class="kw1">if</span> __name__ == <span class="st0">'__main__'</span>:<br/>
    pylab.<span class="me1">rc</span><span class="br0">(</span><span class="st0">'font'</span>, family = <span class="st0">'verdana'</span><span class="br0">)</span><br/>
    pylab.<span class="me1">xlim</span> <span class="br0">(</span><span class="br0">[</span>-<span class="nu0">10</span>, <span class="nu0">50</span><span class="br0">]</span><span class="br0">)</span><br/>
    pylab.<span class="me1">ylim</span> <span class="br0">(</span><span class="br0">[</span>-<span class="nu0">180</span>, <span class="nu0">20</span><span class="br0">]</span><span class="br0">)</span><br/>
<br/>
    arrowstyles = <span class="br0">[</span><span class="st0">'-'</span>, <span class="st0">'-&gt;'</span>, <span class="st0">'-['</span>, <span class="st0">'-|&gt;'</span>,<br/>
                   <span class="st0">'&lt;-'</span>, <span class="st0">'&lt;-&gt;'</span>, <span class="st0">'&lt;|-'</span>, <span class="st0">'&lt;|-|&gt;'</span>,<br/>
                   <span class="st0">']-'</span>, <span class="st0">']-['</span>, <span class="st0">'fancy'</span>, <span class="st0">'simple'</span>,<br/>
                   <span class="st0">'wedge'</span>, <span class="st0">'|-|'</span><span class="br0">]</span><br/>
<br/>
    shift_x = <span class="nu0">2</span><br/>
    shift_y = -<span class="nu0">12</span><br/>
<br/>
    dx = <span class="nu0">10</span><br/>
    dy = <span class="nu0">10</span><br/>
<br/>
    <span class="kw1">for</span> n, arrowstyle <span class="kw1">in</span> <span class="kw2">enumerate</span> <span class="br0">(</span>arrowstyles<span class="br0">)</span>:<br/>
        <span class="co1"># !!! Словарь задает внешний вид стрелки</span><br/>
        arrowprops = <span class="br0">{</span><br/>
            <span class="st0">'arrowstyle'</span>: arrowstyle,<br/>
        <span class="br0">}</span><br/>
<br/>
        x = n <span class="sy0">*</span> shift_x<br/>
        y = n <span class="sy0">*</span> shift_y<br/>
<br/>
        <span class="co1"># !!! Добавление аннотации</span><br/>
        pylab.<span class="me1">annotate</span> <span class="br0">(</span>u<span class="st0">'arrowstyle: '</span> + arrowstyle,<br/>
                        xy=<span class="br0">(</span>x, y<span class="br0">)</span>,<br/>
                        xytext = <span class="br0">(</span>x + dx, y + dy<span class="br0">)</span>,<br/>
                        arrowprops = arrowprops<span class="br0">)</span><br/>
<br/>
    <span class="co1"># Покажем окно с нарисованным графиком</span><br/>
    pylab.<span class="me1">show</span><span class="br0">(</span><span class="br0">)</span></p></div>
  
</div>

<p class="vspace">С помощью него была получена следующая картинка:
</p>
<p class="vspace"/>
<p class="vspace">Кроме того, мы можем влиять на то, каким образом будет проводиться линия от начальной точки до конечной: будет это прямая линия, ломаная или закругленная. На это влияет параметр <em>connectionstyle</em>, который может быть экземпляром класса <em><a class="urllink" href="http://matplotlib.org/api/patches_api.html?highlight=connectionstyle#matplotlib.patches.ConnectionStyle">ConnectionStyle</a></em> для очень точной настройки внешнего вида, а может быть одной из строк, с помощью которых можно задать один из предустановленных внешних видов указателей. Вот эти возможные строки:
</p>
<p class="vspace"/>
<table border="1"><tr><td align="center">'angle'</td></tr>
<tr><td align="center">'angle3'</td></tr>
<tr><td align="center">'arc'</td></tr>
<tr><td align="center">'arc3'</td></tr>
<tr><td align="center">'bar'</td></tr>
</table>
<p class="vspace">Цифра "3" в конце некоторых стилей обозначают, что для проведения линии используется квадратичный сплайн, то есть линия проводится через три точки. Чтобы продемонстрировать эти стили, был написан следующий скрипт:
</p>
<p class="vspace"/>
<div class="sourceblock " id="sourceblock4">
  <div class="sourceblocktext"><p class="python"><span class="co1"># -*- coding: UTF-8 -*-</span><br/>
<br/>
<span class="kw1">import</span> pylab<br/>
<br/>
<br/>
<span class="kw1">if</span> __name__ == <span class="st0">'__main__'</span>:<br/>
    pylab.<span class="me1">rc</span><span class="br0">(</span><span class="st0">'font'</span>, family = <span class="st0">'verdana'</span><span class="br0">)</span><br/>
    pylab.<span class="me1">xlim</span> <span class="br0">(</span><span class="br0">[</span>-<span class="nu0">10</span>, <span class="nu0">50</span><span class="br0">]</span><span class="br0">)</span><br/>
    pylab.<span class="me1">ylim</span> <span class="br0">(</span><span class="br0">[</span>-<span class="nu0">190</span>, <span class="nu0">40</span><span class="br0">]</span><span class="br0">)</span><br/>
<br/>
    connectionstyle = <span class="br0">[</span><span class="st0">'angle'</span>, <span class="st0">'angle3'</span>, <span class="st0">'arc'</span>, <span class="st0">'arc3'</span>, <span class="st0">'bar'</span><span class="br0">]</span><br/>
<br/>
    shift_x = <span class="nu0">2</span><br/>
    shift_y = -<span class="nu0">45</span><br/>
<br/>
    dx = <span class="nu0">10</span><br/>
    dy = <span class="nu0">20</span><br/>
<br/>
    <span class="kw1">for</span> n, style <span class="kw1">in</span> <span class="kw2">enumerate</span> <span class="br0">(</span>connectionstyle<span class="br0">)</span>:<br/>
        <span class="co1"># !!! Словарь задает внешний вид стрелки</span><br/>
        arrowprops = <span class="br0">{</span><br/>
            <span class="st0">'arrowstyle'</span>: <span class="st0">'-&gt;'</span>,<br/>
            <span class="st0">'connectionstyle'</span>: style,<br/>
        <span class="br0">}</span><br/>
<br/>
        x = n <span class="sy0">*</span> shift_x<br/>
        y = n <span class="sy0">*</span> shift_y<br/>
<br/>
        <span class="co1"># !!! Добавление аннотации</span><br/>
        pylab.<span class="me1">annotate</span> <span class="br0">(</span>u<span class="st0">'connectionstyle: '</span> + style,<br/>
                        xy=<span class="br0">(</span>x, y<span class="br0">)</span>,<br/>
                        xytext = <span class="br0">(</span>x + dx, y + dy<span class="br0">)</span>,<br/>
                        arrowprops = arrowprops<span class="br0">)</span><br/>
<br/>
    <span class="co1"># Покажем окно с нарисованным графиком</span><br/>
    pylab.<span class="me1">show</span><span class="br0">(</span><span class="br0">)</span></p></div>
  
</div>

<p class="vspace">Результат его работы выглядит следующим образом:
</p>
<p class="vspace"/>
<p class="vspace">В этом примере стили <em>arc</em> и <em>arc3</em> не отличаются, потому что мы не воспользовались дополнительными параметрами для каждого стиля. Дополнительные параметры задаются через запятую после имени стиля, причем у каждого стиля свой набор параметров. Ниже приведена таблица с параметрами по умолчанию, взятая из <a class="urllink" href="http://matplotlib.org/api/patches_api.html?highlight=connectionstyle#matplotlib.patches.ConnectionStyle">документации</a>. Там же видно, какие параметры существуют для каждого стиля. 
</p>
<p class="vspace"/>
<table border="1"><tr><td align="center">'angle'</td><td align="left">angleA=90,angleB=0,rad=0.0</td></tr>
<tr><td align="center">'angle3'</td><td align="left">angleA=90,angleB=0</td></tr>
<tr><td align="center">'arc'</td><td align="left">angleA=0,angleB=0,armA=None,armB=None,rad=0.0</td></tr>
<tr><td align="center">'arc3'</td><td align="left">rad=0.0</td></tr>
<tr><td align="center">'bar'</td><td align="left">armA=0.0,armB=0.0,fraction=0.3,angle=None</td></tr>
</table>
<p class="vspace">Для демонстрации того, как задаются параметры стилей, изменим предыдущий пример:
</p>
<p class="vspace"/>
<div class="sourceblock " id="sourceblock5">
  <div class="sourceblocktext"><p class="python"><span class="co1"># -*- coding: UTF-8 -*-</span><br/>
<br/>
<span class="kw1">import</span> pylab<br/>
<br/>
<br/>
<span class="kw1">if</span> __name__ == <span class="st0">'__main__'</span>:<br/>
    pylab.<span class="me1">rc</span><span class="br0">(</span><span class="st0">'font'</span>, family = <span class="st0">'verdana'</span><span class="br0">)</span><br/>
    pylab.<span class="me1">xlim</span> <span class="br0">(</span><span class="br0">[</span>-<span class="nu0">10</span>, <span class="nu0">50</span><span class="br0">]</span><span class="br0">)</span><br/>
    pylab.<span class="me1">ylim</span> <span class="br0">(</span><span class="br0">[</span>-<span class="nu0">190</span>, <span class="nu0">40</span><span class="br0">]</span><span class="br0">)</span><br/>
<br/>
    connectionstyle = <span class="br0">[</span><span class="st0">'angle,angleA=0,angleB=45'</span>,<br/>
                       <span class="st0">'angle3,angleA=45,angleB=0'</span>,<br/>
                       <span class="st0">'arc,angleA=-90,armA=30,armB=80'</span>,<br/>
                       <span class="st0">'arc3,rad=0.5'</span>,<br/>
                       <span class="st0">'bar,armA=15,fraction=0.1'</span><span class="br0">]</span><br/>
<br/>
    shift_x = <span class="nu0">2</span><br/>
    shift_y = -<span class="nu0">45</span><br/>
<br/>
    dx = <span class="nu0">10</span><br/>
    dy = <span class="nu0">20</span><br/>
<br/>
    <span class="kw1">for</span> n, style <span class="kw1">in</span> <span class="kw2">enumerate</span> <span class="br0">(</span>connectionstyle<span class="br0">)</span>:<br/>
        <span class="co1"># !!! Словарь задает внешний вид стрелки</span><br/>
        arrowprops = <span class="br0">{</span><br/>
            <span class="st0">'arrowstyle'</span>: <span class="st0">'-&gt;'</span>,<br/>
            <span class="st0">'connectionstyle'</span>: style,<br/>
        <span class="br0">}</span><br/>
<br/>
        x = n <span class="sy0">*</span> shift_x<br/>
        y = n <span class="sy0">*</span> shift_y<br/>
<br/>
        <span class="co1"># !!! Добавление аннотации</span><br/>
        pylab.<span class="me1">annotate</span> <span class="br0">(</span>u<span class="st0">'connectionstyle: '</span> + style,<br/>
                        xy=<span class="br0">(</span>x, y<span class="br0">)</span>,<br/>
                        xytext = <span class="br0">(</span>x + dx, y + dy<span class="br0">)</span>,<br/>
                        arrowprops = arrowprops<span class="br0">)</span><br/>
<br/>
    <span class="co1"># Покажем окно с нарисованным графиком</span><br/>
    pylab.<span class="me1">show</span><span class="br0">(</span><span class="br0">)</span></p></div>
  
</div>

<p class="vspace">Не будем приводить здесь описание каждого параметра, потому что проще всего их "пощупать" самим, чтобы понять, что они делают. Результат данного скрипта выглядит следующим образом:
</p>
<p class="vspace"/>
<p class="vspace">Функцию <em>annotate</em> можно использовать для отображения векторов на плоскости, для этого достаточно в качестве первого параметра передать пустую строку.
</p>
<p class="vspace"/>
<div class="sourceblock " id="sourceblock6">
  <div class="sourceblocktext"><p class="python"><span class="co1"># -*- coding: UTF-8 -*-</span><br/>
<br/>
<span class="kw1">import</span> pylab<br/>
<span class="kw1">import</span> numpy<br/>
<br/>
<br/>
<span class="kw1">if</span> __name__ == <span class="st0">'__main__'</span>:<br/>
    pylab.<span class="me1">rc</span><span class="br0">(</span><span class="st0">'font'</span>, family = <span class="st0">'verdana'</span><span class="br0">)</span><br/>
    pylab.<span class="me1">xlim</span> <span class="br0">(</span><span class="br0">[</span>-<span class="nu0">1</span>, <span class="nu0">10</span><span class="br0">]</span><span class="br0">)</span><br/>
    pylab.<span class="me1">ylim</span> <span class="br0">(</span><span class="br0">[</span>-<span class="nu0">1</span>, <span class="nu0">10</span><span class="br0">]</span><span class="br0">)</span><br/>
<br/>
    a = numpy.<span class="kw3">array</span> <span class="br0">(</span><span class="br0">[</span><span class="nu0">1</span>, <span class="nu0">3</span><span class="br0">]</span><span class="br0">)</span><br/>
    b = numpy.<span class="kw3">array</span> <span class="br0">(</span><span class="br0">[</span><span class="nu0">5</span>, <span class="nu0">2</span><span class="br0">]</span><span class="br0">)</span><br/>
<br/>
    c = a + b<br/>
<br/>
    arrowprops = <span class="br0">{</span><br/>
        <span class="st0">'arrowstyle'</span>: <span class="st0">'&lt;|-'</span>,<br/>
    <span class="br0">}</span><br/>
<br/>
    <span class="co1"># !!! Добавление аннотации</span><br/>
    pylab.<span class="me1">annotate</span> <span class="br0">(</span>u<span class="st0">''</span>,<br/>
                    xy=<span class="br0">(</span><span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">)</span>,<br/>
                    xytext = a,<br/>
                    arrowprops = arrowprops<span class="br0">)</span><br/>
<br/>
    pylab.<span class="me1">annotate</span> <span class="br0">(</span>u<span class="st0">''</span>,<br/>
                    xy=<span class="br0">(</span><span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">)</span>,<br/>
                    xytext = b,<br/>
                    arrowprops = arrowprops<span class="br0">)</span><br/>
<br/>
    pylab.<span class="me1">annotate</span> <span class="br0">(</span>u<span class="st0">''</span>,<br/>
                    xy=<span class="br0">(</span><span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">)</span>,<br/>
                    xytext = c,<br/>
                    arrowprops = arrowprops<span class="br0">)</span><br/>
<br/>
    <span class="co1"># Покажем окно с нарисованным графиком</span><br/>
    pylab.<span class="me1">grid</span><span class="br0">(</span><span class="br0">)</span><br/>
    pylab.<span class="me1">show</span><span class="br0">(</span><span class="br0">)</span></p></div>
  
</div>

<p class="vspace"/>
<p class="vspace">С другой стороны, можно воспользоваться тем фактом, что в строке (в первом параметре) может <a class="urllink" href="http://jenyay.net/Matplotlib/Tex">использоваться нотация LaTeX</a>, и мы можем отображать названия векторов.
</p>
<p class="vspace"/>
<div class="sourceblock " id="sourceblock7">
  <div class="sourceblocktext"><p class="python"><span class="co1"># -*- coding: UTF-8 -*-</span><br/>
<br/>
<span class="kw1">import</span> pylab<br/>
<span class="kw1">import</span> numpy<br/>
<br/>
<br/>
<span class="kw1">if</span> __name__ == <span class="st0">'__main__'</span>:<br/>
    pylab.<span class="me1">rc</span><span class="br0">(</span><span class="st0">'font'</span>, family = <span class="st0">'verdana'</span><span class="br0">)</span><br/>
    pylab.<span class="me1">xlim</span> <span class="br0">(</span><span class="br0">[</span>-<span class="nu0">1</span>, <span class="nu0">10</span><span class="br0">]</span><span class="br0">)</span><br/>
    pylab.<span class="me1">ylim</span> <span class="br0">(</span><span class="br0">[</span>-<span class="nu0">1</span>, <span class="nu0">10</span><span class="br0">]</span><span class="br0">)</span><br/>
<br/>
    a = numpy.<span class="kw3">array</span> <span class="br0">(</span><span class="br0">[</span><span class="nu0">1</span>, <span class="nu0">3</span><span class="br0">]</span><span class="br0">)</span><br/>
    b = numpy.<span class="kw3">array</span> <span class="br0">(</span><span class="br0">[</span><span class="nu0">5</span>, <span class="nu0">2</span><span class="br0">]</span><span class="br0">)</span><br/>
<br/>
    c = a + b<br/>
<br/>
    arrowprops = <span class="br0">{</span><br/>
        <span class="st0">'arrowstyle'</span>: <span class="st0">'&lt;|-'</span>,<br/>
    <span class="br0">}</span><br/>
<br/>
    <span class="co1"># !!! Добавление аннотации</span><br/>
    pylab.<span class="me1">annotate</span> <span class="br0">(</span>u<span class="st0">'$<span class="es0">\\</span>vec a$'</span>,<br/>
                    xy=<span class="br0">(</span><span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">)</span>,<br/>
                    xytext = a,<br/>
                    arrowprops = arrowprops<span class="br0">)</span><br/>
<br/>
    pylab.<span class="me1">annotate</span> <span class="br0">(</span>u<span class="st0">'$<span class="es0">\\</span>vec b$'</span>,<br/>
                    xy=<span class="br0">(</span><span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">)</span>,<br/>
                    xytext = b,<br/>
                    arrowprops = arrowprops<span class="br0">)</span><br/>
<br/>
    pylab.<span class="me1">annotate</span> <span class="br0">(</span>u<span class="st0">'$<span class="es0">\\</span>vec c = <span class="es0">\\</span>vec a + <span class="es0">\\</span>vec b$'</span>,<br/>
                    xy=<span class="br0">(</span><span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">)</span>,<br/>
                    xytext = c,<br/>
                    arrowprops = arrowprops<span class="br0">)</span><br/>
<br/>
    <span class="co1"># Покажем окно с нарисованным графиком</span><br/>
    pylab.<span class="me1">grid</span><span class="br0">(</span><span class="br0">)</span><br/>
    pylab.<span class="me1">show</span><span class="br0">(</span><span class="br0">)</span></p></div>
  
</div>

<p class="vspace"/>
<p class="vspace">В этой статье были рассмотрены основные параметры, влияющие на внешний вид указателей, отображаемых с помощью функции <em>annotate</em>. Какие-то параметры не попали в статью, но они все описаны в документации, хоть и разбросаны по разным разделам. В конце приведу ссылки на документацию, где можно найти больше информации.
</p>
<p class="vspace"/><ol><li><a class="urllink" href="http://matplotlib.org/users/annotations_intro.html">http://matplotlib.org/users/annotations_intro.html</a>
</li><li><a class="urllink" href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.annotate">http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.annotate</a>
</li><li><a class="urllink" href="http://matplotlib.org/api/lines_api.html#matplotlib.lines.Line2D">http://matplotlib.org/api/lines_api.html#matplotlib.lines.Line2D</a>
</li><li><a class="urllink" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.YAArrow">http://matplotlib.org/api/patches_api.html#matplotlib.patches.YAArrow</a>
</li><li><a class="urllink" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.FancyArrowPatch">http://matplotlib.org/api/patches_api.html#matplotlib.patches.FancyArrowPatch</a>
</li></ol><p class="vspace"><strong><a class="wikilink" href="http://jenyay.net/Matplotlib/Matplotlib">Другие статьи про Matplotlib</a></strong>
</p>
<p class="vspace"><a name="comments" id="comments"/>
</p>
<p class="vspace"> </p> 

<p class="vspace"/>

<hr/>
<p class="vspace"/>
</div>

			</div></body></html>