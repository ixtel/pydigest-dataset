<html><body><div><div class="comment-body markdown-body markdown-format js-comment-body">
          <p>Hi, </p>

<p>Middlewares work perfectly anywhere in the web site, but not with the haystack SearchView.<br/>
By example, I've build a middleware for common application menu, and it work perfectly everywhere, but it cannot be used in SearchView.</p>

<p>I had also coded a SearchFormListView which user a <code>query_filter</code> method which parse a (search) form (a standard one) content and filters data accordingly (through a <code>get_filtered_queryset()</code>method ) . <br/>
This mixin make many things : </p>

<ul>
<li>query caching</li>
<li>data export (csv/pdf)</li>
<li>pagination...</li>
</ul>

<p>I've overwritten the <code>get_filtered_queryset</code> method in an inherited class, which inherit from <code>ListView</code>, and it work perfectly with a haystack SearchForm. Code is simple and readable.</p>

<p>My regret is that your API does not respect django standard ones by example the <code>as_view()</code> method</p>

<p>I although use the <code>haystack.panels.HaystackDebugPanel</code>, which work perfectly.<br/>
Thanks for your help !</p>
      </div>
    </div></body></html>