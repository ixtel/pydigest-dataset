<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-qdb" class="anchor" href="#qdb" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>qdb</h1>

<p><a href="https://travis-ci.org/quantopian/qdb"><img src="https://camo.githubusercontent.com/da4cefb426b3df965c40c0ab8003523de79296ba/68747470733a2f2f7472617669732d63692e6f72672f7175616e746f7069616e2f7164622e706e673f6272616e63683d6d6173746572" alt="build status" data-canonical-src="https://travis-ci.org/quantopian/qdb.png?branch=master"/></a>
<a href="https://gitter.im/quantopian/qdb?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg"/></a></p>

<p>Remote Debugger for Python</p>

<p>qdb powers the in-browser debugger at <a href="https://www.quantopian.com/posts/new-feature-debugging-in-the-ide">Quantopian</a></p>

<h3><a id="user-content-overview" class="anchor" href="#overview" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Overview</h3>

<p>qdb is a debugger for python that allows users to debug code executing
on remote machine. qdb is split into three main components that may all be
running on separate hardware:</p>

<ul>
<li>The client</li>
<li>The tracer</li>
<li>The server</li>
</ul>

<p>The client is the user's interface to the debugger. All communication here is
through a websocket connected to the server. This client could be any type
of application. qdb provides a terminal client and emacs mode for this.</p>

<p>The tracer is the main debugging process. This is the actual code that the user
wishes to debug. Communication here is through a socket sending json
objects representing only the valid messages sent to the server from
the client. A single tracer may have multiple clients connected to it.</p>

<p>The server is the main routing station for messages between the clients and the
tracer. The server is responsible for validating that the messages from the
clients are well formed and routing them to the tracer. A single server may
manage multiple tracers, so it is responsible for making sure that connections
are routed to the proper place. The server can clean up tracer processes whose
clients have become inactive if the server manager decides. The server may also
impose authentication rules to allow or disallow some connections.</p>

<h3><a id="user-content-getting-started" class="anchor" href="#getting-started" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Getting started</h3>

<p>To debug a process with qdb locally, first you must start the server process.</p>

<p>The easiest way to do this is to execute:</p>

<pre><code>$ python -m qdb.server
</code></pre>

<p>which will start up a server that accepts tracer connections on port 8001, and
client connections on port 8002. There are a few options that may be passed to
the server from the command line, to see a full list, run:</p>

<pre><code>$ python -m qdb.server --help
</code></pre>

<p>Now that you have a server running, you may run a process under qdb.
As an example, try saving the following as qdb_test.py:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> qdb <span class="pl-k">import</span> set_trace, RemoteCommandManager


<span class="pl-k">def</span> <span class="pl-en">f</span>():
    in_f <span class="pl-k">=</span> <span class="pl-c1">True</span>
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">'</span>getting out of f<span class="pl-pds">'</span></span>


<span class="pl-k">def</span> <span class="pl-en">main</span>():
    set_trace(
        <span class="pl-v">uuid</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>qdb<span class="pl-pds">'</span></span>,
        <span class="pl-v">host</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>localhost<span class="pl-pds">'</span></span>,
        <span class="pl-v">port</span><span class="pl-k">=</span><span class="pl-c1">8001</span>,
        <span class="pl-v">cmd_manager</span><span class="pl-k">=</span>RemoteCommandManager(),
    )
    mutable_object <span class="pl-k">=</span> {}
    <span class="pl-c1">print</span> <span class="pl-s"><span class="pl-pds">'</span>Hello world!<span class="pl-pds">'</span></span>
    f()
    <span class="pl-c1">print</span> mutable_object


<span class="pl-k">if</span> <span class="pl-c1">__name__</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>__main__<span class="pl-pds">'</span></span>:
    main()</pre></div>

<p>Then, invoke the program as you normally would with:</p>

<pre><code>$ python qdb_test.py
</code></pre>

<p>Finally, you will need to connect your client to the server so that you can
actually debug the program. To connect, run the provided client found in the
client directory with:</p>

<pre><code>$ qdb-cli
</code></pre>

<p>Before you are finished, you will need to get the output from the program, in a
seperate terminal, run:</p>

<pre><code>$ tail -f /tmp/qdb/qdb
</code></pre>

<p>This will be the realtime output from the debugger.</p>

<p>You are now ready to debug your process, issue the <code>help</code> command in the repl
to see a list of available commands and functions, or begin evaluating python
code in the context of the other process.</p>

<h2><a id="user-content-contributions" class="anchor" href="#contributions" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Contributions</h2>

<p>If you would like to contribute, please see our
<a href="https://github.com/quantopian/qdb/wiki/Contribution-Requests">Contribution Requests</a>.</p>

<h3><a id="user-content-requirements" class="anchor" href="#requirements" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Requirements</h3>

<p>To download the requirements, you can simply issue:</p>

<pre><code>$ make requirements
</code></pre>

<p>assuming you have pip installed. You will most likely want to install into a
virtualenv.</p>

<p>To view the development and normal requirements, see etc/requirements_dev.txt
and etc/requirements.txt.</p>

<h3><a id="user-content-style" class="anchor" href="#style" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Style</h3>

<p>To ensure that changes and patches are focused on behavior changes, the qdb
codebase adheres to both PEP-8, <a href="http://www.python.org/dev/peps/pep-0008/">http://www.python.org/dev/peps/pep-0008/</a>, and
pyflakes, <a href="https://launchpad.net/pyflakes/">https://launchpad.net/pyflakes/</a>.</p>

<p>The maintainers check the code using
the flake8 script, <a href="https://bitbucket.org/tarek/flake8/wiki/Home">https://bitbucket.org/tarek/flake8/wiki/Home</a>, which is
included in the etc/requirements_dev.txt.</p>

<p>Before submitting patches or pull requests, please ensure that running
<code>make style</code> and <code>make test</code> both pass.</p>

<h2><a id="user-content-source" class="anchor" href="#source" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Source</h2>

<p>The source for qdb is hosted at: <a href="https://github.com/quantopian/qdb">https://github.com/quantopian/qdb</a></p>

<h3><a id="user-content-contact" class="anchor" href="#contact" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Contact</h3>

<p>For other questions, please contact <a href="mailto:opensource@quantopian.com">opensource@quantopian.com</a>.</p>
</article>
  </div></body></html>