<html><body><div><div id="usage">
<h2>Usage</h2>
<p>Create a <a href="http://www.sqlalchemy.org/" rel="nofollow">SQLAlchemy</a> model and a
<a href="http://marshmallow.rtfd.org/" rel="nofollow">marshmallow</a> schema, then:</p>
<pre><span class="kn">from</span> <span class="nn">flask_resty</span> <span class="kn">import</span> <span class="n">Api</span><span class="p">,</span> <span class="n">GenericModelView</span>

<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Widget</span>
<span class="kn">from</span> <span class="nn">.schemas</span> <span class="kn">import</span> <span class="n">WidgetSchema</span>


<span class="k">class</span> <span class="nc">WidgetViewBase</span><span class="p">(</span><span class="n">GenericModelView</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Widget</span>
    <span class="n">schema</span> <span class="o">=</span> <span class="n">WidgetSchema</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">WidgetListView</span><span class="p">(</span><span class="n">WidgetViewBase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">WidgetView</span><span class="p">(</span><span class="n">WidgetViewBase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">patch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">partial</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>


<span class="n">api</span> <span class="o">=</span> <span class="n">Api</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="s1">'/api'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">add_resource</span><span class="p">(</span><span class="s1">'/widgets'</span><span class="p">,</span> <span class="n">WidgetListView</span><span class="p">,</span> <span class="n">WidgetView</span><span class="p">)</span>
</pre>
</div>


</div></body></html>