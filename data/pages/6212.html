<html><body><div><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a id="user-content-django-multilingual-news" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#django-multilingual-news" aria-hidden="true"><span class="octicon octicon-link"/></a>Django Multilingual News</h1>
<p>A reusable Django app for managing news/blog entries in different languages.</p>
<p>Comes with a django-cms apphook and has been prepared using Django 1.5.1 and
django-cms 2.4.1. From version 2.0 onwards it is tested and developed further
on Django 1.6.2 and django-cms 3.</p>
<p>This app is based on the great <a href="https://github.com/fivethreeo/cmsplugin-blog">https://github.com/fivethreeo/cmsplugin-blog</a>
and re-used some of it's snippets.</p>
<p>Current features include</p>
<ul>
<li>Entry authors based on a <a href="http://github.com/bitmazk/django-people/">django-people</a> Person</li>
<li>Entry attachments based on the <a href="http://github.com/bitmazk/django-document-library">django-document-library</a> Document</li>
<li>Tagging via <a href="http://github.com/bitmazk/django-multilingual-tags">django-multilingual-tags</a> with a tag based archive view</li>
<li>Entry categories</li>
<li>RSS Feeds for all news entries, just special authors or tag based.</li>
<li>Site maps</li>
<li>SEO fields on the Entry for storing custom individual meta descriptions and
titles.</li>
</ul>
<a name="user-content-installation"/>
<h2>
<a id="user-content-installation" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#installation" aria-hidden="true"><span class="octicon octicon-link"/></a>Installation</h2>
<p>If you want to install the latest stable release from PyPi:</p>
<pre>$ pip install django-multilingual-news
</pre>
<p>If you feel adventurous and want to install the latest commit from GitHub:</p>
<pre>$ pip install -e git://github.com/bitmazk/django-multilingual-news.git#egg=multilingual_news
</pre>
<p>Add <code>multilingual_news</code> to your <code>INSTALLED_APPS</code>:</p>
<pre>INSTALLED_APPS = (
    ...,
    'django_libs',
    'multilingual_news',
    'people',
    'hvad',
    'multilingual_tags',
    'document_library',
)
</pre>
<p>Run the South migrations:</p>
<pre>./manage.py migrate
</pre>
<a name="user-content-twitter-bootstrap-3"/>
<h2>
<a id="user-content-twitter-bootstrap-3" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#twitter-bootstrap-3" aria-hidden="true"><span class="octicon octicon-link"/></a>Twitter Bootstrap 3</h2>
<p>List of Bootstrap compatible features:</p>
<ul>
<li>A delete confirmation modal for deleting news entries.</li>
</ul>
<p>For support of the Twitter Bootstrap 3 functionality, you need to add the library to your template.</p>
<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>text/javascript<span class="pl-pds">"</span></span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>{% static <span class="pl-pds">"</span></span><span class="pl-e">multilingual</span>_news/<span class="pl-e">js</span>/<span class="pl-e">multilingual</span>_news.<span class="pl-e">bootstrap</span>.<span class="pl-e">js</span><span class="pl-s"><span class="pl-pds">"</span> %}<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</pre></div>
<a name="user-content-delete-confirmation-modal"/>
<h3>
<a id="user-content-delete-confirmation-modal" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#delete-confirmation-modal" aria-hidden="true"><span class="octicon octicon-link"/></a>Delete confirmation modal</h3>
<p>Add the following markup to your template.</p>
<div class="highlight highlight-html"><pre>{% load static %}

{# add this before multilingual_news.bootstrap.js #}
&lt;<span class="pl-ent">script</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>text/javascript<span class="pl-pds">"</span></span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>{% static <span class="pl-pds">"</span></span><span class="pl-e">django</span>_libs/<span class="pl-e">js</span>/<span class="pl-e">modals</span>.<span class="pl-e">js</span><span class="pl-s"><span class="pl-pds">"</span> %}<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;

&lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>ajax-modal<span class="pl-pds">"</span></span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>modal fade<span class="pl-pds">"</span></span> <span class="pl-e">tabindex</span>=<span class="pl-s"><span class="pl-pds">"</span>-1<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>modal-content<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>modal-header<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>button<span class="pl-pds">"</span></span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>close<span class="pl-pds">"</span></span> <span class="pl-e">data-dismiss</span>=<span class="pl-s"><span class="pl-pds">"</span>modal<span class="pl-pds">"</span></span> <span class="pl-e">aria-hidden</span>=<span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>&gt;<span class="pl-c1">&amp;times;</span>&lt;/<span class="pl-ent">button</span>&gt;
        &lt;/<span class="pl-ent">div</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>modal-body<span class="pl-pds">"</span></span>&gt;
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre></div>
<p>To trigger the modal, create a link that looks like this.</p>
<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>=<span class="pl-s"><span class="pl-pds">"</span>{% url <span class="pl-pds">"</span></span><span class="pl-e">news</span>_delete<span class="pl-s"><span class="pl-pds">"</span> pk=news_entry.pk %}<span class="pl-pds">"</span></span> <span class="pl-e">data-class</span>=<span class="pl-s"><span class="pl-pds">"</span>toggleDeleteModal<span class="pl-pds">"</span></span>&gt;Delete&lt;/<span class="pl-ent">a</span>&gt;</pre></div>
<a name="user-content-usage"/>
<h2>
<a id="user-content-usage" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#usage" aria-hidden="true"><span class="octicon octicon-link"/></a>Usage</h2>
<a name="user-content-using-the-apphook"/>
<h3>
<a id="user-content-using-the-apphook" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#using-the-apphook" aria-hidden="true"><span class="octicon octicon-link"/></a>Using the apphook</h3>
<p>Simply create a django-cms page and select <code>Multilingual News Apphook</code> in the
<code>Application</code> field of the <code>Advanced Settings</code>.</p>
<a name="user-content-sitemaps"/>
<h3>
<a id="user-content-sitemaps" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#sitemaps" aria-hidden="true"><span class="octicon octicon-link"/></a>Sitemaps</h3>
<p>To add a sitemap of your blog, add the following to your urlconf:</p>
<pre>from multilingual_news.sitemaps import NewsSitemap

urlpatterns += patterns(
    '',
    url(r'^sitemap.xml$', 'django.contrib.sitemaps.views.sitemap', {
        'sitemaps': {
            'blogentries': NewsSitemap,
        }, }),
)
</pre>
<a name="user-content-rss-feeds"/>
<h3>
<a id="user-content-rss-feeds" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#rss-feeds" aria-hidden="true"><span class="octicon octicon-link"/></a>RSS Feeds</h3>
<p>The app provides three different types of feeds, you can link to.</p>
<ol>
<li>All news <code>{% url "news_rss" %}</code>
</li>
<li>News from a specific author <code>{% url "news_rss_author" author=author.pk %}</code>,
where <code>author</code> is an instance of a <code>people.Person</code>
</li>
<li>All news <code>{% url "news_rss_tagged" tag=tag.slug %}</code>, where <code>Tag</code> is an
instance of a <code>multilingual_tags.Tag</code>.</li>
</ol>
<a name="user-content-tagging"/>
<h3>
<a id="user-content-tagging" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#tagging" aria-hidden="true"><span class="octicon octicon-link"/></a>Tagging</h3>
<p>You can simply add tags for a news entry from the <code>NewsEntry</code> admin page,
which renders an inline form at the bottom.</p>
<a name="user-content-template-tags"/>
<h2>
<a id="user-content-template-tags" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#template-tags" aria-hidden="true"><span class="octicon octicon-link"/></a>Template tags</h2>
<a name="user-content-get-recent-news"/>
<h3>
<a id="user-content-get_recent_news" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#get_recent_news" aria-hidden="true"><span class="octicon octicon-link"/></a>get_recent_news</h3>
<p>To render recent news:</p>
<pre>{% load multilingual_news_tags %}
{% get_recent_news limit=5 as recent_news %}
{% include "multilingual_news/recent.html" with object_list=recent_news %}
</pre>
<p>You might want to filter recent news by a category. Just add the relevant
category slug:</p>
<pre>{% get_recent_news category='category-slug' as recent_news %}
</pre>
<p>If you want to render recent news on a news detail page, you might want to
exclude the current news from the queryset:</p>
<pre>{% get_recent_news exclude=object as recent_news %}
</pre>
<a name="user-content-get-newsentry-meta-description-and-get-newsentry-meta-title"/>
<h3>
<a id="user-content-get_newsentry_meta_description-and-get_newsentry_meta_title" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#get_newsentry_meta_description-and-get_newsentry_meta_title" aria-hidden="true"><span class="octicon octicon-link"/></a>get_newsentry_meta_description and get_newsentry_meta_title</h3>
<p>To render the best matching title or description from the SEO fields, you can
use the template tags <code>get_newsentry_meta_description</code> and
<code>get_newsentry_meta_title</code>.</p>
<pre>&lt;title&gt;{% get_newsentry_meta_title entry_instance %}&lt;/title&gt;
&lt;meta name="description" content="{% get_newsentry_meta_description entry_instance %}" /&gt;
</pre>
<a name="user-content-settings"/>
<h2>
<a id="user-content-settings" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#settings" aria-hidden="true"><span class="octicon octicon-link"/></a>Settings</h2>
<h2 id="user-content-news-pagination-amount">
<a id="user-content-news_pagination_amount" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#news_pagination_amount" aria-hidden="true"><span class="octicon octicon-link"/></a>NEWS_PAGINATION_AMOUNT</h2>
<p>Default: 10</p>
<p>Amount of news entries to display in the list view.</p>
<a name="user-content-contribute"/>
<h2>
<a id="user-content-contribute" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#contribute" aria-hidden="true"><span class="octicon octicon-link"/></a>Contribute</h2>
<p>If you want to contribute to this project, please perform the following steps:</p>
<pre># Fork this repository
# Clone your fork
$ mkvirtualenv -p python2.7 django-multilingual-news
$ pip install -r requirements.txt
$ ./logger/tests/runtests.sh
# You should get no failing tests

$ git co -b feature_branch master
# Implement your feature and tests
# Describe your change in the CHANGELOG.txt
$ git add . &amp;&amp; git commit
$ git push origin feature_branch
# Send us a pull request for your feature branch
</pre>
<p>Whenever you run the tests a coverage output will be generated in
<code>tests/coverage/index.html</code>. When adding new features, please make sure that
you keep the coverage at 100%.</p>
<a name="user-content-roadmap"/>
<h2>
<a id="user-content-roadmap" class="anchor" href="https://github.com/bitmazk/django-multilingual-news/blob/master/#roadmap" aria-hidden="true"><span class="octicon octicon-link"/></a>Roadmap</h2>
<p>Check the issue tracker on github for milestones and features to come.</p>

</article></div></body></html>