<html><body><div><div class="section">
              <h1>django-ses3 0.7.0</h1>

              


<p>A Django email backend for Amazon's Simple Email Service</p>








<p><strong>Attention:</strong> This project is not actively maintained as of ~end 2012, but it is still fairly popular and in use.
If you are interested in helping out, please contact <a href="https://github.com/pcraciunoiu/" rel="nofollow">Paul Craciunoiu (pcraciunoiu)</a>.</p>
<div id="a-bird-s-eye-view">
<h2>A bird’s eye view</h2>
<p>Django-SES is a drop-in mail backend for <a href="http://djangoproject.com" rel="nofollow">Django</a>. Instead of sending emails
through a traditional SMTP mail server, Django-SES routes email through
Amazon Web Services’ excellent Simple Email Service (<a href="http://aws.amazon.com/ses/" rel="nofollow">SES</a>).</p>
</div>
<div id="using-django-directly">
<h2>Using Django directly</h2>
<p>Amazon SES allows you to also setup usernames and passwords. If you do configure
things that way, you do not need this package. The Django default email backend
is capable of authenticating with Amazon SES and correctly sending email.</p>
<p>Using django-ses gives you additional features like deliverability reports that
can be hard and/or cumbersome to obtain when using the SMTP interface.</p>
<p><strong>Note:</strong> In order to use smtp with Amazon SES, you may have to install some
supporting packages for ssl. Check out <a href="https://github.com/bancek/django-smtp-ssl" rel="nofollow">this SMTP SSL email backend for Django</a></p>
</div>
<div id="why-ses-instead-of-smtp">
<h2>Why SES instead of SMTP?</h2>
<p>Configuring, maintaining, and dealing with some complicated edge cases can be
time-consuming. Sending emails with Django-SES might be attractive to you if:</p>
<ul>
<li>You don’t want to maintain mail servers.</li>
<li>You are already deployed on EC2 (In-bound traffic to SES is free from EC2
instances).</li>
<li>You need to send a high volume of email.</li>
<li>You don’t want to have to worry about PTR records, Reverse DNS, email
whitelist/blacklist services.</li>
<li>Django-SES is a truely drop-in replacement for the default mail backend.
Your code should require no changes.</li>
</ul>
</div>
<div id="getting-going">
<h2>Getting going</h2>
<p>Assuming you’ve got <a href="http://djangoproject.com" rel="nofollow">Django</a> installed, you’ll need <a href="http://boto.cloudhackers.com/" rel="nofollow">Boto</a> 2.1.0 or higher. <a href="http://boto.cloudhackers.com/" rel="nofollow">Boto</a>
is a Python library that wraps the AWS API.</p>
<p>You can do the following to install boto 2.1.0 (we’re using –upgrade here to
make sure you get 2.1.0):</p>
<pre>pip install --upgrade boto
</pre>
<p>Install django-ses:</p>
<pre>pip install django-ses
</pre>
<p>Add the following to your settings.py:</p>
<pre>EMAIL_BACKEND = 'django_ses.SESBackend'

# These are optional -- if they're set as environment variables they won't
# need to be set here as well
AWS_ACCESS_KEY_ID = 'YOUR-ACCESS-KEY-ID'
AWS_SECRET_ACCESS_KEY = 'YOUR-SECRET-ACCESS-KEY'

# Additionally, you can specify an optional region, like so:
AWS_SES_REGION_NAME = 'us-east-1'
AWS_SES_REGION_ENDPOINT = 'email.us-east-1.amazonaws.com'
</pre>
<p>Alternatively, instead of <cite>AWS_ACCESS_KEY_ID</cite> and <cite>AWS_SECRET_ACCESS_KEY</cite>, you
can include the following two settings values. This is useful in situations
where you would like to use a separate access key to send emails via SES than
you would to upload files via S3:</p>
<pre>AWS_SES_ACCESS_KEY_ID = 'YOUR-ACCESS-KEY-ID'
AWS_SES_SECRET_ACCESS_KEY = 'YOUR-SECRET-ACCESS-KEY'
</pre>
<p>Now, when you use <tt>django.core.mail.send_mail</tt>, Simple Email Service will
send the messages by default.</p>
<p>Since SES imposes a rate limit and will reject emails after the limit has been
reached, django-ses will attempt to conform to the rate limit by querying the
API for your current limit and then sending no more than that number of
messages in a two-second period (which is half of the rate limit, just to
be sure to stay clear of the limit). This is controlled by the following setting:</p>
<blockquote>
AWS_SES_AUTO_THROTTLE = 0.5 # (default; safety factor applied to rate limit)</blockquote>
<p>To turn off automatic throttling, set this to None.</p>
<p>Check out the <tt>example</tt> directory for more information.</p>
</div>
<div id="dkim">
<h2>DKIM</h2>
<p>Using <a href="http://dkim.org/" rel="nofollow">DomainKeys</a> is entirely optional, however it is recommended by Amazon for
authenticating your email address and improving delivery success rate.  See
<a href="http://docs.amazonwebservices.com/ses/latest/DeveloperGuide/DKIM.html" rel="nofollow">http://docs.amazonwebservices.com/ses/latest/DeveloperGuide/DKIM.html</a>.
Besides authentication, you might also want to consider using DKIM in order to
remove the <cite>via email-bounces.amazonses.com</cite> message shown to gmail users -
see <a href="http://support.google.com/mail/bin/answer.py?hl=en&amp;answer=1311182" rel="nofollow">http://support.google.com/mail/bin/answer.py?hl=en&amp;answer=1311182</a>.</p>
<p>To enable DKIM signing you should install the <a href="http://hewgill.com/pydkim/" rel="nofollow">pydkim</a> package and specify values
for the <tt>DKIM_PRIVATE_KEY</tt> and <tt>DKIM_DOMAIN</tt> settings.  You can generate a
private key with a command such as <tt>openssl genrsa 512</tt> and get the public key
portion with <tt>openssl rsa <span class="pre">-pubout</span> &lt;private.key</tt>.  The public key should be
published to <tt>ses._domainkey.example.com</tt> if your domain is example.com.  You
can use a different name instead of <tt>ses</tt> by changing the <tt>DKIM_SELECTOR</tt>
setting.</p>
<p>The SES relay will modify email headers such as <cite>Date</cite> and <cite>Message-Id</cite> so by
default only the <cite>From</cite>, <cite>To</cite>, <cite>Cc</cite>, <cite>Subject</cite> headers are signed, not the full
set of headers.  This is sufficient for most DKIM validators but can be overridden
with the <tt>DKIM_HEADERS</tt> setting.</p>
<p>Example settings.py:</p>
<pre>DKIM_DOMAIN = 'example.com'
DKIM_PRIVATE_KEY = '''
-----BEGIN RSA PRIVATE KEY-----
xxxxxxxxxxx
-----END RSA PRIVATE KEY-----
'''
</pre>
<p>Example DNS record published to Route53 with boto:</p>
<blockquote>
route53 add_record ZONEID ses._domainkey.example.com. TXT ‘“v=DKIM1; p=xxx”’ 86400</blockquote>
</div>
<div id="ses-sending-stats">
<h2>SES Sending Stats</h2>
<p>Django SES comes with two ways of viewing sending statistics.</p>
<p>The first one is a simple read-only report on your 24 hour sending quota,
verified email addresses and bi-weekly sending statistics.</p>
<p>To generate and view SES sending statistics reports, include, update
<tt>INSTALLED_APPS</tt>:</p>
<pre>INSTALLED_APPS = (
    # ...
    'django.contrib.admin',
    'django_ses',
    # ...
)
</pre>
<p>… and <tt>urls.py</tt>:</p>
<pre>urlpatterns += (url(r'^admin/django-ses/', include('django_ses.urls')),)
</pre>
<p><em>Optional enhancements to stats:</em></p>
<div id="localized-datetime-in-the-stats-dashboard">
<h3>Localized datetime in the stats dashboard</h3>
<p>You can install <tt>pytz</tt> to localize the Amazon timestamp
(assumed UTC) to your locale. This will also make the date more readable,
using Django’s default formatting.</p>
</div>
<div id="link-the-dashboard-from-the-admin">
<h3>Link the dashboard from the admin</h3>
<p>You can use adminplus for this (<a href="https://github.com/jsocol/django-adminplus" rel="nofollow">https://github.com/jsocol/django-adminplus</a>):</p>
<pre>from django_ses.views import dashboard
admin.site.register_view('django-ses', dashboard, 'Django SES Stats')
</pre>
</div>
<div id="store-daily-stats">
<h3>Store daily stats</h3>
<p>If you need to keep send statistics around for longer than two weeks,
django-ses also comes with a model that lets you store these. To use this
feature you’ll need to first run <tt>syncdb</tt>:</p>
<pre>python manage.py syncdb
</pre>
<p>To collect the statistics, run the <tt>get_ses_statistics</tt> management command
(refer to next section for details). After running this command the statistics
will be viewable via <tt>/admin/django_ses/</tt>.</p>
</div>
</div>
<div id="django-ses-management-commands">
<h2>Django SES Management Commands</h2>
<p>To use these you must include <tt>django_ses</tt> in your INSTALLED_APPS.</p>
<div id="managing-verified-email-addresses">
<h3>Managing Verified Email Addresses</h3>
<p>Manage verified email addresses through the management command.</p>
<blockquote>
python manage.py ses_email_address -l</blockquote>
</div>
<div id="collecting-sending-statistics">
<h3>Collecting Sending Statistics</h3>
<p>To collect and store SES sending statistics in the database, run:</p>
<blockquote>
python manage.py get_ses_statistics</blockquote>
<p>Sending statistics are aggregated daily (UTC time). Stats for the latest day
(when you run the command) may be inaccurate if run before end of day (UTC).
If you want to keep your statistics up to date, setup <tt>cron</tt> to run this
command a short time after midnight (UTC) daily.</p>
</div>
</div>
<div id="django-builtin-in-error-emails">
<h2>Django Builtin-in Error Emails</h2>
<p>If you’d like Django’s <a href="http://docs.djangoproject.com/en/1.2/howto/error-reporting/" rel="nofollow">Builtin Email Error Reporting</a> to function properly
(actually send working emails), you’ll have to explicitly set the
<tt>SERVER_EMAIL</tt> setting to one of your SES-verified addresses. Otherwise, your
error emails will all fail and you’ll be blissfully unaware of a problem.</p>
<p><em>Note:</em> You will need to sign up for <a href="http://aws.amazon.com/ses/" rel="nofollow">SES</a> and verify any emails you’re going
to use in the <cite>from_email</cite> argument to <cite>django.core.mail.send_email()</cite>. <a href="http://boto.cloudhackers.com/" rel="nofollow">Boto</a>
has a <cite>verify_email_address()</cite> method: <a href="https://github.com/boto/boto/blob/master/boto/ses/connection.py" rel="nofollow">https://github.com/boto/boto/blob/master/boto/ses/connection.py</a></p>
</div>
<div id="requirements">
<h2>Requirements</h2>
<p>django-ses requires boto version 2.1.0 or later.</p>
</div>
<div id="full-list-of-settings">
<h2>Full List of Settings</h2>
<dl>
<dt><tt>AWS_ACCESS_KEY_ID</tt>, <tt>AWS_SECRET_ACCESS_KEY</tt></dt>
<dd><em>Required.</em> Your API keys for Amazon SES.</dd>
<dt><tt>AWS_SES_ACCESS_KEY_ID</tt>, <tt>AWS_SES_SECRET_ACCESS_KEY</tt></dt>
<dd><em>Required.</em> Alternative API keys for Amazon SES. This is useful in situations
where you would like to use separate access keys for different AWS services.</dd>
<dt><tt>AWS_SES_REGION_NAME</tt>, <tt>AWS_SES_REGION_ENDPOINT</tt></dt>
<dd>Optionally specify what region your SES service is using. Details:
<a href="http://readthedocs.org/docs/boto/en/latest/ref/ses.html#boto.ses.regions" rel="nofollow">http://readthedocs.org/docs/boto/en/latest/ref/ses.html#boto.ses.regions</a></dd>
<dt><tt>AWS_SES_RETURN_PATH</tt></dt>
<dd>Instruct Amazon SES to forward bounced emails and complaints to this email.
For more information please refer to <a href="http://aws.amazon.com/ses/faqs/#38" rel="nofollow">http://aws.amazon.com/ses/faqs/#38</a></dd>
<dt><tt>TIME_ZONE</tt></dt>
<dd>Default Django setting, optionally set this. Details:
<a href="https://docs.djangoproject.com/en/dev/ref/settings/#time-zone" rel="nofollow">https://docs.djangoproject.com/en/dev/ref/settings/#time-zone</a></dd>
<dt><tt>DKIM_DOMAIN</tt>, <tt>DKIM_PRIVATE_KEY</tt></dt>
<dd>Optional. If these settings are defined and the <a href="http://hewgill.com/pydkim/" rel="nofollow">pydkim</a> module is installed
then email messages will be signed with the specified key.   You will also
need to publish your public key on DNS; the selector is set to <tt>ses</tt> by
default.  See <a href="http://dkim.org/" rel="nofollow">http://dkim.org/</a> for further detail.</dd>
</dl>
</div>
<div id="contributing">
<h2>Contributing</h2>
<p>If you’d like to fix a bug, add a feature, etc</p>
<ol>
<li><dl>
<dt>Start by opening an issue.</dt>
<dd><p>Be explicit so that project collaborators can understand and reproduce the
issue, or decide whether the feature falls within the project’s goals.
Code examples can be useful, too.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>File a pull request.</dt>
<dd><p>You may write a prototype or suggested fix.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>Check your code for errors, complaints.</dt>
<dd><p>Use <a href="https://github.com/jbalogh/check" rel="nofollow">check.py</a></p>
</dd>
</dl>
</li>
<li><dl>
<dt>Write and run tests.</dt>
<dd><p>Write your own test showing the issue has been resolved, or the feature
works as intended.</p>
</dd>
</dl>
</li>
</ol>
</div>
<div id="running-tests">
<h2>Running Tests</h2>
<p>To run the tests:</p>
<pre>python manage.py test django_ses
</pre>
</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>20</span> downloads in the last week
  </li>
  <li>
    <span>80</span> downloads in the last month
  </li>
</ul>









            </div>


          </div></body></html>