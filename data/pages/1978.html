<html><body><div><div class="post-body entry-content">
<p/><p>By </p><a href="http://www.dancingbison.com">Vasudev Ram</a><p/><a href=""/><p>
I came across </p><a href="https://github.com/PyMySQL/PyMySQL">PyMySQL on github</a><p> today. Excerpt from the PyMySQL Github page:
</p><a href=""/><p>
[ This package contains a </p><b>pure-Python MySQL client library</b><p>. The goal of PyMySQL is to be </p><b>a drop-in replacement for MySQLdb</b><p> and work on </p><b>CPython</b><p>, </p><b>PyPy</b><p>, </p><b>IronPython</b><p> and </p><b>Jython</b><p>. ]
</p><a href=""/><p>
In other words, PyMySQL is a pure-Python MySQL driver, and as the docs say, it aims to be a drop-in replacement for </p><a href="http://mysql-python.sourceforge.net/MySQLdb.html">MySQLdb</a><p>, which is a Python driver for MySQL, but implemented as a </p><a href="https://docs.python.org/2/extending/extending.html">Python C extension</a><p>. One of the advantages of using a pure-Python library instead of a C extension, is that you do not have to build it from source, and also, potentially, that it may work without any build steps or changes to the code, on various versions of Python, such as CPython, PyPy, etc., as the excerpt above says. Also see this Stack Overflow question:

</p><a href="http://stackoverflow.com/questions/7224807/what-actually-is-pymysql-and-how-it-differs-from-mysqldb-and-how-can-it-affect">What actually is pymysql and how it differs from mysqldb?</a>
<a href=""/><p>
Here is </p><a href="https://pypi.python.org/pypi/PyMySQL/0.6.2">PyMySQL on PyPI</a><p>, (the </p><a href="https://pypi.python.org/pypi">Python Package Index</a><p>).
</p><p>
The statistics for PyMySQL on PyPI show this:
</p><p>
Downloads (All Versions):</p><p>
104 downloads in the last day</p><p>
7168 downloads in the last week</p><p>
49124 downloads in the last month
</p><p>
So I tried out PyMySQL a bit, on CPython 2.7.8 on Ubuntu Linux.
</p><a href=""/><p>
To install PyMySQL, do:
</p><pre>$ pip install pymysql
</pre><p>Checked whether it was properly installed with:
</p><pre>$ python
&gt;&gt;&gt; import PyMySQL
</pre><p>Oops, didn't work. I then tried:
</p><pre>&gt;&gt;&gt; import pymysql
</pre><p>That did work.</p><p>
Here is the schema of the MySQL table (called </p><b>sales</b><p>, in a database also called sales) that I used to try PyMySQL:
</p><pre>$ mysql -u root
mysql&gt; use sales;

Database changed
mysql&gt; desc sales;
+------------+-------------+------+-----+---------+-------+
| Field      | Type        | Null | Key | Default | Extra |
+------------+-------------+------+-----+---------+-------+
| id         | int(11)     | YES  |     | NULL    |       |
| region     | varchar(6)  | YES  |     | NULL    |       |
| item       | varchar(15) | YES  |     | NULL    |       |
| unit_price | int(11)     | YES  |     | NULL    |       |
| quantity   | int(11)     | YES  |     | NULL    |       |
+------------+-------------+------+-----+---------+-------+
5 rows in set (0.01 sec)

mysql&gt;
</pre><p>Basically, it is a table to record sales data by region, for items with unit prices and quantities sold.</p><p>
And here is my Python program to try PyMySQL:
</p><pre>$ cat test_pymysql.py

import pymysql
conn = pymysql.connect(host='localhost', port=3306, user='some_user', passwd='some_password', db='sales')
curs = conn.cursor()
curs.execute('select * from sales')
# Added this to give a proper header for the output, with field names.
field_names = [ item[0] for item in curs.description ]
for field_name in field_names:
    print field_name.rjust(12),
print
for row in curs:
    for col in row:
        print str(col).rjust(12),
    print
print
curs.close()
conn.close()
</pre><p>I ran the program and got the correct output:
</p><pre>$ python test_pymysql.py
id       region         item   unit_price     quantity
1        North        Chair          100            2
2        North        Table          200            3
3        South         Desk          300            1
3        South        Shelf          400            2
$
</pre><p>I also ran this other SQL query with the GROUP BY clause, to get the region-wise sales:
</p><pre>curs.execute('select region, sum(unit_price * quantity) as value from sales group by region order by 1')
</pre><p>and got the expected output:
</p><pre>$ python test_pymysql.py
      region        value
       North          800
       South         1100
</pre><p>The PyMySQL Github page shows how it works: PyMySQL implements the client side of the </p><a href="http://dev.mysql.com/doc/internals/en/client-server-protocol.html">MySQL Client/Server Protocol</a><p>. The MySQL database server listens for database requests from clients on port 3306, and the clients (which may be on the same machine or on another machine on the network), send the request to that server at that port. The protocol also supports </p><a href="http://en.wikipedia.org/wiki/Unix_domain_socket">UNIX domain sockets</a><p>, so the connect method has a named parameter unix_socket=None.
</p><p>
Related links:

</p><a href="http://en.wikipedia.org/wiki/PyPy">PyPy, a Python interpreter and Just-In-Time compiler</a>

<a href="http://en.wikipedia.org/wiki/IronPython">IronPython, Python for .NET</a>

<a href="http://en.wikipedia.org/wiki/Jython">Jython, Python for the JVM</a>

<a href="http://en.wikipedia.org/wiki/MySQL">MySQL</a>
<a href=""/>
<p/><p>- </p><a href="http://jugad2.blogspot.in/2013/03/dancing-bison-enterprises-profile.html">Vasudev Ram - Dancing Bison Enterprises</a><p/><p/><p/><b><a href="mailto:vasudevram@gmail.com?subject=Email%20me%20about%20your%20new%20products%20and%20services">Signup for email about new products that I create.</a></b> <p/><p/><a href="http://www.dancingbison.com/contact.html">Contact Page</a>

   
<p/>
</div>
</div></body></html>