<html><body><div><div class="post-content">
				<p>New tools have enabled businesses of all sizes to understand how their customers are reacting to them – do customers like the location, hate the menu, would they come back? This increased volume of data is incredibly valuable but larger than any mere mortal can assess, understand and turn into action. Several technologies have emerged to help businesses unlock the meaning behind this data.</p>
<p>This blog looks at how <a href="https://www.kimonolabs.com/">Kimono Labs</a>, which structures data at scale, and <a href="http://www.monkeylearn.com/">MonkeyLearn</a>, which provides machine learning capabilities, can be used together to translate data into insight.</p>
<h2><strong>Kimono + MonkeyLearn</strong></h2>
<p><a href="https://www.kimonolabs.com/">Kimono</a> is a smart web scraper for getting data from the web by turning websites into APIs. By using Kimono point-and-click tool, users can select the data they want to scrape from a website and Kimono does the rest, turning websites into APIs in seconds.</p>
<p><a href="http://monkeylearn.com/">MonkeyLearn</a> is a platform for getting relevant data from text using machine learning. MonkeyLearn goal is to enable developers with any level of experience to easily extract and classify information from text for their specific needs, and integrate the technology into their own platforms and applications in a easy, fast and cost-effective way.</p>
<p>There is a natural fit between Kimono and MonkeyLearn; with Kimono you can extract information from the web and with MonkeyLearn you can create and use machine learning models to enrich that information with sentiment analysis, topic detection, language detection, keyword detection, entity recognition and more.</p>
<p>Combine both services and the possibilities are endless.</p>
<p><b>How to create a hotel sentiment analysis detector with Kimono and MonkeyLearn</b></p>
<p>Our objective with this tutorial is to create a tool that performs sentiment analysis of hotel reviews.</p>
<p>We will use Kimono to extract hotel reviews from <a href="http://www.tripadvisor.com/">TripAdvisor</a> and use those reviews as training samples to create a machine learning model with MonkeyLearn. This model will learn to detect if a hotel review is positive or negative and will be able to understand the sentiment of new and unseen hotel reviews.</p>
<h2><strong>1. Create a Kimono API</strong></h2>
<p>The first step is to scrape hotel reviews from TripAdvisor by creating a Kimono API:</p>
<p><b>Install the Kimono chrome extension</b><br/>
For more information on how to install Kimono extension visit this <a href="http://help.kimonolabs.com/hc/en-us/articles/203339070-Install-the-kimono-chrome-extension">article</a>.</p>
<p><b>Use Kimono on a webpage<br/>
</b>To use kimono, navigate to the webpage you want to extract data from, and then click on the chrome extension. In this tutorial we will use <a href="http://www.tripadvisor.com/Hotel_Review-g60763-d93356-Reviews-New_York_Inn-New_York_City_New_York.html#/REVIEWS">New York Inn</a> reviews to create our hotel sentiment analysis classifier.</p>
<p><b>Select the data you want to scrape with Kimono</b><br/>
If you need help with this step, follow this <a href="http://help.kimonolabs.com/hc/en-us/articles/203274950-Extract-data-with-kimono">simple tutorial</a>. In our case we will extract the review title, the review content and the stars:</p>
<p><img class="wp-image-292 aligncenter" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/review.png" alt="review" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/review-300x119.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/review.png 841w" sizes="(max-width: 595px) 100vw, 595px"/></p>
<p>In order to do that, we will have to add three properties “title”, “content”  and “stars”, and mark the corresponding fields on the webpage. Kimono will recognize similar fields for every review on the current page:</p>
<p><img class="size-large wp-image-293 aligncenter" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/reviews_contents-1024x774.png" alt="reviews_contents" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/reviews_contents-300x226.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/reviews_contents-1024x774.png 1024w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/reviews_contents.png 1124w" sizes="(max-width: 669px) 100vw, 669px"/></p>
<p>After marking all the properties, we have to mark the pagination link, that is, the link that will get the crawler to the next page of reviews. You can do that by marking the next page link with Kimono’s pagination activation icon <a href="http://blog.monkeylearn.com/wp-content/uploads/2014/12/I_Pagination.png"><img class="alignnone size-full wp-image-277" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/I_Pagination.png" alt="I_Pagination"/></a>:</p>
<address><img class="alignnone size-large wp-image-294" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/reviews_pagination-1024x531.png" alt="reviews_pagination" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/reviews_pagination-300x155.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/reviews_pagination-1024x531.png 1024w" sizes="(max-width: 669px) 100vw, 669px"/></address>
<p>Before we create our Kimono API, we have to do some advanced configurations in the stars attribute to get the alt value, that is, we want to get strings like “1 of 5 stars” or “5 of 5 stars”. You can do that by clicking the <b>Data Model View</b> and configuring the advanced attributes for the stars property:</p>
<p><img class="alignnone size-large wp-image-297" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/stars_attribute-1024x350.png" alt="stars_attribute" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/stars_attribute-300x102.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/stars_attribute-1024x350.png 1024w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/stars_attribute.png 1404w" sizes="(max-width: 669px) 100vw, 669px"/></p>
<p>You can go to the <b>Raw Data View</b> to verify that our crawler gets the correct property values:</p>
<p><img class="alignnone size-large wp-image-291" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/raw_data_view-1024x531.png" alt="raw_data_view" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/raw_data_view-300x155.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/raw_data_view-1024x531.png 1024w" sizes="(max-width: 669px) 100vw, 669px"/></p>
<p>And we are done! Now just click the <b>Done</b> button. On the creation form, select <b>manual crawl</b> as your API setting and set the crawl limit to <b>50 pages max</b>:</p>
<p><img class="wp-image-275 aligncenter" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/create_api.png" alt="create_api" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/create_api-300x151.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/create_api-540x272.png 540w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/create_api.png 801w" sizes="(max-width: 555px) 100vw, 555px"/></p>
<h2><strong>2. Getting the Data</strong></h2>
<p>So we have our Kimono spider created, we are ready to start crawling and gathering the data. You just have to go the <b>Crawl Setup</b> tab in your API Detail and hit the <b>Start Crawl</b> button:</p>
<p><img class="alignnone size-large wp-image-280" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/manual_crawl-1024x752.png" alt="manual_crawl" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/manual_crawl-300x220.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/manual_crawl-1024x752.png 1024w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/manual_crawl.png 1186w" sizes="(max-width: 669px) 100vw, 669px"/></p>
<p>The crawl will start, it will take a few seconds to finish. To get the retrieved data, go to the <b>Data Preview</b> tab, select the <b>CSV</b> format and click the <b>Download</b> link:</p>
<p><img class="alignnone size-large wp-image-276" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/data_download-1024x553.png" alt="data_download" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/data_download-300x162.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/data_download-1024x553.png 1024w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/data_download.png 1501w" sizes="(max-width: 669px) 100vw, 669px"/></p>
<h2><strong>3. Preparing the Data</strong></h2>
<p>So we downloaded our kimonoData.csv file, now it’s time to preprocess the data. We’ll do that with Python and <a title="Pandas" href="http://pandas.pydata.org/">Pandas library</a>.</p>
<p>First we import the csv file into a data frame, remove duplicates, drop the reviews that are neutral (3 of 5 stars):</p>

		<div id="crayon-56d5b940cf923864122537" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b940cf923864122537-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">pandas </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">pd</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf923864122537-2"> </p><p class="crayon-line" id="crayon-56d5b940cf923864122537-3"><span class="crayon-c"># We use the Pandas library to read the contents of the scraped data</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf923864122537-4"><span class="crayon-c"># obtained by Kimono, skipping the first row (which is the name of</span></p><p class="crayon-line" id="crayon-56d5b940cf923864122537-5"><span class="crayon-c"># the collection).</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf923864122537-6"><span class="crayon-v">df</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pd</span><span class="crayon-sy">.</span><span class="crayon-e">read_csv</span><span class="crayon-sy">(</span><span class="crayon-s">'kimonoData.csv'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">encoding</span><span class="crayon-o">=</span><span class="crayon-s">'utf-8'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">skiprows</span><span class="crayon-o">=</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b940cf923864122537-7"> </p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf923864122537-8"><span class="crayon-c"># Now we remove duplicate rows (reviews)</span></p><p class="crayon-line" id="crayon-56d5b940cf923864122537-9"><span class="crayon-v">df</span><span class="crayon-sy">.</span><span class="crayon-e">drop_duplicates</span><span class="crayon-sy">(</span><span class="crayon-v">inplace</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf923864122537-10"> </p><p class="crayon-line" id="crayon-56d5b940cf923864122537-11"><span class="crayon-c"># Drop the reviews with 3 stars, since we're doing Positive/Negative</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf923864122537-12"><span class="crayon-c"># sentiment analysis.</span></p><p class="crayon-line" id="crayon-56d5b940cf923864122537-13"><span class="crayon-v">df</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">df</span><span class="crayon-sy">[</span><span class="crayon-v">df</span><span class="crayon-sy">[</span><span class="crayon-s">'stars'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">'3 of 5 stars'</span><span class="crayon-sy">]</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Then we create a new column that concatenates the title and the content:</p>

		<div id="crayon-56d5b940cf931323798792" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b940cf931323798792-1"><span class="crayon-c"># We want to use both the title and content of the review to</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf931323798792-2"><span class="crayon-c"># classify, so we merge them both into a new column.</span></p><p class="crayon-line" id="crayon-56d5b940cf931323798792-3"><span class="crayon-v">df</span><span class="crayon-sy">[</span><span class="crayon-s">'full_content'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">df</span><span class="crayon-sy">[</span><span class="crayon-s">'title'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'. '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">df</span><span class="crayon-sy">[</span><span class="crayon-s">'content'</span><span class="crayon-sy">]</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Then we create a new column that will be what we want to predict: Good or Bad, so we transform reviews with more than 3 stars into Good, and reviews with less than 3 stars into Bad:</p>

		<div id="crayon-56d5b940cf935749446806" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b940cf935749446806-1"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">get_class</span><span class="crayon-sy">(</span><span class="crayon-v">stars</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf935749446806-2"><span class="crayon-h">    </span><span class="crayon-v">score</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">int</span><span class="crayon-sy">(</span><span class="crayon-v">stars</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b940cf935749446806-3"><span class="crayon-h">    </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">score</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf935749446806-4"><span class="crayon-h">        </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">'Good'</span></p><p class="crayon-line" id="crayon-56d5b940cf935749446806-5"><span class="crayon-h">    </span><span class="crayon-st">else</span><span class="crayon-o">:</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf935749446806-6"><span class="crayon-h">        </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">'Bad'</span></p><p class="crayon-line" id="crayon-56d5b940cf935749446806-7"><span class="crayon-h">    </span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf935749446806-8"><span class="crayon-c"># Transform the number of stars into Good and Bad tags.</span></p><p class="crayon-line" id="crayon-56d5b940cf935749446806-9"><span class="crayon-v">df</span><span class="crayon-sy">[</span><span class="crayon-s">'true_category'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">df</span><span class="crayon-sy">[</span><span class="crayon-s">'stars'</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-k ">apply</span><span class="crayon-sy">(</span><span class="crayon-v">get_class</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>We’ll keep only the full_content and true_category columns:</p>

		<div id="crayon-56d5b940cf939434420035" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b940cf939434420035-1"><span class="crayon-v">df</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">df</span><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-s">'full_content'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'true_category'</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>If we take a look at the data frame we created it may look something like this:</p>
<p><a href="http://blog.monkeylearn.com/wp-content/uploads/2014/12/data_table.png"><img class="wp-image-322 aligncenter" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/data_table.png" alt="data_table" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/data_table-300x139.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/data_table.png 587w" sizes="(max-width: 398px) 100vw, 398px"/></a></p>
<p>To have a quick overview of the data, we have 429 Good reviews and 225 Bad reviews:</p>

		<div id="crayon-56d5b940cf93c548240597" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b940cf93c548240597-1"><span class="crayon-c"># Print a histogram of sentiment values</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf93c548240597-2"><span class="crayon-v">df</span><span class="crayon-sy">[</span><span class="crayon-s">'true_category'</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">value_counts</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-56d5b940cf93c548240597-3"><span class="crayon-i">Good</span><span class="crayon-h">    </span><span class="crayon-cn">429</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf93c548240597-4"><span class="crayon-i">Bad</span><span class="crayon-h">     </span><span class="crayon-cn">225</span></p><p class="crayon-line" id="crayon-56d5b940cf93c548240597-5"><span class="crayon-v">dtype</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">int64</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Finally, we have to save our dataset in MonkeyLearn’s format, so we remove the headers and the index column. The first column must be the text contents and the second must be the category. We will encode the text in UTF-8:</p>

		<div id="crayon-56d5b940cf940939790808" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover">
		
			
			<p class="crayon-info"/>
			<p class="crayon-plain-wrap"/>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-56d5b940cf940939790808-1"><span class="crayon-c"># Write the data into a CSV file</span></p><p class="crayon-line crayon-striped-line" id="crayon-56d5b940cf940939790808-2"><span class="crayon-v">df</span><span class="crayon-sy">.</span><span class="crayon-e">to_csv</span><span class="crayon-sy">(</span><span class="crayon-s">'kimonoData_MonkeyLearn.csv'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">header</span><span class="crayon-o">=</span><span class="crayon-t">False</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">index</span><span class="crayon-o">=</span><span class="crayon-t">False</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">encoding</span><span class="crayon-o">=</span><span class="crayon-s">'utf-8'</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p/>
<h2><strong>4. Creating a MonkeyLearn Classifier</strong></h2>
<p>Ok, time to move to MonkeyLearn, we want to create a text classifier that classifies reviews into two possible categories: Good or Bad, depending on that the review is talking in a positive or negative way respectively. That process is known as Sentiment Analysis, that is, extracting the mood from a text.</p>
<p>First you have to signup into <a href="http://monkeylearn.com/">Monkeylearn</a>, after you log in you will get into the main dashboard. MonkeyLearn has precreated text mining modules, but also allows you to create customized ones. In our case, we will build a custom text classifier, so within <b>Classification</b> page, click the <b>Create Module</b> button:</p>
<p><img class="alignnone size-large wp-image-284" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_classification_create-1024x624.png" alt="MonkeyLearn_classification_create" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_classification_create-300x182.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_classification_create-1024x624.png 1024w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_classification_create.png 1485w" sizes="(max-width: 669px) 100vw, 669px"/></p>
<p>A form will popup, to fill the initial settings, we first select <b>English</b> as our working language and name our new module as “<b>Hotel Sentiment</b>“:</p>
<p><img class="wp-image-285 aligncenter" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_create_module.png" alt="MonkeyLearn_create_module" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_create_module-300x224.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_create_module.png 780w" sizes="(max-width: 506px) 100vw, 506px"/></p>
<p>Also, we will set some advanced options, click the <b>Show advanced options</b> link and:</p>
<ul>
<li>Set <b>N-gram range</b> to 1-3.</li>
<li>Disable <b>Use stemming.</b></li>
<li>Enable <b>Filter stopwords</b>, and use <b>Custom stopwords</b>: “the, and”.</li>
</ul>
<p><a href="http://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_advanced_options3.png"><img class="wp-image-311 aligncenter" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_advanced_options3.png" alt="MonkeyLearn_advanced_options"/></a></p>
<p>After clicking the Create button, we will be in the module detail page.</p>
<h2><strong>5. Feeding MonkeyLearn with Kimono</strong></h2>
<p>Time to feed the monkey, go to the <b>Actions</b> menu and select <b>Upload tree</b>, then select the CSV file we created with Kimono’s data:</p>
<p><img class="alignnone size-large wp-image-290" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_upload-1024x506.png" alt="MonkeyLearn_upload" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_upload-300x148.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_upload-1024x506.png 1024w" sizes="(max-width: 669px) 100vw, 669px"/></p>
<p>After the uploading finishes, MonkeyLearn will create the corresponding category tree at the left, where we will have three nodes: Root (the starting point) and our to sentiment categories: Good and Bad. If you click on each of the categories, you will see the corresponding text samples (the reviews we gathered with Kimono) on a list on the bottom right of the screen:</p>
<p><img class="alignnone size-large wp-image-283" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_category_samples-1024x506.png" alt="MonkeyLearn_category_samples" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_category_samples-300x148.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_category_samples-1024x506.png 1024w" sizes="(max-width: 669px) 100vw, 669px"/></p>
<h2><strong>6. Train MonkeyLearn</strong></h2>
<p>Ok, now an easy step: training the machine learning algorithm. This only involves hitting the <b>Train</b> button at the top right of the screen. You will see a progress bar while the machine learning algorithms are training the model in MonkeyLearn’s cloud. It will take a few seconds or a few minutes depending on the complexity and size of your category tree and samples.</p>
<p>After finishing the training, the module state will change to <b>TRAINED</b>, and you’ll get some <b>statistics</b> that show how well the module is doing in predicting the correct category (in our case the sentiment):</p>
<p><img class="alignnone size-large wp-image-289" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_trained-1024x531.png" alt="MonkeyLearn_trained" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_trained-300x155.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_trained-1024x531.png 1024w" sizes="(max-width: 669px) 100vw, 669px"/></p>
<p>The metrics are <a href="http://en.wikipedia.org/wiki/Precision_and_recall">Accuracy, Precision and Recall</a>, this measurements are common in machine learning for evaluating the performance of classification algorithms.</p>
<p>You can also see a <b>keyword cloud</b> on the right, that shows some of the terms that will be used to characterize the samples and predict the sentiment of the text. As you can see, they are terms that are semantically associated with positive and negative expressions about hotel features. Those terms are automatically obtained with statistical algorithms within MonkeyLearn.</p>
<p>If you want to look at the finished classifier, we created a <a href="https://app.monkeylearn.com/categorizer/projects/cl_rZ2P7hbs/">public classifier with the hotel sentiment analysis</a>.</p>
<h2><strong>7. Testing our Sentiment Analysis</strong></h2>
<p>And voilá, we have our sentiment analysis classifier with zero lines of code. We can test the model directly from the GUI within MonkeyLearn. Go to the API tab, there you write or paste a text, submit and you’ll get the prediction, for example:</p>
<p><img class="alignnone  wp-image-288" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_test.png" alt="MonkeyLearn_test" srcset="https://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_test-300x229.png 300w, https://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_test.png 1016w" sizes="(max-width: 666px) 100vw, 666px"/></p>
<p>The results shows what a call to the classification endpoint from MonkeyLearn’s API would respond. What is important now is to take a look at the “result” entry that shows the predicted label, in this case “Good”, and the corresponding probability: 1. The label in our case will always be Good or Bad, and the probability is a real number between 0 and 1. 1 means that is 100% sure about the prediction.</p>
<p>You the classifier may still have some errors, that is, classify good reviews as bad, and vice versa, but <strong>the good thing is that you can keep improving</strong>, if you <strong>gather more training samples</strong> with tools like Kimono (in our example, by getting reviews from more hotels), you can upload more samples to the classifier, retrain and improve the results. Also, you can <strong>try different configurations on the advanced settings</strong> of your classifier, and retrain the algorithm. Usually different settings work for different classification problems (it’s not the same to do topic detection or sentiment analysis).</p>
<h2><strong>8. Integrating the module with MonkeyLearn’s API</strong></h2>
<p>You can do the same but programmatically, so you can easily integrate any MonkeyLearn module within your projects with any programming language. For example, if we are working with Python programming language, you can go to a bit down to the API libraries, select the corresponding programming language and copy and paste the code snippet:</p>
<p><img class="wp-image-282 aligncenter" src="http://blog.monkeylearn.com/wp-content/uploads/2014/12/MonkeyLearn_api.png" alt="MonkeyLearn_api"/></p>
<h2><strong>Conclusion</strong></h2>
<p>We combined Kimono and MonkeyLearn to create a machine learning model that learns to predict the sentiment of a hotel review. Kimono helped us to easily retrieve the training data from the web and MonkeyLearn helped us to build the actual sentiment analysis classifier.</p>
<p>But this is just the tip of the iceberg. There’s much more we can do.</p>
<p>If you are a Kimono user, you can use MonkeyLearn pre-trained modules to easily enrich your Kimono APIs and add sentiment analysis, topic detection, language detection, keyword extraction, entity recognition (and others) to the information you extract from the web with Kimono. If you have a specific need, you can create a custom module with MonkeyLearn to process the information you extract the way you need.</p>
<p>If you are a MonkeyLearn user, you can use Kimono to easily extract samples to train your custom modules and create powerful machine learning models in just a few minutes.</p>
<p>Have any cool ideas on how to combine Kimono and MonkeyLearn? Share them with us in the comments.</p>
							</div>
									</div></body></html>