<html><body><div><div class="post-text" itemprop="text">

<p>I'm able to post file using curl </p>

<pre><code>curl -X POST -i -F name='barca' -F country='spain' -F 
file=@/home/messi/Desktop/barca.png 'http://localhost:8080/new_org/hel/concerts'
</code></pre>

<p>Which I can get (file) as</p>

<pre><code> curl -X GET -H 'Accept: image/png' 'http://localhost:8080/new_org/hel/concerts/&lt;id or name of entity&gt;'
</code></pre>

<p>But when I tried same thing using <code>requests.post</code>, I got error. Does anybody know why this happen. (Post Error encounter when file pointer is not at last, but when file pointer is at last, I got response 200 but file is not posted)</p>

<pre><code>import requests
url = 'http://localhost:8080/new_org/hel/concerts'
file = dict(file=open('/home/messi/Desktop/barca.png', 'rb'))
data = dict(name='barca', country='spain')
response = requests.post(url, files=file, data=data)
</code></pre>

<p>Error: (from <a href="https://github.com/apache/usergrid" rel="nofollow">usergrid</a>) with response code: 400</p>

<pre><code>{u'duration': 0,
 u'error': u'illegal_argument',
 u'error_description': u'value is null',
 u'exception': u'java.lang.IllegalArgumentException',
 u'timestamp': 1448330119021}
</code></pre>

<p><a href="https://github.com/apache/usergrid" rel="nofollow">https://github.com/apache/usergrid</a></p>
    </div>
    </div></body></html>