<html><body><div><div class="post-text" itemprop="text">

<p>What is an idiomatic way to accomplish the following task in python? The algorithm does not have to be efficient or use constant memory.</p>

<p>Given the list of tuples <code>[("location", data)]</code>, for example:</p>

<pre><code>from_this = [
    ("global.module1.submodule1.function1", "some data"),
    ("global.module1.func1", "other data"),
    ("global.module1.submodule1.func2", "data again"),
    ("global.module1.submodule1.func3", "data"),
    ("global.module2.func3", "data"),
    ("global.module4.submodule1.func3", "data"),
    ("global.module4.submodule2.func4", "daata"),
    ("global.module4.submodule2", "da_ta")
]
</code></pre>

<p>The goal is to construct a hierarchical tree of dictionaries (based on locations). For example:</p>

<pre><code>{"name": "global", "children": [
    {"name": "module1", "children": [ 
        {"name": "submodule1", "children": [
            {"name": "function1", "data": "some data"},
            {"name": "func2", "data": "data again"},
            {"name": "func3", "data": "data"}
            ]},
        {"name": "func1", "data": "other data"}
        ]
     },
    {"name": "module2", "children": [{"name": "func3", "data": "data"}]},
    {"name": "module4", "children": [
        {"name": "submodule1", "children": [{"name": "func3", "data": "data"}]},
        {"name": "submodule2", "data": "da_ta", "children": [{"name": "func4", "data": "daata"}]}
    ]}
] }
</code></pre>
    </div>
    </div></body></html>