<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="" class="anchor" href="#" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a><a href="https://camo.githubusercontent.com/633a273ed033fafc138ec97dd23985811d98a8ab/68747470733a2f2f7261772e6769746875622e636f6d2f74696d6f74687963726f736c65792f6875672f646576656c6f702f6c6f676f2e706e67" target="_blank"><img src="https://camo.githubusercontent.com/633a273ed033fafc138ec97dd23985811d98a8ab/68747470733a2f2f7261772e6769746875622e636f6d2f74696d6f74687963726f736c65792f6875672f646576656c6f702f6c6f676f2e706e67" alt="HUG" data-canonical-src="https://raw.github.com/timothycrosley/hug/develop/logo.png"/></a></h1>

<p><a href="http://badge.fury.io/py/hug"><img src="https://camo.githubusercontent.com/ed72aea5f9b9a393fb7bdc26afdb6a038c826b67/68747470733a2f2f62616467652e667572792e696f2f70792f6875672e737667" alt="PyPI version" data-canonical-src="https://badge.fury.io/py/hug.svg"/></a>
<a href="https://travis-ci.org/timothycrosley/hug"><img src="https://camo.githubusercontent.com/1d895229c32d81f3170f7b45f7827478e34d8881/68747470733a2f2f7472617669732d63692e6f72672f74696d6f74687963726f736c65792f6875672e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/timothycrosley/hug.svg?branch=master"/></a>
<a href="https://coveralls.io/github/timothycrosley/hug?branch=master"><img src="https://camo.githubusercontent.com/70150ad68b036ba35139fa19cf8719a17b79af28/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f74696d6f74687963726f736c65792f6875672f62616467652e7376673f6272616e63683d6d617374657226736572766963653d676974687562" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/timothycrosley/hug/badge.svg?branch=master&amp;service=github"/></a>
<a href="https://pypi.python.org/pypi/hug/"><img src="https://camo.githubusercontent.com/b0224997019dec4e51d692c722ea9bee2818c837/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6d6173686170652f6170697374617475732e737667" alt="License" data-canonical-src="https://img.shields.io/github/license/mashape/apistatus.svg"/></a>
<a href="https://gitter.im/timothycrosley/hug?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Join the chat at https://gitter.im/timothycrosley/hug" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg"/></a></p>

<p>Hug aims to make developing Python driven APIs as simple as possible, but no simpler. As a result, it drastically simplifies Python API development.</p>

<p>Hug's Design Objectives:</p>

<ul>
<li>Make developing a Python driven API as succinct as a written definition.</li>
<li>The framework should encourage code that self-documents.</li>
<li>It should be fast. Never should a developer feel the need to look somewhere else for performance reasons.</li>
<li>Writing tests for APIs written on-top of Hug should be easy and intuitive.</li>
<li>Magic done once, in an API framework, is better than pushing the problem set to the user of the API framework.</li>
<li>Be the basis for next generation Python APIs, embracing the latest technology.</li>
</ul>

<p>As a result of these goals Hug is Python3+ only and uses Falcon under the cover to quickly handle requests.</p>

<p><a href="https://github.com/timothycrosley/hug/blob/develop/examples/hello_world.py"><img src="https://camo.githubusercontent.com/e56234bd7f5ccb5768978d3f23eb94c1d15430ed/68747470733a2f2f7261772e6769746875622e636f6d2f74696d6f74687963726f736c65792f6875672f646576656c6f702f6578616d706c652e676966" alt="HUG Hello World Example" data-canonical-src="https://raw.github.com/timothycrosley/hug/develop/example.gif"/></a></p>

<h1><a id="user-content-installing-hug" class="anchor" href="#installing-hug" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installing Hug</h1>

<p>Installing Hug is as simple as:</p>

<div class="highlight highlight-source-shell"><pre>pip3 install hug --upgrade</pre></div>

<p>Ideally, within a virtual environment.</p>

<h1><a id="user-content-basic-example-api" class="anchor" href="#basic-example-api" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Basic Example API</h1>

<p><code>happy_birthday.py</code></p>

<div class="highlight highlight-source-python"><pre><span class="pl-s"><span class="pl-pds">"""</span>A basic (single function) API written using Hug<span class="pl-pds">"""</span></span>
<span class="pl-k">import</span> hug


<span class="pl-en">@hug.get</span>(<span class="pl-s"><span class="pl-pds">'</span>/happy_birthday<span class="pl-pds">'</span></span>)
<span class="pl-k">def</span> <span class="pl-en">happy_birthday</span>(<span class="pl-smi">name</span>, <span class="pl-smi">age</span>:hug.types.number<span class="pl-k">=</span><span class="pl-c1">1</span>):
    <span class="pl-s"><span class="pl-pds">"""</span>Says happy birthday to a user<span class="pl-pds">"""</span></span>
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>Happy <span class="pl-c1">{age}</span> Birthday <span class="pl-c1">{name}</span>!<span class="pl-pds">"</span></span>.format(<span class="pl-k">**</span><span class="pl-c1">locals</span>())</pre></div>

<p>To run the example:</p>



<p>Then you can access the example from <code>localhost:8000/happy_birthday?name=Hug&amp;age=1</code> Or access the documentation for your API from <code>localhost:8000/documentation</code></p>

<h1><a id="user-content-versioning-with-hug" class="anchor" href="#versioning-with-hug" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Versioning with Hug</h1>

<p><code>versioning_example.py</code></p>

<div class="highlight highlight-source-python"><pre><span class="pl-s"><span class="pl-pds">"""</span>A simple example of a hug API call with versioning<span class="pl-pds">"""</span></span>
<span class="pl-k">import</span> hug

<span class="pl-en">@hug.get</span>(<span class="pl-s"><span class="pl-pds">'</span>/echo<span class="pl-pds">'</span></span>, <span class="pl-v">versions</span><span class="pl-k">=</span><span class="pl-c1">1</span>)
<span class="pl-k">def</span> <span class="pl-en">echo</span>(<span class="pl-smi">text</span>):
    <span class="pl-k">return</span> text


<span class="pl-en">@hug.get</span>(<span class="pl-s"><span class="pl-pds">'</span>/echo<span class="pl-pds">'</span></span>, <span class="pl-v">versions</span><span class="pl-k">=</span><span class="pl-c1">range</span>(<span class="pl-c1">2</span>, <span class="pl-c1">5</span>))
<span class="pl-k">def</span> <span class="pl-en">echo</span>(<span class="pl-smi">text</span>):
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>Echo: <span class="pl-c1">{text}</span><span class="pl-pds">"</span></span>.format(<span class="pl-k">**</span><span class="pl-c1">locals</span>())</pre></div>

<p>To run the example:</p>

<div class="highlight highlight-source-shell"><pre>hug -f versioning_example.py</pre></div>

<p>Then you can access the example from <code>localhost:8000/v1/echo?text=Hi</code> / <code>localhost:8000/v2/echo?text=Hi</code> Or access the documentation for your API from <code>localhost:8000</code></p>

<p>Note: versioning in Hug automatically supports both the version header as well as direct URL based specification.</p>

<h1><a id="user-content-testing-hug-apis" class="anchor" href="#testing-hug-apis" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Testing Hug APIs</h1>

<p>Hug's <code>http</code> method decorators don't modify your original functions. This makes testing Hug APIs as simple as testing any other Python functions. Additionally, this means interacting with your API functions in other Python code is as straight forward as calling Python only API functions. Additionally, Hug makes it easy to test the full Python stack of your API by using the <code>hug.test</code> module:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> hug
<span class="pl-k">import</span> happy_birthday

hug.test.get(happy_birthday, <span class="pl-s"><span class="pl-pds">'</span>happy_birthday<span class="pl-pds">'</span></span>, {<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Timothy<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>: <span class="pl-c1">25</span>}) <span class="pl-c"># Returns a Response object</span></pre></div>

<h1><a id="user-content-running-hug-with-other-wsgi-based-servers" class="anchor" href="#running-hug-with-other-wsgi-based-servers" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Running Hug with other WSGI based servers</h1>

<p>Hug exposes a <code>__hug_wsgi__</code> magic method on every API module automatically. Running your Hug based API on any standard wsgi server should be as simple as pointing it to <code>module_name</code>: <code>__hug_wsgi__</code>.</p>

<p>For Example:</p>

<div class="highlight highlight-source-shell"><pre>uwsgi --http 0.0.0.0:8000 --wsgi-file examples/hello_world.py --callable __hug_wsgi__</pre></div>

<p>To run the hello world Hug example API.</p>

<h1><a id="user-content-building-blocks-of-a-hug-api" class="anchor" href="#building-blocks-of-a-hug-api" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Building Blocks of a Hug API</h1>

<p>When Building an API using the Hug framework you'll use the following concepts:</p>

<p><strong>METHOD Decorators</strong> <code>get</code>, <code>post</code>, <code>update</code>, etc HTTP method decorators that expose your Python function as an API while keeping your Python method unchanged</p>

<div class="highlight highlight-source-python"><pre><span class="pl-en">@hug.get</span>() <span class="pl-c"># &lt;- Is the Hug METHOD decorator</span>
<span class="pl-k">def</span> <span class="pl-en">hello_world</span>():
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>Hello<span class="pl-pds">"</span></span></pre></div>

<p>Hug uses the structure of the function you decorate to automatically generate documentation for users of your API. Hug always passes a request, response, and api_version variable to your function if they are defined params in your function definition.</p>

<p><strong>Type Annotations</strong> functions that optionally are attached to your methods arguments to specify how the argument is validated and converted into a Python type</p>

<div class="highlight highlight-source-python"><pre><span class="pl-en">@hug.get</span>()
<span class="pl-k">def</span> <span class="pl-en">math</span>(<span class="pl-smi">number_1</span>:<span class="pl-c1">int</span>, <span class="pl-smi">number_2</span>:<span class="pl-c1">int</span>): <span class="pl-c">#The :int after both arguments is the Type Annotation</span>
    <span class="pl-k">return</span> number_1 <span class="pl-k">+</span> number_2</pre></div>

<p>Type annotations also feed into Hug's automatic documentation generation to let users of your API know what data to supply.</p>

<p><strong>Directives</strong> functions that get executed with the request / response data based on being requested as an argument in your api_function.
These apply as input parameters only, and can not be applied currently as output formats or transformations.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-en">@hug.get</span>()
<span class="pl-k">def</span> <span class="pl-en">test_time</span>(<span class="pl-smi">hug_timer</span>):
    <span class="pl-k">return</span> {<span class="pl-s"><span class="pl-pds">'</span>time_taken<span class="pl-pds">'</span></span>: <span class="pl-c1">float</span>(hug_timer)}</pre></div>

<p>Directives may be accessed via an argument with a <code>hug_</code> prefix, or by using Python 3 type annotations. The latter is the more modern approach, and is recommended. Directives declared in a module can be accessed by using their fully qualified name as the type annotation (ex: <code>module.directive_name</code>).</p>

<p>Aside from the obvious input transformation use case, directives can be used to pipe data into your API functions, even if they are not present in the request query string, POST body, etc. For an example of how to use directives in this way, see the authentication example in the examples folder.</p>

<p>Adding your own directives is straight forward:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-en">@hug.directive</span>()
<span class="pl-k">def</span> <span class="pl-en">square</span>(<span class="pl-smi">value</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-k">**</span><span class="pl-smi">kwargs</span>):
    <span class="pl-s"><span class="pl-pds">'''</span>Returns passed in parameter multiplied by itself<span class="pl-pds">'''</span></span>
    <span class="pl-k">return</span> value <span class="pl-k">*</span> value

<span class="pl-en">@hug.get</span>()
<span class="pl-k">def</span> <span class="pl-en">tester</span>(<span class="pl-smi">value</span>: square<span class="pl-k">=</span><span class="pl-c1">10</span>):
    <span class="pl-k">return</span> value

tester() <span class="pl-k">==</span> <span class="pl-c1">100</span></pre></div>

<p>For completeness, here is an example of accessing the directive via the magic name approach:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-en">@hug.directive</span>()
<span class="pl-k">def</span> <span class="pl-en">multiply</span>(<span class="pl-smi">value</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-k">**</span><span class="pl-smi">kwargs</span>):
    <span class="pl-s"><span class="pl-pds">'''</span>Returns passed in parameter multiplied by itself<span class="pl-pds">'''</span></span>
    <span class="pl-k">return</span> value <span class="pl-k">*</span> value

<span class="pl-en">@hug.get</span>()
<span class="pl-k">def</span> <span class="pl-en">tester</span>(<span class="pl-smi">hug_multiply</span><span class="pl-k">=</span><span class="pl-c1">10</span>):
    <span class="pl-k">return</span> hug_multiply

tester() <span class="pl-k">==</span> <span class="pl-c1">100</span></pre></div>

<p><strong>Output Formatters</strong> a function that takes the output of your API function and formats it for transport to the user of the API.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-en">@hug.default_output_format</span>()
<span class="pl-k">def</span> <span class="pl-en">my_output_formatter</span>(<span class="pl-smi">data</span>):
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>STRING:<span class="pl-c1">{0}</span><span class="pl-pds">"</span></span>.format(data)

<span class="pl-en">@hug.get</span>(<span class="pl-v">output</span><span class="pl-k">=</span>hug.output_format.json)
<span class="pl-k">def</span> <span class="pl-en">hello</span>():
    <span class="pl-k">return</span> {<span class="pl-s"><span class="pl-pds">'</span>hello<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>world<span class="pl-pds">'</span></span>}</pre></div>

<p>as shown, you can easily change the output format for both an entire API as well as an individual API call</p>

<p><strong>Input Formatters</strong> a function that takes the body of data given from a user of your API and formats it for handling.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-en">@hug.default_input_format</span>(<span class="pl-s"><span class="pl-pds">"</span>application/json<span class="pl-pds">"</span></span>)
<span class="pl-k">def</span> <span class="pl-en">my_input_formatter</span>(<span class="pl-smi">data</span>):
    <span class="pl-k">return</span> (<span class="pl-s"><span class="pl-pds">'</span>Results<span class="pl-pds">'</span></span>, hug.input_format.json(data))</pre></div>

<p>Input formatters are mapped based on the <code>content_type</code> of the request data, and only perform basic parsing. More detailed parsing should be done by the Type Annotations present on your <code>api_function</code></p>

<p><strong>Middleware</strong> functions that get called for every request a Hug API processes</p>

<div class="highlight highlight-source-python"><pre><span class="pl-en">@hug.request_middleware</span>()
<span class="pl-k">def</span> <span class="pl-en">proccess_data</span>(<span class="pl-smi">request</span>, <span class="pl-smi">response</span>):
    request.env[<span class="pl-s"><span class="pl-pds">'</span>SERVER_NAME<span class="pl-pds">'</span></span>] <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>changed<span class="pl-pds">'</span></span>

<span class="pl-en">@hug.response_middleware</span>()
<span class="pl-k">def</span> <span class="pl-en">proccess_data</span>(<span class="pl-smi">request</span>, <span class="pl-smi">response</span>, <span class="pl-smi">resource</span>):
    response.set_header(<span class="pl-s"><span class="pl-pds">'</span>MyHeader<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Value<span class="pl-pds">'</span></span>)</pre></div>

<p>You can also easily add any Falcon style middleware using:</p>

<div class="highlight highlight-source-python"><pre>__hug__.add_middleware(MiddlewareObject())</pre></div>

<h1><a id="user-content-splitting-apis-over-multiple-files" class="anchor" href="#splitting-apis-over-multiple-files" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Splitting APIs over multiple files</h1>

<p>Hug enables you to organize large projects in any manner you see fit. You can import any module that contains Hug decorated functions (request handling, directives, type handlers, etc) and extend your base API with that module.</p>

<p>For example:</p>

<p><code>something.py</code></p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> hug

<span class="pl-en">@hug.get</span>(<span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>)
<span class="pl-k">def</span> <span class="pl-en">say_hi</span>():
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">'</span>hello from something<span class="pl-pds">'</span></span></pre></div>

<p>Can be imported into the main API file:</p>

<p><code>__init__.py</code></p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> hug
<span class="pl-k">from</span> . <span class="pl-k">import</span> something

<span class="pl-en">@hug.get</span>(<span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>)
<span class="pl-k">def</span> <span class="pl-en">say_hi</span>():
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>Hi from root<span class="pl-pds">"</span></span>

<span class="pl-en">@hug.extend_api</span>(<span class="pl-s"><span class="pl-pds">'</span>/something<span class="pl-pds">'</span></span>)
<span class="pl-k">def</span> <span class="pl-en">something_api</span>():
    <span class="pl-k">return</span> [something]</pre></div>

<p>Or alternatively - for cases like this - where only one module is being included per a URL route:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c">#alternatively</span>
__hug__.extend(something, <span class="pl-s"><span class="pl-pds">'</span>/something<span class="pl-pds">'</span></span>)</pre></div>

<h1><a id="user-content-configuring-hug-404" class="anchor" href="#configuring-hug-404" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Configuring Hug 404</h1>

<p>By default, Hug returns an auto generated API spec when a user tries to access an endpoint that isn't defined. If you would not like to return this spec you can turn off 404 documentation:</p>

<p>From the command line application:</p>

<div class="highlight highlight-source-shell"><pre>hug -nd -f {file} <span class="pl-c">#nd flag tells Hug not to generate documentation on 404</span></pre></div>

<p>Additionally, you can easily create a custom 404 handler using the <code>hug.not_found</code> decorator:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-en">@hug.not_found</span>()
<span class="pl-k">def</span> <span class="pl-en">not_found_handler</span>():
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>Not Found<span class="pl-pds">"</span></span></pre></div>

<p>This decorator works in the same manner as the Hug HTTP method decorators, and is even version aware:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-en">@hug.not_found</span>(<span class="pl-v">versions</span><span class="pl-k">=</span><span class="pl-c1">1</span>)
<span class="pl-k">def</span> <span class="pl-en">not_found_handler</span>():
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>

<span class="pl-en">@hug.not_found</span>(<span class="pl-v">versions</span><span class="pl-k">=</span><span class="pl-c1">2</span>)
<span class="pl-k">def</span> <span class="pl-en">not_found_handler</span>():
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>Not Found<span class="pl-pds">"</span></span></pre></div>

<h1><a id="user-content-why-hug" class="anchor" href="#why-hug" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Why Hug?</h1>

<p>HUG simply stands for Hopefully Useful Guide. This represents the projects goal to help guide developers into creating well written and intuitive APIs.</p>

<hr/>

<p>Thanks and I hope you find <em>this</em> hug helpful as you develop your next Python API!</p>

<p>~Timothy Crosley</p>
</article>
  </div></body></html>