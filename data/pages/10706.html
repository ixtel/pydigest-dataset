<html><body><div><div id="content">

            

            
        


            <div class="section">
              <h1>microcache 0.2</h1>

              


<p>Really! Small! Cache!</p>








<p>A Really! Small! Cache! for python 2 and 3.</p>
<div id="why">
<h2>Why?</h2>
<p>Working on a totally separate project, I found myself wanting to use
<a href="http://funcy.readthedocs.org/en/stable/calc.html#memoize" rel="nofollow">funcy.memoize</a>…a
lot. There was a major problem, though: I couldn’t test with it. There
was no (obvious) way to turn it off. It was making me crazy, so I spent
a few hours writing a small module (even smaller than this, originally)
to suit the memoization needs, with a hook to turn it off for testing.
When I got to the end of my feature sprint for that project, I decided
it made more sense to spin it out into its own project, so here we are!</p>
</div>
<div id="current-features">
<h2>Current features</h2>
<ul>
<li>Simple upsert and get workflow</li>
<li>Decorator for “memoization”</li>
<li>Enabling and disabling functionality, including a context manager</li>
<li>Work directly on the imported module… no additional instantiation</li>
</ul>
</div>
<div id="installation">
<h2>Installation</h2>
<pre>pip install microcache
</pre>
</div>
<div id="examples">
<h2>Examples</h2>
<p>Basic usage</p>
<pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">microcache</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">microcache</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="s1">'key'</span><span class="p">)</span>
<span class="bp">False</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">microcache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'key'</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">'default'</span><span class="p">)</span>
<span class="s1">'default'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">microcache</span><span class="o">.</span><span class="n">upsert</span><span class="p">(</span><span class="s1">'key'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">microcache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'key'</span><span class="p">)</span>
<span class="s1">'value'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">microcache</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">microcache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'key'</span><span class="p">)</span>
</pre>
<p>Decorator and context manager</p>
<pre><span class="kn">import</span> <span class="nn">microcache</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="nd">@microcache.this</span>
<span class="k">def</span> <span class="nf">somefunc</span><span class="p">():</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">"this will be cached, and you won't have to wait a second time!"</span>

<span class="k">def</span> <span class="nf">test_somefunc</span><span class="p">():</span>
    <span class="n">somefunc</span><span class="p">()</span>
    <span class="n">somefunc</span><span class="p">()</span>
    <span class="k">with</span> <span class="n">microcache</span><span class="o">.</span><span class="n">temporarily_disabled</span><span class="p">():</span>
        <span class="c1"># now we'll have to wait again</span>
        <span class="n">somefunc</span><span class="p">()</span>
</pre>
</div>


<a name="downloads"> </a>


<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>0</span> downloads in the last day
  </li>
  <li>
    <span>142</span> downloads in the last week
  </li>
  <li>
    <span>677</span> downloads in the last month
  </li>
</ul>









            </div>


          </div>
          </div></body></html>