<html><body><div><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-isign" class="anchor" href="#isign" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>isign</h1>
<p>A tool and library to re-sign iOS applications, without proprietary Apple software.</p>
<p>For example, an iOS app in development would probably only run on the developer's iPhone.
<code>isign</code> can alter the app so that it can run on another developer's iPhone.</p>
<p>Apple tools already exist to do this. But with <code>isign</code>, now you can do this on operating
systems like Linux.</p>
<a name="user-content-table-of-contents"/>
<h2><a id="user-content-table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Table of contents</h2>

<a name="user-content-id1"/>
<h2><a id="user-content-installing" class="anchor" href="#installing" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Installing</h2>
<a name="user-content-linux"/>
<h3><a id="user-content-linux" class="anchor" href="#linux" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Linux</h3>
<p>The latest version of <code>isign</code> can be installed via <a href="https://pypi.python.org/pypi/isign/">PyPi</a>:</p>
<pre>$ pip install isign
</pre>
<a name="user-content-mac-os-x"/>
<h3><a id="user-content-mac-os-x" class="anchor" href="#mac-os-x" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Mac OS X</h3>
<p>On Mac OS X, there are a lot of prerequisites, so the <code>pip</code> method probably won't work.
The easiest method is to use <code>git</code> to clone the <a href="https://github.com/saucelabs/isign">source code repository</a> and
run the install script:</p>
<pre>$ git clone https://github.com/saucelabs/isign.git
$ cd isign
$ sudo ./INSTALL.sh
</pre>
<a name="user-content-id2"/>
<h2><a id="user-content-how-to-get-started" class="anchor" href="#how-to-get-started" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>How to get started</h2>
<p>All the libraries and tools that <code>isign</code> needs to run will work on both Linux
and Mac OS X. However, you will need a Mac to export your Apple developer
credentials.</p>
<p>If you're like most iOS developers, credentials are confusing -- if so check out
the <a href="https://github.com/saucelabs/isign/blob/master/docs/credentials.rst">documentation on credentials</a> on Github.</p>
<p>You should have a key and certificate in
<a href="https://en.wikipedia.org/wiki/Keychain_(software)">Keychain Access</a>,
and a provisioning profile associated with that certificate, that you
can use to sign iOS apps for one or more of your own iOS devices.</p>
<p>In Keychain Access, open the <em>Certificates</em>. Find the certificate you use to sign apps.
Right click on it and export the key as a <code>.p12</code> file, let's say <code>Certificates.p12</code>. If Keychain
asks you for a password to protect this file, just leave it blank.</p>
<p>Next, let's extract the key and certificate you need, into a standard PEM format.</p>
<pre>$ isign_export_creds.sh ~/Certificates.p12
</pre>
<p>If you get prompted for a password, just press <code>Return</code>.</p>
<p>By default, <code>isign_export_creds.sh</code> will put these files into <code>~/.isign</code>, which is
the standard place to put <code>isign</code> configuration files.</p>
<p>Finally, you need a provisioning profile from the Apple Developer Portal that uses
the same certificate. If you've never dealt with this, the provisioning profile is
what tells the phone that you Apple has okayed you installing apps onto this particular phone.</p>
<p>If you develop with XCode, you might have a provisioning profile already.
On the Mac where you develop with XCode, try running the <code>isign_guess_mobileprovision.sh</code> script.
If you typically have only a few provisioning profiles and install on one phone, it might find it.</p>
<p>Anyway, once you have a <code>.mobileprovision</code> file, move it to <code>~/.isign/isign.mobileprovision</code>.</p>
<p>The end result should look like this:</p>
<pre>$ ls -l ~/.isign
-r--r--r--    1 alice  staff  2377 Sep  4 14:17 certificate.pem
-r--r--r--    1 alice  staff  9770 Nov 23 13:30 isign.mobileprovision
-r--------    1 alice  staff  1846 Sep  4 14:17 key.pem
</pre>
<p>And now you're ready to start re-signing apps!</p>
<a name="user-content-id3"/>
<h2><a id="user-content-how-to-use-isign" class="anchor" href="#how-to-use-isign" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>How to use isign</h2>
<p>If you've installed all the files in the proper locations above, then <code>isign</code> can be now invoked
on any iOS <code>.app</code> directory, or <code>.ipa</code> archive, or <code>.app.zip</code> zipped directory. For example:</p>
<pre>$ isign -o resigned.ipa my.ipa
archived Ipa to /home/alice/resigned.ipa
</pre>
<p>You can also call it from Python:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> isign <span class="pl-k">import</span> isign

isign.resign(<span class="pl-s"><span class="pl-pds">"</span>my.ipa<span class="pl-pds">"</span></span>, <span class="pl-v">output_path</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>resigned.ipa<span class="pl-pds">"</span></span>)</pre></div>
<a name="user-content-id4"/>
<h2><a id="user-content-isign-command-line-arguments" class="anchor" href="#isign-command-line-arguments" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>isign command line arguments</h2>
<p>Synopsis:</p>
<pre>isign [-h] [-a &lt;path to applecerts.pem&gt;]
           [-c &lt;path to your cert in .pem form&gt;]
           [-k &lt;path to your key in .pem form&gt;]
           [-p &lt;your.mobileprovision&gt;]
           [-o &lt;output path&gt;]
           &lt;path to app to resign&gt;
</pre>
<p><strong>-a &lt;path&gt;, --apple-cert &lt;path&gt;</strong></p>
<p>Path to Apple certificate in PEM format. This is already included in the library, so you will likely
never need it. In the event that the certificates need to be changed, See the <a href="/saucelabs/isign/blob/master/docs/applecerts.rst">Apple Certificate documentation</a>.</p>
<p><strong>-c &lt;path&gt;, --certificate &lt;path&gt;</strong></p>
<p>Path to your certificate in PEM format. Defaults to <code>$HOME/.isign/certificate.pem</code>.</p>
<p><strong>-h, --help</strong></p>
<p>Show a help message and exit.</p>
<p><strong>-k &lt;path&gt;, --key &lt;path&gt;</strong></p>
<p>Path to your private key in PEM format. Defaults to <code>$HOME/.isign/key.pwm</code>.</p>
<p><strong>-o &lt;path&gt;, --output &lt;path&gt;</strong></p>
<p>Path to write the re-signed application. Defaults to <code>out</code> in your current working directory.</p>
<p><strong>-p &lt;path&gt;, --provisioning-profile &lt;path&gt;</strong></p>
<p>Path to your provisioning profile. This should be associated with your certificate. Defaults to
<code>$HOME/.isign/isign.mobileprovision</code>.</p>
<a name="user-content-id5"/>
<h2><a id="user-content-contributing" class="anchor" href="#contributing" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Contributing</h2>
<p>Development happens on <a href="https://github.com/saucelabs/isign">our Github repository</a>. File an issue, or fork the code!</p>
<p>Use <code>git</code> to clone your fork, then set yourself up for development:</p>
<pre>$ cd isign
$ dev/setup.sh   # This may require sudo, depending on how you installed Python
$ ./run_tests.sh
</pre>
<p>If the tests don't pass please <a href="https://github.com/saucelabs/isign/issues">file an issue</a>. Please keep the tests up to date as you develop.</p>
<p>Note: some tests require Apple's
<a href="https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/codesign.1.html">codesign</a>
to run, so they are skipped unless you run them on a Macintosh computer with developer tools.</p>
<p>Sauce Labs supports ongoing public <code>isign</code> development. <code>isign</code> is a part of our infrastructure
for the <a href="https://saucelabs.com/press-room/press-releases/sauce-labs-expands-mobile-test-automation-cloud-with-the-addition-of-real-devices-1">iOS Real Device Cloud</a>,
which allows customers to test apps and websites on real iOS devices. <code>isign</code> has been successfully re-signing submitted customer apps in production
since June 2015.</p>
<p>This project not have an official code of conduct, yet, but one is forthcoming. Please contribute
to discussion <a href="https://github.com/saucelabs/isign/issues/6">here</a>.</p>
<a name="user-content-id6"/>
<h2><a id="user-content-more-documentation" class="anchor" href="#more-documentation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>More documentation</h2>
<p>See the <a href="/saucelabs/isign/blob/master/docs">docs</a> directory of this repository for random stuff that didn't fit here.</p>
<a name="user-content-id7"/>
<h2><a id="user-content-authors" class="anchor" href="#authors" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" role="img" version="1.1" viewbox="0 0 16 16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"/></svg></a>Authors</h2>
<p><a href="https://github.com/neilk">Neil Kandalgaonkar</a> is the main developer and maintainer.</p>
<p>Proof of concept by <a href="https://github.com/sah">Steven Hazel</a> and Neil Kandalgaonkar.</p>
<p>Reference scripts using Apple tools by <a href="https://github.com/mhan">Michael Han</a>.</p>

</article>
  </div></body></html>